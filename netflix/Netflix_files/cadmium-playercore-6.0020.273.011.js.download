V5ii.Z3y=function (){return typeof V5ii.f3y.F0Q==='function'?V5ii.f3y.F0Q.apply(V5ii.f3y,arguments):V5ii.f3y.F0Q;};V5ii.M6W=function (){return typeof V5ii.E6W.x0Q==='function'?V5ii.E6W.x0Q.apply(V5ii.E6W,arguments):V5ii.E6W.x0Q;};V5ii.I9u=function (){return typeof V5ii.Q9u.F0Q==='function'?V5ii.Q9u.F0Q.apply(V5ii.Q9u,arguments):V5ii.Q9u.F0Q;};V5ii.i8v=function (){return typeof V5ii.O8v.F0Q==='function'?V5ii.O8v.F0Q.apply(V5ii.O8v,arguments):V5ii.O8v.F0Q;};V5ii.Q5B=function (){return typeof V5ii.r5B.F0Q==='function'?V5ii.r5B.F0Q.apply(V5ii.r5B,arguments):V5ii.r5B.F0Q;};V5ii.R0F=function (){return typeof V5ii.v0F.x0Q==='function'?V5ii.v0F.x0Q.apply(V5ii.v0F,arguments):V5ii.v0F.x0Q;};V5ii.V2M=function (){return typeof V5ii.h2M.x0Q==='function'?V5ii.h2M.x0Q.apply(V5ii.h2M,arguments):V5ii.h2M.x0Q;};V5ii.k0Q=function(c0Q){return{F0Q:function(){var V0Q,G0Q=arguments;switch(c0Q){case 8:V0Q=G0Q[1]-G0Q[0]+G0Q[2];break;case 4:V0Q=G0Q[0]/G0Q[2]|G0Q[1];break;case 1:V0Q=G0Q[1]-G0Q[0];break;case 0:V0Q=G0Q[0]+G0Q[1];break;case 5:V0Q=G0Q[0]/G0Q[1];break;case 7:V0Q=G0Q[0]===G0Q[1];break;case 2:V0Q=G0Q[3]+G0Q[1]/G0Q[0]*G0Q[2];break;case 6:V0Q=(G0Q[0]/G0Q[1]|G0Q[3])*G0Q[2];break;case 3:V0Q=G0Q[0]*G0Q[3]/G0Q[1]|G0Q[2];break;}return V0Q;},x0Q:function(K0Q){c0Q=K0Q;}};}();V5ii.t4f=function (){return typeof V5ii.P4f.F0Q==='function'?V5ii.P4f.F0Q.apply(V5ii.P4f,arguments):V5ii.P4f.F0Q;};V5ii.G0F=function (){return typeof V5ii.v0F.x0Q==='function'?V5ii.v0F.x0Q.apply(V5ii.v0F,arguments):V5ii.v0F.x0Q;};V5ii.f2O=function (){return typeof V5ii.S2O.x0Q==='function'?V5ii.S2O.x0Q.apply(V5ii.S2O,arguments):V5ii.S2O.x0Q;};V5ii.P4f=function(y4f){return{F0Q:function(){var i4f,f4f=arguments;switch(y4f){case 0:i4f=f4f[1]+f4f[0];break;}return i4f;},x0Q:function(l4f){y4f=l4f;}};}();V5ii.o1Z=function (){return typeof V5ii.U1Z.x0Q==='function'?V5ii.U1Z.x0Q.apply(V5ii.U1Z,arguments):V5ii.U1Z.x0Q;};V5ii.v0F=function(X0F){return{F0Q:function(){var o0F,h0F=arguments;switch(X0F){case 2:o0F=h0F[2]*(h0F[3]+h0F[1]+h0F[0])-h0F[4];break;case 0:o0F=-h0F[1]-h0F[2]+h0F[0];break;case 1:o0F=h0F[2]-h0F[0]+h0F[1];break;}return o0F;},x0Q:function(U0F){X0F=U0F;}};}();V5ii.l9u=function (){return typeof V5ii.Q9u.F0Q==='function'?V5ii.Q9u.F0Q.apply(V5ii.Q9u,arguments):V5ii.Q9u.F0Q;};V5ii.o0Q=function (){return typeof V5ii.k0Q.F0Q==='function'?V5ii.k0Q.F0Q.apply(V5ii.k0Q,arguments):V5ii.k0Q.F0Q;};V5ii.a5z=function(e5z){return{F0Q:function(){var k5z,B5z=arguments;switch(e5z){case 0:k5z=B5z[0]+B5z[1];break;}return k5z;},x0Q:function(b5z){e5z=b5z;}};}();V5ii.u3f=function (){return typeof V5ii.P4f.x0Q==='function'?V5ii.P4f.x0Q.apply(V5ii.P4f,arguments):V5ii.P4f.x0Q;};V5ii.B5B=function (){return typeof V5ii.r5B.x0Q==='function'?V5ii.r5B.x0Q.apply(V5ii.r5B,arguments):V5ii.r5B.x0Q;};V5ii.E1Z=function (){return typeof V5ii.U1Z.F0Q==='function'?V5ii.U1Z.F0Q.apply(V5ii.U1Z,arguments):V5ii.U1Z.F0Q;};V5ii.p3f=function (){return typeof V5ii.P4f.x0Q==='function'?V5ii.P4f.x0Q.apply(V5ii.P4f,arguments):V5ii.P4f.x0Q;};V5ii.v3y=function (){return typeof V5ii.f3y.x0Q==='function'?V5ii.f3y.x0Q.apply(V5ii.f3y,arguments):V5ii.f3y.x0Q;};V5ii.J6W=function (){return typeof V5ii.E6W.F0Q==='function'?V5ii.E6W.F0Q.apply(V5ii.E6W,arguments):V5ii.E6W.F0Q;};V5ii.U1Z=function(V1Z){return{F0Q:function(){var k1Z,a1Z=arguments;switch(V1Z){case 2:k1Z=a1Z[1]+a1Z[0];break;case 0:k1Z=a1Z[2]+a1Z[3]+a1Z[0]+a1Z[1];break;case 1:k1Z=a1Z[0]-a1Z[1];break;}return k1Z;},x0Q:function(h1Z){V1Z=h1Z;}};}();V5ii.E9Y=function (){return typeof V5ii.S9Y.x0Q==='function'?V5ii.S9Y.x0Q.apply(V5ii.S9Y,arguments):V5ii.S9Y.x0Q;};V5ii.G9Y=function (){return typeof V5ii.S9Y.F0Q==='function'?V5ii.S9Y.F0Q.apply(V5ii.S9Y,arguments):V5ii.S9Y.F0Q;};V5ii.b2S=function (){return typeof V5ii.Q2S.x0Q==='function'?V5ii.Q2S.x0Q.apply(V5ii.Q2S,arguments):V5ii.Q2S.x0Q;};V5ii.u9u=function (){return typeof V5ii.Q9u.x0Q==='function'?V5ii.Q9u.x0Q.apply(V5ii.Q9u,arguments):V5ii.Q9u.x0Q;};V5ii.K2S=function (){return typeof V5ii.Q2S.x0Q==='function'?V5ii.Q2S.x0Q.apply(V5ii.Q2S,arguments):V5ii.Q2S.x0Q;};V5ii.d2M=function (){return typeof V5ii.h2M.F0Q==='function'?V5ii.h2M.F0Q.apply(V5ii.h2M,arguments):V5ii.h2M.F0Q;};function V5ii(){}V5ii.S2S=function (){return typeof V5ii.Q2S.F0Q==='function'?V5ii.Q2S.F0Q.apply(V5ii.Q2S,arguments):V5ii.Q2S.F0Q;};V5ii.o5z=function (){return typeof V5ii.a5z.x0Q==='function'?V5ii.a5z.x0Q.apply(V5ii.a5z,arguments):V5ii.a5z.x0Q;};V5ii.Q9u=function(Z9u){return{F0Q:function(){var H9u,D9u=arguments;switch(Z9u){case 1:H9u=D9u[2]-D9u[0]+D9u[1];break;case 0:H9u=D9u[1]+D9u[0];break;case 2:H9u=D9u[1]-D9u[0];break;}return H9u;},x0Q:function(z9u){Z9u=z9u;}};}();V5ii.b0Q=function (){return typeof V5ii.k0Q.x0Q==='function'?V5ii.k0Q.x0Q.apply(V5ii.k0Q,arguments):V5ii.k0Q.x0Q;};V5ii.Q2S=function(M2S){return{F0Q:function(){var O2S,N2S=arguments;switch(M2S){case 2:O2S=N2S[1]+N2S[0];break;case 0:O2S=N2S[2]+N2S[0]+N2S[1];break;case 1:O2S=N2S[2]+N2S[1]+N2S[4]+N2S[0]+N2S[3];break;}return O2S;},x0Q:function(P2S){M2S=P2S;}};}();V5ii.r0F=function (){return typeof V5ii.v0F.F0Q==='function'?V5ii.v0F.F0Q.apply(V5ii.v0F,arguments):V5ii.v0F.F0Q;};V5ii.e4f=function (){return typeof V5ii.P4f.F0Q==='function'?V5ii.P4f.F0Q.apply(V5ii.P4f,arguments):V5ii.P4f.F0Q;};V5ii.c5z=function (){return typeof V5ii.a5z.x0Q==='function'?V5ii.a5z.x0Q.apply(V5ii.a5z,arguments):V5ii.a5z.x0Q;};V5ii.y5z=function (){return typeof V5ii.a5z.F0Q==='function'?V5ii.a5z.F0Q.apply(V5ii.a5z,arguments):V5ii.a5z.F0Q;};V5ii.V9Y=function (){return typeof V5ii.S9Y.x0Q==='function'?V5ii.S9Y.x0Q.apply(V5ii.S9Y,arguments):V5ii.S9Y.x0Q;};V5ii.j6W=function (){return typeof V5ii.E6W.x0Q==='function'?V5ii.E6W.x0Q.apply(V5ii.E6W,arguments):V5ii.E6W.x0Q;};V5ii.M2M=function (){return typeof V5ii.h2M.F0Q==='function'?V5ii.h2M.F0Q.apply(V5ii.h2M,arguments):V5ii.h2M.F0Q;};V5ii.w5B=function (){return typeof V5ii.r5B.F0Q==='function'?V5ii.r5B.F0Q.apply(V5ii.r5B,arguments):V5ii.r5B.F0Q;};V5ii.n2M=function (){return typeof V5ii.h2M.x0Q==='function'?V5ii.h2M.x0Q.apply(V5ii.h2M,arguments):V5ii.h2M.x0Q;};V5ii.q0F=function (){return typeof V5ii.v0F.F0Q==='function'?V5ii.v0F.F0Q.apply(V5ii.v0F,arguments):V5ii.v0F.F0Q;};V5ii.O8v=function(W8v){return{F0Q:function(){var L8v,b8v=arguments;switch(W8v){case 3:L8v=b8v[1]+b8v[0];break;case 1:L8v=b8v[0]<b8v[1];break;case 2:L8v=b8v[1]<=b8v[0];break;case 0:L8v=b8v[1]>=b8v[0];break;}return L8v;},x0Q:function(T8v){W8v=T8v;}};}();V5ii.L9Y=function (){return typeof V5ii.S9Y.F0Q==='function'?V5ii.S9Y.F0Q.apply(V5ii.S9Y,arguments):V5ii.S9Y.F0Q;};V5ii.S9Y=function(c9Y){return{F0Q:function(){var M9Y,Q9Y=arguments;switch(c9Y){case 1:M9Y=(Q9Y[1]-Q9Y[2])/Q9Y[0];break;case 2:M9Y=Q9Y[1]-Q9Y[0];break;case 0:M9Y=(Q9Y[3]-Q9Y[0])*Q9Y[1]/Q9Y[2];break;}return M9Y;},x0Q:function(K9Y){c9Y=K9Y;}};}();V5ii.n2O=function (){return typeof V5ii.S2O.F0Q==='function'?V5ii.S2O.F0Q.apply(V5ii.S2O,arguments):V5ii.S2O.F0Q;};V5ii.f1Z=function (){return typeof V5ii.U1Z.F0Q==='function'?V5ii.U1Z.F0Q.apply(V5ii.U1Z,arguments):V5ii.U1Z.F0Q;};V5ii.S2O=function(x2O){return{F0Q:function(){var j2O,X2O=arguments;switch(x2O){case 0:j2O=X2O[0]+X2O[1];break;case 2:j2O=X2O[1]-X2O[0];break;case 1:j2O=void X2O[1]!==X2O[0];break;}return j2O;},x0Q:function(E2O){x2O=E2O;}};}();V5ii.N0Q=function (){return typeof V5ii.k0Q.F0Q==='function'?V5ii.k0Q.F0Q.apply(V5ii.k0Q,arguments):V5ii.k0Q.F0Q;};V5ii.g2O=function (){return typeof V5ii.S2O.F0Q==='function'?V5ii.S2O.F0Q.apply(V5ii.S2O,arguments):V5ii.S2O.F0Q;};V5ii.E6W=function(i6W){return{F0Q:function(){var X6W,I6W=arguments;switch(i6W){case 1:X6W=I6W[0]-I6W[1];break;case 0:X6W=I6W[1]/I6W[0];break;}return X6W;},x0Q:function(G6W){i6W=G6W;}};}();V5ii.M1Z=function (){return typeof V5ii.U1Z.x0Q==='function'?V5ii.U1Z.x0Q.apply(V5ii.U1Z,arguments):V5ii.U1Z.x0Q;};V5ii.U0v=function (){return typeof V5ii.O8v.x0Q==='function'?V5ii.O8v.x0Q.apply(V5ii.O8v,arguments):V5ii.O8v.x0Q;};V5ii.G0v=function (){return typeof V5ii.O8v.x0Q==='function'?V5ii.O8v.x0Q.apply(V5ii.O8v,arguments):V5ii.O8v.x0Q;};V5ii.r5B=function(C5B){return{F0Q:function(){var f5B,q5B=arguments;switch(C5B){case 0:f5B=q5B[0]*q5B[1]-q5B[2];break;}return f5B;},x0Q:function(l5B){C5B=l5B;}};}();V5ii.u5z=function (){return typeof V5ii.a5z.F0Q==='function'?V5ii.a5z.F0Q.apply(V5ii.a5z,arguments):V5ii.a5z.F0Q;};V5ii.i9u=function (){return typeof V5ii.Q9u.x0Q==='function'?V5ii.Q9u.x0Q.apply(V5ii.Q9u,arguments):V5ii.Q9u.x0Q;};V5ii.h2M=function(A9M){return{F0Q:function(){var q9M,l9M=arguments;switch(A9M){case 0:q9M=(l9M[0]-l9M[1])*l9M[2];break;}return q9M;},x0Q:function(U2M){A9M=U2M;}};}();V5ii.R8v=function (){return typeof V5ii.O8v.F0Q==='function'?V5ii.O8v.F0Q.apply(V5ii.O8v,arguments):V5ii.O8v.F0Q;};V5ii.t5B=function (){return typeof V5ii.r5B.x0Q==='function'?V5ii.r5B.x0Q.apply(V5ii.r5B,arguments):V5ii.r5B.x0Q;};V5ii.W0Q=function (){return typeof V5ii.k0Q.x0Q==='function'?V5ii.k0Q.x0Q.apply(V5ii.k0Q,arguments):V5ii.k0Q.x0Q;};V5ii.B2O=function (){return typeof V5ii.S2O.x0Q==='function'?V5ii.S2O.x0Q.apply(V5ii.S2O,arguments):V5ii.S2O.x0Q;};V5ii.v6W=function (){return typeof V5ii.E6W.F0Q==='function'?V5ii.E6W.F0Q.apply(V5ii.E6W,arguments):V5ii.E6W.F0Q;};V5ii.b3y=function (){return typeof V5ii.f3y.x0Q==='function'?V5ii.f3y.x0Q.apply(V5ii.f3y,arguments):V5ii.f3y.x0Q;};V5ii.f3y=function(g3y){return{F0Q:function(){var N3y,F3y=arguments;switch(g3y){case 1:N3y=F3y[2]/F3y[1]-F3y[3]+F3y[0];break;case 0:N3y=F3y[0]/F3y[2]+-F3y[3]/F3y[1];break;}return N3y;},x0Q:function(d3y){g3y=d3y;}};}();V5ii.W2S=function (){return typeof V5ii.Q2S.F0Q==='function'?V5ii.Q2S.F0Q.apply(V5ii.Q2S,arguments):V5ii.Q2S.F0Q;};V5ii.Y3y=function (){return typeof V5ii.f3y.F0Q==='function'?V5ii.f3y.F0Q.apply(V5ii.f3y,arguments):V5ii.f3y.F0Q;};(function(){(function(L,na){var pb,yb,Pa,tc,pa,wa,$a,Ed,Fd,Ja,Ka,Jb,Gd,uc,Hd,Id,Xc,l,oa,gc,Jd,Yc,G,R,ia,rb,gb,Xa,ea,ab,Oa,Lb,Da,Ca,Ha,cb,vc,sb,mb,nb,wc,Zc,Kd,Bb,Cb,Mb,$c,Ub,tb,xc,Ib,ad,Ld,Vb,bd,cd,dd,ed,ub,fd,gd,hd,Xb,vb,wb,Yb,yc,zc,Ac,fb,Ne,Na,Kb,Md,Bc,jb,Nd,Oe,ob,Od,Pd,Cc,Qd,Pe,fc,Rd,Me,Qe,id,Dc,Re,Se,Bd,Te,Cd,Sd,hb,hc,Td,ic,Ud,kb,Vd,jd,Wd,ld,Ec,Xd,Ve,Dd,Fc,Wc,Yd,Ue,Zd,md,$d,ae,be,nd,Hb,de,ce,We,jc,ee,pd,kc,fe,od,ge,he,qd,je,ke,Ic,Pb,Zb,Qb,le,me,ne,oe,pe,qe,Jc,Xe,re,se,sd,te,eb,Nb,Wb,Ob,Eb,xb,Gc,bb,Ab,ie,lc,Rb,ue,Ye,mc,ve,Ze,$b,we,Kc,td,nc,ud,xe,oc,ye,ze,Ae,$e,pc,Be,af,bf,Ce,rd,Hc,De,Le,Ee,cf,ef,df,ac,sc,ff,Ad,gf,Fe;function Va(h,l){if(!l||"utf-8"===l)return Qc(h);throw Error("unsupported encoding");}function Ta(h,l){if(!l||"utf-8"===l)return Rc(h);throw Error("unsupported encoding");}function Qc(h){for(var l=0,n,La=h.length,G="";l<La;){n=h[l++];if(n&128)if(192===(n&224))n=((n&31)<<6)+(h[l++]&63);else if(224===(n&240))n=((n&15)<<12)+((h[l++]&63)<<6)+(h[l++]&63);else throw Error("unsupported character");G+=String.fromCharCode(n);}return G;}function Rc(h){var l,n,La,G,t;l=h.length;n=0;G=0;for(La=l;La--;)t=h.charCodeAt(La),128>t?n++:n=2048>t?n+2:n+3;n=new Uint8Array(n);for(La=0;La<l;La++)t=h.charCodeAt(La),128>t?n[G++]=t:(2048>t?n[G++]=192|t>>>6:(n[G++]=224|t>>>12,n[G++]=128|t>>>6&63),n[G++]=128|t&63);return n;}function Za(h,n){if(h===n)return!0;if(!h||!n||h.length!=n.length)return!1;for(var l=0;l<h.length;++l)if(h[l]!=n[l])return!1;return!0;}function db(h){var t;if(!(h&&h.constructor==Uint8Array||Array.isArray(h)))throw new TypeError("Cannot compute the hash code of "+h);for(var n=1,l=0;l<h.length;++l){t=h[l];if("number"!==typeof t)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+t);n=31*n+t&4294967295;}return n;}function vd(h,n){var ya;if(h===n)return!0;if(!h||!n)return!1;n instanceof Array||(n=[n]);for(var l=0;l<n.length;++l){for(var t=n[l],G=!1,Gb=0;Gb<h.length;++Gb){ya=h[Gb];if(t.equals&&"function"===typeof t.equals&&t.equals(ya)||t==ya){G=!0;break;}}if(!G)return!1;}return!0;}function wd(h,n){return vd(h,n)&&(h.length==n.length||vd(n,h));}function n(h,n,l){var t,G;l&&(t=l);if("object"!==typeof h||"function"!==typeof h.result||"function"!==typeof h.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{G=n.call(t,h);G!==na&&h.result(G);}catch(Sc){try{h.error(Sc);}catch(ya){}}}function t(h,l,t){if("object"!==typeof h||"function"!==typeof h.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(h,l,t);}function h(h,n,l){1E5>h&&(h=1E5+h);Object.defineProperties(this,{internalCode:{value:h,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:l,writable:!1,configurable:!1}});}function Tc(h){switch(h){case Na.PSK:case Na.MGK:return!0;default:return!1;}}function xd(h){switch(h){case Na.PSK:case Na.MGK:case Na.X509:case Na.RSA:case Na.NPTICKET:case Na.ECC:return!0;default:return!1;}}function Ie(h){return h.toJSON();}function yd(n,l){sc?l.result(sc):Promise.resolve().then(function(){return Ha.getKeyByName(n);})["catch"](function(){return Ha.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(h){sc=h;l.result(sc);})["catch"](function(n){l.error(new G(h.INTERNAL_EXCEPTION,"Unable to get system key"));});}function zd(h,n){var l,t,G;l=n.masterToken;t=n.userIdToken;G=n.serviceTokens;return{NccpMethod:h.method,UserId:h.userId,UT:t&&t.serialNumber,MT:l&&l.serialNumber+":"+l.sequenceNumber,STCount:G&&G.length};}function Je(h){return h.uniqueKey();}function Ke(t,L,lb,La,rc){var Ga;function Gb(h,K){h.errorCode===l.ENTITY_REAUTH||h.errorCode===l.ENTITYDATA_REAUTH?(La.clearCryptoContexts(),Ua()):h.errorCode!==l.USER_REAUTH&&h.errorCode!==l.USERDATA_REAUTH||ya(K);}function ya(h){if(h=La.getUserIdToken(h))La.removeUserIdToken(h),Ua();}function W(h,K,H){var w;w=[];(function C(){h.read(-1,K,{result:function(h){n(H,function(){var v,E,J,H,K;if(h)w.push(h),C();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:H=w.length,K=0;for(E=v=0;E<H;E++)v+=w[E].length;v=new Uint8Array(v);for(E=0;E<H;E++)J=w[E],v.set(J,K),K+=J.length;return v;}});},timeout:function(){H.timeout();},error:function(h){H.error(h);}});}());}function Ua(){La.getStoreState({result:function(h){for(var K=Ga.slice(),H=0;H<K.length;H++)K[H]({storeState:h});},timeout:function(){t.error("Timeout getting store state",""+e);},error:function(h){t.error("Error getting store state",""+h);}});}Ga=[];this.addEventHandler=function(h,K){switch(h){case"shouldpersist":Ga.push(K);}};this.send=function(n){return new Promise(function(K,H){var w,x,C;w=n.timeout;x=new Ad(t,lb,n,La.getKeyRequestData());C=new Bd(n.url);t.trace("Sending MSL request");L.request(lb,x,C,w,{result:function(x){var v;x&&x.getMessageHeader();t.trace("Received MSL response",{Method:n.method});if(x){n.allowTokenRefresh&&Ua();v=x.getErrorHeader();v?(Gb(v,n.userId),H({success:!1,error:v})):W(x,w,{result:function(h){K({success:!0,body:Va(h)});},timeout:function(){H({success:!1,subCode:rc.MSL_READ_TIMEOUT});},error:function(h){H({success:!1,error:h});}});}else H({success:!1,error:new G(h.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){H({success:!1,subCode:rc.MSL_REQUEST_TIMEOUT});},error:function(h){H({success:!1,error:h});}});});};this.hasUserIdToken=function(h){return!!La.getUserIdToken(h);};this.getUserIdTokenKeys=function(){return La.getUserIdTokenKeys();};this.removeUserIdToken=ya;this.clearUserIdTokens=function(){La.clearUserIdTokens();Ua();};this.isErrorReauth=function(h){return h&&h.errorCode==l.USERDATA_REAUTH;};this.isErrorHeader=function(h){return h instanceof Hb;};this.getErrorCode=function(h){return h&&h.errorCode;};this.getStateForMdx=function(h){var K,H;K=La.getMasterToken();h=La.getUserIdToken(h);H=La.getCryptoContext(K);return{masterToken:K,userIdToken:h,cryptoContext:H};};this.buildPlayDataRequest=function(h,K){var H;H=new Cd();L.request(lb,new Ad(t,lb,h),H,h.timeout,{result:function(){K.result(H.getRequest());},error:function(){K.result(H.getRequest());},timeout:function(){K.timeout();}});};this.rekeyUserIdToken=function(h,K){La.rekeyUserIdToken(h,K);Ua();};this.getServiceTokens=function(h){var K;K=La.getMasterToken();(h=La.getUserIdToken(h))&&!h.isBoundTo(K)&&(h=na);return La.getServiceTokens(K,h);};this.removeServiceToken=function(h){var K;K=La.getMasterToken();La.getServiceTokens(K).find(function(H){return H.name===h;})&&(La.removeServiceTokens(h,K),Ua());};}function Uc(n,l,t,La,L,R){function ya(l){var W;return Promise.resolve().then(function(){W=n.authenticationKeyNames[l];if(!W)throw new G(h.KEY_IMPORT_ERROR,"Invalid config keyName "+l);return Ha.getKeyByName(W);}).then(function(n){return new Promise(function(l,K){Ub(n,{result:l,error:function(){K(new G(h.KEY_IMPORT_ERROR,"Unable to create "+W+" CipherKey"));}});});})["catch"](function(n){throw new G(h.KEY_IMPORT_ERROR,"Unable to import "+W,n);});}return Promise.resolve().then(function(){if(!Ha.getKeyByName)throw new G(h.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([ya("e"),ya("h"),ya("w")]);}).then(function(h){var W,Ga,Ia;W={};W[l]=new t(n.esn,h[0],h[1],h[2]);h=new La(n.esn);Ga=new Le();Ga=[new L(Ga)];Ia=new R(l);return{entityAuthFactories:W,entityAuthData:h,keyExchangeFactories:Ga,keyRequestData:Ia};});}function Vc(n,l,t){var lb;function La(){return Promise.resolve().then(function(){return Ha.generateKey(l,!1,["wrapKey","unwrapKey"]);}).then(function(h){return L(h.publicKey,h.privateKey);});}function L(n,l){return Promise.all([new Promise(function(l,W){Ib(n,{result:l,error:function(n){W(new G(h.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,W){Vb(l,{result:n,error:function(n){W(new G(h.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(h){h=new Wc("rsaKeypairId",t,h[0],h[1]);lb&&(h.storeData={keyxPublicKey:n,keyxPrivateKey:l});return h;});}lb=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var h,l;h=n.storeState;l=h&&h.keyxPublicKey;h=h&&h.keyxPrivateKey;return lb&&l&&h?L(l,h):La();}).then(function(h){var l,Ua,Ga;l={};l[Na.NONE]=new Me();Ua=new fc(n.esn);Ga=[new Dd()];return{entityAuthFactories:l,entityAuthData:Ua,keyExchangeFactories:Ga,keyRequestData:h,createKeyRequestData:lb?La:na};});}yb=L.nfCrypto||L.msCrypto||L.webkitCrypto||L.crypto;Pa=yb&&(yb.webkitSubtle||yb.subtle);tc=L.nfCryptokeys||L.msCryptokeys||L.webkitCryptokeys||L.cryptokeys;(function(h){var n,l;n=function(){function h(h,l){h instanceof n?(this.abv=h.abv,this.position=h.position):(this.abv=h,this.position=l||0);}h.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(h){this.abv[this.position++]=h;},peekByte:function(h){return this.abv[h];},copyBytes:function(h,l,n){var W;W=new Uint8Array(this.abv.buffer,this.position,n);h=new Uint8Array(h.buffer,l,n);W.set(h);this.position+=n;},seek:function(h){this.position=h;},skip:function(h){this.position+=h;},getPosition:function(){return this.position;},setPosition:function(h){this.position=h;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return h;}();l={};(function(){var J,v,E,za,ca,Aa,xa,Z,la;function h(B,v){var w;v.writeByte(B.tagClass<<6|B.constructed<<5|B.tag);w=B.payloadLen;if(128>w)v.writeByte(w);else{for(var E=w,x=0;E;)++x,E>>=8;v.writeByte(128|x);for(E=0;E<x;++E)v.writeByte(w>>8*(x-E-1)&255);}if(B.child)for(B.tag==J.BIT_STRING&&v.writeByte(0),w=B._child;w;){if(!h(w,v))return!1;w=w.next;}else switch(B.tag){case J.INTEGER:B.backingStore[B.dataIdx]>>7&&v.writeByte(0);v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);break;case J.BIT_STRING:v.writeByte(0);v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);break;case J.OCTET_STRING:v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);break;case J.OBJECT_IDENTIFIER:v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);}return!0;}function t(h){var v,B;v=h.readByte();B=v&127;if(B==v)return B;if(3<B||0===B)return-1;for(var w=v=0;w<B;++w)v=v<<8|h.readByte();return v;}function G(h,w,E){var B,x,H,S,C,ha,K;B=h.backingStore;x=new n(B,w);w+=E;E=h;if(8<ca++)return na;for(;x.getPosition()<w;){x.getPosition();C=x.readByte();if(31==(C&31)){for(S=0;C&128;)S<<=8,S|=C&127;C=S;}H=C;S=H&31;if(0>S||30<S)return na;C=t(x);if(0>C||C>x.getRemaining())return na;E.constructed=H&32;E.tagClass=(H&192)>>6;E.tag=S;E.dataLen=C;E.dataIdx=x.getPosition();S=x;ha=H;H=C;if(ha&32)S=!0;else if(ha<J.BIT_STRING||ha>J.OCTET_STRING)S=!1;else{K=new n(S);ha==J.BIT_STRING&&K.skip(1);K.readByte()>>6&1?S=!1:(ha=t(K),S=K.getPosition()-S.getPosition()+ha==H);}S&&(S=x.getPosition(),H=C,E.tag==J.BIT_STRING&&(E.dataIdx++,E.dataLen--,S++,H--),E.child=new v(B,E),G(E.child,S,H));E.tag==J.INTEGER&&(S=x.getPosition(),0==x.peekByte(S)&&x.peekByte(S+1)>>7&&(E.dataIdx++,E.dataLen--));x.skip(C);x.getPosition()<w&&(E.next=new v(B,E.parent),E=E.next);}ca--;return h;}function L(h,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(h[v++]!=Aa[w])return!1;return!0;}function W(h){var v;if(!(h&&h.child&&h.child.next&&h.child.child&&h.child.next.child))return!1;v=h.child.child;return L(v.backingStore,v.dataIdx,v.dataLen)&&2==h.nChildren&&2==h.child.nChildren&&2==h.child.next.child.nChildren?!0:!1;}function Ua(h){var v;if(!(h&&h.child&&h.child.next&&h.child.next.child&&h.child.next.next&&h.child.next.next.child))return!1;v=h.child.next.child;return L(v.backingStore,v.dataIdx,v.dataLen)&&3==h.nChildren&&2==h.child.next.nChildren&&9==h.child.next.next.child.nChildren?!0:!1;}function Ga(h){var v,B;v=E.createSequenceNode();B=new za(v);B.addChild(E.createSequenceNode());B.addChild(E.createOidNode(Aa));B.addSibling(E.createNullNode());B.addToParent(v,E.createBitStringNode(null));B.addChild(E.createSequenceNode());B.addChild(E.createIntegerNode(h.n));B.addSibling(E.createIntegerNode(h.e));return v;}function Ia(h){var v;h=h.child.next.child.child;v=h.data;h=h.next;return new xa(v,h.data,null,null);}function K(h){var v,B;v=E.createSequenceNode();B=new za(v);B.addChild(E.createIntegerNode(new Uint8Array([0])));B.addSibling(E.createSequenceNode());B.addChild(E.createOidNode(Aa));B.addSibling(E.createNullNode());B.addToParent(v,E.createOctetStringNode(null));B.addChild(E.createSequenceNode());B.addChild(E.createIntegerNode(new Uint8Array([0])));B.addSibling(E.createIntegerNode(h.n));B.addSibling(E.createIntegerNode(h.e));B.addSibling(E.createIntegerNode(h.d));B.addSibling(E.createIntegerNode(h.p));B.addSibling(E.createIntegerNode(h.q));B.addSibling(E.createIntegerNode(h.dp));B.addSibling(E.createIntegerNode(h.dq));B.addSibling(E.createIntegerNode(h.qi));return v;}function H(h){var v;v=[];h=h.child.next.next.child.child.next;for(var B=0;8>B;B++)v.push(h.data),h=h.next;return new Z(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(h,v,w,E){if(!(h instanceof xa||h instanceof Z))return na;if(w)for(var B=0;B<w.length;++B)if(-1==la.indexOf(w[B]))return na;v={kty:"RSA",alg:v,key_ops:w||[],ext:E==na?!1:E,n:pa(h.n,!0),e:pa(h.e,!0)};h instanceof Z&&(v.d=pa(h.d,!0),v.p=pa(h.p,!0),v.q=pa(h.q,!0),v.dp=pa(h.dp,!0),v.dq=pa(h.dq,!0),v.qi=pa(h.qi,!0));return v;}function x(h){var v,w,B,E,x,H,J,C,ca,K;if(!h.kty||"RSA"!=h.kty||!h.n||!h.e)return na;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(h.alg&&-1==v.indexOf(h.alg))return na;v=[];h.use?"enc"==h.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==h.use&&(v=["sign","verify"]):v=h.key_ops;w=h.ext;B=wa(h.n,!0);E=wa(h.e,!0);if(h.d){x=wa(h.d,!0);H=wa(h.p,!0);J=wa(h.q,!0);C=wa(h.dp,!0);ca=wa(h.dq,!0);K=wa(h.qi,!0);return new Z(B,E,x,H,J,C,ca,K,h.alg,v,w);}return new xa(B,E,w,v);}function C(h,v,w,E){this.der=h;this.type=v;this.keyOps=w;this.extractable=E;}J={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(h,v,w,E,x,H){this._data=h;this._parent=v||na;this._constructed=w||!1;this._tagClass=0;this._tag=E||0;this._dataIdx=x||0;this._dataLen=H||0;};v.prototype={_child:na,_next:na,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(h){this._constructed=0!=h?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(h){this._tagClass=h;},get tag(){return this._tag;},set tag(h){this._tag=h;},get dataIdx(){return this._dataIdx;},set dataIdx(h){this._dataIdx=h;},get dataLen(){return this._dataLen;},set dataLen(h){this._dataLen=h;},get child(){return this._child;},set child(h){this._child=h;this._child.parent=this;},get next(){return this._next;},set next(h){this._next=h;},get parent(){return this._parent;},set parent(h){this._parent=h;},get payloadLen(){var h;h=0;if(this._child){for(var v=this._child;v;)h+=v.length,v=v.next;this._tag==J.BIT_STRING&&h++;}else switch(this._tag){case J.INTEGER:h=this._dataLen;this._data[this._dataIdx]>>7&&h++;break;case J.BIT_STRING:h=this._dataLen+1;break;case J.OCTET_STRING:h=this._dataLen;break;case J.NULL:h=0;break;case J.OBJECT_IDENTIFIER:L(this._data,this._dataIdx,this._dataLen)&&(h=9);}return h;},get length(){var h,v;h=this.payloadLen;if(127<h)for(v=h;v;)v>>=8,++h;return h+2;},get der(){var v,w;v=this.length;if(!v)return na;v=new Uint8Array(v);w=new n(v);return h(this,w)?v:na;},get nChildren(){for(var h=0,v=this._child;v;)h++,v=v.next;return h;}};E={createSequenceNode:function(){return new v(null,null,!0,J.SEQUENCE,null,null);},createOidNode:function(h){return new v(h,null,!1,J.OBJECT_IDENTIFIER,0,h?h.length:0);},createNullNode:function(){return new v(null,null,!1,J.NULL,null,null);},createBitStringNode:function(h){return new v(h,null,!1,J.BIT_STRING,0,h?h.length:0);},createIntegerNode:function(h){return new v(h,null,!1,J.INTEGER,0,h?h.length:0);},createOctetStringNode:function(h){return new v(h,null,!1,J.OCTET_STRING,0,h?h.length:0);}};za=function(h){this._currentNode=this._rootNode=h;};za.prototype={addChild:function(h){this.addTo(this._currentNode,h);},addSibling:function(h){this.addTo(this._currentNode.parent,h);},addTo:function(h,v){this._currentNode=v;this._currentNode.parent=h;if(h.child){for(var w=h.child;w.next;)w=w.next;w.next=v;}else h.child=v;},addToParent:function(h,v){this.findNode(h)&&this.addTo(h,v);},findNode:function(h){for(var v=this._currentNode;v;){if(h==v)return!0;v=v.parent;}return!1;}};ca=0;Aa=new Uint8Array([42,134,72,134,247,13,1,1,1]);xa=function(h,v,w,E){this.n=h;this.e=v;this.ext=w;this.keyOps=E;};Z=function(h,v,w,E,x,H,J,C,ha,ca,K){this.n=h;this.e=v;this.d=w;this.p=E;this.q=x;this.dp=H;this.dq=J;this.qi=C;this.alg=ha;this.keyOps=ca;this.ext=K;};la="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");C.prototype.getDer=function(){return this.der;};C.prototype.getType=function(){return this.type;};C.prototype.getKeyOps=function(){return this.keyOps;};C.prototype.getExtractable=function(){return this.extractable;};l.parse=function(h){ca=0;return G(new v(h),0,h.length);};l.show=function(h,v){};l.isRsaSpki=W;l.isRsaPkcs8=Ua;l.NodeFactory=E;l.Builder=za;l.tagVal=J;l.RsaPublicKey=xa;l.RsaPrivateKey=Z;l.buildRsaSpki=Ga;l.parseRsaSpki=function(h){h=l.parse(h);return W?Ia(h):na;};l.buildRsaPkcs8=K;l.parseRsaPkcs8=function(h){h=l.parse(h);return Ua(h)?H(h):na;};l.buildRsaJwk=w;l.parseRsaJwk=x;l.RsaDer=C;l.rsaDerToJwk=function(h,v,E,x){h=l.parse(h);if(!h)return na;if(W(h))h=Ia(h);else if(Ua(h))h=H(h);else return na;return w(h,v,E,x);};l.jwkToRsaDer=function(h){var v,w;h=x(h);if(!h)return na;if(h instanceof xa)v="spki",w=Ga(h).der;else if(h instanceof Z)v="pkcs8",w=K(h).der;else return na;return new C(w,v,h.keyOps,h.ext);};l.webCryptoAlgorithmToJwkAlg=function(h){return"RSAES-PKCS1-v1_5"==h.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==h.name?"SHA-256"==h.hash.name?"RS256":"SHA-384"==h.hash.name?"RS384":"SHA-512"==h.hash.name?"RS512":na:na;};l.webCryptoUsageToJwkKeyOps=function(h){return h.map(function(h){return"wrapKey"==h?"wrap":"unwrapKey"==h?"unwrap":h;});};}());h.ASN1=l;}(L));(function(){for(var h={},l={},n={"=":0,".":0},t={"=":0,".":0},G=/\s+/g,L=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,ya=64;ya--;)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ya]]=262144*ya,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ya]]=4096*ya,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ya]]=64*ya,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ya]]=ya;for(ya=64;ya--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ya]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[ya];)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[ya]]=262144*ya,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[ya]]=4096*ya,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[ya]]=64*ya,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[ya]]=ya;pa=function(h,l){for(var n="",W=0,K=h.length,H=K-2,w,x=l?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=l?"":"=";W<H;)w=65536*h[W++]+256*h[W++]+h[W++],n+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+x[w&63];W==H?(w=65536*h[W++]+256*h[W++],n+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+C):W==K-1&&(w=65536*h[W++],n+=x[w>>>18]+x[w>>>12&63]+C+C);return n;};wa=function(W,Ua){var Ga;W=W.replace(G,"");if(Ua){Ga=W.length%4;if(Ga)for(var Ga=4-Ga,Ia=0;Ia<Ga;++Ia)W+="=";}Ga=W.length;if(0!=Ga%4||!L.test(W))throw Error("bad base64: "+W);for(var K=Ga/4*3-("="==W[Ga-1]?1:0)-("="==W[Ga-2]?1:0),H=new Uint8Array(K),w=0,x=0;w<Ga;)Ia=h[W[w++]]+l[W[w++]]+n[W[w++]]+t[W[w++]],H[x++]=Ia>>>16,x<K&&(H[x++]=Ia>>>8&255,x<K&&(H[x++]=Ia&255));return H;};}());$a={};(function(){var L,ya,W,Ga;function h(l){if(!(this instanceof h))return new h(l);for(var K=0,H=ya.length;K<H;K++)this[ya[K]]="";this.bufferCheckPosition=$a.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=l||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=W.BEGIN;this.stack=new L();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(h,K,H){if(h[K])h[K](H);}function l(h,K){var H,w;H=h.opt;w=h.textNode;H.trim&&(w=w.trim());H.normalize&&(w=w.replace(/\s+/g," "));h.textNode=w;h.textNode&&n(h,K?K:"onvalue",h.textNode);h.textNode="";}function t(h,K){l(h);K+="\nLine: "+h.line+"\nColumn: "+h.column+"\nChar: "+h.c;K=Error(K);h.error=K;n(h,"onerror",K);return h;}function G(Ia){Ia.state!==W.VALUE&&t(Ia,"Unexpected end");l(Ia);Ia.c="";Ia.closed=!0;n(Ia,"onend");h.call(Ia,Ia.opt);return Ia;}L=Array;$a.parser=function(n){return new h(n);};$a.CParser=h;$a.MAX_BUFFER_LENGTH=65536;$a.DEBUG=!1;$a.INFO=!1;$a.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");ya=["textNode","numberNode"];$a.EVENTS.filter(function(h){return"error"!==h&&"end"!==h;});W=0;$a.STATE={BEGIN:W++,VALUE:W++,OPEN_OBJECT:W++,CLOSE_OBJECT:W++,OPEN_ARRAY:W++,CLOSE_ARRAY:W++,TEXT_ESCAPE:W++,STRING:W++,BACKSLASH:W++,END:W++,OPEN_KEY:W++,CLOSE_KEY:W++,TRUE:W++,TRUE2:W++,TRUE3:W++,FALSE:W++,FALSE2:W++,FALSE3:W++,FALSE4:W++,NULL:W++,NULL2:W++,NULL3:W++,NUMBER_DECIMAL_POINT:W++,NUMBER_DIGIT:W++};for(var Ua in $a.STATE)$a.STATE[$a.STATE[Ua]]=Ua;W=$a.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(h){return h.__proto__;});Ga=/[\\"\n]/g;h.prototype={end:function(){G(this);},write:function(h){var w,x,C;if(this.error)throw this.error;if(this.closed)return t(this,"Cannot write after close. Assign an onready handler.");if(null===h)return G(this);for(var K=h[0],H;K;){H=K;this.c=K=h.charAt(this.index++);H!==K?this.p=H:H=this.p;if(!K)break;this.position++;"\n"===K?(this.line++,this.column=0):this.column++;switch(this.state){case W.BEGIN:"{"===K?this.state=W.OPEN_OBJECT:"["===K?this.state=W.OPEN_ARRAY:"\r"!==K&&"\n"!==K&&" "!==K&&"\t"!==K&&t(this,"Non-whitespace before {[.");continue;case W.OPEN_KEY:case W.OPEN_OBJECT:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;if(this.state===W.OPEN_KEY)this.stack.push(W.CLOSE_KEY);else if("}"===K){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop()||W.VALUE;continue;}else this.stack.push(W.CLOSE_OBJECT);'"'===K?this.state=W.STRING:t(this,'Malformed object key should start with "');continue;case W.CLOSE_KEY:case W.CLOSE_OBJECT:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;":"===K?(this.state===W.CLOSE_OBJECT?(this.stack.push(W.CLOSE_OBJECT),l(this,"onopenobject")):l(this,"onkey"),this.state=W.VALUE):"}"===K?(l(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop()||W.VALUE):","===K?(this.state===W.CLOSE_OBJECT&&this.stack.push(W.CLOSE_OBJECT),l(this),this.state=W.OPEN_KEY):t(this,"Bad object");continue;case W.OPEN_ARRAY:case W.VALUE:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;if(this.state===W.OPEN_ARRAY)if(n(this,"onopenarray"),this.state=W.VALUE,"]"===K){n(this,"onclosearray");this.state=this.stack.pop()||W.VALUE;continue;}else this.stack.push(W.CLOSE_ARRAY);'"'===K?this.state=W.STRING:"{"===K?this.state=W.OPEN_OBJECT:"["===K?this.state=W.OPEN_ARRAY:"t"===K?this.state=W.TRUE:"f"===K?this.state=W.FALSE:"n"===K?this.state=W.NULL:"-"===K?this.numberNode+=K:"0"===K?(this.numberNode+=K,this.state=W.NUMBER_DIGIT):-1!=="123456789".indexOf(K)?(this.numberNode+=K,this.state=W.NUMBER_DIGIT):t(this,"Bad value");continue;case W.CLOSE_ARRAY:if(","===K)this.stack.push(W.CLOSE_ARRAY),l(this,"onvalue"),this.state=W.VALUE;else if("]"===K)l(this),n(this,"onclosearray",void 0),this.state=this.stack.pop()||W.VALUE;else if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;else t(this,"Bad array");continue;case W.STRING:H=this.index-1;w=this.slashed,x=this.unicodeI;a:for(;;){if($a.DEBUG)for(;0<x;)if(this.unicodeS+=K,K=h.charAt(this.index++),4===x?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),x=0,H=this.index-1):x++,!K)break a;if('"'===K&&!w){this.state=this.stack.pop()||W.VALUE;(this.textNode+=h.substring(H,this.index-1))||n(this,"onvalue","");break;}if("\\"===K&&!w&&(w=!0,this.textNode+=h.substring(H,this.index-1),K=h.charAt(this.index++),!K))break;if(w)if(w=!1,"n"===K?this.textNode+="\n":"r"===K?this.textNode+="\r":"t"===K?this.textNode+="\t":"f"===K?this.textNode+="\f":"b"===K?this.textNode+="\b":"u"===K?(x=1,this.unicodeS=""):this.textNode+=K,K=h.charAt(this.index++),H=this.index-1,K)continue;else break;Ga.lastIndex=this.index;C=Ga.exec(h);if(null===C){this.index=h.length+1;this.textNode+=h.substring(H,this.index-1);break;}this.index=C.index+1;K=h.charAt(C.index);if(!K){this.textNode+=h.substring(H,this.index-1);break;}}this.slashed=w;this.unicodeI=x;continue;case W.TRUE:if(""===K)continue;"r"===K?this.state=W.TRUE2:t(this,"Invalid true started with t"+K);continue;case W.TRUE2:if(""===K)continue;"u"===K?this.state=W.TRUE3:t(this,"Invalid true started with tr"+K);continue;case W.TRUE3:if(""===K)continue;"e"===K?(n(this,"onvalue",!0),this.state=this.stack.pop()||W.VALUE):t(this,"Invalid true started with tru"+K);continue;case W.FALSE:if(""===K)continue;"a"===K?this.state=W.FALSE2:t(this,"Invalid false started with f"+K);continue;case W.FALSE2:if(""===K)continue;"l"===K?this.state=W.FALSE3:t(this,"Invalid false started with fa"+K);continue;case W.FALSE3:if(""===K)continue;"s"===K?this.state=W.FALSE4:t(this,"Invalid false started with fal"+K);continue;case W.FALSE4:if(""===K)continue;"e"===K?(n(this,"onvalue",!1),this.state=this.stack.pop()||W.VALUE):t(this,"Invalid false started with fals"+K);continue;case W.NULL:if(""===K)continue;"u"===K?this.state=W.NULL2:t(this,"Invalid null started with n"+K);continue;case W.NULL2:if(""===K)continue;"l"===K?this.state=W.NULL3:t(this,"Invalid null started with nu"+K);continue;case W.NULL3:if(""===K)continue;"l"===K?(n(this,"onvalue",null),this.state=this.stack.pop()||W.VALUE):t(this,"Invalid null started with nul"+K);continue;case W.NUMBER_DECIMAL_POINT:"."===K?(this.numberNode+=K,this.state=W.NUMBER_DIGIT):t(this,"Leading zero not followed by .");continue;case W.NUMBER_DIGIT:-1!=="0123456789".indexOf(K)?this.numberNode+=K:"."===K?(-1!==this.numberNode.indexOf(".")&&t(this,"Invalid number has two dots"),this.numberNode+=K):"e"===K||"E"===K?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||t(this,"Invalid number has two exponential"),this.numberNode+=K):"+"===K||"-"===K?("e"!==H&&"E"!==H&&t(this,"Invalid symbol in number"),this.numberNode+=K):(this.numberNode&&n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||W.VALUE);continue;default:t(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){h=Math.max($a.MAX_BUFFER_LENGTH,10);H=K=0;for(w=ya.length;H<w;H++){x=this[ya[H]].length;if(x>h)switch(ya[H]){case"text":break;default:t(this,"Max buffer length exceeded: "+ya[H]);}K=Math.max(K,x);}this.bufferCheckPosition=$a.MAX_BUFFER_LENGTH-K+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var t;function h(h,n){n||(n=h.length);return h.reduce(function(h,l,W){return W<n?h+String.fromCharCode(l):h;},"");}for(var n={},l=0;256>l;++l){t=h([l]);n[t]=l;}for(var G=Object.keys(n).length,L=[],l=0;256>l;++l)L[l]=[l];Ed=function(l,W){var v,E;function t(h,v){var E;for(;0<v;){if(x>=w.length)return!1;if(v>C){E=h;E=E>>>v-C;w[x]|=E&255;v-=C;C=8;++x;}else v<=C&&(E=h,E<<=C-v,E&=255,E>>>=8-C,w[x]|=E&255,C-=v,v=0,0==C&&(C=8,++x));}return!0;}for(var Ga in n)W[Ga]=n[Ga];for(var Ia=G,K=[],H=8,w=new Uint8Array(l.length),x=0,C=8,J=0;J<l.length;++J){v=l[J];K.push(v);Ga=h(K);E=W[Ga];if(!E){K=h(K,K.length-1);if(!t(W[K],H))return null;0!=Ia>>H&&++H;W[Ga]=Ia++;K=[v];}}return 0<K.length&&(Ga=h(K),E=W[Ga],!t(E,H))?null:w.subarray(0,8>C?x+1:x);};Fd=function(h){var J,v,C,t;for(var l=L.slice(),n=0,t=0,Ia=8,K=new Uint8Array(Math.ceil(1.5*h.length)),H=0,w,x=[];n<h.length&&!(8*(h.length-n)-t<Ia);){for(var C=w=0;C<Ia;){J=Math.min(Ia-C,8-t);v=h[n];v=v<<t;v=v&255;v=v>>>8-J;C=C+J;t=t+J;8==t&&(t=0,++n);w|=(v&255)<<Ia-C;}C=l[w];0==x.length?++Ia:(C?x.push(C[0]):x.push(x[0]),l[l.length]=x,x=[],l.length==1<<Ia&&++Ia,C||(C=l[w]));w=H+C.length;w>=K.length&&(J=new Uint8Array(Math.ceil(1.5*w)),J.set(K),K=J);K.set(C,H);H=w;x=x.concat(C);}return K.subarray(0,H);};}());(function(){var h,n,t;Ja="utf-8";Ka=9007199254740992;h=Jb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Jb);Gd=function(n){for(var l=[h.GZIP,h.LZW],t=0;t<l.length&&0<n.length;++t)for(var G=l[t],W=0;W<n.length;++W)if(n[W]==G)return G;return null;};n=uc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(uc);Hd=function(h){return n.AES_CBC_PKCS5Padding==h?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding==h?n.RSA_ECB_PKCS1Padding:n[h];};t=Id={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Id);Xc=function(h){return t[h];};l={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(l);}());oa={isObjectLiteral:function(h){return null!==h&&"object"===typeof h&&h.constructor===Object;},extendDeep:function(){var h,n,l,t,G,L,ya,W;h=arguments[0];n=1;l=arguments.length;t=!1;"boolean"===typeof h&&(t=h,h=arguments[1],n=2);for(;n<l;n++)if(null!=(G=arguments[n]))for(L in G)t&&L in h||(W=G[L],h!==W&&W!==na&&(ya=h[L],h[L]=null!==ya&&null!==W&&"object"===typeof ya&&"object"===typeof W?oa.extendDeep(t,{},ya,W):W));return h;}};(function(){var ya,W;function h(h,n){return function(){var l,K;l=h.base;h.base=n;K=h.apply(this,arguments);h.base=l;return K;};}function n(n,l,t){var K,H,w,x;t=t||W;x=!!t.extendAll;for(K in l)H=l.__lookupGetter__(K),w=l.__lookupSetter__(K),H||w?(H&&n.__defineGetter__(K,H),w&&n.__defineSetter__(K,w)):(H=l[K],w=n[K],"function"===typeof H&&"function"===typeof w&&H!==w?(H.base!==Function.prototype.base&&(H=h(H,w)),H.base=w):(x||t[K])&&oa.isObjectLiteral(H)&&oa.isObjectLiteral(w)&&(H=oa.extendDeep({},w,H)),n[K]=H);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function K(){var H;H=h.call(arguments,0);K.base.apply(this,n.concat(H));}});}function t(h,l){var W;W=new this(ya);n(W,h,l);return L(W);}function G(h,l){n(this.prototype,h,l);return this;}function L(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==ya&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=t;n.bind=l;n.mixin=G;return n;}ya={};W={actions:!0};Function.prototype.base=function(){};oa.Class={create:L,mixin:n,extend:function(h,n){var l;l=L();l.prototype=new h();return l.extend(n);}};oa.mixin=function(){oa.log&&oa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){var ya,W,Ua;function h(h,n){return function(){var l,H;l=h.base;h.base=n;H=h.apply(this,arguments);h.base=l;return H;};}function n(n,l,K){var H,w,x,C;K=K||W;C=!!K.extendAll;for(H in l)w=l.__lookupGetter__(H),x=l.__lookupSetter__(H),w||x?(w&&n.__defineGetter__(H,w),x&&n.__defineSetter__(H,x)):(w=l[H],x=n[H],"function"===typeof w&&"function"===typeof x&&w!==x?(w.base!==Ua&&(w=h(w,x)),w.base=x):(C||K[H])&&oa.isObjectLiteral(w)&&oa.isObjectLiteral(x)&&(w=oa.extendDeep({},x,w)),n[H]=w);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function H(){var w;w=h.call(arguments,0);H.base.apply(this,n.concat(w));}});}function t(h,l){var K;K=new this(ya);n(K,h,l);return L(K);}function G(h,l){n(this.prototype,h,l);return this;}function L(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==ya&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=t;n.bind=l;n.mixin=G;return n;}ya={};W={actions:!0};Ua=function(){};Function.prototype.base=Ua;oa.Class={create:L,mixin:n,extend:function(h,n){var l;l=L();l.prototype=new h();return l.extend(n);}};oa.mixin=function(){oa.log&&oa.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){function h(h){return h==Ka?1:h+1;}function n(n){if(0===Object.keys(n._waiters).length)return 0;for(var l=h(n._nextWaiter);!n._waiters[l];)l=h(l);return l;}gc=oa.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var l;if(this._waiters[h]){l=this._waiters[h];delete this._waiters[h];h==this._nextWaiter&&(this._nextWaiter=n(this));l.call(this,na);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(l,G){var L,R;L=this;R=h(this._lastWaiter);this._lastWaiter=R;t(G,function(){var h,W;if(0<this._queue.length){h=this._queue.shift();setTimeout(function(){G.result(h);},0);}else{-1!=l&&(W=setTimeout(function(){delete L._waiters[R];R==L._nextWaiter&&(L._nextWaiter=n(L));G.timeout();},l));this._waiters[R]=function(h){clearTimeout(W);setTimeout(function(){G.result(h);},0);};this._nextWaiter||(this._nextWaiter=R);}},L);return R;},add:function(h){var l;if(this._nextWaiter){l=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);l.call(this,h);}else this._queue.push(h);}});}());(function(){var h;h=0-Ka;Jd=oa.Class.create({nextBoolean:function(){var h;h=new Uint8Array(1);yb.getRandomValues(h);return h[0]&1?!0:!1;},nextInt:function(h){var n;if(null!==h&&h!==na){if("number"!==typeof h)throw new TypeError("n must be of type number");if(1>h)throw new RangeError("n must be greater than zero");--h;n=new Uint8Array(4);yb.getRandomValues(n);return Math.floor(((n[3]&127)<<24|n[2]<<16|n[1]<<8|n[0])/2147483648*(h-0+1)+0);}h=new Uint8Array(4);yb.getRandomValues(h);n=(h[3]&127)<<24|h[2]<<16|h[1]<<8|h[0];return h[3]&128?-n:n;},nextLong:function(){var l,n;for(var n=h;n==h;){n=new Uint8Array(7);yb.getRandomValues(n);l=16777216*((n[6]&31)<<24|n[5]<<16|n[4]<<8|n[3])+(n[2]<<16|n[1]<<8|n[0]);n=n[6]&128?-l-1:l;}return n;},nextBytes:function(h){yb.getRandomValues(h);}});}());(function(){function h(h){return h==Ka?1:h+1;}function n(n){if(0===Object.keys(n._waitingReaders).length)return 0;for(var l=h(n._nextReader);!n._waitingReaders[l];)l=h(l);return l;}function l(n){if(0===Object.keys(n._waitingWriters).length)return 0;for(var l=h(n._nextWriter);!n._waitingWriters[l];)l=h(l);return l;}Yc=oa.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var t;if(this._waitingReaders[h]){t=this._waitingReaders[h];delete this._waitingReaders[h];h==this._nextReader&&(this._nextReader=n(this));t.call(this,!0);}this._waitingWriters[h]&&(t=this._waitingWriters[h],delete this._waitingWriters[h],h==this._nextWriter&&(this._nextWriter=l(this)),t.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(l,G){var L,R;L=this;R=h(this._lastNumber);this._lastNumber=R;t(G,function(){var h;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[R]=!0,R;-1!=l&&(h=setTimeout(function(){delete L._waitingReaders[R];R==L._nextReader&&(L._nextReader=n(L));G.timeout();},l));this._waitingReaders[R]=function(n){clearTimeout(h);n?setTimeout(function(){G.result(na);},0):(L._readers[R]=!0,setTimeout(function(){G.result(R);},0));};this._nextReader||(this._nextReader=R);},L);return R;},writeLock:function(n,G){var L,R;L=this;R=h(this._lastNumber);this._lastNumber=R;t(G,function(){var h;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=R;-1!=n&&(h=setTimeout(function(){delete L._waitingWriters[R];R==L._nextWriter&&(L._nextWriter=l(L));G.timeout();},n));this._waitingWriters[R]=function(n){clearTimeout(h);n?setTimeout(function(){G.result(na);},0):(L._writer=R,setTimeout(function(){G.result(R);},0));};this._nextWriter||(this._nextWriter=R);},L);return R;},unlock:function(n){if(n==this._writer)this._writer=null;else{if(!this._readers[n])throw new ea("There is no reader or writer with ticket number "+n+".");delete this._readers[n];}if(this._nextWriter)0<Object.keys(this._readers).length||(n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=l(this),n.call(this,!1));else{for(var t=this._nextReader;0<Object.keys(this._waitingReaders).length;t=h(t))this._waitingReaders[t]&&(n=this._waitingReaders[t],delete this._waitingReaders[t],n.call(this,!1));this._nextReader=0;}}});}());oa.Class.mixin(h,{JSON_PARSE_ERROR:new h(0,l.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new h(1,l.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new h(2,l.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new h(3,l.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new h(4,l.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new h(5,l.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new h(6,l.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new h(7,l.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new h(8,l.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new h(9,l.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new h(10,l.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new h(11,l.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new h(12,l.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new h(13,l.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new h(14,l.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new h(15,l.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new h(16,l.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new h(17,l.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new h(18,l.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new h(19,l.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new h(20,l.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new h(21,l.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new h(22,l.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new h(23,l.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new h(24,l.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new h(25,l.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new h(26,l.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new h(27,l.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new h(28,l.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new h(29,l.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new h(30,l.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new h(31,l.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new h(32,l.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new h(33,l.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new h(34,l.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new h(35,l.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new h(36,l.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new h(37,l.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new h(38,l.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new h(39,l.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new h(40,l.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new h(41,l.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new h(42,l.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new h(43,l.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new h(44,l.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new h(45,l.FAIL,"Error exporting key."),DIGEST_ERROR:new h(46,l.FAIL,"Error in digest."),UNSUPPORTED_KEY:new h(47,l.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new h(48,l.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new h(49,l.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new h(50,l.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new h(51,l.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new h(52,l.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new h(53,l.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new h(54,l.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new h(55,l.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new h(56,l.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new h(57,l.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new h(58,l.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new h(59,l.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new h(60,l.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new h(61,l.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new h(62,l.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new h(1E3,l.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new h(1001,l.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new h(1002,l.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new h(1003,l.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(1004,l.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(1005,l.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new h(1006,l.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new h(1007,l.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new h(1008,l.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new h(1009,l.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new h(1010,l.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new h(1011,l.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new h(1012,l.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new h(1013,l.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new h(1014,l.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new h(2E3,l.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new h(2001,l.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new h(2002,l.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new h(2003,l.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new h(2004,l.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new h(2005,l.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2006,l.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2007,l.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new h(2008,l.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new h(2009,l.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new h(2010,l.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new h(2011,l.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new h(2012,l.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new h(2013,l.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new h(2014,l.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new h(2015,l.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new h(2016,l.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new h(2017,l.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new h(2018,l.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new h(2019,l.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new h(2020,l.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new h(3E3,l.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new h(3001,l.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new h(3002,l.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new h(3003,l.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new h(3004,l.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3005,l.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3006,l.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new h(3007,l.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new h(3008,l.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new h(3009,l.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new h(4E3,l.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new h(4001,l.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new h(4002,l.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new h(4003,l.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new h(4004,l.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new h(4005,l.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new h(4006,l.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new h(4007,l.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new h(4008,l.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new h(4009,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new h(4010,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new h(4011,l.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new h(4012,l.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new h(4013,l.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new h(4014,l.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new h(4015,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new h(4016,l.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new h(4017,l.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new h(4018,l.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new h(4019,l.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new h(4020,l.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new h(4021,l.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new h(4022,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new h(4023,l.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new h(4024,l.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new h(4025,l.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new h(4026,l.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new h(5E3,l.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new h(5001,l.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new h(5002,l.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new h(5003,l.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new h(5004,l.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new h(5005,l.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new h(5006,l.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new h(5007,l.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new h(5008,l.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new h(5009,l.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new h(5010,l.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new h(5011,l.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new h(5012,l.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new h(5013,l.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new h(5014,l.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new h(5015,l.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new h(5016,l.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new h(5017,l.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new h(5018,l.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new h(5019,l.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new h(5020,l.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new h(5021,l.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new h(5022,l.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new h(5023,l.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new h(5024,l.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new h(5025,l.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new h(5026,l.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new h(5027,l.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new h(5028,l.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new h(5029,l.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new h(5030,l.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new h(5031,l.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new h(5032,l.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new h(5033,l.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new h(5034,l.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new h(5035,l.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new h(5036,l.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new h(5037,l.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new h(5038,l.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new h(5039,l.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new h(5040,l.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new h(6E3,l.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new h(6001,l.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new h(6002,l.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new h(6003,l.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new h(6004,l.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new h(6005,l.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new h(6006,l.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new h(6007,l.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new h(6008,l.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new h(6009,l.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new h(6010,l.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new h(6011,l.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new h(6012,l.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new h(6013,l.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new h(6014,l.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new h(6015,l.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new h(6016,l.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new h(6017,l.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new h(6018,l.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(6019,l.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new h(6020,l.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new h(6021,l.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new h(6022,l.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new h(6023,l.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new h(6024,l.FAIL,"Invalid header data."),PAYLOAD_INVALID:new h(6025,l.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new h(6026,l.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new h(6027,l.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new h(6028,l.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new h(6029,l.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new h(6030,l.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new h(6031,l.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new h(6032,l.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new h(6033,l.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new h(6034,l.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new h(6035,l.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new h(6036,l.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new h(6037,l.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new h(7E3,l.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new h(7001,l.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new h(7002,l.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new h(7003,l.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new h(7004,l.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new h(7005,l.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new h(7006,l.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new h(7007,l.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new h(7008,l.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new h(7009,l.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new h(7010,l.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new h(7011,l.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new h(7012,l.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new h(7013,l.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new h(7014,l.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new h(7015,l.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new h(7016,l.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new h(8E3,l.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new h(8001,l.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new h(8002,l.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new h(8003,l.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new h(8004,l.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new h(8005,l.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new h(8006,l.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new h(8007,l.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new h(8008,l.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new h(8009,l.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new h(8010,l.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new h(8011,l.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new h(8012,l.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new h(9E3,l.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new h(9001,l.FAIL,"Error communicating with MSL entity."),NONE:new h(9999,l.FAIL,"Special unit test error.")});Object.freeze(h);(function(){G=oa.Class.create(Error());G.mixin({init:function(h,n,l){var L,R,ea;function t(){return R?R:this.cause&&this.cause instanceof G?this.cause.messageId:na;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);L=h.message;n&&(L+=" ["+n+"]");ea=this.stack;Object.defineProperties(this,{message:{value:L,writable:!1,configurable:!0},error:{value:h,writable:!1,configurable:!0},cause:{value:l,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:t,set:function(h){if(0>h||h>Ka)throw new RangeError("Message ID "+h+" is outside the valid range.");t()||(R=h);},configurable:!0},stack:{get:function(){var h;h=this.toString();ea&&(h+="\n"+ea);l&&l.stack&&(h+="\nCaused by "+l.stack);return h;},configurable:!0}});},setEntity:function(h){!h||this.masterToken||this.entityAuthenticationData||(h instanceof eb?this.masterToken=h:h instanceof Kb&&(this.entityAuthenticationData=h));return this;},setUser:function(h){!h||this.userIdToken||this.userAuthenticationData||(h instanceof Wb?this.userIdToken=h:h instanceof Ab&&(this.userAuthenticationData=h));return this;},setMessageId:function(h){this.messageId=h;return this;},toString:function(){return this.name+": "+this.message;}});}());R=G.extend({init:function Gb(h,n,l){Gb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ia=G.extend({init:function lb(h,n,l){lb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rb=G.extend({init:function La(h,n,l){La.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){gb=oa.Class.create(Error());gb.mixin({init:function(h,n,l){var t;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);t=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:l,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();t&&(h+="\n"+t);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Xa=oa.Class.create(Error());Xa.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ea=oa.Class.create(Error());ea.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ab=oa.Class.create(Error());ab.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Oa=G.extend({init:function rc(h,n,l){rc.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Lb=G.extend({init:function Sc(h,n){Sc.base.call(this,h);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Da=G.extend({init:function ya(h,n,l){ya.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Ca=G.extend({init:function W(h,n,l){W.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var K;function h(h){return"undefined"===typeof h?!1:h;}function n(h){return h&&h.length?(cb===K.V2014_02&&(h=h.map(function(h){return"wrap"==h?"wrapKey":"unwrap"==h?"unwrapKey":h;})),h):cb===K.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function l(h,w,n,l,J){return Promise.resolve().then(function(){return Pa.importKey(h,w,n,l,J);})["catch"](function(v){var E;if("spki"!==h&&"pkcs8"!==h)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(n);E=ASN1.webCryptoUsageToJwkKeyOps(J);v=ASN1.rsaDerToJwk(w,v,E,l);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Pa.importKey("jwk",Rc(v),n,l,J);});}function t(h,w){return Promise.resolve().then(function(){return Pa.exportKey(h,w);})["catch"](function(n){if("spki"!==h&&"pkcs8"!==h)throw n;return Pa.exportKey("jwk",w).then(function(h){h=JSON.parse(Qc(new Uint8Array(h)));h=ASN1.jwkToRsaDer(h);if(!h)throw Error("Could not make valid DER from JWK input");return h.getDer().buffer;});});}K=vc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(vc);cb=K.LATEST;Ha={encrypt:function(h,w,n){switch(cb){case K.LEGACY:return new Promise(function(x,l){var v;v=Pa.encrypt(h,w,n);v.oncomplete=function(h){x(h.target.result);};v.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Pa.encrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(h,w,n){switch(cb){case K.LEGACY:return new Promise(function(x,l){var v;v=Pa.decrypt(h,w,n);v.oncomplete=function(h){x(h.target.result);};v.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Pa.decrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(h,w,n){switch(cb){case K.LEGACY:return new Promise(function(x,l){var v;v=Pa.sign(h,w,n);v.oncomplete=function(h){x(h.target.result);};v.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Pa.sign(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(h,w,n,l){switch(cb){case K.LEGACY:return new Promise(function(x,v){var E;E=Pa.verify(h,w,n,l);E.oncomplete=function(h){x(h.target.result);};E.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Pa.verify(h,w,n,l);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(h,w){switch(cb){case K.LEGACY:return new Promise(function(n,l){var x;x=Pa.digest(h,w);x.oncomplete=function(h){n(h.target.result);};x.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return Pa.digest(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(l,w,x){var H,J;H=h(w);J=n(x);switch(cb){case K.LEGACY:return new Promise(function(h,w){var v;v=Pa.generateKey(l,H,J);v.oncomplete=function(v){h(v.target.result);};v.onerror=function(h){w(h);};});case K.V2014_01:case K.V2014_02:return Pa.generateKey(l,H,J);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(l,w,x,C,J){var v,E;v=h(C);E=n(J);switch(cb){case K.LEGACY:return new Promise(function(h,n){var J;J=Pa.deriveKey(l,w,x,v,E);J.oncomplete=function(v){h(v.target.result);};J.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return Pa.deriveKey(l,w,x,v,E);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(H,w,x,C,J){var v,E;v=h(C);E=n(J);switch(cb){case K.LEGACY:return new Promise(function(h,n){var l;l=Pa.importKey(H,w,x,v,E);l.oncomplete=function(v){h(v.target.result);};l.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return l(H,w,x,v,E);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(h,w){switch(cb){case K.LEGACY:return new Promise(function(n,l){var x;x=Pa.exportKey(h,w);x.oncomplete=function(h){n(h.target.result);};x.onerror=function(h){l(h);};});case K.V2014_01:case K.V2014_02:return t(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(h,w,n,l){switch(cb){case K.LEGACY:return new Promise(function(h,v){var E;E=Pa.wrapKey(w,n,l);E.oncomplete=function(v){h(v.target.result);};E.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Pa.wrapKey(h,w,n,l).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(l,w,x,C,J,v,E){switch(cb){case K.LEGACY:return new Promise(function(h,v){var n;n=Pa.unwrapKey(w,J,x);n.oncomplete=function(v){h(v.target.result);};n.onerror=function(h){v(h);};});case K.V2014_01:case K.V2014_02:return Pa.unwrapKey(l,w,x,C,J,h(v),n(E));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};tc&&tc.getKeyByName&&(Ha.getKeyByName=function(h){switch(cb){case K.LEGACY:return new Promise(function(w,n){var x;x=tc.getKeyByName(h);x.oncomplete=function(h){w(h.target.result);};x.onerror=function(h){n(h);};});case K.V2014_01:case K.V2014_02:return tc.getKeyByName(h);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});L.netflix=L.netflix||{};L.netflix.crypto=Ha;}());sb={name:"AES-KW"};mb={name:"AES-CBC"};nb={name:"HMAC",hash:{name:"SHA-256"}};wc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Zc={name:"RSAES-PKCS1-v1_5"};Kd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Bb=["encrypt","decrypt"];Cb=["wrap","unwrap"];Mb=["sign","verify"];(function(){$c=oa.Class.create({init:function(l,t,G){var K;function W(h){n(t,function(){var w;w=h?pa(h):na;Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},keyData:{value:h,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},K);}K=this;n(t,function(){if(!l||"object"!=typeof l)throw new R(h.INVALID_SYMMETRIC_KEY);!G&&l.extractable?Ha.exportKey("raw",l).then(function(h){W(new Uint8Array(h));},function(n){t.error(new R(h.KEY_EXPORT_ERROR,"raw"));}):W(G);},K);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Ub=function(h,n){new $c(h,n);};tb=function(l,t,G,L){n(L,function(){try{l="string"==typeof l?wa(l):l;}catch(K){throw new R(h.INVALID_SYMMETRIC_KEY,"keydata "+l,K);}Ha.importKey("raw",l,t,!0,G).then(function(h){new $c(h,L,l);},function(n){L.error(new R(h.INVALID_SYMMETRIC_KEY));});});};}());(function(){xc=oa.Class.create({init:function(l,t,G){var K;function W(h){n(t,function(){Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},K);}K=this;n(t,function(){if(!l||"object"!=typeof l||"public"!=l.type)throw new TypeError("Only original public crypto keys are supported.");!G&&l.extractable?Ha.exportKey("spki",l).then(function(h){W(new Uint8Array(h));},function(n){t.error(new R(h.KEY_EXPORT_ERROR,"spki"));}):W(G);});},getEncoded:function(){return this.encoded;}});Ib=function(h,n){new xc(h,n);};ad=function(l,t,G,L){n(L,function(){try{l="string"==typeof l?wa(l):l;}catch(K){throw new R(h.INVALID_PUBLIC_KEY,"spki "+l,K);}Ha.importKey("spki",l,t,!0,G).then(function(h){new xc(h,L,l);},function(n){L.error(new R(h.INVALID_PUBLIC_KEY));});});};}());(function(){Ld=oa.Class.create({init:function(l,t,G){var K;function W(h){n(t,function(){Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},K);}K=this;n(t,function(){if(!l||"object"!=typeof l||"private"!=l.type)throw new TypeError("Only original private crypto keys are supported.");!G&&l.extractable?Ha.exportKey("pkcs8",l).then(function(h){W(new Uint8Array(h));},function(n){t.error(new R(h.KEY_EXPORT_ERROR,"pkcs8"));}):W(G);});},getEncoded:function(){return this.encoded;}});Vb=function(h,n){new Ld(h,n);};}());(function(){var l;l=ed={V1:1,V2:2};bd=oa.Class.create({init:function(h,t,G,K){n(K,function(){var n,w,x,C;n=l.V1;w=h;x=null;for(C in uc)if(uc[C]==h){n=l.V2;w=null;x=h;break;}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:x,writable:!1,configurable:!1},iv:{value:t,writable:!1,configurable:!1},ciphertext:{value:G,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var h;h={};switch(this.version){case l.V1:h.keyid=this.keyId;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);h.sha256="AA==";break;case l.V2:h.version=this.version;h.cipherspec=this.cipherSpec;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);break;default:throw new ea("Ciphertext envelope version "+this.version+" encoding unsupported.");}return h;}});cd=function(h,n,l,K){new bd(h,n,l,K);};dd=function(t,G,W){n(W,function(){var n,H,w,x,C,J,v;n=t.keyid;H=t.cipherspec;w=t.iv;x=t.ciphertext;C=t.sha256;if(!G)if((G=t.version)&&"number"===typeof G&&G===G){J=!1;for(v in l)if(l[v]==G){J=!0;break;}if(!J)throw new R(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}else G=l.V1;switch(G){case l.V1:if("string"!==typeof n||w&&"string"!==typeof w||"string"!==typeof x||"string"!==typeof C)throw new ia(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));break;case l.V2:v=t.version;if(v!=l.V2)throw new R(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));if("string"!==typeof H||w&&"string"!==typeof w||"string"!==typeof x)throw new ia(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));H=Hd(H);if(!H)throw new R(h.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(t));n=H;break;default:throw new R(h.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}try{w&&(w=wa(w));x=wa(x);}catch(E){throw new R(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(t),E);}new bd(n,w,x,W);});};}());(function(){var l;l=hd={V1:1,V2:2};ub=oa.Class.create({init:function(h,n,t){var K;switch(h){case l.V1:K=t;break;case l.V2:K={};K.version=h;K.algorithm=n;K.signature=pa(t);K=Ta(JSON.stringify(K),Ja);break;default:throw new ea("Signature envelope version "+h+" encoding unsupported.");}Object.defineProperties(this,{version:{value:h,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:t,writable:!1,configurable:!1},bytes:{value:K,writable:!1,configurable:!1}});}});fd=function(){var h,t,G,K;2==arguments.length?(h=l.V1,t=arguments[0],G=null,K=arguments[1]):3==arguments.length&&(h=l.V2,G=arguments[0],t=arguments[1],K=arguments[2]);n(K,function(){return new ub(h,G,t);});};gd=function(t,G,W){n(W,function(){var n,H,w,x,C,J,v;if(G)switch(G){case l.V1:return new ub(l.V1,null,t);case l.V2:try{n=Va(t,Ja);H=JSON.parse(n);w=parseInt(H.version);x=H.algorithm;C=H.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof x||"string"!==typeof C)throw new ia(h.JSON_PARSE_ERROR,"signature envelope "+pa(t));if(l.V2!=w)throw new R(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(t));J=Xc(x);if(!J)throw new R(h.UNIDENTIFIED_ALGORITHM,"signature envelope "+pa(t));v=wa(C);if(!v)throw new R(h.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(t));return new ub(l.V2,J,v);}catch(E){if(E instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"signature envelope "+pa(t),E);throw E;}default:throw new R(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(t));}try{n=Va(t,Ja);H=JSON.parse(n);}catch(E){H=null;}if(H&&H.version){if(n=H.version,"number"!==typeof n||n!==n)n=l.V1;}else n=l.V1;switch(n){case l.V1:return new ub(n,null,t);case l.V2:J=H.algorithm;C=H.signature;if("string"!==typeof J||"string"!==typeof C)return new ub(l.V1,null,t);J=Xc(J);if(!J)return new ub(l.V1,null,t);try{v=wa(C);}catch(E){return new ub(l.V1,null,t);}return new ub(n,J,v);default:throw new R(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+t);}});};}());Xb=oa.Class.create({encrypt:function(h,n){},decrypt:function(h,n){},wrap:function(h,n){},unwrap:function(h,n,l,t){},sign:function(h,n){},verify:function(h,n,l){}});(function(){var l;l=wb={RSA_OAEP:wc.name,A128KW:sb.name};pb="A128GCM";vb=oa.Class.create({init:function(h,n,t,K,H){switch(n){case l.RSA_OAEP:H=H&&(H.rawKey||H);K=K&&(K.rawKey||K);break;case l.A128KW:H=K=K&&(K.rawKey||K);break;default:throw new ea("Unsupported algorithm: "+n);}Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:t,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:H,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:K,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new R(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new R(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,t){n(t,function(){Ha.wrapKey("jwe+jwk",l.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(h){t.result(h);},function(n){t.error(new R(h.WRAP_ERROR));});},this);},unwrap:function(l,t,G,K){function H(l){n(K,function(){switch(l.type){case"secret":Ub(l,K);break;case"public":Ib(l,K);break;case"private":Vb(l,K);break;default:throw new R(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(K,function(){Ha.unwrapKey("jwe+jwk",l,this._unwrapKey,this._unwrapKey.algorithm,t,!1,G).then(function(h){H(h);},function(){K.error(new R(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new R(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,t){t.error(new R(h.VERIFY_NOT_SUPPORTED));}});}());Yb=Xb.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.result(h);},unwrap:function(h,n,l,t){t.result(h);},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!0);}});(function(){var l;l=zc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};yc=Xb.extend({init:function Ga(h,n,H,w,x){Ga.base.call(this);H&&(H=H.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:H,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:x==l.ENCRYPT_DECRYPT_PKCS1?Zc:x==l.ENCRYPT_DECRYPT_OAEP?wc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:x==l.WRAP_UNWRAP_PKCS1?Zc:x==l.WRAP_UNWRAP_OAEP?wc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:x==l.SIGN_VERIFY?Kd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,t){var K;K=this;n(t,function(){if("nullOp"==this.transform)return l;if(!this.publicKey)throw new R(h.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==l.length)return l;Ha.encrypt(K.transform,K.publicKey,l).then(function(n){cd(K.id,null,n,{result:function(n){var l;try{l=JSON.stringify(n);t.result(Ta(l,Ja));}catch(C){t.error(new R(h.ENCRYPT_ERROR,null,C));}},error:function(n){n instanceof G||(n=new R(h.ENCRYPT_ERROR,null,n));t.error(n);}});},function(n){t.error(new R(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,t){var K;K=this;n(t,function(){var n,w;if("nullOp"==this.transform)return l;if(!this.privateKey)throw new R(h.DECRYPT_NOT_SUPPORTED,"no private key");if(0==l.length)return l;try{w=Va(l,Ja);n=JSON.parse(w);}catch(x){if(x instanceof SyntaxError)throw new R(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,x);throw new R(h.DECRYPT_ERROR,null,x);}dd(n,ed.V1,{result:function(n){var l;try{if(n.keyId!=K.id)throw new R(h.ENVELOPE_KEY_ID_MISMATCH);l=t.result;Ha.decrypt(K.transform,K.privateKey,n.ciphertext).then(l,function(n){t.error(new R(h.DECRYPT_ERROR));});}catch(J){J instanceof G?t.error(J):t.error(new R(h.DECRYPT_ERROR,null,J));}},error:function(n){n instanceof ia&&(n=new R(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof G||(n=new R(h.DECRYPT_ERROR,null,n));t.error(n);}});},this);},wrap:function(l,t){n(t,function(){var n;if("nullOp"==this.wrapTransform||!this.publicKey)throw new R(h.WRAP_NOT_SUPPORTED,"no public key");n=t.result;Ha.wrapKey("jwk",l.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){t.error(new R(h.WRAP_ERROR));});},this);},unwrap:function(l,t,K,H){function w(l){n(H,function(){switch(l.type){case"secret":Ub(l,H);break;case"public":Ib(l,H);break;case"private":Vb(l,H);break;default:throw new R(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(H,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new R(h.UNWRAP_NOT_SUPPORTED,"no private key");Ha.unwrapKey("jwk",l,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},t,!1,K).then(w,function(n){H.error(new R(h.UNWRAP_ERROR));});},this);},sign:function(l,t){n(t,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new R(h.SIGN_NOT_SUPPORTED,"no private key");Ha.sign(this.algo,this.privateKey,l).then(function(h){fd(h,{result:function(h){t.result(h.bytes);},error:t.error});},function(n){t.error(new R(h.SIGNATURE_ERROR));});},this);},verify:function(l,t,K){var H;H=this;n(K,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new R(h.VERIFY_NOT_SUPPORTED,"no public key");gd(t,hd.V1,{result:function(w){n(K,function(){var n;n=K.result;Ha.verify(this.algo,this.publicKey,w.signature,l).then(n,function(n){K.error(new R(h.SIGNATURE_ERROR));});},H);},error:K.error});},this);}});}());(function(){Ac=Xb.extend({init:function Ua(h,n,l,H,w){Ua.base.call(this);l=l&&l.rawKey;H=H&&H.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:l,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:H,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,t){var L;L=this;n(t,function(){var n;if(!this.encryptionKey)throw new R(h.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);Ha.encrypt({name:mb.name,iv:n},L.encryptionKey,l).then(function(l){l=new Uint8Array(l);cd(L.id,n,l,{result:function(n){var l;try{l=JSON.stringify(n);t.result(Ta(l,Ja));}catch(C){t.error(new R(h.ENCRYPT_ERROR,null,C));}},error:function(n){n instanceof G||(n=new R(h.ENCRYPT_ERROR,null,n));t.error(n);}});},function(n){t.error(new R(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,t){var L;L=this;n(t,function(){var n,H;if(!this.encryptionKey)throw new R(h.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;try{H=Va(l,Ja);n=JSON.parse(H);}catch(w){if(w instanceof SyntaxError)throw new R(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new R(h.DECRYPT_ERROR,null,w);}dd(n,ed.V1,{result:function(n){try{if(n.keyId!=L.id)throw new R(h.ENVELOPE_KEY_ID_MISMATCH);Ha.decrypt({name:mb.name,iv:n.iv},L.encryptionKey,n.ciphertext).then(function(h){h=new Uint8Array(h);t.result(h);},function(){t.error(new R(h.DECRYPT_ERROR));});}catch(x){x instanceof G?t.error(x):t.error(new R(h.DECRYPT_ERROR,null,x));}},error:function(n){n instanceof ia&&(n=new R(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof G||(n=new R(h.DECRYPT_ERROR,null,n));t.error(n);}});},this);},wrap:function(l,t){n(t,function(){if(!this.wrapKey)throw new R(h.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ha.wrapKey("raw",l.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(h){t.result(h);},function(n){t.error(new R(h.WRAP_ERROR));});},this);},unwrap:function(l,t,G,K){function H(l){n(K,function(){switch(l.type){case"secret":Ub(l,K);break;case"public":Ib(l,K);break;case"private":Vb(l,K);break;default:throw new R(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(K,function(){if(!this.wrapKey)throw new R(h.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ha.unwrapKey("raw",l,this.wrapKey,this.wrapKey.algorithm,t,!1,G).then(function(h){H(h);},function(n){K.error(new R(h.UNWRAP_ERROR));});},this);},sign:function(l,t){var G;G=this;n(t,function(){if(!this.hmacKey)throw new R(h.SIGN_NOT_SUPPORTED,"no HMAC key.");Ha.sign(nb,this.hmacKey,l).then(function(h){n(t,function(){var n;n=new Uint8Array(h);fd(n,{result:function(h){t.result(h.bytes);},error:t.error});},G);},function(){t.error(new R(h.HMAC_ERROR));});},this);},verify:function(l,t,G){var K;K=this;n(G,function(){if(!this.hmacKey)throw new R(h.VERIFY_NOT_SUPPORTED,"no HMAC key.");gd(t,hd.V1,{result:function(H){n(G,function(){Ha.verify(nb,this.hmacKey,H.signature,l).then(function(h){G.result(h);},function(n){G.error(new R(h.HMAC_ERROR));});},K);},error:G.error});},this);}});}());fb=Ac.extend({init:function Ua(n,l,t,H,w){if(t||H||w)Ua.base.call(this,n,t+"_"+l.sequenceNumber,H,w,null);else{if(!l.isDecrypted())throw new Lb(h.MASTERTOKEN_UNTRUSTED,l);Ua.base.call(this,n,l.identity+"_"+l.sequenceNumber,l.encryptionKey,l.hmacKey,null);}}});Ne=Xb.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.error(new ea("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(h,n,l,t){t.error(new ea("Unwrap is unsupported by the MSL token crypto context."));},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!1);}});Na={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Na);(function(){Kb=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Kb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});Md=function(n,l){var t,K,H;t=l.scheme;K=l.authdata;if(!t||!K)throw new ia(h.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(l));if(!Na[t])throw new rb(h.UNIDENTIFIED_ENTITYAUTH_SCHEME,t);H=n.getEntityAuthenticationFactory(t);if(!H)throw new rb(h.ENTITYAUTH_FACTORY_NOT_FOUND,t);return H.createData(n,K);};}());Bc=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,n){},getCryptoContext:function(h,n){}});(function(){jb=Kb.extend({init:function Ga(h){Ga.base.call(this,Na.MGK);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function Ia(h){return this===h?!0:h instanceof jb?Ia.base.call(this,this,h)&&this.identity==h.identity:!1;}});Nd=function(n){var l;l=n.identity;if(!l)throw new ia(h.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(n));return new jb(l);};}());Oe=Bc.extend({init:function Ga(h){Ga.base.call(this,Na.MGK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Nd(n);},getCryptoContext:function(n,l){if(!(l instanceof jb))throw new ea("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.identity!=this.localIdentity)throw new rb(h.ENTITY_NOT_FOUND,"mgk "+l.identity).setEntity(l);return new Yb();}});(function(){ob=Kb.extend({init:function Ia(h){Ia.base.call(this,Na.PSK);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function K(h){return this===h?!0:h instanceof ob?K.base.call(this,this,h)&&this.identity==h.identity:!1;}});Od=function(n){var l;l=n.identity;if(!l)throw new ia(h.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(n));return new ob(l);};}());Pd=Bc.extend({init:function Ia(h){Ia.base.call(this,Na.PSK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Od(n);},getCryptoContext:function(n,l){if(!(l instanceof ob))throw new ea("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.getIdentity()!=this.localIdentity)throw new rb(h.ENTITY_NOT_FOUND,"psk "+l.identity).setEntity(l);return new Yb();}});(function(){Cc=Kb.extend({init:function K(h,n){K.base.call(this,Na.RSA);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;h.pubkeyid=this.publicKeyId;return h;},equals:function H(h){return this===h?!0:h instanceof Cc?H.base.call(this,this,h)&&this.identity==h.identity&&this.publicKeyId==h.publicKeyId:!1;}});Qd=function(n){var l,x;l=n.identity;x=n.pubkeyid;if(!l||"string"!==typeof l||!x||"string"!==typeof x)throw new ia(h.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(n));return new Cc(l,x);};}());Pe=Bc.extend({init:function K(h){K.base.call(this,Na.RSA);Object.defineProperties(this,{store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Qd(n);},getCryptoContext:function(n,l){var w,x,C;if(!(l instanceof Cc))throw new ea("Incorrect authentication data type "+l+".");w=l.identity;x=l.publicKeyId;C=this.store.getPublicKey(x);if(!C)throw new rb(h.RSA_PUBLICKEY_NOT_FOUND,x).setEntity(l);return new yc(n,w,null,C,zc.SIGN_VERIFY);}});(function(){fc=Kb.extend({init:function H(h){H.base.call(this,Na.NONE);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function w(h){return this===h?!0:h instanceof fc?w.base.call(this,this,h)&&this.identity==h.identity:!1;}});Rd=function(n){var l;l=n.identity;if(!l)throw new ia(h.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(n));return new fc(l);};}());Me=Bc.extend({init:function H(){H.base.call(this,Na.NONE);},createData:function(h,n){return Rd(n);},getCryptoContext:function(h,n){if(!(n instanceof fc))throw new ea("Incorrect authentication data type "+JSON.stringify(n)+".");return new Yb();}});Qe=oa.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(h,n){if(!(n instanceof xc))throw new ea("Incorrect key data type "+n+".");this.rsaKeys[h]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(h){delete this.rsaKeys[h];},getPublicKey:function(h){return this.rsaKeys[h];}});id=oa.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){}});Dc=oa.Class.create({abort:function(){},close:function(h,n){},write:function(h,n,l,C,J){},flush:function(h,n){}});Re=oa.Class.create({init:function(h){Object.defineProperties(this,{_data:{value:h,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Xa("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(h,n,l){t(l,function(){var n;if(this._closed)throw new Xa("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==h&&(h=this._data.length-this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition+h);this._currentPosition+=n.length;return n;},this);}});Se=oa.Class.create({init:function(){var h;h={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},abort:function(){},close:function(h,n){this._closed=!0;n.result(!0);},write:function(h,n,l,C,J){t(J,function(){var v;if(this._closed)throw new Xa("Stream is already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=h.subarray(n,l);this._buffered.push(v);return v.length;},this);},flush:function(h,n){var l,w;for(;0<this._buffered.length;){l=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+l.length);w.set(this._result);w.set(l,this._result.length);this._result=w;}else this._result=new Uint8Array(l);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Te=oa.Class.create({getResponse:function(h,n,l){}});(function(){var h,n;h=Dc.extend({init:function(h,n){var l;l={_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Se(),writable:!1,enumerable:!1,configurable:!1},_response:{value:na,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:na,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new gc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(h){this._timeout=h;},getResponse:function(h,n){var l;l=this;this._responseQueue.poll(h,{result:function(h){t(n,function(){h&&this._responseQueue.add(h);return h;},l);},timeout:function(){t(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},l);},error:function(h){t(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw h;},l);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(h,n){var l;l=this;t(n,function(){var h;if(this._response)return!0;h=this._buffer.toByteArray();0<h.length&&(this._abortToken=this._httpLocation.getResponse({body:h},this._timeout,{result:function(h){l._response={response:h};l._responseQueue.add(l._response);},timeout:function(){l._response={isTimeout:!0};l._responseQueue.add(l._response);},error:function(h){l._response={isError:!0,error:h};l._responseQueue.add(l._response);}}));return!0;},this);},write:function(h,n,l,v,E){t(E,function(){if(this._response)throw new Xa("HttpOutputStream already closed.");this._buffer.write(h,n,l,v,E);},this);},flush:function(h,n){t(n,function(){if(this._response)return!0;this._buffer.flush(h,n);},this);}});n=id.extend({init:function(h){Object.defineProperties(this,{_out:{value:h,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:na,writable:!0,enumerable:!1,configurable:!1},_exception:{value:na,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:na,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(h,n,l){var E;function v(v){t(l,function(){if(!v)return new Uint8Array(0);this._out.getResponse(n,{result:function(v){t(l,function(){var w;if(v.isTimeout)this._timedout=!0,l.timeout();else{if(v.isError)throw this._exception=v.error||new Xa("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Xa("Missing HTTP response."),this._exception;v.response.json!==na&&(this._json=v.response.json,this.getJSON=function(){return E._json;});w=v.response.content||Rc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new Re(w);this._buffer.read(h,n,l);}},E);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},E);}E=this;t(l,function(){if(this._exception)throw this._exception;if(this._timedout)l.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(h,n,l):this._out.close(n,{result:function(h){v(h);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},E);}});Bd=oa.Class.create({init:function(h,n){Object.defineProperties(this,{_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(h){this._timeout=h;},openConnection:function(){var l;l=new h(this._httpLocation,this._timeout);return{input:new n(l),output:l};}});}());(function(){var h,n;h=Dc.extend({init:function(){var h;h={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setTimeout:function(){},getResponse:function(h,n){n.result({success:!1,content:null,errorHttpCode:na,errorSubCode:na});},abort:function(){},close:function(h,n){n.result(!0);},write:function(h,n,l,v,E){var w,x;try{if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=h.subarray(n,l);x=new Uint8Array(this._buffer.length+w.length);x.set(this._buffer);x.set(w,this._buffer.length);this._buffer=x;E.result(w.length);}catch(Aa){E.error(Aa);}},flush:function(h,n){n.result(!0);},request:function(){return this._buffer;}});n=id.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){l.result(new Uint8Array(16));}});Cd=oa.Class.create({init:function(){var l;l={output:{value:new h(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Qc(this.output.request());}});}());Sd=function(h,n,l){function w(h){var n,l;h=new Ue(Va(h,"utf-8"));n=[];for(l=h.nextValue();l!==na;)n.push(l),l=h.nextValue();return n;}(function(h,n,E){h.read(-1,n,{result:function(h){h&&h.length?E(null,h):E(null,null);},timeout:function(){l.timeout();},error:function(h){E(h,null);}});}(h,n,function(n,v){n?l.error(n):v?h.getJSON!==na&&"function"===typeof h.getJSON?l.result(h.getJSON()):l.result(w(v)):l.result(null);}));};hb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(hb);(function(){hc=oa.Class.create({init:function(h){Object.defineProperties(this,{keyExchangeScheme:{value:h,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof hc?this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Td=function(l,w,x){n(x,function(){var n,t,v;n=w.scheme;t=w.keydata;if(!n||!t||"object"!==typeof t)throw new ia(h.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!hb[n])throw new Oa(h.UNIDENTIFIED_KEYX_SCHEME,n);v=l.getKeyExchangeFactory(n);if(!v)throw new Oa(h.KEYX_FACTORY_NOT_FOUND,n);v.createRequestData(l,t,x);});};}());(function(){ic=oa.Class.create({init:function(h,n){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.mastertoken=this.masterToken;h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof ic?this.masterToken.equals(h.masterToken)&&this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Ud=function(l,w,x){n(x,function(){var t,J,v;t=w.mastertoken;J=w.scheme;v=w.keydata;if(!J||!t||"object"!==typeof t||!v||"object"!==typeof v)throw new ia(h.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!hb[J])throw new Oa(h.UNIDENTIFIED_KEYX_SCHEME,J);Nb(l,t,{result:function(E){n(x,function(){var n;n=l.getKeyExchangeFactory(J);if(!n)throw new Oa(h.KEYX_FACTORY_NOT_FOUND,J);return n.createResponseData(l,E,v);});},error:function(h){x.error(h);}});});};}());(function(){var l;l=oa.Class.create({init:function(h,n){Object.defineProperties(this,{keyResponseData:{value:h,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});kb=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createRequestData:function(h,n,l){},createResponseData:function(h,n,l){},generateResponse:function(h,n,l,t){},getCryptoContext:function(h,n,l,t,v){},generateSessionKeys:function(l,x){n(x,function(){var n,w;n=new Uint8Array(16);w=new Uint8Array(32);l.getRandom().nextBytes(n);l.getRandom().nextBytes(w);tb(n,mb,Bb,{result:function(n){tb(w,nb,Mb,{result:function(h){x.result({encryptionKey:n,hmacKey:h});},error:function(n){x.error(new R(h.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){x.error(new R(h.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(h,n,l){tb(h,mb,Bb,{result:function(h){tb(n,nb,Mb,{result:function(n){l.result({encryptionKey:h,hmacKey:n});},error:function(h){l.error(h);}});},error:function(h){l.error(h);}});}});kb.KeyExchangeData=l;}());(function(){var w,x,t;function l(l,v,E,x,t){n(t,function(){var ca,J;switch(v){case w.PSK:ca=new ob(x),J=l.getEntityAuthenticationFactory(Na.PSK);if(!J)throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,v);ca=J.getCryptoContext(l,ca);return new vb(l,wb.A128KW,pb,na);case w.MGK:ca=new jb(x);J=l.getEntityAuthenticationFactory(Na.MGK);if(!J)throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,v);ca=J.getCryptoContext(l,ca);return new vb(l,wb.A128KW,pb,na);case w.WRAP:ca=l.getMslCryptoContext();ca.unwrap(E,sb,Cb,{result:function(h){n(t,function(){return new vb(l,wb.A128KW,pb,h);});},error:t.error});break;default:throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=jd=hc.extend({init:function v(h,n){v.base.call(this,hb.JWE_LADDER);switch(h){case w.WRAP:if(!n)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function E(h){return h===this?!0:h instanceof jd?E.base.call(this,h)&&this.mechanism==h.mechanism&&Za(this.wrapdata,h.wrapdata):!1;},uniqueKey:function za(){var h;h=za.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+db(this.wrapdata));return h;}});t=Wd=ic.extend({init:function ca(h,n,l,w,x){ca.base.call(this,h,hb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:x,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function Aa(h){return this===h?!0:h instanceof Wd?Aa.base.call(this,h)&&Za(this.wrapKey,h.wrapKey)&&Za(this.wrapdata,h.wrapdata)&&Za(this.encryptionKey,h.encryptionKey)&&Za(this.hmacKey,h.hmacKey):!1;},uniqueKey:function xa(){return xa.base.call(this)+":"+db(this.wrapKey)+":"+db(this.wrapdata)+":"+db(this.encryptionKey)+":"+db(this.hmacKey);}});Vd=kb.extend({init:function Z(h){Z.base.call(this,hb.JWE_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,t,B){n(B,function(){var n,l,B;n=t.mechanism;l=t.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(t));if(!w[n])throw new Oa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{B=wa(l);}catch(da){throw new Oa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+t.toString());}if(null==B||0==B.length)throw new Oa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+t.toString());break;default:B=null;}return new x(n,B);});},createResponseData:function(n,l,w){var x,B,Z,C,la,H,G;n=w.wrapkey;x=w.wrapdata;B=w.encryptionkey;Z=w.hmackey;if(!(n&&"string"===typeof n&&x&&"string"===typeof x&&B&&"string"===typeof B&&Z)||"string"!==typeof Z)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{C=wa(n);la=wa(x);}catch(ha){throw new R(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ha);}try{H=wa(B);}catch(ha){throw new R(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ha);}try{G=wa(Z);}catch(ha){throw new R(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ha);}return new t(l,C,la,H,G);},generateResponse:function(w,C,B,S){var Ma,sa;function Z(h,l,x){Ma.generateSessionKeys(w,{result:function(w){n(S,function(){la(h,l,x,w.encryptionKey,w.hmacKey);},Ma);},error:function(h){n(S,function(){h instanceof G&&h.setEntity(sa);throw h;});}});}function la(h,x,B,t,qa){n(S,function(){l(w,C.mechanism,C.wrapdata,h,{result:function(h){h.wrap(x,{result:function(g){H(x,B,t,qa,g);},error:function(g){n(S,function(){g instanceof G&&g.setEntity(sa);throw g;});}});},error:function(h){n(S,function(){h instanceof G&&h.setEntity(sa);throw h;});}});},Ma);}function H(h,l,x,B,t){n(S,function(){var ha;ha=new vb(w,wb.A128KW,pb,h);ha.wrap(x,{result:function(g){ha.wrap(B,{result:function(d){va(l,t,x,g,B,d);},error:function(d){n(S,function(){d instanceof G&&d.setEntity(sa);throw d;});}});},error:function(g){n(S,function(){g instanceof G&&g.setEntity(sa);throw g;});}});},Ma);}function va(h,l,x,C,Z,la){n(S,function(){var g;g=w.getTokenFactory();sa?g.renewMasterToken(w,sa,x,Z,{result:function(d){n(S,function(){var a,b;a=new fb(w,d);b=new t(d,l,h,C,la);return new kb.KeyExchangeData(b,a,S);},Ma);},error:function(d){n(S,function(){d instanceof G&&d.setEntity(sa);throw d;});}}):g.createMasterToken(w,B,x,Z,{result:function(d){n(S,function(){var a,b;a=new fb(w,d);b=new t(d,l,h,C,la);return new kb.KeyExchangeData(b,a,S);},Ma);},error:S.error});},Ma);}Ma=this;n(S,function(){var l,t;if(!(C instanceof x))throw new ea("Key request data "+JSON.stringify(C)+" was not created by this factory.");l=B;if(B instanceof eb){if(!B.isVerified())throw new Lb(h.MASTERTOKEN_UNTRUSTED,B);sa=B;l=B.identity;}t=new Uint8Array(16);w.getRandom().nextBytes(t);tb(t,sb,Cb,{result:function(h){n(S,function(){w.getMslCryptoContext().wrap(h,{result:function(n){Z(l,h,n);},error:function(h){n(S,function(){h instanceof G&&h.setEntity(sa);throw h;},Ma);}});},Ma);},error:function(l){n(S,function(){throw new R(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(sa);},Ma);}});},Ma);},getCryptoContext:function(l,C,B,S,ua){var la;function Z(h,w,x,B,t){n(ua,function(){var ha;ha=new vb(l,wb.A128KW,pb,t);ha.unwrap(w.encryptionKey,mb,Bb,{result:function(t){ha.unwrap(w.hmacKey,nb,Mb,{result:function(h){n(ua,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(x);return new fb(l,w.masterToken,B,t,h);},la);},error:function(l){n(ua,function(){l instanceof G&&l.setEntity(h);throw l;});}});},error:function(l){n(ua,function(){l instanceof G&&l.setEntity(h);throw l;});}});},la);}la=this;n(ua,function(){var S,ga;if(!(C instanceof x))throw new ea("Key request data "+JSON.stringify(C)+" was not created by this factory.");if(!(B instanceof t))throw new ea("Key response data "+JSON.stringify(B)+" was not created by this factory.");S=C.mechanism;ga=C.wrapdata;l.getEntityAuthenticationData(null,{result:function(x){n(ua,function(){var t,C,la;t=x.getIdentity();switch(S){case w.PSK:C=new ob(t);la=l.getEntityAuthenticationFactory(Na.PSK);if(!la)throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,S).setEntity(x);C=la.getCryptoContext(l,C);C=new vb(l,wb.A128KW,pb,na);break;case w.MGK:C=new jb(t);la=l.getEntityAuthenticationFactory(Na.MGK);if(!la)throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,S).setEntity(x);C=la.getCryptoContext(l,C);C=new vb(l,wb.A128KW,pb,C.wrapKey);break;case w.WRAP:C=this.repository.getCryptoContext(ga);if(!C)throw new Oa(h.KEYX_WRAPPING_KEY_MISSING,pa(ga)).setEntity(x);break;default:throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,S).setEntity(x);}C.unwrap(B.wrapKey,sb,Cb,{result:function(h){Z(x,B,ga,t,h);},error:function(h){n(ua,function(){h instanceof G&&h.setEntity(x);throw h;});}});},la);},error:ua.error});},la);}});}());(function(){var w,x,t,J;function l(l,E,x,t,C){n(C,function(){var v,ca;switch(E){case w.PSK:v=new ob(t),ca=l.getEntityAuthenticationFactory(Na.PSK);if(!ca)throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,E);v=ca.getCryptoContext(l,v);return new J(na);case w.MGK:v=new jb(t);ca=l.getEntityAuthenticationFactory(Na.MGK);if(!ca)throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,E);v=ca.getCryptoContext(l,v);return new J(na);case w.WRAP:v=l.getMslCryptoContext();v.unwrap(x,sb,Cb,{result:function(h){n(C,function(){return new J(h);});},error:C.error});break;default:throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,E);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=Ec=hc.extend({init:function E(h,n){E.base.call(this,hb.JWK_LADDER);switch(h){case w.WRAP:if(!n)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function za(h){return h===this?!0:h instanceof Ec?za.base.call(this,h)&&this.mechanism==h.mechanism&&Za(this.wrapdata,h.wrapdata):!1;},uniqueKey:function ca(){var h;h=ca.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+db(this.wrapdata));return h;}});t=Xd=ic.extend({init:function Aa(h,n,l,w,x){Aa.base.call(this,h,hb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:x,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function xa(h){return this===h?!0:h instanceof Xd?xa.base.call(this,h)&&Za(this.wrapKey,h.wrapKey)&&Za(this.wrapdata,h.wrapdata)&&Za(this.encryptionKey,h.encryptionKey)&&Za(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+db(this.wrapKey)+":"+db(this.wrapdata)+":"+db(this.encryptionKey)+":"+db(this.hmacKey);}});J=Xb.extend({init:function(h){h&&h.rawKey&&(h=h.rawKey);Object.defineProperties(this,{_wrapKey:{value:h,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new R(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new R(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,w){n(w,function(){Ha.wrapKey("jwk",l.rawKey,this._wrapKey,sb).then(function(h){w.result(h);},function(n){w.error(new R(h.WRAP_ERROR));});},this);},unwrap:function(l,w,x,t){function B(l){n(t,function(){switch(l.type){case"secret":Ub(l,t);break;case"public":Ib(l,t);break;case"private":Vb(l,t);break;default:throw new R(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(t,function(){Ha.unwrapKey("jwk",l,this._wrapKey,sb,w,!1,x).then(function(h){B(h);},function(n){t.error(new R(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new R(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,w){w.error(new R(h.VERIFY_NOT_SUPPORTED));}});ld=kb.extend({init:function la(h){la.base.call(this,hb.JWK_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,t,J){n(J,function(){var n,l,B;n=t.mechanism;l=t.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(t));if(!w[n])throw new Oa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{B=wa(l);}catch(va){throw new Oa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+t.toString());}if(null==B||0==B.length)throw new Oa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+t.toString());break;default:B=null;}return new x(n,B);});},createResponseData:function(n,l,w){var x,B,J,C,S,la,ha;n=w.wrapkey;x=w.wrapdata;B=w.encryptionkey;J=w.hmackey;if(!(n&&"string"===typeof n&&x&&"string"===typeof x&&B&&"string"===typeof B&&J)||"string"!==typeof J)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{C=wa(n);S=wa(x);}catch(qb){throw new R(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),qb);}try{la=wa(B);}catch(qb){throw new R(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),qb);}try{ha=wa(J);}catch(qb){throw new R(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),qb);}return new t(l,C,S,la,ha);},generateResponse:function(w,B,C,H){var sa,ha;function S(h,l,x){sa.generateSessionKeys(w,{result:function(w){n(H,function(){la(h,l,x,w.encryptionKey,w.hmacKey);},sa);},error:function(h){n(H,function(){h instanceof G&&h.setEntity(ha);throw h;});}});}function la(h,x,t,C,J){n(H,function(){l(w,B.mechanism,B.wrapdata,h,{result:function(g){g.wrap(x,{result:function(d){ua(x,t,C,J,d);},error:function(d){n(H,function(){d instanceof G&&d.setEntity(ha);throw d;});}});},error:function(g){n(H,function(){g instanceof G&&g.setEntity(ha);throw g;});}});},sa);}function ua(h,l,w,x,t){n(H,function(){var g;g=new J(h);g.wrap(w,{result:function(d){g.wrap(x,{result:function(a){Ma(l,t,w,d,x,a);},error:function(a){n(H,function(){a instanceof G&&a.setEntity(ha);throw a;});}});},error:function(d){n(H,function(){d instanceof G&&d.setEntity(ha);throw d;});}});},sa);}function Ma(h,l,x,B,J,g){n(H,function(){var d;d=w.getTokenFactory();ha?d.renewMasterToken(w,ha,x,J,{result:function(a){n(H,function(){var b,f;b=new fb(w,a);f=new t(a,l,h,B,g);return new kb.KeyExchangeData(f,b,H);},sa);},error:function(a){n(H,function(){a instanceof G&&a.setEntity(ha);throw a;});}}):d.createMasterToken(w,C,x,J,{result:function(a){n(H,function(){var b,f;b=new fb(w,a);f=new t(a,l,h,B,g);return new kb.KeyExchangeData(f,b,H);},sa);},error:H.error});},sa);}sa=this;n(H,function(){var l,t;if(!(B instanceof x))throw new ea("Key request data "+JSON.stringify(B)+" was not created by this factory.");l=C;if(C instanceof eb){if(!C.isVerified())throw new Lb(h.MASTERTOKEN_UNTRUSTED,C);ha=C;l=C.identity;}t=new Uint8Array(16);w.getRandom().nextBytes(t);tb(t,sb,Cb,{result:function(h){n(H,function(){w.getMslCryptoContext().wrap(h,{result:function(n){S(l,h,n);},error:function(h){n(H,function(){h instanceof G&&h.setEntity(ha);throw h;},sa);}});},sa);},error:function(l){n(H,function(){throw new R(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ha);},sa);}});},sa);},getCryptoContext:function(l,B,C,H,ga){var la;function S(h,w,x,t,B){n(ga,function(){var ha;ha=new J(B);ha.unwrap(w.encryptionKey,mb,Bb,{result:function(B){ha.unwrap(w.hmacKey,nb,Mb,{result:function(h){n(ga,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(x);return new fb(l,w.masterToken,t,B,h);},la);},error:function(l){n(ga,function(){l instanceof G&&l.setEntity(h);throw l;});}});},error:function(l){n(ga,function(){l instanceof G&&l.setEntity(h);throw l;});}});},la);}la=this;n(ga,function(){var H,ua;if(!(B instanceof x))throw new ea("Key request data "+JSON.stringify(B)+" was not created by this factory.");if(!(C instanceof t))throw new ea("Key response data "+JSON.stringify(C)+" was not created by this factory.");H=B.mechanism;ua=B.wrapdata;l.getEntityAuthenticationData(null,{result:function(x){n(ga,function(){var t,B,ha;t=x.getIdentity();switch(H){case w.PSK:B=new ob(t);ha=l.getEntityAuthenticationFactory(Na.PSK);if(!ha)throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(x);B=ha.getCryptoContext(l,B);B=new J(B.wrapKey);break;case w.MGK:B=new jb(t);ha=l.getEntityAuthenticationFactory(Na.MGK);if(!ha)throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(x);B=ha.getCryptoContext(l,B);B=new J(B.wrapKey);break;case w.WRAP:B=this.repository.getCryptoContext(ua);if(!B)throw new Oa(h.KEYX_WRAPPING_KEY_MISSING,pa(ua)).setEntity(x);break;default:throw new Oa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(x);}B.unwrap(C.wrapKey,sb,Cb,{result:function(h){S(x,C,ua,t,h);},error:function(h){n(ga,function(){h instanceof G&&h.setEntity(x);throw h;});}});},la);},error:ga.error});},la);}});}());Ve=oa.Class.create({addCryptoContext:function(h,l){},getCryptoContext:function(h){},removeCryptoContext:function(h){}});(function(){var w,x,t,J;function l(l,n,x,t,C){switch(x){case w.JWE_RSA:case w.JWEJS_RSA:return new vb(l,wb.RSA_OAEP,pb,t,C);case w.JWK_RSA:return new yc(l,n,t,C,zc.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new yc(l,n,t,C,zc.WRAP_UNWRAP_PKCS1);default:throw new R(h.UNSUPPORTED_KEYX_MECHANISM,x);}}w=Fc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};x=Wc=hc.extend({init:function E(h,l,n,w){E.base.call(this,hb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:h,writable:!1,configurable:!1},mechanism:{value:l,writable:!1,configurable:!1},publicKey:{value:n,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.mechanism=this.mechanism;h.publickey=pa(this.publicKey.getEncoded());return h;},equals:function za(h){var l;if(h===this)return!0;if(!(h instanceof Wc))return!1;l=this.privateKey===h.privateKey||this.privateKey&&h.privateKey&&Za(this.privateKey.getEncoded(),h.privateKey.getEncoded());return za.base.call(this,h)&&this.keyPairId==h.keyPairId&&this.mechanism==h.mechanism&&Za(this.publicKey.getEncoded(),h.publicKey.getEncoded())&&l;},uniqueKey:function ca(){var h,l;h=this.publicKey.getEncoded();l=this.privateKey&&this.privateKey.getEncoded();h=ca.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+db(h);l&&(h+=":"+db(l));return h;}});t=function(l,t){n(t,function(){var n,C,J,B;n=l.keypairid;C=l.mechanism;J=l.publickey;if(!n||"string"!==typeof n||!C||!J||"string"!==typeof J)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(l));if(!w[C])throw new Oa(h.UNIDENTIFIED_KEYX_MECHANISM,C);try{B=wa(J);switch(C){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:ad(B,wc,Cb,{result:function(h){t.result(new x(n,C,h,null));},error:function(h){t.error(h);}});break;case w.JWK_RSAES:ad(B,Zc,Cb,{result:function(h){t.result(new x(n,C,h,null));},error:function(h){t.error(h);}});break;default:throw new R(h.UNSUPPORTED_KEYX_MECHANISM,C);}}catch(S){if(!(S instanceof G))throw new R(h.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(l),S);throw S;}});};J=Yd=ic.extend({init:function Aa(h,l,n,w){Aa.base.call(this,h,hb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:l,writable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function xa(h){return this===h?!0:h instanceof Yd?xa.base.call(this,h)&&this.keyPairId==h.keyPairId&&Za(this.encryptionKey,h.encryptionKey)&&Za(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+this.keyPairId+":"+db(this.encryptionKey)+":"+db(this.hmacKey);}});Dd=kb.extend({init:function la(){la.base.call(this,hb.ASYMMETRIC_WRAPPED);},createRequestData:function(h,l,n){t(l,n);},createResponseData:function(l,n,w){var x,t,B,C;l=w.keypairid;x=w.encryptionkey;t=w.hmackey;if(!l||"string"!==typeof l||!x||"string"!==typeof x||!t||"string"!==typeof t)throw new ia(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=wa(x);}catch(Ma){throw new R(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Ma);}try{C=wa(t);}catch(Ma){throw new R(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Ma);}return new J(n,l,B,C);},generateResponse:function(h,w,t,C){var S;function B(x,B){n(C,function(){var ha;ha=l(h,w.keyPairId,w.mechanism,null,w.publicKey);ha.wrap(x,{result:function(h){n(C,function(){ha.wrap(B,{result:function(l){H(x,h,B,l);},error:function(h){n(C,function(){h instanceof G&&t instanceof eb&&h.setEntity(t);throw h;},S);}});},S);},error:function(h){n(C,function(){h instanceof G&&t instanceof eb&&h.setEntity(t);throw h;},S);}});},S);}function H(l,x,B,H){n(C,function(){var ha;ha=h.getTokenFactory();t instanceof eb?ha.renewMasterToken(h,t,l,B,{result:function(l){n(C,function(){var n,t;n=new fb(h,l);t=new J(l,w.keyPairId,x,H);return new kb.KeyExchangeData(t,n,C);},S);},error:function(h){n(C,function(){h instanceof G&&h.setEntity(t);throw h;},S);}}):ha.createMasterToken(h,t,l,B,{result:function(l){n(C,function(){var n,t;n=new fb(h,l);t=new J(l,w.keyPairId,x,H);return new kb.KeyExchangeData(t,n,C);},S);},error:C.error});},S);}S=this;n(C,function(){if(!(w instanceof x))throw new ea("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(h,{result:function(h){B(h.encryptionKey,h.hmacKey);},error:function(h){n(C,function(){h instanceof G&&t instanceof eb&&h.setEntity(t);throw h;},S);}});},S);},getCryptoContext:function(w,t,C,H,ga){var B;B=this;n(ga,function(){var S,la,ua;if(!(t instanceof x))throw new ea("Key request data "+JSON.stringify(t)+" was not created by this factory.");if(!(C instanceof J))throw new ea("Key response data "+JSON.stringify(C)+" was not created by this factory.");S=t.keyPairId;la=C.keyPairId;if(S!=la)throw new Oa(h.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+S+"; response "+la).setEntity(H);la=t.privateKey;if(!la)throw new Oa(h.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(H);ua=l(w,S,t.mechanism,la,null);ua.unwrap(C.encryptionKey,mb,Bb,{result:function(h){ua.unwrap(C.hmacKey,nb,Mb,{result:function(l){w.getEntityAuthenticationData(null,{result:function(x){n(ga,function(){var n;n=x.getIdentity();return new fb(w,C.masterToken,n,h,l);},B);},error:function(h){n(ga,function(){h instanceof G&&h.setEntity(H);throw h;},B);}});},error:function(h){n(ga,function(){h instanceof G&&h.setEntity(H);throw h;},B);}});},error:function(h){n(ga,function(){h instanceof G&&h.setEntity(H);throw h;},B);}});},B);}});}());Ue=oa.Class.create({init:function(h){var l,n,t,J,v,E,H,ca;l=$a.parser();n=[];t=[];H=0;ca=!1;l.onerror=function(h){ca||(ca=!0,l.end());};l.onopenobject=function(h){var l;if(J)J[E]={},t.push(J),J=J[E];else if(v){l={};t.push(v);v.push(l);J=l;v=na;}else J={};E=h;};l.oncloseobject=function(){var h;h=t.pop();h?"object"===typeof h?J=h:(J=na,v=h):(n.push(J),H=l.index,J=na);};l.onopenarray=function(){var h;if(J)J[E]=[],t.push(J),v=J[E],J=na;else if(v){h=[];t.push(v);v.push(h);v=h;}else v=[];};l.onclosearray=function(){var h;h=t.pop();h?"object"===typeof h?(J=h,v=na):v=h:(n.push(v),H=l.index,v=na);};l.onkey=function(h){E=h;};l.onvalue=function(h){J?J[E]=h:v?v.push(h):(n.push(h),H=l.index);};l.write(h).close();Object.defineProperties(this,{_values:{value:n,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:H,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?na:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var l,w,t,C,J;l=md="entityauthdata";w=$d="mastertoken";t=ae="headerdata";C=be="errordata";J=nd="signature";Zd=function(v,E,x,ca){n(ca,function(){var n,H,Z,la,B,S;n=E[l];H=E[w];Z=E[J];if(n&&"object"!==typeof n||H&&"object"!==typeof H||"string"!==typeof Z)throw new ia(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(E));try{la=wa(Z);}catch(ua){throw new Da(h.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(E),ua);}B=null;n&&(B=Md(v,n));S=E[t];if(S!=na&&null!=S){if("string"!==typeof S)throw new ia(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(E));H?Nb(v,H,{result:function(h){od(v,S,B,h,la,x,ca);},error:function(h){ca.error(h);}}):od(v,S,B,null,la,x,ca);}else if(n=E[C],n!=na&&null!=n){if("string"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(E));ce(v,n,B,la,ca);}else throw new ia(h.JSON_PARSE_ERROR,JSON.stringify(E));});};}());(function(){function t(h,l){this.errordata=h;this.signature=l;}Hb=oa.Class.create({init:function(l,t,C,J,v,E,H,ca,Aa,xa){var w;w=this;n(xa,function(){var x,B;0>E&&(E=-1);if(0>J||J>Ka)throw new ea("Message ID "+J+" is out of range.");if(!t)throw new Da(h.MESSAGE_ENTITY_NOT_FOUND);if(Aa)return Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:C,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:E,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:ca,writable:!1,configurable:!1},errordata:{value:Aa.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Aa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;x={};C&&(x.recipient=C);x.messageid=J;x.errorcode=v;0<E&&(x.internalcode=E);H&&(x.errormsg=H);ca&&(x.usermsg=ca);try{B=l.getEntityAuthenticationFactory(t.scheme).getCryptoContext(l,t);}catch(S){throw S instanceof G&&(S.setEntity(t),S.setMessageId(J)),S;}x=Ta(JSON.stringify(x),Ja);B.encrypt(x,{result:function(h){n(xa,function(){B.sign(h,{result:function(l){n(xa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:C,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:E,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:ca,writable:!1,configurable:!1},errordata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(xa,function(){h instanceof G&&(h.setEntity(t),h.setMessageId(J));throw h;},w);}});},w);},error:function(h){n(xa,function(){h instanceof G&&(h.setEntity(t),h.setMessageId(J));throw h;},w);}});},w);},toJSON:function(){var h;h={};h[md]=this.entityAuthenticationData;h[be]=pa(this.errordata);h[nd]=pa(this.signature);return h;}});de=function(h,l,n,t,v,E,H,ca,Aa){new Hb(h,l,n,t,v,E,H,ca,null,Aa);};ce=function(w,x,C,J,v){n(v,function(){var E,H,ca;if(!C)throw new Da(h.MESSAGE_ENTITY_NOT_FOUND);try{H=C.scheme;ca=w.getEntityAuthenticationFactory(H);if(!ca)throw new rb(h.ENTITYAUTH_FACTORY_NOT_FOUND,H);E=ca.getCryptoContext(w,C);}catch(Aa){throw Aa instanceof G&&Aa.setEntity(C),Aa;}try{x=wa(x);}catch(Aa){throw new Da(h.HEADER_DATA_INVALID,x,Aa).setEntity(C);}if(!x||0==x.length)throw new Da(h.HEADER_DATA_MISSING,x).setEntity(C);E.verify(x,J,{result:function(H){n(v,function(){if(!H)throw new R(h.MESSAGE_VERIFICATION_FAILED).setEntity(C);E.decrypt(x,{result:function(E){n(v,function(){var n,H,B,ca,Aa,ga,da,za;n=Va(E,Ja);try{H=JSON.parse(n);}catch(sa){if(sa instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"errordata "+n,sa).setEntity(C);throw sa;}B=H.recipient!==na?H.recipient:null;ca=parseInt(H.messageid);Aa=parseInt(H.errorcode);ga=parseInt(H.internalcode);da=H.errormsg;za=H.usermsg;if(B&&"string"!==typeof B||!ca||ca!=ca||!Aa||Aa!=Aa||H.internalcode&&ga!=ga||da&&"string"!==typeof da||za&&"string"!==typeof za)throw new ia(h.JSON_PARSE_ERROR,"errordata "+n).setEntity(C);if(0>ca||ca>Ka)throw new Da(h.MESSAGE_ID_OUT_OF_RANGE,"errordata "+n).setEntity(C);H=!1;for(var G in l)if(l[G]==Aa){H=!0;break;}H||(Aa=l.FAIL);if(ga){if(0>ga)throw new Da(h.INTERNAL_CODE_NEGATIVE,"errordata "+n).setEntity(C).setMessageId(ca);}else ga=-1;n=new t(x,J);new Hb(w,C,B,ca,Aa,ga,da,za,n,v);});},error:function(h){n(v,function(){h instanceof G&&h.setEntity(C);throw h;});}});});},error:function(h){n(v,function(){h instanceof G&&h.setEntity(C);throw h;});}});});};}());We=oa.Class.create({getUserMessage:function(h,l){}});(function(){pd=function(h,l){var n,w;if(!h||!l)return null;n=h.compressionAlgorithms.filter(function(h){for(var n=0;n<l.compressionAlgorithms.length;++n)if(h==l.compressionAlgorithms[n])return!0;return!1;});w=h.languages.filter(function(h){for(var n=0;n<l.languages.length;++n)if(h==l.languages[n])return!0;return!1;});return new jc(n,w);};jc=oa.Class.create({init:function(h,l){h||(h=[]);l||(l=[]);h.sort();Object.defineProperties(this,{compressionAlgorithms:{value:h,writable:!1,enumerable:!0,configurable:!1},languages:{value:l,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var h;h={};h.compressionalgos=this.compressionAlgorithms;h.languages=this.languages;return h;},equals:function(h){return this===h?!0:h instanceof jc?wd(this.compressionAlgorithms,h.compressionAlgorithms)&&wd(this.languages,h.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ee=function(l){var n,t,J;n=l.compressionalgos;t=l.languages;if(n&&!(n instanceof Array)||t&&!(t instanceof Array))throw new ia(h.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(l));l=[];for(var C=0;n&&C<n.length;++C){J=n[C];Jb[J]&&l.push(J);}return new jc(l,t);};}());(function(){var xa,Z;function l(h,l,n,v,w){this.customer=h;this.sender=l;this.messageCryptoContext=n;this.headerdata=v;this.signature=w;}function w(h,l,n,v,w,t,E,x,C,ha,J,ca,H,qa,Z,g,d,a,b,f){return{cryptoContext:{value:l,writable:!1,configurable:!1},customer:{value:n,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:t,writable:!1,configurable:!1},messageId:{value:E,writable:!1,configurable:!1},nonReplayableId:{value:g,writable:!1,configurable:!1},keyRequestData:{value:x,writable:!1,configurable:!1},keyResponseData:{value:C,writable:!1,configurable:!1},userAuthenticationData:{value:ha,writable:!1,configurable:!1},userIdToken:{value:J,writable:!1,configurable:!1},serviceTokens:{value:ca,writable:!1,configurable:!1},peerMasterToken:{value:H,writable:!1,configurable:!1},peerUserIdToken:{value:qa,writable:!1,configurable:!1},peerServiceTokens:{value:Z,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:d,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}};}function t(l,n,v){var w;if(v){if(n=l.getMslStore().getCryptoContext(v))return n;if(!v.isVerified()||!v.isDecrypted())throw new Lb(h.MASTERTOKEN_UNTRUSTED,v);return new fb(l,v);}v=n.scheme;w=l.getEntityAuthenticationFactory(v);if(!w)throw new rb(h.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(l,n);}function C(l,v,w,t,E){n(E,function(){v.verify(w,t,{result:function(l){n(E,function(){if(!l)throw new R(h.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(h){n(E,function(){return Va(h,Ja);});},error:function(h){E.error(h);}});});},error:function(h){E.error(h);}});});}function J(h,l,v){n(v,function(){if(l)Ud(h,l,v);else return null;});}function v(h,l,v,w){n(w,function(){if(l)Ob(h,l,v,w);else return null;});}function E(h,l,v,w){n(w,function(){if(v)ie(h,l,v,w);else return null;});}function za(l,v,w,t,E,x,C){var J;function B(v,C,ca){var ha,H;if(C>=v.length){ha=[];for(H in J)ha.push(J[H]);ca.result(ha);}else{ha=v[C];if("object"!==typeof ha)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+x);Gc(l,ha,w,t,E,{result:function(h){n(ca,function(){J[h.uniqueKey()]=h;B(v,C+1,ca);});},error:function(h){ca.error(h);}});}}J={};n(C,function(){if(v){if(!(v instanceof Array))throw new ia(h.JSON_PARSE_ERROR,"headerdata "+x);B(v,0,C);}else return[];});}function ca(l,v,w,t,E,x){function B(l,v,w){n(w,function(){var n;n=v.peermastertoken;if(n&&"object"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+E);if(!n)return null;Nb(l,n,w);});}function C(l,v,w,t){n(t,function(){var n;n=v.peeruseridtoken;if(n&&"object"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+E);if(!n)return null;Ob(l,n,w,t);});}n(x,function(){if(!l.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};B(l,v,{result:function(h){n(x,function(){var B;B=w?w.masterToken:h;C(l,v,B,{result:function(w){n(x,function(){za(l,v.peerservicetokens,B,w,t,E,{result:function(l){n(x,function(){return{peerMasterToken:h,peerUserIdToken:w,peerServiceTokens:l};});},error:function(h){n(x,function(){h instanceof G&&(h.setEntity(B),h.setUser(w));throw h;});}});});},error:function(h){n(x,function(){h instanceof G&&h.setEntity(B);throw h;});}});});},error:x.error});});}function Aa(l,v,w,t){var x;function E(h,v){n(t,function(){if(v>=h.length)return x;Td(l,h[v],{result:function(l){n(t,function(){x.push(l);E(h,v+1);});},error:function(h){t.error(h);}});});}x=[];n(t,function(){var l;l=v.keyrequestdata;if(!l)return x;if(!(l instanceof Array))throw new ia(h.JSON_PARSE_ERROR,"headerdata "+w);E(l,0);});}xa=ge=oa.Class.create({init:function(h,l,n,v,w,t,E,x,C){Object.defineProperties(this,{messageId:{value:h,writable:!1,configurable:!1},nonReplayableId:{value:l,writable:!1,configurable:!1},renewable:{value:n,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:t,writable:!1,configurable:!1},userAuthData:{value:E,writable:!1,configurable:!1},userIdToken:{value:x,writable:!1,configurable:!1},serviceTokens:{value:C,writable:!1,configurable:!1}});}});Z=he=oa.Class.create({init:function(h,l,n){Object.defineProperties(this,{peerMasterToken:{value:h,writable:!1,configurable:!1},peerUserIdToken:{value:l,writable:!1,configurable:!1},peerServiceTokens:{value:n,writable:!1,configurable:!1}});}});kc=oa.Class.create({init:function(h,l,v,E,x,C,J){var ca;function B(B){n(J,function(){var ha,H,Z,qa,ga,g,d,a,b,f,p,q,c,m,k,u,r;l=v?null:l;ha=E.nonReplayableId;H=E.renewable;Z=E.capabilities;qa=E.messageId;ga=E.keyRequestData?E.keyRequestData:[];g=E.keyResponseData;d=E.userAuthData;a=E.userIdToken;b=E.serviceTokens?E.serviceTokens:[];h.isPeerToPeer()?(f=x.peerMasterToken,p=x.peerUserIdToken,q=x.peerServiceTokens?x.peerServiceTokens:[]):(p=f=null,q=[]);if(0>qa||qa>Ka)throw new ea("Message ID "+qa+" is out of range.");if(!l&&!v)throw new ea("Message entity authentication data or master token must be provided.");g?h.isPeerToPeer()?(c=v,m=g.masterToken):(c=g.masterToken,m=f):(c=v,m=f);if(a&&(!c||!a.isBoundTo(c)))throw new ea("User ID token must be bound to a master token.");if(p&&(!m||!p.isBoundTo(m)))throw new ea("Peer user ID token must be bound to a peer master token.");b.forEach(function(b){if(b.isMasterTokenBound()&&(!c||!b.isBoundTo(c)))throw new ea("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound()&&(!a||!b.isBoundTo(a)))throw new ea("User ID token bound service tokens must be bound to the provided user ID token.");},this);q.forEach(function(a){if(a.isMasterTokenBound()&&(!m||!a.isBoundTo(m)))throw new ea("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!p||!a.isBoundTo(p)))throw new ea("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(C){k=C.customer;u=C.messageCryptoContext;r=w(h,u,k,l,v,B,qa,ga,g,d,a,b,f,p,q,ha,H,Z,C.headerdata,C.signature);Object.defineProperties(this,r);return this;}k=a?a.customer:null;r={};B&&(r.sender=B);r.messageid=qa;"number"===typeof ha&&(r.nonreplayableid=ha);r.renewable=H;Z&&(r.capabilities=Z);0<ga.length&&(r.keyrequestdata=ga);g&&(r.keyresponsedata=g);d&&(r.userauthdata=d);a&&(r.useridtoken=a);0<b.length&&(r.servicetokens=b);f&&(r.peermastertoken=f);p&&(r.peeruseridtoken=p);0<q.length&&(r.peerservicetokens=q);try{u=t(h,l,v);}catch(y){throw y instanceof G&&(y.setEntity(v),y.setEntity(l),y.setUser(a),y.setUser(d),y.setMessageId(qa)),y;}r=Ta(JSON.stringify(r),Ja);u.encrypt(r,{result:function(c){n(J,function(){u.sign(c,{result:function(m){n(J,function(){var r;r=w(h,u,k,l,v,B,qa,ga,g,d,a,b,f,p,q,ha,H,Z,c,m);Object.defineProperties(this,r);return this;},ca);},error:function(c){n(J,function(){c instanceof G&&(c.setEntity(v),c.setEntity(l),c.setUser(a),c.setUser(d),c.setMessageId(qa));throw c;},ca);}});},ca);},error:function(c){n(J,function(){c instanceof G&&(c.setEntity(v),c.setEntity(l),c.setUser(a),c.setUser(d),c.setMessageId(qa));throw c;},ca);}});},ca);}ca=this;n(J,function(){C?B(C.sender):v?h.getEntityAuthenticationData(null,{result:function(h){h=h.getIdentity();B(h);},error:J.error}):B(null);},ca);},isEncrypting:function(){return this.masterToken||Tc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var h;h={};this.masterToken?h[$d]=this.masterToken:h[md]=this.entityAuthenticationData;h[ae]=pa(this.headerdata);h[nd]=pa(this.signature);return h;}});fe=function(h,l,n,v,w,E){new kc(h,l,n,v,w,null,E);};od=function(w,x,H,ua,ga,da,va){n(va,function(){var B,S;H=ua?null:H;if(!H&&!ua)throw new Da(h.MESSAGE_ENTITY_NOT_FOUND);B=x;try{x=wa(B);}catch(ha){throw new Da(h.HEADER_DATA_INVALID,B,ha);}if(!x||0==x.length)throw new Da(h.HEADER_DATA_MISSING,B);try{S=t(w,H,ua);}catch(ha){throw ha instanceof G&&(ha.setEntity(ua),ha.setEntity(H)),ha;}C(w,S,x,ga,{result:function(t){n(va,function(){var C,B,ha,qa,la;try{C=JSON.parse(t);}catch(g){if(g instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+t,g).setEntity(ua).setEntity(H);throw g;}B=parseInt(C.messageid);if(!B||B!=B)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+t).setEntity(ua).setEntity(H);if(0>B||B>Ka)throw new Da(h.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+t).setEntity(ua).setEntity(H);ha=ua?C.sender:null;if(ua&&(!ha||"string"!==typeof ha))throw new ia(h.JSON_PARSE_ERROR,"headerdata "+t).setEntity(ua).setEntity(H).setMessageId(B);qa=C.keyresponsedata;if(qa&&"object"!==typeof qa)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+t).setEntity(ua).setEntity(H).setMessageId(B);la=va;va={result:function(g){la.result(g);},error:function(g){g instanceof G&&(g.setEntity(ua),g.setEntity(H),g.setMessageId(B));la.error(g);}};J(w,qa,{result:function(g){n(va,function(){var d,a;d=!w.isPeerToPeer()&&g?g.masterToken:ua;a=C.useridtoken;if(a&&"object"!==typeof a)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+t);v(w,a,d,{result:function(a){n(va,function(){var b;b=C.userauthdata;if(b&&"object"!==typeof b)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+t);E(w,d,b,{result:function(b){n(va,function(){var f,c,m;if(b){c=b.scheme;m=w.getUserAuthenticationFactory(c);if(!m)throw new Ca(h.USERAUTH_FACTORY_NOT_FOUND,c).setUser(a).setUser(b);c=ua?ua.identity:H.getIdentity();f=m.authenticate(w,c,b,a);}else f=a?a.customer:null;za(w,C.servicetokens,d,a,da,t,{result:function(c){n(va,function(){var k,m,d,p;k=C.nonreplayableid!==na?parseInt(C.nonreplayableid):null;m=C.renewable;if(k!=k||"boolean"!==typeof m)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+t);if(0>k||k>Ka)throw new Da(h.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+t);d=null;p=C.capabilities;if(p){if("object"!==typeof p)throw new ia(h.JSON_PARSE_ERROR,"headerdata "+t);d=ee(p);}Aa(w,C,t,{result:function(u){ca(w,C,g,da,t,{result:function(r){n(va,function(){var p,q,y,A;p=r.peerMasterToken;q=r.peerUserIdToken;y=r.peerServiceTokens;A=new xa(B,k,m,d,u,g,b,a,c);p=new Z(p,q,y);q=new l(f,ha,S,x,ga);new kc(w,H,ua,A,p,q,va);});},error:va.error});},error:function(c){n(va,function(){c instanceof G&&(c.setUser(a),c.setUser(b));throw c;});}});});},error:function(c){n(va,function(){c instanceof G&&(c.setEntity(d),c.setUser(a),c.setUser(b));throw c;});}});});},error:va.error});});},error:va.error});});},error:va.error});});},error:va.error});});};}());(function(){function l(h,l){this.payload=h;this.signature=l;}qd=oa.Class.create({init:function(h,l,t,J,v,E,H,ca){var w;w=this;n(ca,function(){var x,C;if(0>h||h>Ka)throw new ea("Sequence number "+h+" is outside the valid range.");if(0>l||l>Ka)throw new ea("Message ID "+l+" is outside the valid range.");if(H)return Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:H.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:H.signature,writable:!1,enumerable:!1,configurable:!1}}),this;J?(x=rd(J,v),x||(J=null,x=v)):(J=null,x=v);C={};C.sequencenumber=h;C.messageid=l;t&&(C.endofmsg=t);J&&(C.compressionalgo=J);C.data=pa(x);x=Ta(JSON.stringify(C),Ja);E.encrypt(x,{result:function(x){n(ca,function(){E.sign(x,{result:function(E){n(ca,function(){Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:x,writable:!1,enumerable:!1,configurable:!1},signature:{value:E,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){ca.error(h);}});},w);},error:function(h){ca.error(h);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var h;h={};h.payload=pa(this.payload);h.signature=pa(this.signature);return h;}});je=function(h,l,n,t,v,E,H){new qd(h,l,n,t,v,E,null,H);};ke=function(w,t,C){n(C,function(){var x,v,E,H;x=w.payload;v=w.signature;if(!x||"string"!==typeof x||"string"!==typeof v)throw new ia(h.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{E=wa(x);}catch(ca){throw new Da(h.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),ca);}try{H=wa(v);}catch(ca){throw new Da(h.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),ca);}t.verify(E,H,{result:function(v){n(C,function(){if(!v)throw new R(h.PAYLOAD_VERIFICATION_FAILED);t.decrypt(E,{result:function(v){n(C,function(){var n,w,x,B,J,ca,ga;n=Va(v,Ja);try{w=JSON.parse(n);}catch(da){if(da instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"payload chunk payload "+n,da);throw da;}x=parseInt(w.sequencenumber);B=parseInt(w.messageid);J=w.endofmsg;ca=w.compressionalgo;w=w.data;if(!x||x!=x||!B||B!=B||J&&"boolean"!==typeof J||ca&&"string"!==typeof ca||"string"!==typeof w)throw new ia(h.JSON_PARSE_ERROR,"payload chunk payload "+n);if(0>x||x>Ka)throw new G(h.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+n);if(0>B||B>Ka)throw new G(h.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+n);J||(J=!1);if(ca&&!Jb[ca])throw new Da(h.UNIDENTIFIED_COMPRESSION,ca);try{ga=wa(w);}catch(da){throw new Da(h.PAYLOAD_DATA_CORRUPT,w,da);}if(ga&&0!=ga.length)n=ca?Hc(ca,ga):ga;else{if(0<w.length)throw new Da(h.PAYLOAD_DATA_CORRUPT,w);if(J)n=new Uint8Array(0);else throw new Da(h.PAYLOAD_DATA_MISSING,w);}ga=new l(E,H);new qd(x,B,J,ca,n,t,ga,C);});},error:function(h){C.error(h);}});});},error:function(h){C.error(h);}});});};}());(function(){var C,J;function l(l,w,t,x,C){var E,J,B,ca,H;function v(){n(C,function(){var t,x;J>=w.length&&(J=0,++E);if(E>=B.length){if(ca)throw ca;throw new Oa(h.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}t=B[E];x=w[J];t.scheme!=x.keyExchangeScheme?(++J,v()):t.generateResponse(l,x,H,{result:function(h){C.result(h);},error:function(h){n(C,function(){if(!(h instanceof G))throw h;ca=h;++J;v();});}});});}E=0;J=0;B=l.getKeyExchangeFactories();H=t?t:x;v();}function w(h,w,t,x,C){n(C,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)x?x.isRenewable()||x.isExpired()?l(h,v,x,null,C):h.getTokenFactory().isNewestMasterToken(h,x,{result:function(w){n(C,function(){if(w)return null;l(h,v,x,null,C);});},error:C.error}):l(h,v,null,t.getIdentity(),C);else return null;});}function t(l,w,t,x){n(x,function(){var n,v,E,C;n=w.userIdToken;v=w.userAuthenticationData;E=w.messageId;if(n&&n.isVerified()){if(n.isRenewable()&&w.isRenewable()||n.isExpired()||!n.isBoundTo(t)){v=l.getTokenFactory();v.renewUserIdToken(l,n,t,x);return;}}else if(w.isRenewable()&&t&&v){n=w.customer;if(!n){n=v.scheme;C=l.getUserAuthenticationFactory(n);if(!C)throw new Ca(h.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(t).setUser(v).setMessageId(E);n=C.authenticate(l,t.identity,v,null);}v=l.getTokenFactory();v.createUserIdToken(l,n,t,x);return;}return n;});}C=new Uint8Array(0);J=Pb=function(h){if(0>h||h>Ka)throw new ea("Message ID "+h+" is outside the valid range.");return h==Ka?0:h+1;};Zb=function(h){if(0>h||h>Ka)throw new ea("Message ID "+h+" is outside the valid range.");return 0==h?Ka:h-1;};Qb=function(h,l,w,t,x){n(x,function(){var v;if(t==na||null==t){v=h.getRandom();do t=v.nextLong();while(0>t||t>Ka);}else if(0>t||t>Ka)throw new ea("Message ID "+t+" is outside the valid range.");h.getEntityAuthenticationData(null,{result:function(v){n(x,function(){var n;n=h.getMessageCapabilities();return new Ic(h,t,n,v,l,w,null,null,null,null,null);});},error:function(h){x.error(h);}});});};le=function(h,l,x){n(x,function(){var E,C,H,za,B,S;function v(h){n(x,function(){h instanceof G&&(h.setEntity(E),h.setEntity(C),h.setUser(H),h.setUser(za),h.setMessageId(B));throw h;});}E=l.masterToken;C=l.entityAuthenticationData;H=l.userIdToken;za=l.userAuthenticationData;B=l.messageId;S=J(B);w(h,l,C,E,{result:function(w){n(x,function(){var C;C=w?w.keyResponseData.masterToken:C=E;h.getEntityAuthenticationData(null,{result:function(B){n(x,function(){t(h,l,C,{result:function(v){n(x,function(){var n,t,x;H=v;n=pd(l.messageCapabilities,h.getMessageCapabilities());t=l.keyResponseData;x=l.serviceTokens;return h.isPeerToPeer()?new Ic(h,S,n,B,t?t.masterToken:l.peerMasterToken,l.peerUserIdToken,l.peerServiceTokens,E,H,x,w):new Ic(h,S,n,B,t?t.masterToken:E,H,x,null,null,null,w);});},error:v});});},error:v});});},error:v});});};me=function(h,l,w,t,x){n(x,function(){h.getEntityAuthenticationData(null,{result:function(v){n(x,function(){var n,E;if(l!=na&&null!=l)n=J(l);else{E=h.getRandom();do n=E.nextInt();while(0>n||n>Ka);}de(h,v,n,w.responseCode,w.internalCode,w.message,t,x);});},error:function(h){x.error(h);}});});};Ic=oa.Class.create({init:function(h,l,n,w,t,x,C,J,B,H,G){var v,E,ca,Z,S;if(!h.isPeerToPeer()&&(J||B))throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=G&&!h.isPeerToPeer()?G.keyResponseData.masterToken:t;E={};h.getMslStore().getServiceTokens(v,x).forEach(function(h){E[h.name]=h;},this);C&&C.forEach(function(h){E[h.name]=h;},this);S={};h.isPeerToPeer()&&(ca=J,Z=B,C=G?G.keyResponseData.masterToken:J,h.getMslStore().getServiceTokens(C,B).forEach(function(h){S[h.name]=h;},this),H&&H.forEach(function(h){S[h.name]=h;},this));Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:t,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:l,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:G,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:x,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:E,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:ca,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Z,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:S,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Tc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Tc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||xd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||xd(this._entityAuthData.scheme);},getHeader:function(l){n(l,function(){var n,v,w,t,x;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);t=[];for(x in this._keyRequestData)t.push(this._keyRequestData[x]);if(this._nonReplayable){if(!this._masterToken)throw new Da(h.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);x=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else x=null;n=new ge(this._messageId,x,this._renewable,this._capabilities,t,n,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new he(this._peerMasterToken,this._peerUserIdToken,v);fe(this._ctx,this._entityAuthData,this._masterToken,n,w,l);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(h){this._nonReplayable=h;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(h){this._renewable=h;return this;},setAuthTokens:function(h,l){var n,v,w;if(l&&!l.isBoundTo(h))throw new ea("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new ea("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{n=this._ctx.getMslStore().getServiceTokens(h,l);}catch(xa){if(xa instanceof G)throw new ea("Invalid master token and user ID token combination despite checking above.",xa);throw xa;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(n){(n.isUserIdTokenBound()&&!n.isBoundTo(l)||n.isMasterTokenBound()&&!n.isBoundTo(h))&&delete this._serviceTokens[n.name];},this);n.forEach(function(h){this._serviceTokens[h.name]=h;},this);this._masterToken=h;this._userIdToken=l;},setUserAuthenticationData:function(h){this._userAuthData=h;return this;},setCustomer:function(h,l){var v;v=this;n(l,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new ea("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new ea("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,h,w,{result:function(h){n(l,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=h:(this._userIdToken=h,this._userAuthData=null);return!0;},v);},error:function(h){l.error(h);}});},v);},addKeyRequestData:function(h){this._keyRequestData[h.uniqueKey()]=h;return this;},removeKeyRequestData:function(h){delete this._keyRequestData[h.uniqueKey()];return this;},addServiceToken:function(l){var n;n=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(l.isMasterTokenBound()&&!l.isBoundTo(n))throw new Da(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(n)).setEntity(n);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._userIdToken))throw new Da(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(n).setUser(this._userIdToken);this._serviceTokens[l.name]=l;return this;},addServiceTokenIfAbsent:function(h){this._serviceTokens[h.name]||this.addServiceToken(h);return this;},excludeServiceToken:function(h){delete this._serviceTokens[h];return this;},deleteServiceToken:function(h,l){var v;v=this;n(l,function(){var w,t;w=this._serviceTokens[h];if(!w)return this;t=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;xb(this._ctx,h,C,t,w,!1,null,new Yb(),{result:function(h){n(l,function(){return this.addServiceToken(h);},v);},error:function(h){h instanceof G&&(h=new ea("Failed to create and add empty service token to message.",h));l.error(h);}});},v);},getServiceTokens:function(){var h,l;h=[];for(l in this._serviceTokens)h.push(this._serviceTokens[l]);return h;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(l,n){var v;if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(n&&!l)throw new ea("Peer master token cannot be null when setting peer user ID token.");if(n&&!n.isBoundTo(l))throw new Da(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+n+"; mt "+l).setEntity(l).setUser(n);try{v=this._ctx.getMslStore().getServiceTokens(l,n);}catch(ca){if(ca instanceof G)throw new ea("Invalid peer master token and user ID token combination despite proper check.",ca);throw ca;}Object.keys(this._peerServiceTokens).forEach(function(h){var v;v=this._peerServiceTokens[h];v.isUserIdTokenBound()&&!v.isBoundTo(n)?delete this._peerServiceTokens[h]:v.isMasterTokenBound()&&!v.isBoundTo(l)&&delete this._peerServiceTokens[h];},this);v.forEach(function(h){var l;l=h.name;this._peerServiceTokens[l]||(this._peerServiceTokens[l]=h);},this);this._peerUserIdToken=n;this._peerMasterToken=l;return this;},addPeerServiceToken:function(l){if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer service tokens when not in peer-to-peer mode.");if(l.isMasterTokenBound()&&!l.isBoundTo(this._peerMasterToken))throw new Da(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._peerUserIdToken))throw new Da(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[l.name]=l;return this;},addPeerServiceTokenIfAbsent:function(h){this._peerServiceTokens[h.name]||this.addPeerServiceToken(h);return this;},excludePeerServiceToken:function(h){delete this._peerServiceTokens[h];return this;},deletePeerServiceToken:function(h,l){var v;v=this;n(l,function(){var w,t;w=this._peerServiceTokens[h];if(!w)return this;t=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;xb(this._ctx,h,C,t,w,!1,null,new Yb(),{result:function(h){n(l,function(){return this.addPeerServiceToken(h);},v);},error:function(h){h instanceof G&&(h=new ea("Failed to create and add empty peer service token to message.",h));l.error(h);}});},v);},getPeerServiceTokens:function(){var h,l;h=[];for(l in this._peerServiceTokens)h.push(this._peerServiceTokens[l]);return h;}});}());(function(){function h(h,l){return l[h]?l[h]:l[""];}function l(h){var l;l=h.builder.getKeyExchangeData();return l&&!h.ctx.isPeerToPeer()?l.keyResponseData.masterToken:h.builder.getMasterToken();}ne=oa.Class.create({init:function(h,l,n){h={ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:l.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:n,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},isPrimaryMasterTokenAvailable:function(){return l(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(h){try{return this.builder.addServiceToken(h),!0;}catch(C){if(C instanceof Da)return!1;throw C;}},addPeerServiceToken:function(h){try{return this.builder.addPeerServiceToken(h),!0;}catch(C){if(C instanceof Da)return!1;throw C;}},addUnboundPrimaryServiceToken:function(l,w,t,v,E){var x;x=this;n(E,function(){var C;C=h(l,this.cryptoContexts);if(!C)return!1;xb(this.ctx,l,w,null,null,t,v,C,{result:function(h){n(E,function(){try{this.builder.addServiceToken(h);}catch(xa){if(xa instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(h){E.error(h);}});},x);},addUnboundPeerServiceToken:function(l,w,t,v,E){var x;x=this;n(E,function(){var C;C=h(l,this.cryptoContexts);if(!C)return!1;xb(this.ctx,l,w,null,null,t,v,C,{result:function(h){n(E,function(){try{this.builder.addPeerServiceToken(h);}catch(xa){if(xa instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(h){E.error(h);}});},x);},addMasterBoundPrimaryServiceToken:function(w,t,J,v,E){var x;x=this;n(E,function(){var C,H;C=l(this);if(!C)return!1;H=h(w,this.cryptoContexts);if(!H)return!1;xb(this.ctx,w,t,C,null,J,v,H,{result:function(h){n(E,function(){try{this.builder.addServiceToken(h);}catch(Z){if(Z instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},x);},error:function(h){E.error(h);}});},x);},addMasterBoundPeerServiceToken:function(l,w,t,v,E){var x;x=this;n(E,function(){var C,J;C=this.builder.getPeerMasterToken();if(!C)return!1;J=h(l,this.cryptoContexts);if(!J)return!1;xb(this.ctx,l,w,C,null,t,v,J,{result:function(h){n(E,function(){try{this.builder.addPeerServiceToken(h);}catch(Z){if(Z instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},x);},error:function(h){E.error(h);}});},x);},addUserBoundPrimaryServiceToken:function(w,t,J,v,E){var x;x=this;n(E,function(){var C,H,G;C=l(this);if(!C)return!1;H=this.builder.getUserIdToken();if(!H)return!1;G=h(w,this.cryptoContexts);if(!G)return!1;xb(this.ctx,w,t,C,H,J,v,G,{result:function(h){n(E,function(){try{this.builder.addServiceToken(h);}catch(la){if(la instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return!0;},x);},error:function(h){E.error(h);}});},x);},addUserBoundPeerServiceToken:function(l,w,t,v,E){var x;x=this;n(E,function(){var C,J,H;C=this.builder.getPeerMasterToken();if(!C)return!1;J=this.builder.getPeerUserIdToken();if(!J)return!1;H=h(l,this.cryptoContexts);if(!H)return!1;xb(this.ctx,l,w,C,J,t,v,H,{result:function(h){n(E,function(){try{this.builder.addPeerServiceToken(h);}catch(la){if(la instanceof Da)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return!0;},x);},error:function(h){E.error(h);}});},x);},excludePrimaryServiceToken:function(h){for(var l=this.builder.getServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludeServiceToken(h),!0;return!1;},excludePeerServiceToken:function(h){for(var l=this.builder.getPeerServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludePeerServiceToken(h),!0;return!1;},deletePrimaryServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deleteServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);},deletePeerServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getPeerServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deletePeerServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);}});}());(function(){function l(l,t,C,J){n(J,function(){var w,x,H,Aa,L,Z;function v(){n(J,function(){var t;if(Z>=C.length){if(L)throw L;throw new Oa(h.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(C));}t=C[Z];H!=t.keyExchangeScheme?(++Z,v()):Aa.getCryptoContext(l,t,x,w,{result:J.result,error:function(h){n(J,function(){if(!(h instanceof G))throw h;L=h;++Z;v();});}});});}w=t.masterToken;x=t.keyResponseData;if(!x)return null;H=x.keyExchangeScheme;Aa=l.getKeyExchangeFactory(H);if(!Aa)throw new Oa(h.KEYX_FACTORY_NOT_FOUND,H);Z=0;v();});}oe=id.extend({init:function(n,x,C,J,v,E,H){var w;w=this;t(H,function(){var S;function t(){w._ready=!0;w._readyQueue.add(!0);}function H(h,l){var n;try{n=l.masterToken;h.getTokenFactory().isMasterTokenRevoked(h,n,{result:function(v){v?(w._errored=new Lb(v,n).setUser(l.userIdToken).setUser(l.userAuthenticationData).setMessageId(l.messageId),t()):ca(h,l);},error:function(h){h instanceof G&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;t();}});}catch(va){va instanceof G&&(va.setEntity(l.masterToken),va.setUser(l.userIdToken),va.setUser(l.userAuthenticationData),va.setMessageId(l.messageId));w._errored=va;t();}}function ca(h,l){var n,v;try{n=l.masterToken;v=l.userIdToken;v?h.getTokenFactory().isUserIdTokenRevoked(h,n,v,{result:function(x){x?(w._errored=new MslUserIdTokenException(x,v).setEntity(n).setUser(v).setMessageId(l.messageId),t()):la(h,l);},error:function(h){h instanceof G&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;t();}}):la(h,l);}catch(Ma){Ma instanceof G&&(Ma.setEntity(l.masterToken),Ma.setUser(l.userIdToken),Ma.setUser(l.userAuthenticationData),Ma.setMessageId(l.messageId));w._errored=Ma;t();}}function la(l,n){var v;try{v=n.masterToken;v.isExpired()?n.isRenewable()&&0!=n.keyRequestData.length?l.getTokenFactory().isMasterTokenRenewable(l,v,{result:function(h){h?(w._errored=new Da(h,"Master token is expired and not renewable.").setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),t()):B(l,n);},error:function(h){h instanceof G&&(h.setEntity(n.masterToken),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;t();}}):(w._errored=new Da(h.MESSAGE_EXPIRED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),t()):B(l,n);}catch(va){va instanceof G&&(va.setEntity(n.masterToken),va.setUser(n.userIdToken),va.setUser(n.userAuthenticationData),va.setMessageId(n.messageId));w._errored=va;t();}}function B(l,n){var v,x;try{v=n.masterToken;x=n.nonReplayableId;"number"===typeof x?v?l.getTokenFactory().acceptNonReplayableId(l,v,x,{result:function(l){l||(w._errored=new Da(h.MESSAGE_REPLAYED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId));t();},error:function(h){h instanceof G&&(h.setEntity(v),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;t();}}):(w._errored=new Da(h.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(n)).setEntity(n.entityAuthenticationData).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),t()):t();}catch(Ma){Ma instanceof G&&(Ma.setEntity(n.masterToken),Ma.setEntity(n.entityAuthenticationData),Ma.setUser(n.userIdToken),Ma.setUser(n.userAuthenticationData),Ma.setMessageId(n.messageId));w._errored=Ma;t();}}S={_source:{value:x,writable:!1,enumerable:!1,configurable:!1},_parser:{value:na,writable:!0,enumerable:!1,configurable:!1},_charset:{value:C,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:E,writable:!1,enumerable:!1,configurable:!1},_header:{value:na,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:na,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:na,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,S);Sd(w._source,E,{result:function(x){w._json=x;w._jsonIndex=0;null===w._json?(w._errored=new ia(h.MESSAGE_DATA_MISSING),t()):Zd(n,w._json[w._jsonIndex++],v,{result:function(h){var v;w._header=h;if(w._header instanceof Hb)w._keyxCryptoContext=null,w._cryptoContext=null,t();else{v=w._header;l(n,v,J,{result:function(h){var l;try{w._keyxCryptoContext=h;n.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{l=v.masterToken;l&&(n.isPeerToPeer()||l.isVerified())?H(n,v):B(n,v);}catch(sa){sa instanceof G&&(sa.setEntity(v.masterToken),sa.setUser(v.userIdToken),sa.setUser(v.userAuthenticationData),sa.setMessageId(v.messageId));w._errored=sa;t();}}catch(sa){sa instanceof G&&(sa.setEntity(v.masterToken),sa.setEntity(v.entityAuthenticationData),sa.setUser(v.userIdToken),sa.setUser(v.userAuthenticationData),sa.setMessageId(v.messageId));w._errored=sa;t();}},error:function(h){h instanceof G&&(h.setEntity(v.masterToken),h.setEntity(v.entityAuthenticationData),h.setUser(v.userIdToken),h.setUser(v.userAuthenticationData),h.setMessageId(v.messageId));w._errored=h;t();}});}},error:function(h){w._errored=h;t();}});},timeout:function(){w._timedout=!0;t();},error:function(h){w._errored=h;t();}});return this;},w);},nextData:function(l,n){var w;w=this;t(n,function(){var v;function l(h){t(h,function(){var n;if(this._jsonIndex<this._json.length)return n=this._json[this._jsonIndex++];Sd(this._source,this._timeout,{result:function(n){n&&n.length&&0<n.length?(n.forEach(function(h){this._json.push(h);}),l(h)):(this._eom=!0,h.result(null));},timeout:function(){h.timeout();},error:function(l){h.error(l);}});},w);}v=this.getMessageHeader();if(!v)throw new ea("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;l({result:function(l){t(n,function(){if(!l)return null;if("object"!==typeof l)throw new ia(h.MESSAGE_FORMAT_ERROR);ke(l,this._cryptoContext,{result:function(l){t(n,function(){var n,w,t,x;n=v.masterToken;w=v.entityAuthenticationData;t=v.userIdToken;x=v.getUserAuthenticationData;if(l.messageId!=v.messageId)throw new Da(h.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+l.messageId+" header mid "+v.messageId).setEntity(n).setEntity(w).setUser(t).setUser(x);if(l.sequenceNumber!=this._payloadSequenceNumber)throw new Da(h.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+l.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(n).setEntity(w).setUser(t).setUser(x);++this._payloadSequenceNumber;l.isEndOfMessage()&&(this._eom=!0);n=l.data;this._payloads.push(n);this._payloadIndex=-1;return n;},w);},error:function(l){l instanceof SyntaxError&&(l=new ia(h.JSON_PARSE_ERROR,"payloadchunk",l));n.error(l);}});},w);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},w);},isReady:function(h,l){var w;function n(){t(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;t(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){t(l,function(){if(h===na)return!1;n();},w);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorHeader:function(){return this._header instanceof Hb?this._header:null;},getIdentity:function(){var h,l;h=this.getMessageHeader();if(h){l=h.masterToken;return l?l.identity:h.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var h;h=this.getMessageHeader();return h?h.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(h){this._closeSource=h;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(h,l,n){var v;function w(){t(n,function(){var x,C,H,J;function w(n){t(n,function(){var x,E,S;if(C&&J>=C.length)return C.subarray(0,J);x=-1;if(this._currentPayload){E=this._currentPayload.length-this._payloadOffset;if(!C){S=E;if(-1!=this._payloadIndex)for(var Z=this._payloadIndex;Z<this._payloads.length;++Z)S+=this._payloads[Z].length;0<S&&(C=new Uint8Array(S));}E=Math.min(E,C?C.length-J:0);0<E&&(x=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+E),C.set(x,H),x=E,H+=E,this._payloadOffset+=E);}-1!=x?(J+=x,w(n)):this.nextData(l,{result:function(l){t(n,function(){if(this._aborted)return C?C.subarray(0,J):new Uint8Array(0);this._currentPayload=l;this._payloadOffset=0;if(this._currentPayload)w(n);else return 0==J&&0!=h?null:C?C.subarray(0,J):new Uint8Array(0);},v);},timeout:function(){n.timeout(C?C.subarray(0,J):new Uint8Array(0));},error:function(h){t(n,function(){h instanceof G&&(h=new Xa("Error reading the payload chunk.",h));if(0<J)return v._readException=h,C.subarray(0,J);throw h;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)n.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){x=this._readException;this._readException=null;throw x;}C=-1!=h?new Uint8Array(h):na;H=0;J=0;w(n);}},v);}v=this;t(n,function(){if(-1>h)throw new RangeError("read requested with illegal length "+h);this._ready?w():this._readyQueue.poll(l,{result:function(h){h===na?n.result(!1):w();},timeout:function(){n.timeout(new Uint8Array(0));},error:function(h){n.error(h);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});pe=function(h,l,n,t,v,E,H){new oe(h,l,n,t,v,E,H);};}());(function(){qe=Dc.extend({init:function(h,l,n,C,J,v,E){var w;w=this;t(E,function(){var x,E,H;function t(){w._ready=!0;w._readyQueue.add(!0);}x=pd(h.getMessageCapabilities(),C.messageCapabilities);E=null;x&&(E=Gd(x.compressionAlgorithms));x={_destination:{value:l,writable:!1,enumerable:!1,configurable:!1},_charset:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:x,writable:!1,enumerable:!1,configurable:!1},_header:{value:C,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:E,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:J,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,x);H=Ta(JSON.stringify(C),n);l.write(H,0,H.length,v,{result:function(h){try{w._aborted?t():h<H.length?(w._timedout=!0,t()):l.flush(v,{result:function(h){w._aborted||(w._timedout=!h);t();},timeout:function(){w._timedout=!0;t();},error:function(h){w._errored=h;t();}});}catch(B){w._errored=B;t();}},timeout:function(){w._timedout=!0;t();},error:function(h){w._errored=h;t();}});return this;},w);},setCompressionAlgorithm:function(h,l,n){var x;function w(){x.flush(l,{result:function(l){t(n,function(){if(!l)throw new Xa("flush() aborted");this._compressionAlgo=h;return!0;},x);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});}x=this;t(n,function(){if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");if(this._compressionAlgo==h)return!0;if(h){if(!this._capabilities)return!1;for(var l=this._capabilities.compressionAlgorithms,n=0;n<l.length;++n)if(l[n]==h){w();return;}return!1;}w();},x);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorMessage:function(){return this._header instanceof Hb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(h,l){var n;n=this;t(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(h,{result:function(h){t(l,function(){h&&(this._currentPayload=null);return h;},n);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},n);},flush:function(h,l){var w;function n(){t(l,function(){var n,v,L;if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;n=this.getMessageHeader();if(!n)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(h){v+=h.length;});for(var x=new Uint8Array(v),C=0,H=0;this._currentPayload&&H<this._currentPayload.length;++H){L=this._currentPayload[H];x.set(L,C);C+=L.length;}je(this._payloadSequenceNumber,n.messageId,this._closed,this._compressionAlgo,x,this._cryptoContext,{result:function(n){t(l,function(){var v;this._payloads.push(n);v=Ta(JSON.stringify(n),this._charset);this._destination.write(v,0,v.length,h,{result:function(v){t(l,function(){if(this._aborted)return!1;v<n.length?l.timeout():this._destination.flush(h,{result:function(h){t(l,function(){if(this._aborted)return!1;if(h)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;l.timeout();},w);},timeout:function(){l.timeout();},error:function(h){h instanceof G&&(h=new Xa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},timeout:function(h){l.timeout();},error:function(h){h instanceof G&&(h=new Xa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},error:function(h){h instanceof G&&(h=new Xa("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});}},w);}w=this;t(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){h===na?l.result(!1):n();},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},write:function(h,l,n,C,J){t(J,function(){var v;if(this._aborted)return!1;if(this._timedout)J.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Xa("Message output stream already closed.");if(0>l)throw new RangeError("Offset cannot be negative.");if(0>n)throw new RangeError("Length cannot be negative.");if(l+n>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");v=h.subarray(l,l+n);this._currentPayload.push(v);return v.length;}},this);}});Jc=function(h,l,n,t,J,v,E){new qe(h,l,n,t,J,v,E);};}());Xe=oa.Class.create({sentHeader:function(h){},receivedHeader:function(h){}});Object.freeze({USERDATA_REAUTH:l.USERDATA_REAUTH,SSOTOKEN_REJECTED:l.SSOTOKEN_REJECTED});re=oa.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(h,l,n,t){},getCustomer:function(){},getKeyRequestData:function(h){},updateServiceTokens:function(h,l,n){},write:function(h,l,n){},getDebugContext:function(){}});oa.Class.create({getInputStream:function(h){},getOutputStream:function(h){}});(function(){var L,ca,Aa,xa,Z,la,B,S,ua,ga,da,va;function H(h){return function(){h.abort();};}function w(h,l){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},ticket:{value:l,writable:!1,configurable:!1}});}function x(h,l){Object.defineProperties(this,{builder:{value:h,writable:!1,configurable:!1},msgCtx:{value:l,writable:!1,configurable:!1}});}function C(h,l,n){Object.defineProperties(this,{requestHeader:{value:h,writable:!1,configurable:!1},payloads:{value:l,writable:!1,configurable:!1},handshake:{value:n,writable:!1,configurable:!1}});}function J(h,l){Object.defineProperties(this,{requestHeader:{value:l.requestHeader,writable:!1,configurable:!1},payloads:{value:l.payloads,writable:!1,configurable:!1},handshake:{value:l.handshake,writable:!1,configurable:!1},response:{value:h,writable:!1,configurable:!1}});}function v(h){for(;h;){if(h instanceof ab)return!0;h=h instanceof G?h.cause:na;}return!1;}function E(h,l,n,v,w,x,E,C,g){me(l,v,w,x,{result:function(d){n&&n.sentHeader(d);Jc(l,E,Ja,d,null,null,C,{result:function(a){h.setAbort(function(){a.abort();});a.close(C,{result:function(a){t(g,function(){if(!a)throw new ab("sendError aborted.");return a;});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){},error:function(a){g.error(a);}});},error:function(d){g.error(d);}});}L=Dc.extend({close:function(h,l){l.result(!0);},write:function(h,l,v,w,t){n(t,function(){return Math.min(h.length-l,v);});},flush:function(h,l){l.result(!0);}});ca=We.extend({getUserMessage:function(h,l){return null;}});Aa=re.extend({init:function(h){Object.defineProperties(this,{_appCtx:{value:h,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(h,l,n,v){this._appCtx.getUserAuthData(h,l,n,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(h){this._appCtx.getKeyRequestData(h);},updateServiceTokens:function(h,l,n){this._appCtx.updateServiceTokens(h,l,n);},write:function(h,l,n){this._appCtx.write(h,l,n);},getDebugContext:function(){return this._appCtx.getDebugContext();}});xa=Aa.extend({init:function sa(h,l){sa.base.call(this,l);Object.defineProperties(this,{_payloads:{value:h,writable:!1,enumerable:!1,configurable:!1}});},write:function(h,l,n){var w;function v(x,E){var g;if(x==w._payloads.length)n.result(!0);else{g=w._payloads[x];h.setCompressionAlgorithm(g.compressionAlgo,l,{result:function(d){h.write(g.data,0,g.data.length,l,{result:function(a){t(n,function(){g.isEndOfMessage()?v(x+1,E):h.flush(l,{result:function(a){n.result(a);},timeout:function(){n.timeout();},error:function(a){n.error(a);}});},w);},timeout:function(a){n.timeout(a);},error:function(a){n.error(a);}});},timeout:function(){},error:function(d){n.error(d);}});}}w=this;v(0);}});Z=Aa.extend({init:function ha(h){ha.base.call(this,h);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(h,l,n){n.result(!0);}});la={};da=oa.Class.create({init:function(h){h||(h=new ca());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:h,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(h){this._filterFactory=h;},getNewestMasterToken:function(h,l,n,v){var x;x=this;t(v,function(){var E,g,d,a,b;E=l.getMslStore();g=E.getMasterToken();if(!g)return null;d=g.uniqueKey();a=this._masterTokenLocks[d];a||(a=new Yc(),this._masterTokenLocks[d]=a);b=a.readLock(n,{result:function(b){t(v,function(){var f;if(b===na)throw new ab("getNewestMasterToken aborted.");f=E.getMasterToken();if(g.equals(f))return new w(g,b);a.unlock(b);a.writeLock(n,{result:function(b){t(v,function(){if(b===na)throw new ab("getNewestMasterToken aborted.");delete this._masterTokenLocks[d];a.unlock(b);return this.getNewestMasterToken(h,l,n,v);},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});h.setAbort(function(){b&&(a.cancel(b),b=na);});},x);},deleteMasterToken:function(h,l){var n;if(l){n=this;setTimeout(function(){var v,w;v=l.uniqueKey();w=n._masterTokenLocks[v];w||(w=new Yc(),n._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(t){h.getMslStore().removeCryptoContext(l);delete n._masterTokenLocks[v];w.unlock(t);},timeout:function(){throw new ea("Unexpected timeout received.");},error:function(h){throw h;}});},0);}},releaseMasterToken:function(h){var l;if(h&&h.masterToken){l=h.masterToken.uniqueKey();l=this._masterTokenLocks[l];if(!l)throw new ea("Master token read/write lock does not exist when it should.");l.unlock(h.ticket);}},updateOutgoingCryptoContexts:function(h,l,n){var v;v=h.getMslStore();!h.isPeerToPeer()&&n&&(v.setCryptoContext(n.keyResponseData.masterToken,n.cryptoContext),this.deleteMasterToken(h,l.masterToken));},updateIncomingCryptoContexts:function(h,l,n){var v,w;v=n.getMessageHeader();if(v){w=h.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,n.getKeyExchangeCryptoContext()),this.deleteMasterToken(h,l.masterToken);}},storeServiceTokens:function(h,l,n,v){var g,d;h=h.getMslStore();for(var w=[],t=0;t<v.length;++t){g=v[t];if(!g.isBoundTo(l)||!l.isVerified()){d=g.data;d&&0==d.length?h.removeServiceTokens(g.name,g.isMasterTokenBound()?l:null,g.isUserIdTokenBound()?n:null):w.push(g);}}0<w.length&&h.addServiceTokens(w);},buildRequest:function(h,l,v,w,t){var x;x=this;this.getNewestMasterToken(h,l,w,{result:function(g){n(t,function(){var d,a,b;d=g&&g.masterToken;if(d){a=v.getUserId();b=l.getMslStore();a=(a=a?b.getUserIdToken(a):null)&&a.isBoundTo(d)?a:null;}else a=null;Qb(l,d,a,null,{result:function(a){n(t,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:g};});},error:function(a){n(t,function(){this.releaseMasterToken(g);a instanceof G&&(a=new ea("User ID token not bound to master token despite internal check.",a));throw a;},x);}});},x);},timeout:function(){t.timeout();},error:function(g){t.error(g);}});},buildResponse:function(h,l,n,v,w,x){var g;g=this;le(l,v,{result:function(d){t(x,function(){d.setNonReplayable(n.isNonReplayable());if(!l.isPeerToPeer()&&!v.keyResponseData)return{builder:d,tokenTicket:null};this.getNewestMasterToken(h,l,w,{result:function(a){t(x,function(){var b,f,p;b=a&&a.masterToken;if(b){f=n.getUserId();p=l.getMslStore();f=(f=f?p.getUserIdToken(f):null)&&f.isBoundTo(b)?f:null;}else f=null;d.setAuthTokens(b,f);return{builder:d,tokenTicket:a};},g);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},g);},error:function(d){x.error(d);}});},buildErrorResponse:function(h,n,v,w,E,C,g){var b;function d(a,d){t(g,function(){var f,c;f=Pb(E.messageId);c=new xa(d,v);Qb(n,null,null,f,{result:function(m){t(g,function(){n.isPeerToPeer()&&m.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);m.setNonReplayable(c.isNonReplayable());return{errorResult:new x(m,c),tokenTicket:null};},b);},error:function(a){g.error(a);}});},b);}function a(a,d){b.getNewestMasterToken(h,n,C,{result:function(f){t(g,function(){var c,m,k;c=f&&f.masterToken;m=Pb(E.messageId);k=new xa(d,v);Qb(n,c,null,m,{result:function(c){t(g,function(){n.isPeerToPeer()&&c.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);c.setNonReplayable(k.isNonReplayable());return{errorResult:new x(c,k),tokenTicket:f};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}b=this;t(g,function(){var f,p,q,c;f=w.requestHeader;p=w.payloads;q=E.errorCode;switch(q){case l.ENTITYDATA_REAUTH:case l.ENTITY_REAUTH:n.getEntityAuthenticationData(q,{result:function(a){t(g,function(){if(!a)return null;d(f,p);},b);},error:function(a){g.error(a);}});break;case l.USERDATA_REAUTH:case l.SSOTOKEN_REJECTED:v.getUserAuthData(q,!1,!0,{result:function(c){t(g,function(){if(!c)return null;a(f,p);},b);},error:function(a){g.error(a);}});break;case l.USER_REAUTH:a(f,p);break;case l.KEYX_REQUIRED:q=Pb(E.messageId),c=new xa(p,v);Qb(n,null,null,q,{result:function(a){t(g,function(){n.isPeerToPeer()&&a.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(c.isNonReplayable());return{errorResult:new x(a,c),tokenTicket:null};},b);},error:function(a){g.error(a);}});break;case l.EXPIRED:this.getNewestMasterToken(h,n,C,{result:function(a){t(g,function(){var c,m,r,d;c=a&&a.masterToken;m=f.userIdToken;r=Pb(E.messageId);d=new xa(p,v);Qb(n,c,m,r,{result:function(k){t(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(c)&&k.setRenewable(!0);k.setNonReplayable(d.isNonReplayable());return{errorResult:new x(k,d),tokenTicket:a};},b);},error:function(a){g.error(a);}},b);},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;case l.REPLAYED:this.getNewestMasterToken(h,n,C,{result:function(a){t(g,function(){var c,m,r,d;c=a&&a.masterToken;m=f.userIdToken;r=Pb(E.messageId);d=new xa(p,v);Qb(n,c,m,r,{result:function(k){t(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(c)?(k.setRenewable(!0),k.setNonReplayable(!1)):k.setNonReplayable(d.isNonReplayable());return{errorResult:new x(k,d),tokenTicket:a};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;default:return null;}},b);},cleanupContext:function(h,n,v){switch(v.errorCode){case l.ENTITY_REAUTH:this.deleteMasterToken(h,n.masterToken);break;case l.USER_REAUTH:v=n.userIdToken,n.masterToken&&v&&h.getMslStore().removeUserIdToken(v);}},send:function(h,l,n,v,w,x,g){var q;function d(c,b,k){t(g,function(){var f;f=w.getPeerUserIdToken();!l.isPeerToPeer()&&!b||l.isPeerToPeer()&&!f?(f=n.getCustomer())?w.setCustomer(f,{result:function(f){t(g,function(){b=w.getUserIdToken();a(c,b,k);},q);},error:function(a){g.error(a);}}):a(c,b,k):a(c,b,k);},q);}function a(a,f,k){t(g,function(){var c,m;c=!k&&(!n.isEncrypted()||w.willEncryptPayloads())&&(!n.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!n.isNonReplayable()||w.isNonReplayable()&&a);c||w.setNonReplayable(!1);m=[];w.isRenewable()&&(!a||a.isRenewable()||n.isNonReplayable())?n.getKeyRequestData({result:function(k){t(g,function(){var u;for(var r=0;r<k.length;++r){u=k[r];m.push(u);w.addKeyRequestData(u);}b(a,f,c,m);},q);},error:function(a){g.error(a);}}):b(a,f,c,m);},q);}function b(a,b,k,u){t(g,function(){var c;c=new ne(l,n,w);n.updateServiceTokens(c,!k,{result:function(c){w.getHeader({result:function(c){t(g,function(){var m,r;m=n.getDebugContext();m&&m.sentHeader(c);m=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(l,c,m);this.storeServiceTokens(l,a,b,c.serviceTokens);m=!l.isPeerToPeer()&&m?m.cryptoContext:c.cryptoContext;if(h.isAborted())throw new ab("send aborted.");r=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Jc(l,r,Ja,c,m,x,{result:function(a){h.setAbort(function(){a.abort();});f(a,c,k);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},error:function(a){g.error(a);}});},q);}function f(a,b,k){var c,f;if(k)n.write(a,x,{result:function(c){t(g,function(){if(h.isAborted())throw new ab("MessageOutputStream write aborted.");p(a,b,k);},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});else{c=new L();f=new Yb();Jc(l,c,Ja,b,f,x,{result:function(c){n.write(c,x,{result:function(f){t(g,function(){if(h.isAborted())throw new ab("MessageOutputStream proxy write aborted.");c.close(x,{result:function(f){t(g,function(){var m;if(!f)throw new ab("MessageOutputStream proxy close aborted.");m=c.getPayloads();p(a,b,k,m);},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}}function p(a,b,k,f){a.close(x,{result:function(c){t(g,function(){if(!c)throw new ab("MessageOutputStream close aborted.");f||(f=a.getPayloads());return new C(b,f,!k);},q);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}q=this;t(g,function(){var a,b,k,f;a=w.getMasterToken();b=w.getUserIdToken();k=!1;if(n.getUserId()){f=!b;n.getUserAuthData(null,w.isRenewable(),f,{result:function(c){t(g,function(){c&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(c):k=!0);d(a,b,k);},q);},error:function(a){g.error(a);}});}else d(a,b,k);},q);},receive:function(n,v,w,x,E,C,g){var d;d=this;t(g,function(){var a,b,f;if(n.isAborted())throw new ab("receive aborted.");a=[];E&&(a=E.keyRequestData.filter(function(){return!0;}));b=w.getCryptoContexts();f=this._filterFactory?this._filterFactory.getInputStream(x):x;pe(v,f,Ja,a,b,C,{result:function(a){n.setAbort(function(){a.abort();});a.isReady(C,{result:function(b){t(g,function(){var c,f,k,u;if(!b)throw new ab("MessageInputStream aborted.");c=a.getMessageHeader();f=a.getErrorHeader();k=w.getDebugContext();k&&k.receivedHeader(c?c:f);if(E&&(k=f?f.errorCode:null,c||k!=l.FAIL&&k!=l.TRANSIENT_FAILURE&&k!=l.ENTITY_REAUTH&&k!=l.ENTITYDATA_REAUTH)){k=c?c.messageId:f.messageId;u=Pb(E.messageId);if(k!=u)throw new Da(h.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+u+"; received "+k);}v.getEntityAuthenticationData(null,{result:function(b){t(g,function(){var k,m,r,u;k=b.getIdentity();if(c){m=c.entityAuthenticationData;r=c.masterToken;m=r?c.sender:m.getIdentity();if(r&&r.isDecrypted()&&r.identity!=m||k==m)throw new Da(h.UNEXPECTED_MESSAGE_SENDER,m);E&&this.updateIncomingCryptoContexts(v,E,a);k=c.keyResponseData;v.isPeerToPeer()?(k=k?k.masterToken:c.peerMasterToken,r=c.peerUserIdToken,m=c.peerServiceTokens):(k=k?k.masterToken:c.masterToken,r=c.userIdToken,m=c.serviceTokens);u=w.getUserId();u&&r&&!r.isVerified()&&v.getMslStore().addUserIdToken(u,r);this.storeServiceTokens(v,k,r,m);}else if(m=f.entityAuthenticationData.getIdentity(),k==m)throw new Da(h.UNEXPECTED_MESSAGE_SENDER,m);return a;},d);},error:g.error});},d);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},d);},sendReceive:function(h,l,n,v,w,x,g,d,a){var f;function b(b,q){t(a,function(){x.setRenewable(q);this.send(h,l,n,w,x,g,{result:function(c){t(a,function(){var m;m=c.requestHeader.keyRequestData;d||c.handshake||!m.isEmpty()?this.receive(h,l,n,v,c.requestHeader,g,{result:function(k){t(a,function(){q&&this.releaseRenewalLock(l,b,k);return new J(k,c);},f);},timeout:function(){t(a,function(){q&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(c){t(a,function(){q&&this.releaseRenewalLock(l,b,null);throw c;},f);}}):t(a,function(){q&&this.releaseRenewalLock(l,b,null);return new J(null,c);},f);},f);},timeout:function(){t(a,function(){q&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(c){t(a,function(){q&&this.releaseRenewalLock(l,b,null);throw c;},f);}});},f);}f=this;t(a,function(){var f;f=new gc();this.acquireRenewalLock(h,l,n,f,x,g,{result:function(a){b(f,a);},timeout:function(){a.timeout();},error:function(b){b instanceof ab?a.result(null):a.error(b);}});},f);},acquireRenewalLock:function(h,l,n,v,w,x,g){var b;function d(f,p,q){t(g,function(){var k,u;if(h.isAborted())throw new ab("acquireRenewalLock aborted.");for(var c=null,m=0;m<this._renewingContexts.length;++m){k=this._renewingContexts[m];if(k.ctx===l){c=k.queue;break;}}if(!c)return this._renewingContexts.push({ctx:l,queue:v}),!0;u=c.poll(x,{result:function(k){t(g,function(){var b;if(k===na)throw new ab("acquireRenewalLock aborted.");c.add(k);if(k===la||k.isExpired())d(k,p,q);else{if(q&&!p||p&&!p.isBoundTo(k)){b=l.getMslStore().getUserIdToken(q);p=b&&b.isBoundTo(k)?b:null;}w.setAuthTokens(k,p);w.isRenewable()&&k.equals(f)?d(k,p,q):n.isRequestingTokens()&&!p?d(k,p,q):a(k,p);}},b);},timeout:function(){},error:function(a){}});h.setAbort(function(){u&&(c.cancel(u),u=na);});},b);}function a(a,d){t(g,function(){var f;if(h.isAborted())throw new ab("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!d&&n.getUserId()||d&&d.isRenewable()){for(var b=null,c=0;c<this._renewingContexts.length;++c){f=this._renewingContexts[c];if(f.ctx===l){b=f.queue;break;}}if(!b)return this._renewingContexts.push({ctx:l,queue:v}),!0;}return!1;},b);}b=this;t(g,function(){var b,p,q;b=w.getMasterToken();p=w.getUserIdToken();q=n.getUserId();n.isEncrypted()&&!w.willEncryptPayloads()||n.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!b&&n.isNonReplayable()||b&&b.isExpired()||!(p||!q||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||n.isRequestingTokens()&&(!b||q&&!p)?d(b,p,q):a(b,p);},b);},releaseRenewalLock:function(h,l,n){var g;for(var v,w,t=0;t<this._renewingContexts.length;++t){g=this._renewingContexts[t];if(g.ctx===h){v=t;w=g.queue;break;}}if(w!==l)throw new ea("Attempt to release renewal lock that is not owned by this queue.");n?(n=n.messageHeader)?(w=n.keyResponseData)?l.add(w.masterToken):(h=h.isPeerToPeer()?n.peerMasterToken:n.masterToken)?l.add(h):l.add(la):l.add(la):l.add(la);this._renewingContexts.splice(v,1);}});se=oa.Class.create({init:function(){var h;h={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setFilterFactory:function(h){this._impl.setFilterFactory(h);},shutdown:function(){this._shutdown=!0;},receive:function(h,l,n,v,w,t){var g;if(this._shutdown)throw new G("MslControl is shutdown.");g=new B(this._impl,h,l,n,v,w);setTimeout(function(){g.call(t);},0);return H(g);},respond:function(h,l,n,v,w,t,g){var d;if(this._shutdown)throw new G("MslControl is shutdown.");d=new S(this._impl,h,l,n,v,w,t);setTimeout(function(){d.call(g);},0);return H(d);},error:function(h,l,n,v,w,t,g){var d;if(this._shutdown)throw new G("MslControl is shutdown.");d=new ua(this._impl,h,l,n,v,w,t);setTimeout(function(){d.call(g);},0);return H(d);},request:function(h,l){var n,v,w,t,g,d;if(this._shutdown)throw new G("MslControl is shutdown.");if(5==arguments.length){if(n=arguments[2],w=v=null,t=arguments[3],g=arguments[4],h.isPeerToPeer()){g.error(new ea("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(n=null,v=arguments[2],w=arguments[3],t=arguments[4],g=arguments[5],!h.isPeerToPeer())){g.error(new ea("This method cannot be used in trusted network mode."));return;}d=new ga(this._impl,h,l,n,v,w,null,0,t);setTimeout(function(){d.call(g);},0);return H(d);}});B=oa.Class.create({init:function(h,l,n,v,w,t){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:t,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:na,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var C;function n(n){t(l,function(){var g;g=n.messageHeader;if(!g)return n;this.setAbort(function(){n.abort();});n.mark(Number.MAX_VALUE);n.read(1,C._timeout,{result:function(d){t(l,function(){if(d&&0==d.length)return null;if(d)return n.reset(),n;w(n);},C);},timeout:function(){l.timeout();},error:function(d){t(l,function(){var a,b,f;if(v(d))return null;a=g?g.messageId:null;d instanceof Xa?(b=h.MSL_COMMS_FAILURE,f=d):(b=h.INTERNAL_EXCEPTION,f=new ea("Error peeking into the message payloads."));E(this,this._ctx,this._msgCtx.getDebugContext(),a,b,null,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){t(l,function(){if(v(a))return null;throw new gb("Error peeking into the message payloads.",a,d);},C);}});},C);}});},C);}function w(n){t(l,function(){n.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,n.messageHeader,this._timeout,{result:function(g){t(l,function(){var d,a,b,f,p;d=g.builder;a=g.tokenTicket;b=n.messageHeader;f=new Z(this._msgCtx);if(!this._ctx.isPeerToPeer()||b.isEncrypting()||b.keyResponseData)x(b,d,f,a);else{p=new ga(this._ctrl,this._ctx,f,null,this._input,this._output,g,1,this._timeout);this.setAbort(function(){p.abort();});p.call(l);}},C);},timeout:function(){l.timeout();},error:function(g){t(l,function(){var d,a,b,f;if(v(g))return null;g instanceof G?(d=g.messageId,a=g.error,b=n.messageHeader.messageCapabilities,b=this._ctrl.messageRegistry.getUserMessage(a,b?b.languages:null),f=g):(d=requestHeader?requestHeader.messageId:null,a=h.INTERNAL_EXCEPTION,b=null,f=new ea("Error creating an automatic handshake response.",g));E(this,this._ctx,this._msgCtx.getDebugContext(),d,a,b,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){t(l,function(){if(v(a))return null;throw new gb("Error creating an automatic handshake response.",a,g);},C);}});},C);}});},C);}function x(n,g,d,a){t(l,function(){g.setRenewable(!1);this._ctrl.send(this._ctx,d,this._output,g,this._timeout,{result:function(b){t(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},C);},timeout:function(){t(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);l.timeout();},C);},error:function(b){t(l,function(){var f,d,q,c;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(b))return null;b instanceof G?(f=b.messageId,d=b.error,q=n?n.messageCapabilities:null,q=this._ctrl.messageRegistry.getUserMessage(d,q?q.languages:null),c=b):b instanceof Xa?(f=n?n.messageId:null,d=h.MSL_COMMS_FAILURE,q=null,c=b):(f=n?n.messageId:null,d=h.INTERNAL_EXCEPTION,q=null,c=new ea("Error sending an automatic handshake response.",b));E(this,this._ctx,this._msgCtx.getDebugContext(),f,d,q,this._output,this._timeout,{result:function(a){l.error(c);},timeout:function(){l.timeout();},error:function(a){t(l,function(){if(v(a))return null;throw new gb("Error sending an automatic handshake response.",a,b);},C);}});},C);}});},C);}C=this;t(l,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(h){n(h);},timeout:function(){l.timeout();},error:function(n){t(l,function(){var g,d,a,b;if(v(n))return null;n instanceof G?(g=n.messageId,d=n.error,a=this._ctrl.messageRegistry.getUserMessage(d,null),b=n):(g=null,d=h.INTERNAL_EXCEPTION,a=null,b=new ea("Error receiving the message header.",n));E(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){t(l,function(){if(v(a))return null;throw new gb("Error receiving the message header.",a,n);},C);}});},C);}});},C);}});S=oa.Class.create({init:function(h,l,n,v,w,t,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:t,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:na,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},trustedNetworkExecute:function(l,n,w){var x;x=this;t(w,function(){var C,B;if(12<n+1)return!1;if(C=this._msgCtx.isIntegrityProtected()&&!l.willIntegrityProtectHeader()?h.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!l.willEncryptPayloads()?h.RESPONSE_REQUIRES_ENCRYPTION:null){B=Zb(l.getMessageId());E(this,this._ctx,this._msgCtx.getDebugContext(),B,C,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){t(w,function(){if(v(g))return!1;throw new gb("Response requires encryption or integrity protection but cannot be protected: "+C,g,null);},x);}});}else!this._msgCtx.getCustomer()||l.getMasterToken()||l.getKeyExchangeData()?(l.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,l,this._timeout,{result:function(g){w.result(!0);},timeout:function(){w.timeout();},error:function(g){w.error(g);}})):(B=Zb(l.getMessageId()),E(this,this._ctx,this._msgCtx.getDebugContext(),B,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){t(w,function(){if(v(g))return!1;throw new gb("Response wishes to attach a user ID token but there is no master token.",g,null);},x);}}));},x);},peerToPeerExecute:function(l,n,w,x){var B;function C(g){t(x,function(){var d;d=g.response;d.close();d=d.getErrorHeader();this._ctrl.cleanupContext(this._ctx,g.requestHeader,d);this._ctrl.buildErrorResponse(this,this._ctx,l,g,d,{result:function(a){t(x,function(){var b,f;if(!a)return!1;b=a.errorResult;f=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){t(x,function(){this._ctrl.releaseMasterToken(f);return a;},B);},timeout:function(){t(x,function(){this._ctrl.releaseMasterToken(f);x.timeout();},B);},error:function(a){t(x,function(){this._ctrl.releaseMasterToken(f);throw a;},B);}});},B);}});},B);}B=this;t(x,function(){var g;if(12<w+2)return!1;if(null!=l.getCustomer()&&null==n.getPeerMasterToken()&&null==n.getKeyExchangeData()){g=Zb(n.getMessageId());E(this,this._ctx,l.getDebugContext(),g,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){x.result(!1);},timeout:function(){x.timeout();},error:function(d){t(x,function(){if(v(d))return!1;throw new gb("Response wishes to attach a user ID token but there is no master token.",d,null);},B);}});}else this._ctrl.sendReceive(this._ctx,l,this._input,this._output,n,this._timeout,!1,{result:function(d){t(x,function(){var f,p,q;function a(){f.read(32768,B._timeout,{result:function(c){t(x,function(){c?a():b();},B);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function b(){t(x,function(){var a;a=new xa(d.payloads,l);this._ctrl.buildResponse(this,this._ctx,a,p,this._timeout,{result:function(c){t(x,function(){var b;b=c.tokenTicket;this.peerToPeerExecute(a,c.builder,w,{result:function(a){t(x,function(){this._ctrl.releaseMasterToken(b);return a;},B);},timeout:function(){t(x,function(){this._ctrl.releaseMasterToken(b);x.timeout();},B);},error:function(a){t(x,function(){this._ctrl.releaseMasterToken(b);throw a;},B);}});},B);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},B);}f=d.response;w+=2;if(!f)return!0;p=f.getMessageHeader();if(p){q=d.payloads;q=0<q.length&&0<q[0].data.length;if(d.handshake&&q)a();else return!0;}else C(d);},B);},timeout:function(){x.timeout();},error:function(d){x.error(d);}});},B);},call:function(l){var n;n=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){t(l,function(){var x,C;x=w.builder;C=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,x,3,{result:function(h){t(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);return h;},n);},timeout:function(){t(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);l.timeout();},n);},error:function(w){t(l,function(){var g,d,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);if(v(w))return!1;g=Zb(x.getMessageId());w instanceof G?(d=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(d,a?a.languages:null),b=w):w instanceof Xa?(d=h.MSL_COMMS_FAILURE,a=null,b=w):(d=h.INTERNAL_EXCEPTION,a=null,b=new ea("Error sending the response.",w));E(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){t(l,function(){if(v(a))return!1;throw new gb("Error sending the response.",a,null);},n);}});},n);}}):this.trustedNetworkExecute(x,3,{result:function(h){t(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);return h;},n);},timeout:function(){t(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);l.timeout();},n);},error:function(w){t(l,function(){var g,d,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);if(v(w))return!1;g=Zb(x.getMessageId());w instanceof G?(d=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(d,a?a.languages:null),b=w):w instanceof Xa?(d=h.MSL_COMMS_FAILURE,a=null,b=w):(d=h.INTERNAL_EXCEPTION,a=null,b=new ea("Error sending the response.",w));E(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){t(l,function(){if(v(a))return!1;throw new gb("Error sending the response.",a,null);},n);}});},n);}});},n);},timeout:function(){l.timeout();},error:function(w){t(l,function(){var x,C,B,g;if(v(w))return!1;w instanceof G?(x=w.messageId,C=w.error,B=this._request.messageCapabilities,B=this._ctrl.messageRegistry.getUserMessage(C,B?B.languages:null),g=w):(x=null,C=h.INTERNAL_EXCEPTION,B=null,g=new ea("Error building the response.",w));E(this,this._ctx,this._msgCtx.getDebugContext(),x,C,B,this._output,this._timeout,{result:function(d){l.error(g);},timeout:function(){l.timeout();},error:function(d){t(l,function(){if(v(d))return null;throw new gb("Error building the response.",d,w);},n);}});},n);}});}});ua=oa.Class.create({init:function(h,l,n,w,v,t,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:t,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:na,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var n;n=this;t(l,function(){var w,x;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?h.MASTERTOKEN_REJECTED_BY_APP:h.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?h.USERIDTOKEN_REJECTED_BY_APP:h.USER_REJECTED_BY_APP;else throw new ea("Unhandled application error "+this._appError+".");x=this._request.messageCapabilities;x=this._ctrl.messageRegistry.getUserMessage(w,x?x.languages:null);E(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,x,this._output,this._timeout,{result:function(h){l.result(h);},timeout:l.timeout,error:function(h){t(l,function(){if(v(h))return!1;if(h instanceof G)throw h;throw new ea("Error building the error response.",h);},n);}});},n);}});va={result:function(){},timeout:function(){},error:function(){}};ga=oa.Class.create({init:function(h,l,n,w,v,t,g,d,a){var b;g?(b=g.builder,g=g.tokenTicket):g=b=null;Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:t,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:b,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:g,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:na,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},execute:function(h,l,n,w,v){var d;function x(a){function b(b){t(v,function(){var f;f=a.response;return b?b:f;},d);}t(v,function(){var f,p;f=a.response;f.close();p=f.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,p);this._ctrl.buildErrorResponse(this,this._ctx,h,a,p,n,{result:function(a){t(v,function(){var c,m,k,u;if(!a)return f;c=a.errorResult;m=a.tokenTicket;k=c.builder;c=c.msgCtx;if(this._ctx.isPeerToPeer())this.execute(c,k,this._timeout,w,{result:function(a){t(v,function(){this._ctrl.releaseMasterToken(m);b(a);},d);},timeout:function(){t(v,function(){this._ctrl.releaseMasterToken(m);v.timeout();},d);},error:function(a){t(v,function(){this._ctrl.releaseMasterToken(m);v.error(a);},d);}});else{this._openedStreams&&(this._input.close(),this._output.close(n,va));u=new ga(this._ctrl,this._ctx,c,this._remoteEntity,null,null,{builder:k,tokenTicket:m},w,this._timeout);this.setAbort(function(){u.abort();});u.call({result:function(a){b(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);}function g(a){t(v,function(){var p,q,c,m,k;function b(){p.read(32768,d._timeout,{result:function(a){a?b():f();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function f(){t(v,function(){var c;c=new xa(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,q,n,{result:function(a){t(v,function(){var b;b=a.tokenTicket;this.execute(c,a.builder,this._timeout,w,{result:function(a){t(v,function(){this._ctrl.releaseMasterToken(b);return a;},d);},timeout:function(){t(v,function(){this._ctrl.releaseMasterToken(b);v.timeout();},d);},error:function(a){t(v,function(){this._ctrl.releaseMasterToken(b);throw a;},d);}});},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);}p=a.response;q=p.getMessageHeader();c=a.payloads;c=0<c.length&&0<c[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!c)return p;this._openedStreams&&(this._input.close(),this._output.close(n,va));m=new xa(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,q,n,{result:function(a){t(v,function(){var c;c=new ga(this._ctrl,this._ctx,m,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){c.abort();});c.call(v);},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&c)b();else if(0<q.keyRequestData.length){k=new Z(h);this._ctrl.buildResponse(this,this._ctx,k,q,n,{result:function(a){t(v,function(){var c,b;c=a.builder;b=a.tokenTicket;p.mark();p.read(1,this._timeout,{result:function(a){t(v,function(){function f(){p.read(32768,d._timeout,{result:function(a){a?f():m();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function m(){d.execute(k,c,d._timeout,w,{result:function(a){t(v,function(){this._ctrl.releaseMasterToken(b);return a;},d);},timeout:function(){t(v,function(){this._ctrl.releaseMasterToken(b);v.timeout();},d);},error:function(a){t(v,function(){this._ctrl.releaseMasterToken(b);throw a;},d);}});}if(a)if(p.reset(),12>=w+1)c.setRenewable(!1),this._ctrl.send(this,this._ctx,k,this._output,c,this._timeout,{result:function(a){t(v,function(){this.releaseMasterToken(b);return p;},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(b),p;else f();},d);},timeout:function(){t(v,function(){this.releaseMasterToken(b);v.timeout();},d);},error:function(a){t(v,function(){this.releaseMasterToken(b);throw a;},d);}});},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},d);}d=this;t(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,h,this._input,this._output,l,n,!0,{result:function(a){t(v,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?g(a):x(a);},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);},call:function(h){var n;function l(l,w,x){t(h,function(){this.execute(this._msgCtx,l,x,this._msgCount,{result:function(g){t(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(x,va);g&&g.closeSource(this._openedStreams);return g;},n);},timeout:function(){t(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,va),this._input.close());h.timeout();},n);},error:function(g){t(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,va),this._input.close());if(v(g))return null;throw g;},n);}});},n);}n=this;t(h,function(){var w,x,E;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);x=Date.now();E=this._remoteEntity.openConnection();this._output=E.output;this._input=E.input;-1!=w&&(w=this._timeout-(Date.now()-x));this._openedStreams=!0;}catch(g){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,va);this._input&&this._input.close();if(v(g))return null;throw g;}this._builder?l(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(g){t(h,function(){l(g.builder,g.tokenTicket,w);},n);},timeout:function(){t(h,function(){this._openedStreams&&(this._output.close(this._timeout,va),this._input.close());h.timeout();},n);},error:function(g){t(h,function(){this._openedStreams&&(this._output.close(this._timeout,va),this._input.close());if(v(g))return null;throw g;},n);}});},n);}});}());(function(){sd=oa.Class.create({init:function(h){Object.defineProperties(this,{id:{value:h,writable:!1,configurable:!1}});},toJSON:function(){var h;h={};h.id=this.id;return h;},equals:function(h){return this===h?!0:h instanceof sd?this.id==h.id:!1;},uniqueKey:function(){return this.id;}});te=function(l){var n;n=l.id;if(!n)throw new ia(h.JSON_PARSE_ERROR,JSON.stringify(l));return new sd(n);};}());oa.Class.create({isNewestMasterToken:function(h,l,n){},isMasterTokenRevoked:function(h,l){},acceptNonReplayableId:function(h,l,n,t){},createMasterToken:function(h,l,n,t,J){},isMasterTokenRenewable:function(h,l,n){},renewMasterToken:function(h,l,n,t,J){},isUserIdTokenRevoked:function(h,l,n,t){},createUserIdToken:function(h,l,n,t){},renewUserIdToken:function(h,l,n,t){}});(function(){function l(h,l,n,t){this.sessiondata=h;this.tokendata=l;this.signature=n;this.verified=t;}eb=oa.Class.create({init:function(h,l,t,J,v,E,H,G,L,xa,Z){var w;w=this;n(Z,function(){var x,C,ca,ga,da;if(t.getTime()<l.getTime())throw new ea("Cannot construct a master token that expires before its renewal window opens.");if(0>J||J>Ka)throw new ea("Sequence number "+J+" is outside the valid range.");if(0>v||v>Ka)throw new ea("Serial number "+v+" is outside the valid range.");x=Math.floor(l.getTime()/1E3);C=Math.floor(t.getTime()/1E3);if(xa)ca=xa.sessiondata;else{ga={};E&&(ga.issuerdata=E);ga.identity=H;ga.encryptionkey=pa(G.toByteArray());ga.hmackey=pa(L.toByteArray());ca=Ta(JSON.stringify(ga),Ja);}if(xa)return Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:G,writable:!1,configurable:!1},hmacKey:{value:L,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:xa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:xa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;da=h.getMslCryptoContext();da.encrypt(ca,{result:function(l){n(Z,function(){var t,B;t={};t.renewalwindow=x;t.expiration=C;t.sequencenumber=J;t.serialnumber=v;t.sessiondata=pa(l);B=Ta(JSON.stringify(t),Ja);da.sign(B,{result:function(l){n(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:G,writable:!1,configurable:!1},hmacKey:{value:L,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:B,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){Z.error(h);}});},w);},error:function(h){Z.error(h);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(h){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(h){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(h){var l;if(this.sequenceNumber==h.sequenceNumber)return this.expiration>h.expiration;if(this.sequenceNumber>h.sequenceNumber){l=this.sequenceNumber-Ka+127;return h.sequenceNumber>=l;}l=h.sequenceNumber-Ka+127;return this.sequenceNumber<l;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof eb?this.serialNumber==h.serialNumber&&this.sequenceNumber==h.sequenceNumber&&this.expiration.getTime()==h.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Nb=function(w,t,C){n(C,function(){var x,v,E,H,ca;x=w.getMslCryptoContext();v=t.tokendata;E=t.signature;if("string"!==typeof v||"string"!==typeof E)throw new ia(h.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(t));try{H=wa(v);}catch(Aa){throw new G(h.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(t),Aa);}if(!H||0==H.length)throw new ia(h.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(t));try{ca=wa(E);}catch(Aa){throw new G(h.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(t),Aa);}x.verify(H,ca,{result:function(v){n(C,function(){var t,E,J,B,S,L,ga,da,va,za;L=Va(H,Ja);try{ga=JSON.parse(L);t=parseInt(ga.renewalwindow);E=parseInt(ga.expiration);J=parseInt(ga.sequencenumber);B=parseInt(ga.serialnumber);S=ga.sessiondata;}catch(sa){if(sa instanceof SyntaxError)throw new ia(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+L,sa);throw sa;}if(!t||t!=t||!E||E!=E||"number"!==typeof J||J!=J||"number"!==typeof B||B!=B||"string"!==typeof S)throw new ia(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+L);if(E<t)throw new G(h.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+L);if(0>J||J>Ka)throw new G(h.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+L);if(0>B||B>Ka)throw new G(h.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+L);da=new Date(1E3*t);va=new Date(1E3*E);try{za=wa(S);}catch(sa){throw new G(h.MASTERTOKEN_SESSIONDATA_INVALID,S,sa);}if(!za||0==za.length)throw new G(h.MASTERTOKEN_SESSIONDATA_MISSING,S);v?x.decrypt(za,{result:function(t){n(C,function(){var x,E,G,S,Z,ga;Z=Va(t,Ja);try{ga=JSON.parse(Z);x=ga.issuerdata;E=ga.identity;G=ga.encryptionkey;S=ga.hmackey;}catch(g){if(g instanceof SyntaxError)throw new ia(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+Z,g);throw g;}if(x&&"object"!==typeof x||!E||"string"!==typeof G||"string"!==typeof S)throw new ia(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+Z);tb(G,mb,Bb,{result:function(g){tb(S,nb,Mb,{result:function(d){n(C,function(){var a;a=new l(t,H,ca,v);new eb(w,da,va,J,B,x,E,g,d,a,C);});},error:function(d){C.error(new R(h.MASTERTOKEN_KEY_CREATION_ERROR,d));}});},error:function(g){C.error(new R(h.MASTERTOKEN_KEY_CREATION_ERROR,g));}});});},error:function(h){C.error(h);}}):(t=new l(null,H,ca,v),new eb(w,da,va,J,B,null,null,null,null,t,C));});},error:function(h){C.error(h);}});});};}());(function(){function l(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Wb=oa.Class.create({init:function(h,l,t,J,v,E,H,ca,L){var w;w=this;n(L,function(){var x,C,B,S,ua,ga,da;if(t.getTime()<l.getTime())throw new ea("Cannot construct a user ID token that expires before its renewal window opens.");if(!J)throw new ea("Cannot construct a user ID token without a master token.");if(0>v||v>Ka)throw new ea("Serial number "+v+" is outside the valid range.");x=Math.floor(l.getTime()/1E3);C=Math.floor(t.getTime()/1E3);B=J.serialNumber;if(ca){S=ca.tokendata;ua=ca.signature;ga=ca.verified;B=J.serialNumber;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:B,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:ga,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:S,writable:!1,enumerable:!1,configurable:!1},signature:{value:ua,writable:!1,enumerable:!1,configurable:!1}});return this;}S={};E&&(S.issuerdata=E);S.identity=H;S=Ta(JSON.stringify(S),Ja);da=h.getMslCryptoContext();da.encrypt(S,{result:function(l){n(L,function(){var t,S;t={};t.renewalwindow=x;t.expiration=C;t.mtserialnumber=B;t.serialnumber=v;t.userdata=pa(l);S=Ta(JSON.stringify(t),Ja);da.sign(S,{result:function(l){n(L,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:J.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:S,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(L,function(){h instanceof G&&h.setEntity(J);throw h;},w);}});},w);},error:function(h){n(L,function(){h instanceof G&&h.setEntity(J);throw h;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(h){return h&&h.serialNumber==this.mtSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Wb?this.serialNumber==h.serialNumber&&this.mtSerialNumber==h.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Ob=function(w,t,C,J){n(J,function(){var v,x,H,ca,L;v=w.getMslCryptoContext();x=t.tokendata;H=t.signature;if("string"!==typeof x||"string"!==typeof H)throw new ia(h.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(t)).setEntity(C);try{ca=wa(x);}catch(xa){throw new G(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(t),xa).setEntity(C);}if(!ca||0==ca.length)throw new ia(h.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(t)).setEntity(C);try{L=wa(H);}catch(xa){throw new G(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(t),xa).setEntity(C);}v.verify(ca,L,{result:function(t){n(J,function(){var x,E,B,H,ua,ga,da,va,za,Aa;ga=Va(ca,Ja);try{da=JSON.parse(ga);x=parseInt(da.renewalwindow);E=parseInt(da.expiration);B=parseInt(da.mtserialnumber);H=parseInt(da.serialnumber);ua=da.userdata;}catch(ha){if(ha instanceof SyntaxError)throw new ia(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ga,ha).setEntity(C);throw ha;}if(!x||x!=x||!E||E!=E||"number"!==typeof B||B!=B||"number"!==typeof H||H!=H||"string"!==typeof ua)throw new ia(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ga).setEntity(C);if(E<x)throw new G(h.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+ga).setEntity(C);if(0>B||B>Ka)throw new G(h.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ga).setEntity(C);if(0>H||H>Ka)throw new G(h.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ga).setEntity(C);va=new Date(1E3*x);za=new Date(1E3*E);if(!C||B!=C.serialNumber)throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+B+"; mt "+JSON.stringify(C)).setEntity(C);try{Aa=wa(ua);}catch(ha){throw new G(h.USERIDTOKEN_USERDATA_INVALID,ua,ha).setEntity(C);}if(!Aa||0==Aa.length)throw new G(h.USERIDTOKEN_USERDATA_MISSING,ua).setEntity(C);t?v.decrypt(Aa,{result:function(v){n(J,function(){var n,x,E,B,S;E=Va(v,Ja);try{B=JSON.parse(E);n=B.issuerdata;x=B.identity;}catch(g){if(g instanceof SyntaxError)throw new ia(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+E).setEntity(C);throw g;}if(n&&"object"!==typeof n||"object"!==typeof x)throw new ia(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+E).setEntity(C);try{S=te(x);}catch(g){throw new G(h.USERIDTOKEN_IDENTITY_INVALID,"userdata "+E,g).setEntity(C);}x=new l(ca,L,t);new Wb(w,va,za,C,H,n,S,x,J);});},error:function(h){n(J,function(){h instanceof G&&h.setEntity(C);throw h;});}}):(x=new l(ca,L,t),new Wb(w,va,za,C,H,null,null,x,J));});},error:function(h){n(J,function(){h instanceof G&&h.setEntity(C);throw h;});}});});};}());(function(){function l(l,n){var w,v,t;w=l.tokendata;if("string"!==typeof w)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));try{v=wa(w);}catch(za){throw new G(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(l),za);}if(!v||0==v.length)throw new ia(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(l));try{t=JSON.parse(Va(v,Ja)).name;}catch(za){if(za instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l),za);throw za;}if(!t)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));return n[t]?n[t]:n[""];}function w(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Eb=oa.Class.create({init:function(h,l,w,v,t,H,ca,L,R,Z){var x;x=this;n(Z,function(){var E,C,J,ga,da;if(v&&t&&!t.isBoundTo(v))throw new ea("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");E=v?v.serialNumber:-1;C=t?t.serialNumber:-1;if(R)return da=R.tokendata,Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:R.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:R.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ca?(J=rd(ca,w),J.length<w.length||(ca=null,J=w)):(ca=null,J=w);ga={};ga.name=l;-1!=E&&(ga.mtserialnumber=E);-1!=C&&(ga.uitserialnumber=C);ga.encrypted=H;ca&&(ga.compressionalgo=ca);if(H&&0<J.length)L.encrypt(J,{result:function(B){n(Z,function(){var J;ga.servicedata=pa(B);J=Ta(JSON.stringify(ga),Ja);L.sign(J,{result:function(v){n(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:J,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(h){n(Z,function(){h instanceof G&&(h.setEntity(v),h.setUser(t));throw h;});}});},x);},error:function(h){n(Z,function(){h instanceof G&&(h.setEntity(v),h.setUser(t));throw h;});}});else{ga.servicedata=pa(J);da=Ta(JSON.stringify(ga),Ja);L.sign(da,{result:function(v){n(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ca,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(h){n(Z,function(){h instanceof G&&(h.setEntity(v),h.setUser(t));throw h;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(h){return h?h instanceof eb?h.serialNumber==this.mtSerialNumber:h instanceof Wb?h.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Eb?this.name==h.name&&this.mtSerialNumber==h.mtSerialNumber&&this.uitSerialNumber==h.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});xb=function(h,l,n,v,w,t,H,G,L){new Eb(h,l,n,v,w,t,H,G,null,L);};Gc=function(t,C,J,v,E,H){n(H,function(){var x,L,R,Z,la,B,S,ua,ga,da,va,za,sa;!E||E instanceof Xb||(E=l(C,E));x=C.tokendata;L=C.signature;if("string"!==typeof x||"string"!==typeof L)throw new ia(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(C)).setEntity(J).setEntity(v);try{R=wa(x);}catch(ha){throw new G(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(C),ha).setEntity(J).setEntity(v);}if(!R||0==R.length)throw new ia(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(C)).setEntity(J).setEntity(v);try{Z=wa(L);}catch(ha){throw new G(h.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(C),ha).setEntity(J).setEntity(v);}va=Va(R,Ja);try{za=JSON.parse(va);la=za.name;B=za.mtserialnumber?parseInt(za.mtserialnumber):-1;S=za.uitserialnumber?parseInt(za.uitserialnumber):-1;ua=za.encrypted;ga=za.compressionalgo;da=za.servicedata;}catch(ha){if(ha instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"servicetokendata "+va,ha).setEntity(J).setEntity(v);throw ha;}if(!la||"number"!==typeof B||B!=B||"number"!==typeof S||S!=S||"boolean"!==typeof ua||ga&&"string"!==typeof ga||"string"!==typeof da)throw new ia(h.JSON_PARSE_ERROR,"servicetokendata "+va).setEntity(J).setEntity(v);if(za.mtserialnumber&&0>B||B>Ka)throw new G(h.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+va).setEntity(J).setEntity(v);if(za.uitserialnumber&&0>S||S>Ka)throw new G(h.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+va).setEntity(J).setEntity(v);if(-1!=B&&(!J||B!=J.serialNumber))throw new G(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+B+"; mt "+J).setEntity(J).setEntity(v);if(-1!=S&&(!v||S!=v.serialNumber))throw new G(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+S+"; uit "+v).setEntity(J).setEntity(v);ua=!0===ua;if(ga){if(!Jb[ga])throw new G(h.UNIDENTIFIED_COMPRESSION,ga);sa=ga;}else sa=null;E?E.verify(R,Z,{result:function(l){n(H,function(){var x,C;if(l){try{x=wa(da);}catch(kd){throw new G(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+va,kd).setEntity(J).setEntity(v);}if(!x||0!=da.length&&0==x.length)throw new G(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+va).setEntity(J).setEntity(v);if(ua&&0<x.length)E.decrypt(x,{result:function(h){n(H,function(){var n,x;n=sa?Hc(sa,h):h;x=new w(R,Z,l);new Eb(t,la,n,-1!=B?J:null,-1!=S?v:null,ua,sa,E,x,H);});},error:function(h){n(H,function(){h instanceof G&&(h.setEntity(J),h.setUser(v));throw h;});}});else{x=sa?Hc(sa,x):x;C=new w(R,Z,l);new Eb(t,la,x,-1!=B?J:null,-1!=S?v:null,ua,sa,E,C,H);}}else x=""==da?new Uint8Array(0):null,C=new w(R,Z,l),new Eb(t,la,x,-1!=B?J:null,-1!=S?v:null,ua,sa,E,C,H);});},error:function(h){n(H,function(){h instanceof G&&(h.setEntity(J),h.setUser(v));throw h;});}}):(x=""==da?new Uint8Array(0):null,L=new w(R,Z,!1),new Eb(t,la,x,-1!=B?J:null,-1!=S?v:null,ua,sa,E,L,H));});};}());bb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(bb);(function(){Ab=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Ab?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});ie=function(l,w,t,C){n(C,function(){var n,v,x;n=t.scheme;v=t.authdata;if(!n||!v)throw new ia(h.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(t));if(!bb[n])throw new Ca(h.UNIDENTIFIED_USERAUTH_SCHEME,n);x=l.getUserAuthenticationFactory(n);if(!x)throw new Ca(h.USERAUTH_FACTORY_NOT_FOUND,n);x.createData(l,w,v,C);});};}());lc=oa.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,l,n,t){},authenticate:function(h,l,n,t){}});(function(){Rb=Ab.extend({init:function w(h,l){w.base.call(this,bb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:h,writable:!1,configurable:!1},secureNetflixId:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.netflixid=this.netflixId;this.secureNetflixId&&(h.securenetflixid=this.secureNetflixId);return h;},equals:function x(h){return this===h?!0:h instanceof Rb?x.base.call(this,h)&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId:!1;}});ue=function(l){var n,t;n=l.netflixid;t=l.securenetflixid;if(!n)throw new ia(h.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(l));return new Rb(n,t);};}());Ye=lc.extend({init:function w(){w.base.call(this,bb.NETFLIXID);},createData:function(h,l,t,J){n(J,function(){return ue(t);});},authenticate:function(l,n,t,J){if(!(t instanceof Rb))throw new ea("Incorrect authentication data type "+t+".");l=t.secureNetflixId;if(!t.netflixId||!l)throw new Ca(h.NETFLIXID_COOKIES_BLANK).setUser(t);throw new Ca(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){mc=Ab.extend({init:function x(h,l){x.base.call(this,bb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:h,writable:!1,configurable:!1},password:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.email=this.email;h.password=this.password;return h;},equals:function C(h){return this===h?!0:h instanceof mc?C.base.call(this,this,h)&&this.email==h.email&&this.password==h.password:!1;}});ve=function(l){var n,v;n=l.email;v=l.password;if(!n||!v)throw new ia(h.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(l));return new mc(n,v);};}());Ze=lc.extend({init:function x(){x.base.call(this,bb.EMAIL_PASSWORD);},createData:function(h,l,t,v){n(v,function(){return ve(t);});},authenticate:function(l,n,t,v){if(!(t instanceof mc))throw new ea("Incorrect authentication data type "+t+".");l=t.password;if(!t.email||!l)throw new Ca(h.EMAILPASSWORD_BLANK).setUser(t);throw new Ca(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){var v,E,L,ca,Aa,xa,Z,la;function l(h,l){return"<"+h+">"+l+"</"+h+">";}function t(h){return h.replace(/[<>&"']/g,function(h){return Aa[h];});}function J(h){return encodeURIComponent(h).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Kc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};E=oa.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});L=td=E.extend({init:function(l,v,t,x,E,C,J){var S;function B(x){n(J,function(){var n,C;try{C={};C.useridtoken=l;C.action=v;C.nonce=t;C.pin=pa(x);n=Ta(JSON.stringify(C),Ja);}catch(Db){throw new ia(h.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Db);}E.sign(n,{result:function(h){G(n,h);},error:J.error});},S);}function G(h,E){n(J,function(){Object.defineProperties(this,{_userIdToken:{value:l,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:t,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:h,writable:!1,enumerable:!1,configurable:!1},_signature:{value:E,writable:!1,enumerable:!1,configurable:!1}});return this;},S);}S=this;n(J,function(){C?G(C.encoding,C.signature):E.encrypt(Ta(x,Ja),{result:function(h){B(h);},error:J.error});},S);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof L?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin&&this._userIdToken.equals(h._userIdToken):!1;}});td.ACTION="userauth";ca=function(l,v,t,x,E){function C(x){n(E,function(){var C,J,S,L,Z,ca;C=Va(t,Ja);try{ca=JSON.parse(C);J=ca.useridtoken;S=ca.action;L=ca.nonce;Z=ca.pin;}catch(g){if(g instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+C,g);throw g;}if(!(J&&"object"===typeof J&&S&&"string"===typeof S&&L&&"number"===typeof L&&Z)||"string"!==typeof Z)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+C);Ob(l,J,v,{result:function(g){n(E,function(){if(!g.isDecrypted())throw new Ca(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+C);B(x,g,S,L,Z);});},error:function(g){n(E,function(){if(g instanceof G)throw new Ca(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+C,g);throw g;});}});});}function B(h,l,v,C,B){n(E,function(){var J;J=wa(B);h.decrypt(J,{result:function(h){n(E,function(){var g;g=Va(h,Ja);new L(l,v,C,g,null,{encoding:t,signature:x},E);});},error:E.error});});}n(E,function(){var B,J;try{J=l.getMslStore().getCryptoContext(v);B=J?J:new fb(l,v);}catch(qb){if(qb instanceof Lb)throw new Ca(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+pa(t));throw qb;}B.verify(t,x,{result:function(l){n(E,function(){if(!l)throw new R(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(t));C(B);});},error:E.error});});};Aa={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};xa=nc=E.extend({init:function(h,n,v,x){var E,C;E=l("action",t(h));C=l("nonce",n.toString());v=l("pin",v);E=l("registerdata",E+C+v);E=Ta(E,"utf-8");Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:n,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:E,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof xa?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});nc.ACTION="regpairrequest";Z=ud=E.extend({init:function(h,v,x,E,C,G){var Z;function B(x){n(G,function(){var n,C,B,Z,g;n=pa(x);C=l("action",t(h));B=l("nonce",v.toString());Z=l("pin",n);C=l("registerdata",C+B+Z);g=Ta(C,"utf-8");n="action="+J(h)+"&nonce="+J(v.toString())+"&pin="+J(n);E.sign(Ta(n,"utf-8"),{result:function(d){L(g,d);},error:G.error});},Z);}function L(l,t){n(G,function(){Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:t,writable:!1,enumerable:!1,configurable:!1}});return this;},Z);}Z=this;n(G,function(){C?L(C.encoding,C.signature):E.encrypt(Ta(x,"utf-8"),{result:function(h){B(h);},error:G.error});},Z);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof Z?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});ud.ACTION=nc.ACTION;la=function(l,v,t,x,E){n(E,function(){var C,B,G,L,ca,S,ga;C=l.getMslStore().getCryptoContext(v);B=C?C:new fb(l,v);C=Va(t,"utf-8");G=new DOMParser().parseFromString(C,"application/xml");C=G.getElementsByTagName("action");L=G.getElementsByTagName("nonce");G=G.getElementsByTagName("pin");ca=C&&1==C.length&&C[0].firstChild?C[0].firstChild.nodeValue:null;S=L&&1==L.length&&L[0].firstChild?parseInt(L[0].firstChild.nodeValue):null;ga=G&&1==G.length&&G[0].firstChild?G[0].firstChild.nodeValue:null;if(!ca||!S||!ga)throw new ia(h.XML_PARSE_ERROR,"MDX authdata "+pa(t));C="action="+J(ca)+"&nonce="+J(S.toString())+"&pin="+J(ga);B.verify(Ta(C,"utf-8"),x,{result:function(l){n(E,function(){var v;if(!l)throw new R(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(t));v=wa(ga);B.decrypt(v,{result:function(g){n(E,function(){var d;d=Va(g,"utf-8");new Z(ca,S,d,null,{encoding:t,signature:x},E);});},error:E.error});});},error:E.error});});};$b=Ab.extend({init:function S(h,l,n,t,x,E){var C,J,G,Z,ca,ga;S.base.call(this,bb.MDX);C=null;J=null;G=null;if("string"===typeof n)h=v.MSL_LEGACY,G=n;else if(n instanceof Uint8Array)h=v.NTBA,J=n;else if(n instanceof eb)h=v.MSL,C=n;else throw new TypeError("Controller token "+n+" is not a master token, encrypted CTicket, or MSL token construct.");Z=n=null;ca=null;if(E){ga=E.controllerAuthData;n=ga.getAction();Z=ga.getPin();E=E.userIdToken;ga instanceof L?ca=ga.getUserIdToken().customer:E&&(ca=E.customer);}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},action:{value:n,writable:!1,configurable:!1},targetPin:{value:l,writable:!1,configurable:!1},controllerPin:{value:Z,writable:!1,configurable:!1},customer:{value:ca,writable:!1,configurable:!1},_masterToken:{value:C,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:J,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:G,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:t,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var h,l;h={};switch(this.mechanism){case v.MSL:l=JSON.parse(JSON.stringify(this._masterToken));h.mastertoken=l;break;case v.NTBA:l=Va(this._encryptedCTicket,"utf-8");h.cticket=l;break;case v.MSL_LEGACY:h.cticket=this._mslTokens;break;default:throw new ea("Unsupported MDX mechanism.");}h.pin=this.targetPin;h.mdxauthdata=pa(this._controllerEncoding);h.signature=pa(this._signature);return h;},equals:function ua(h){return this===h?!0:h instanceof $b?ua.base.call(this,h)&&(this._masterToken==h._masterToken||this._masterToken&&this._masterToken.equals(h._masterToken))&&(this._encryptedCTicket==h._encryptedCTicket||this._encryptedCTicket&&Za(this._encryptedCTicket,h._encryptedCTicket))&&this._mslTokens==h._mslTokens&&Za(this._controllerEncoding,h._controllerEncoding)&&Za(this._signature,h._signature):!1;}});we=function(l,v,t){function x(x,E,C,J){Nb(l,E,{result:function(E){n(t,function(){if(!E.isDecrypted())throw new Ca(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());ca(l,E,C,J,{result:function(h){n(t,function(){var g,d;g=h.getEncoding();d=h.getSignature();return new $b(l,x,E,g,d,{controllerAuthData:h,userIdToken:null});});},error:t.error});});},error:function(l){n(t,function(){if(l instanceof G)throw new Ca(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),l);throw l;});}});}function E(l,v,x,E){n(t,function(){throw new Ca(h.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function C(x,E,C,J){function L(g,d){n(d,function(){var a,b;try{a=wa(g);}catch(f){throw new Ca(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),f);}if(!a||0==a.length)throw new Ca(h.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{b=JSON.parse(Va(a,"utf-8"));Nb(l,b,{result:function(a){n(d,function(){if(!a.isDecrypted())throw new Ca(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){n(d,function(){if(a instanceof G)throw new Ca(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(f){if(f instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),f);throw f;}});}function Z(g,d,a){n(a,function(){var b,f;try{b=wa(g);}catch(p){throw new Ca(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),p);}if(!b||0==b.length)throw new Ca(h.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{f=JSON.parse(Va(b,"utf-8"));Ob(l,f,d,{result:function(b){n(a,function(){if(!b.isDecrypted())throw new Ca(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return b;});},error:function(b){n(a,function(){if(b instanceof G)throw new Ca(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),b);throw b;});}});}catch(p){if(p instanceof SyntaxError)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),p);throw p;}});}n(t,function(){var g;g=E.split(",");if(3!=g.length||"1"!=g[0])throw new Ca(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));L(g[1],{result:function(d){Z(g[2],d,{result:function(a){la(l,d,C,J,{result:function(b){n(t,function(){return new $b(l,x,E,C,J,{controllerAuthData:b,userIdToken:a});});},error:function(a){n(t,function(){if(a instanceof Lb)throw new Ca(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:t.error});},error:t.error});});}n(t,function(){var l,n,t,J,G;l=v.pin;n=v.mdxauthdata;t=v.signature;if(!l||"string"!==typeof l||!n||"string"!==typeof n||!t||"string"!==typeof t)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{J=wa(n);G=wa(t);}catch(Db){throw new Ca(h.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Db);}if(v.mastertoken){n=v.mastertoken;if(!n||"object"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));x(l,n,J,G);}else if(v.cticket){n=v.cticket;if(!n||"string"!==typeof n)throw new ia(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==n.indexOf(",")?E(l,n,J,G):C(l,n,J,G);}else throw new Ca(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var l,n,t;l=td.ACTION;n=nc.ACTION;t=ud.ACTION;xe=lc.extend({init:function E(){E.base.call(this,bb.MDX);},createData:function(h,l,n,t){we(h,n,t);},authenticate:function(x,C,J,G){if(!(J instanceof $b))throw new ea("Incorrect authentication data type "+J.getClass().getName()+".");x=J.action;switch(J.mechanism){case Kc.MSL:if(l!=x)throw new Ca(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Kc.NTBA:if(n!=x)throw new Ca(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Kc.MSL_LEGACY:if(t!=x)throw new Ca(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);}x=J.controllerPin;C=J.targetPin;if(!x||!C)throw new Ca(h.MDX_PIN_BLANK).setUser(J);if(x!=C)throw new Ca(h.MDX_PIN_MISMATCH).setUser(J);x=J.customer;if(!x)throw new Ca(h.MDX_USER_UNKNOWN).setUser(J);if(G&&(G=G.customer,!x.equals(G)))throw new Ca(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+x+"; uit customer "+G).setUser(J);return x;}});}());(function(){var l,n,t;l={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};n=ze=oa.Class.create({init:function(h,l){Object.defineProperties(this,{email:{value:h,writable:!1,enumerable:!0,configurable:!1},password:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});t=Ae=oa.Class.create({init:function(h,l){Object.defineProperties(this,{netflixId:{value:h,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});oc=Ab.extend({init:function E(h,l,x,C){var J,G,B,L;E.base.call(this,bb.SSO);J=null;G=null;B=null;L=null;x instanceof n?(J=x.email,G=x.password):x instanceof t&&(B=x.netflixId,L=x.secureNetflixId);Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},token:{value:l,writable:!1,configurable:!1},email:{value:J,writable:!1,configurable:!1},password:{value:G,writable:!1,configurable:!1},netflixId:{value:B,writable:!1,configurable:!1},secureNetflixId:{value:L,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof C?null:C,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.mechanism=this.mechanism;h.token=pa(this.token);this.email&&this.password?(h.email=this.email,h.password=this.password):this.netflixId&&this.secureNetflixId&&(h.netflixid=this.netflixId,h.securenetflixid=this.secureNetflixId);this.profileGuid&&(h.profileguid=this.profileGuid);return h;},equals:function za(h){return this===h?!0:h instanceof oc?za.base.call(this,h)&&this.mechanism==h.mechanism&&Za(this.token,h.token)&&this.email==h.email&&this.password==h.password&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId&&this.profileGuid==h.profileGuid:!1;}});ye=function(x){var C,J,G,L,la,B,S,R,ga;C=x.mechanism;J=x.token;if(!C||!J||"string"!==typeof J)throw new ia(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));if(!l[C])throw new Ca(h.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(x));G=x.email;L=x.password;la=x.netflixid;B=x.securenetflixid;S=x.profileguid;if(G&&!L||!G&&L||la&&!B||!la&&B||G&&la)throw new ia(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));try{R=wa(J);}catch(da){throw new Ca(h.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(x),da);}G&&L?ga=new n(G,L):la&&B&&(ga=new t(la,B));return new oc(C,R,ga,S);};}());$e=lc.extend({init:function C(){C.base.call(this,bb.SSO);},createData:function(h,l,v,t){n(t,function(){return ye(v);});},authenticate:function(l,n,v,t){var E,C;if(!(v instanceof oc))throw new ea("Incorrect authentication data type "+v+".");l=v.token;n=v.email;t=v.password;E=v.netflixId;C=v.secureNetflixId;if(!l||0==l.length)throw new Ca(h.SSOTOKEN_BLANK);if(!(null===n&&null===t||n&&t))throw new Ca(h.EMAILPASSWORD_BLANK);if(!(null===E&&null===C||E&&C))throw new Ca(h.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Ca(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){pc=Ab.extend({init:function J(h,l){J.base.call(this,bb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:h,writable:!1,configurable:!1},profileGuid:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));h.profileguid=this.profileGuid;return h;},equals:function v(h){return this==h?!0:h instanceof pc?v.base.call(this,h)&&this.userIdToken.equals(h.userIdToken)&&this.profileGuid==h.profileGuid:!1;}});Be=function(l,t,G,L){n(L,function(){var v,E;if(!t)throw new Ca(h.USERAUTH_MASTERTOKEN_MISSING);v=G.useridtoken;E=G.profileguid;if("object"!==typeof v||"string"!==typeof E)throw new ia(h.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(G));Ob(l,v,t,{result:function(l){n(L,function(){if(!l.isDecrypted())throw new Ca(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(G));return new pc(l,E);});},error:function(l){L.error(new Ca(h.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(G),l));}});});};}());af=lc.extend({init:function J(h){J.base.call(this,bb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,l,n,t){Be(h,l,n,t);},authenticate:function(l,n,t,G){if(!(t instanceof pc))throw new ea("Incorrect authentication data type "+t+".");n=t.userIdToken;l=t.profileGuid;if(!l)throw new Ca(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(t);n=n.user;if(!n)throw new Ca(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(t);l=this._store.switchUsers(n,l);if(!l)throw new Ca(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(t);if(G&&(G=G.user,!l.equals(G)))throw new Ca(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+l+"; uit user "+G).setUserAuthenticationData(t);return l;}});Object.freeze({ENTITY_REAUTH:l.ENTITY_REAUTH,ENTITYDATA_REAUTH:l.ENTITYDATA_REAUTH});bf=oa.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(h,l){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(h){},getUserAuthenticationFactory:function(h){},getTokenFactory:function(){},getKeyExchangeFactory:function(h){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ce=oa.Class.create({setCryptoContext:function(h,l){},getMasterToken:function(){},getNonReplayableId:function(h){},getCryptoContext:function(h){},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(h,l){},removeServiceTokens:function(h,l,n){},clearServiceTokens:function(){}});(function(){var l;l=Jb;rd=function(n,t){var v;v={};switch(n){case l.LZW:return Ed(t,v);case l.GZIP:return gzip$compress(t);default:throw new G(h.UNSUPPORTED_COMPRESSION,n);}};Hc=function(n,t,J){switch(n){case l.LZW:return Fd(t);case l.GZIP:return gzip$uncompress(t);default:throw new G(h.UNSUPPORTED_COMPRESSION,n.name());}};}());Ce.extend({setCryptoContext:function(h,l){},getMasterToken:function(){return null;},getNonReplayableId:function(h){return 1;},getCryptoContext:function(h){return null;},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){return null;},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(l,n){if(n){if(!l)throw new G(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}return[];},removeServiceTokens:function(l,n,t){if(t&&n&&!t.isBoundTo(n))throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.masterTokenSerialNumber+"; mt "+n.serialNumber);},clearServiceTokens:function(){}});(function(){De=Ce.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(h,l){var n;if(l){n=h.uniqueKey();this.masterTokens[n]=h;this.cryptoContexts[n]=l;}else this.removeCryptoContext(h);},getMasterToken:function(){var h,l,n;h=null;for(l in this.masterTokens){n=this.masterTokens[l];if(!h||n.isNewerThan(h))h=n;}return h;},getNonReplayableId:function(h){var l;h=h.serialNumber;l=this.nonReplayableIds[h]!==na?this.nonReplayableIds[h]:0;if(0>l||l>Ka)throw new ea("Non-replayable ID "+l+" is outside the valid range.");l=l==Ka?0:l+1;return this.nonReplayableIds[h]=l;},getCryptoContext:function(h){return this.cryptoContexts[h.uniqueKey()];},removeCryptoContext:function(h){var l,n;l=h.uniqueKey();if(this.masterTokens[l]){delete this.masterTokens[l];delete this.cryptoContexts[l];l=h.serialNumber;for(n in this.masterTokens)if(this.masterTokens[n].serialNumber==l)return;delete this.nonReplayableIds[l];Object.keys(this.userIdTokens).forEach(function(l){l=this.userIdTokens[l];l.isBoundTo(h)&&this.removeUserIdToken(l);},this);try{this.removeServiceTokens(null,h,null);}catch(ca){if(ca instanceof G)throw new ea("Unexpected exception while removing master token bound service tokens.",ca);throw ca;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);},addUserIdToken:function(l,n){var t,v;t=!1;for(v in this.masterTokens)if(n.isBoundTo(this.masterTokens[v])){t=!0;break;}if(!t)throw new G(h.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+n.mtSerialNumber);this.userIdTokens[l]=n;},getUserIdToken:function(h){return this.userIdTokens[h];},removeUserIdToken:function(h){var l,n,t;l=null;for(n in this.masterTokens){t=this.masterTokens[n];if(h.isBoundTo(t)){l=t;break;}}Object.keys(this.userIdTokens).forEach(function(n){if(this.userIdTokens[n].equals(h)){delete this.userIdTokens[n];try{this.removeServiceTokens(null,l,h);}catch(xa){if(xa instanceof G)throw new ea("Unexpected exception while removing user ID token bound service tokens.",xa);throw xa;}}},this);},clearUserIdTokens:function(){var l;for(var h in this.userIdTokens){l=this.userIdTokens[h];try{this.removeServiceTokens(null,null,l);}catch(za){if(za instanceof G)throw new ea("Unexpected exception while removing user ID token bound service tokens.",za);throw za;}delete this.userIdTokens[h];}},addServiceTokens:function(l){l.forEach(function(l){var n,t,v;if(l.isUnbound())this.unboundServiceTokens[l.uniqueKey()]=l;else{if(l.isMasterTokenBound()){n=!1;for(t in this.masterTokens)if(l.isBoundTo(this.masterTokens[t])){n=!0;break;}if(!n)throw new G(h.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+l.mtSerialNumber);}if(l.isUserIdTokenBound()){n=!1;for(v in this.userIdTokens)if(l.isBoundTo(this.userIdTokens[v])){n=!0;break;}if(!n)throw new G(h.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+l.uitSerialNumber);}l.isMasterTokenBound()&&((v=this.mtServiceTokens[l.mtSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.mtServiceTokens[l.mtSerialNumber]=v);l.isUserIdTokenBound()&&((v=this.uitServiceTokens[l.uitSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.uitServiceTokens[l.uitSerialNumber]=v);}},this);},getServiceTokens:function(l,n){var t,v,E,L;if(n){if(!l)throw new G(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}t={};for(v in this.unboundServiceTokens){E=this.unboundServiceTokens[v];t[E.uniqueKey()]=E;}if(l&&(E=this.mtServiceTokens[l.serialNumber]))for(v in E){L=E[v];L.isUserIdTokenBound()||(t[v]=L);}if(n&&(E=this.uitServiceTokens[n.serialNumber]))for(v in E)L=E[v],L.isBoundTo(l)&&(t[v]=L);E=[];for(v in t)E.push(t[v]);return E;},removeServiceTokens:function(l,n,t){var E,L,la;if(t&&n&&!t.isBoundTo(n))throw new G(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.mtSerialNumber+"; mt "+n.serialNumber);if(l&&!n&&!t){Object.keys(this.unboundServiceTokens).forEach(function(h){this.unboundServiceTokens[h].name==l&&delete this.unboundServiceTokens[h];},this);for(var v in this.mtServiceTokens){E=this.mtServiceTokens[v];L=Object.keys(E);L.forEach(function(h){E[h].name==l&&delete E[h];},this);this.mtServiceTokens[v]=E;}for(var Z in this.uitServiceTokens)E=this.uitServiceTokens[Z],v=Object.keys(E),v.forEach(function(h){E[h].name==l&&delete E[h];},this),this.uitServiceTokens[Z]=E;}if(n&&!t){if(E=this.mtServiceTokens[n.serialNumber])L=Object.keys(E),L.forEach(function(h){var n;n=E[h];l&&n.name!=l||delete E[h];},this),this.mtServiceTokens[n.serialNumber]=E;for(Z in this.uitServiceTokens){la=this.uitServiceTokens[Z];v=Object.keys(la);v.forEach(function(h){var t;t=la[h];l&&t.name!=l||t.isBoundTo(n)&&delete la[h];},this);this.uitServiceTokens[Z]=la;}}t&&(E=this.uitServiceTokens[t.serialNumber])&&(v=Object.keys(E),v.forEach(function(h){var t;t=E[h];l&&t.name!=l||n&&!t.isBoundTo(n)||delete E[h];},this),this.uitServiceTokens[t.serialNumber]=E);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);}});}());Le=Ve.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(h,l){var n;if(l&&h&&h.length){n=pa(h);this._contextMap[n]=l;}},getCryptoContext:function(h){return h&&h.length?(h=pa(h),this._contextMap[h]||null):null;},removeCryptoContext:function(h){h&&h.length&&(h=pa(h),delete this._contextMap[h]);}});Ee=Oe.extend({init:function E(h,l,n,t){E.base.call(this,h);Object.defineProperties(this,{_kde:{value:l,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof jb))throw new ea("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new rb(h.ENTITY_NOT_FOUND,"mgk "+n.identity);return new Ac(l,this.localIdentity,this._kde,this._kdh,this._kdw);}});cf=Pd.extend({init:function za(h,l,n,t){za.base.call(this,h);Object.defineProperties(this,{_kpe:{value:l,writable:!1,enumerable:!1,configurable:!1},_kph:{value:n,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof ob))throw new ea("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new rb(h.ENTITY_NOT_FOUND,"psk "+n.identity);return new Ac(l,this.localIdentity,this._kpe,this._kph,this._kpw);}});ef=De.extend({init:function ca(h,l,n,t,B,G){ca.base.call(this);this._log=h;this._esn=l;this._keyRequestData=n;this._createKeyRequestData=t;this._systemKeyName=B;this._systemKeyWrapFormat=G;},setCryptoContext:function Aa(h,l,n){var t;t=this;t._log.trace("Adding MasterToken",{SequenceNumber:h.sequenceNumber,SerialNumber:h.serialNumber,Expiration:h.expiration.getTime()});Aa.base.call(this,h,l);!n&&(h=t._createKeyRequestData)&&(t._log.trace("Generating new keyx request data"),h().then(function(h){t._keyRequestData=h;},function(h){t._log.error("Unable to generate new keyx request data",""+h);}));},addUserIdToken:function xa(h,l){this._log.trace("Adding UserIdToken",{UserId:h,SerialNumber:l.serialNumber,MTSerialNumber:l.mtSerialNumber,Expiration:l.expiration.getTime()});xa.base.call(this,h,l);},addServiceTokens:function Z(h){Z.base.call(this,h.filter(function(h){return!df[h.name];}));},getUserIdTokenKeys:function(){var h,l;h=[];for(l in this.userIdTokens)h.push(l);return h;},rekeyUserIdToken:function(h,l){this.userIdTokens[h]&&(this.userIdTokens[l]=this.userIdTokens[h],delete this.userIdTokens[h]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(h){var l;l=this;n(h,function(){var t;t=l.getMasterToken();t?l.getKeysForStore(t,{result:function(B){n(h,function(){var h,n,G;h=l.userIdTokens;n=Object.keys(h).map(function(n){var B;B=h[n];return{userId:n,userIdTokenJSON:h[n].toJSON(),serviceTokenJSONList:l.getServiceTokens(t,B).map(Ie)};});B.esn=l._esn;B.masterTokenJSON=t.toJSON();B.userList=n;G=l._keyRequestData.storeData;G&&Object.keys(G).forEach(function(h){B[h]=G[h];});return B;});},timeout:h.timeout,error:h.error}):h.result(null);});},getKeysForStore:function(l,t){var B;B=this;n(t,function(){var n;n=B.getCryptoContext(l);n={encryptionKey:n.encryptionKey,hmacKey:n.hmacKey};if(n.encryptionKey&&n.hmacKey)if(B._systemKeyWrapFormat)B.wrapKeysWithSystemKey(n,t);else return n;else throw new G(h.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(l,t){var B;B=this;yd(this._systemKeyName,{result:function(L){n(t,function(){var n,Z,S,R;n=l.encryptionKey;Z=l.hmacKey;S=n[ac];R=Z[ac];if(S&&R)return{wrappedEncryptionKey:S,wrappedHmacKey:R};Promise.resolve().then(function(){return Promise.all([Ha.wrapKey(B._systemKeyWrapFormat,n,L,L.algorithm),Ha.wrapKey(B._systemKeyWrapFormat,Z,L,L.algorithm)]);}).then(function(h){S=pa(h[0]);n[ac]=S;R=pa(h[1]);Z[ac]=R;t.result({wrappedEncryptionKey:S,wrappedHmacKey:R});})["catch"](function(l){t.error(new G(h.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",l));});});},timeout:t.timeout,error:t.error});},unwrapKeysWithSystemKey:function(l,t){var B;B=this;yd(this._systemKeyName,{result:function(L){n(t,function(){var n,Z;n=wa(l.wrappedEncryptionKey);Z=wa(l.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ha.unwrapKey(B._systemKeyWrapFormat,n,L,L.algorithm,mb,!1,Bb),Ha.unwrapKey(B._systemKeyWrapFormat,Z,L,L.algorithm,nb,!1,Mb)]);}).then(function(h){var n;n=h[0];h=h[1];n[ac]=l.wrappedEncryptionKey;h[ac]=l.wrappedHmacKey;t.result({encryptionKey:n,hmacKey:h});})["catch"](function(l){t.error(new G(h.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",l));});});},timeout:t.timeout,error:t.error});},loadStoreState:function(h,l,n,t){var L,Z;function B(h,t){var B;try{B=n.userList.slice();}catch(qb){}B?function zb(){var n;n=B.shift();n?Ob(l,n.userIdTokenJSON,h,{result:function(l){try{L.addUserIdToken(n.userId,l);G(h,l,n.serviceTokenJSONList,{result:zb,timeout:zb,error:zb});}catch(Db){zb();}},timeout:zb,error:zb}):t.result();}():t.result();}function G(h,n,t,B){var G,Z;try{G=t.slice();}catch(qa){}if(G){Z=L.getCryptoContext(h);(function Db(){var g;g=G.shift();g?Gc(l,g,h,n,Z,{result:function(d){L.addServiceTokens([d]);Db();},timeout:function(){Db();},error:function(){Db();}}):B.result();}());}else B.result();}L=this;Z=L._log;n.esn!=L._esn?(Z.error("Esn mismatch, starting fresh"),t.error()):function(t){var S,ga,R,da;function B(){var n;if(!S&&ga&&R&&da){S=!0;n=new fb(l,ga,h.esn,{rawKey:R},{rawKey:da});L.setCryptoContext(ga,n,!0);t.result(ga);}}function G(h,g){Z.error(h,g&&""+g);S||(S=!0,t.error());}n.masterTokenJSON?(Nb(l,n.masterTokenJSON,{result:function(h){ga=h;B();},timeout:function(){G("Timeout parsing MasterToken");},error:function(h){G("Error parsing MasterToken",h);}}),L._systemKeyWrapFormat?L.unwrapKeysWithSystemKey(n,{result:function(h){R=h.encryptionKey;da=h.hmacKey;B();},timeout:function(){G("Timeout unwrapping keys");},error:function(h){G("Error unwrapping keys",h);}}):Promise.resolve().then(function(){return Ha.encrypt({name:mb.name,iv:new Uint8Array(16)},n.encryptionKey,new Uint8Array(1));}).then(function(h){R=n.encryptionKey;})["catch"](function(h){G("Error loading encryptionKey");}).then(function(){return Ha.sign(nb,n.hmacKey,new Uint8Array(1));}).then(function(h){da=n.hmacKey;B();})["catch"](function(h){G("Error loading hmacKey");})):G("Persisted store is corrupt");}({result:function(h){B(h,t);},timeout:t.timeout,error:t.error});}});df={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ac="$netflix$msl$wrapsys";ff=bf.extend({init:function(h,l,n,t,G,L){var B,Z;B=new jc([Jb.LZW]);Z=new Qe();Z.addPublicKey(l,n);t[Na.RSA]=new Pe(Z);l={};l[bb.EMAIL_PASSWORD]=new Ze();l[bb.NETFLIXID]=new Ye();l[bb.MDX]=new xe();l[bb.SSO]=new $e();l[bb.SWITCH_PROFILE]=new af();h={_mslCryptoContext:{value:new Ne(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:B,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:G,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:t,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:l,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:L,writable:!1,enumerable:!1,configurable:!1},_store:{value:h,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},getTime:function(){return Date.now();},getRandom:function(){return new Jd();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(h,l){l.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(h){return this._entityAuthFactories[h];},getUserAuthenticationFactory:function(h){return this._userAuthFactories[h];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(h){return this._keyExchangeFactories.filter(function(l){return l.scheme==h;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Ad=re.extend({init:function(h,l,n,t){this._log=h;this._mslContext=l;this._mslRequest=n;this._keyRequestData=t;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(h,l,t,G){var B,L;B=this._mslRequest;L=this._mslContext;n(G,function(){var l,n;if(h||!B.shouldSendUserAuthData)return null;if(B.token){B.email?l=new ze(B.email,B.password):B.netflixId&&(l=new Ae(B.netflixId,B.secureNetflixId));n="undefined"===typeof B.profileGuid?null:B.profileGuid;return new oc(B.mechanism,Ta(B.token),l,n);}return B.email?new mc(B.email,B.password):B.netflixId?new Rb(B.netflixId,B.secureNetflixId):B.mdxControllerToken?(l=new nc("regpairrequest",B.mdxNonce,B.mdxEncryptedPinB64,B.mdxSignature).getEncoding(),new $b(L,B.mdxPin,B.mdxControllerToken,l,B.mdxSignature)):B.useNetflixUserAuthData?new Rb():B.profileGuid?(l=B.userId,l=L.getMslStore().userIdTokens[l],new pc(l,B.profileGuid)):t&&B.sendUserAuthIfRequired?new Rb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(h){h.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(h,l,n){var t,B,G,L,Z,R;t=this._log;B=(this._mslRequest.serviceTokens||[]).slice();G=this._mslContext;l=G.getMslStore();L=h.builder.getMasterToken();Z=this.getUserId();R=l.getUserIdToken(Z);(function ha(){var l;l=B.shift();if(l)try{l instanceof Eb?(h.addPrimaryServiceToken(l),ha()):Gc(G,l,L,R,null,{result:function(l){try{h.addPrimaryServiceToken(l);}catch(kd){t.warn("Exception adding service token",""+kd);}ha();},timeout:function(){t.warn("Timeout parsing service token");ha();},error:function(h){t.warn("Error parsing service token",""+h);ha();}});}catch(zb){t.warn("Exception processing service token",""+zb);ha();}else n.result(!0);}());},write:function(h,l,n){var t;t=Ta(this._mslRequest.body);h.write(t,0,t.length,l,{result:function(B){B!=t.length?n.error(new Xa("Not all data was written to output.")):h.flush(l,{result:function(){n.result(!0);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},getDebugContext:function(){this._dc||(this._dc=new gf(this._log,this._mslRequest));return this._dc;}});gf=Xe.extend({init:function(h,l){this._log=h;this._mslRequest=l;},sentHeader:function(h){this._log.trace("Sent MSL header",zd(this._mslRequest,h),h.serviceTokens&&h.serviceTokens.map(Je).join("\n"));},receivedHeader:function(h){var l,n;l=zd(this._mslRequest,h);n=h.errorCode;n?this._log.warn("Received MSL error header",l,{errorCode:n,errorMessage:h.errorMessage,internalCode:h.internalCode}):this._log.trace("Received MSL header",l);}});Fe={PSK:function(h){return Uc(h,Na.PSK,cf,ob,ld,Ec);},MGK:function(h){return Uc(h,Na.MGK,Ee,jb,ld,Ec);},MGK_WITH_FALLBACK:function(l){var n,t;switch(l.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":n="PSK";break;default:n="MGK";}t=Fe[n];if(!t)throw new G(h.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+n);return t(l);},MGK_JWE:function(h){return Uc(h,Na.MGK,Ee,jb,Vd,jd);},JWK_RSA:function(h){return Vc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Fc.JWK_RSA);},JWK_RSAES:function(h){return Vc(h,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Fc.JWK_RSAES);},JWEJS_RSA:function(h){return Vc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Fc.JWEJS_RSA);}};L.netflix=L.netflix||{};L.netflix.msl={createMslClient:function(l,n){var t,L,R,ga,Z;t=l.log;Z=l.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Pa&&Pa.generateKey&&Pa.importKey&&Pa.unwrapKey))throw new G(h.INTERNAL_EXCEPTION,"No WebCrypto");cb=Pa.generateKey({name:"AES-CBC",length:128},!0,Bb).then?vc.V2014_02:vc.LEGACY;Z("mslisik");return Ha.importKey("spki",l.serverIdentityKeyData,Kd,!1,["verify"]);}).then(function(l){return new Promise(function(n,t){Ib(l,{result:n,error:function(){t(new G(h.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(n){L=n;if(n=Fe[l.authenticationType])return Z("mslcc"),n(l);throw new G(h.INTERNAL_EXCEPTION,"Invalid authenticationType: "+l.authenticationType);}).then(function(h){var n;R=new ef(t,l.esn,h.keyRequestData,h.createKeyRequestData,l.authenticationKeyNames.s,l.systemKeyWrapFormat);ga=new ff(R,l.serverIdentityId,L,h.entityAuthFactories,h.entityAuthData,h.keyExchangeFactories);n=l.storeState;if(n)return Z("mslss"),t.info("Loading store state"),new Promise(function(h,t){R.loadStoreState(l,ga,n,{result:h,timeout:h,error:h});});t.info("No store state, starting fresh");}).then(function(){var h;h=new se();Z("msldone");n.result(new Ke(t,h,ga,R,l.ErrorSubCodes));})["catch"](function(h){n.error(h);});},IHttpLocation:Te,MslIoException:Xa};(function(){var wa,qa,Ca;function h(){h=function(){};qa.Symbol||(qa.Symbol=l);}function l(g){return"jscomp_symbol_"+(g||"")+Ca++;}function n(){var g;h();g=qa.Symbol.iterator;g||(g=qa.Symbol.iterator=qa.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&wa(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return t(this);}});n=function(){};}function t(g){var d;d=0;return G(function(){return d<g.length?{done:!1,value:g[d++]}:{done:!0};});}function G(g){n();g={next:g};g[qa.Symbol.iterator]=function(){return this;};return g;}function R(g){var d;n();h();n();d=g[Symbol.iterator];return d?d.call(g):t(g);}function da(g,d){var f;function a(){}a.prototype=d.prototype;g.prototype=new a();g.prototype.constructor=g;for(var b in d)if(Object.defineProperties){f=Object.getOwnPropertyDescriptor(d,b);f&&Object.defineProperty(g,b,f);}else g[b]=d[b];}function ea(g){if(!(g instanceof Array)){g=R(g);for(var d,a=[];!(d=g.next()).done;)a.push(d.value);g=a;}return g;}function ia(g,d){var a,f;if(d){a=qa;g=g.split(".");for(var b=0;b<g.length-1;b++){f=g[b];f in a||(a[f]={});a=a[f];}g=g[g.length-1];b=a[g];d=d(b);d!=b&&null!=d&&wa(a,g,{configurable:!0,writable:!0,value:d});}}function na(g,d){return Object.prototype.hasOwnProperty.call(g,d);}function ha(g,d){var a,b;n();g instanceof String&&(g+="");a=0;b={next:function(){var f;if(a<g.length){f=a++;return{value:d(f,g[f]),done:!1};}b.next=function(){return{done:!0,value:void 0};};return b.next();}};b[Symbol.iterator]=function(){return b;};return b;}function oa(g,d,a){if(null==g)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return g+"";}function pa(g,d,a){var p;g instanceof String&&(g=String(g));for(var b=g.length,f=0;f<b;f++){p=g[f];if(d.call(a,p,f,g))return{Ti:f,iY:p};}return{Ti:-1,iY:void 0};}wa="function"==typeof Object.defineProperties?Object.defineProperty:function(g,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[d]=a.value);};qa="undefined"!=typeof L&&L===this?this:"undefined"!=typeof global&&null!=global?global:this;Ca=0;ia("Object.setPrototypeOf",function(g){return g?g:"object"!=typeof"".__proto__?null:function(d,a){d.__proto__=a;if(d.__proto__!==a)throw new TypeError(d+" is not extensible");return d;};});ia("Object.assign",function(g){return g?g:function(d,a){var f;for(var b=1;b<arguments.length;b++){f=arguments[b];if(f)for(var p in f)na(f,p)&&(d[p]=f[p]);}return d;};});ia("Object.getOwnPropertySymbols",function(g){return g?g:function(){return[];};});ia("Promise",function(g){var b,f;function d(a){var b;this.LM=0;this.Kba=void 0;this.AL=[];b=this.R4();try{a(b.resolve,b.reject);}catch(c){b.reject(c);}}function a(){this.qv=null;}if(g)return g;a.prototype.npa=function(a){null==this.qv&&(this.qv=[],this.z0a());this.qv.push(a);};a.prototype.z0a=function(){var a;a=this;this.opa(function(){a.$9a();});};b=qa.setTimeout;a.prototype.opa=function(a){b(a,0);};a.prototype.$9a=function(){var a,c;for(;this.qv&&this.qv.length;){a=this.qv;this.qv=[];for(var b=0;b<a.length;++b){c=a[b];delete a[b];try{c();}catch(m){this.C0a(m);}}}this.qv=null;};a.prototype.C0a=function(a){this.opa(function(){throw a;});};d.prototype.R4=function(){var b,c;function a(a){return function(k){c||(c=!0,a.call(b,k));};}b=this;c=!1;return{resolve:a(this.Cqb),reject:a(this.wba)};};d.prototype.Cqb=function(a){var b;if(a===this)this.wba(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.Dsb(a);else{a:switch(typeof a){case"object":b=null!=a;break a;case"function":b=!0;break a;default:b=!1;}b?this.Bqb(a):this.Rta(a);}};d.prototype.Bqb=function(a){var b;b=void 0;try{b=a.then;}catch(c){this.wba(c);return;}"function"==typeof b?this.Esb(b,a):this.Rta(a);};d.prototype.wba=function(a){this.JDa(2,a);};d.prototype.Rta=function(a){this.JDa(1,a);};d.prototype.JDa=function(a,b){if(0!=this.LM)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.LM);this.LM=a;this.Kba=b;this.a$a();};d.prototype.a$a=function(){if(null!=this.AL){for(var a=this.AL,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.AL=null;}};f=new a();d.prototype.Dsb=function(a){var b;b=this.R4();a.zR(b.resolve,b.reject);};d.prototype.Esb=function(a,b){var c;c=this.R4();try{a.call(b,c.resolve,c.reject);}catch(m){c.reject(m);}};d.prototype.then=function(a,b){var f,k,u;function c(a,c){return"function"==typeof a?function(c){try{f(a(c));}catch(I){k(I);}}:c;}u=new d(function(a,c){f=a;k=c;});this.zR(c(a,f),c(b,k));return u;};d.prototype["catch"]=function(a){return this.then(void 0,a);};d.prototype.zR=function(a,b){var m;function c(){switch(m.LM){case 1:a(m.Kba);break;case 2:b(m.Kba);break;default:throw Error("Unexpected state: "+m.LM);}}m=this;null==this.AL?f.npa(c):this.AL.push(function(){f.npa(c);});};d.resolve=function(a){return a instanceof d?a:new d(function(b){b(a);});};d.reject=function(a){return new d(function(b,c){c(a);});};d.race=function(a){return new d(function(b,c){for(var f=R(a),k=f.next();!k.done;k=f.next())d.resolve(k.value).zR(b,c);});};d.all=function(a){var b,c;b=R(a);c=b.next();return c.done?d.resolve([]):new d(function(a,k){var m,p;function f(c){return function(b){m[c]=b;p--;0==p&&a(m);};}m=[];p=0;do m.push(void 0),p++,d.resolve(c.value).zR(f(m.length-1),k),c=b.next();while(!c.done);});};d.$jscomp$new$AsyncExecutor=function(){return new a();};return d;});ia("Array.prototype.keys",function(g){return g?g:function(){return ha(this,function(d){return d;});};});ia("Math.tanh",function(g){return g?g:function(d){var a;d=Number(d);if(0===d)return d;a=Math.exp(-2*Math.abs(d));a=(1-a)/(1+a);return 0>d?-a:a;};});ia("WeakMap",function(g){var f,p;function d(a){this.tK=(p+=Math.random()+1).toString();if(a){h();n();a=R(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1]);}}function a(a){na(a,f)||wa(a,f,{value:{}});}function b(b){var c;c=Object[b];c&&(Object[b]=function(b){a(b);return c(b);});}if(function(){var a,c,b;if(!g||!Object.seal)return!1;try{a=Object.seal({});c=Object.seal({});b=new g([[a,2],[c,3]]);if(2!=b.get(a)||3!=b.get(c))return!1;b["delete"](a);b.set(c,4);return!b.has(a)&&4==b.get(c);}catch(k){return!1;}}())return g;f="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");p=0;d.prototype.set=function(b,c){a(b);if(!na(b,f))throw Error("WeakMap key fail: "+b);b[f][this.tK]=c;return this;};d.prototype.get=function(a){return na(a,f)?a[f][this.tK]:void 0;};d.prototype.has=function(a){return na(a,f)&&na(a[f],this.tK);};d.prototype["delete"]=function(a){return na(a,f)&&na(a[f],this.tK)?delete a[f][this.tK]:!1;};return d;});ia("Map",function(g){var p,q;function d(){var a;a={};return a.Ak=a.next=a.head=a;}function a(a,b){var c;c=a.xt;return G(function(){if(c){for(;c.head!=a.xt;)c=c.Ak;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null;}return{done:!0,value:void 0};});}function b(a,b){var c,f,m;c=b&&typeof b;"object"==c||"function"==c?p.has(b)?c=p.get(b):(c=""+ ++q,p.set(b,c)):c="p_"+b;f=a.$s[c];if(f&&na(a.$s,c))for(a=0;a<f.length;a++){m=f[a];if(b!==b&&m.key!==m.key||b===m.key)return{id:c,list:f,index:a,me:m};}return{id:c,list:f,index:-1,me:void 0};}function f(a){this.$s={};this.xt=d();this.size=0;if(a){a=R(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1]);}}if(function(){var a,b,k,f;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(R([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;k=b.entries();f=k.next();if(f.done||f.value[0]!=a||"s"!=f.value[1])return!1;f=k.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!k.next().done?!1:!0;}catch(r){return!1;}}())return g;h();n();p=new WeakMap();f.prototype.set=function(a,f){var c;c=b(this,a);c.list||(c.list=this.$s[c.id]=[]);c.me?c.me.value=f:(c.me={next:this.xt,Ak:this.xt.Ak,head:this.xt,key:a,value:f},c.list.push(c.me),this.xt.Ak.next=c.me,this.xt.Ak=c.me,this.size++);return this;};f.prototype["delete"]=function(a){a=b(this,a);return a.me&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.$s[a.id],a.me.Ak.next=a.me.next,a.me.next.Ak=a.me.Ak,a.me.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.$s={};this.xt=this.xt.Ak=d();this.size=0;};f.prototype.has=function(a){return!!b(this,a).me;};f.prototype.get=function(a){return(a=b(this,a).me)&&a.value;};f.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};f.prototype.keys=function(){return a(this,function(a){return a.key;});};f.prototype.values=function(){return a(this,function(a){return a.value;});};f.prototype.forEach=function(a,b){for(var c=this.entries(),f;!(f=c.next()).done;)f=f.value,a.call(b,f[1],f[0],this);};f.prototype[Symbol.iterator]=f.prototype.entries;q=0;return f;});ia("Set",function(g){function d(a){this.Oq=new Map();if(a){a=R(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.Oq.size;}if(function(){var a,b,f,d;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(R([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;f=b.entries();d=f.next();if(d.done||d.value[0]!=a||d.value[1]!=a)return!1;d=f.next();return d.done||d.value[0]==a||4!=d.value[0].x||d.value[1]!=d.value[0]?!1:f.next().done;}catch(q){return!1;}}())return g;h();n();d.prototype.add=function(a){this.Oq.set(a,a);this.size=this.Oq.size;return this;};d.prototype["delete"]=function(a){a=this.Oq["delete"](a);this.size=this.Oq.size;return a;};d.prototype.clear=function(){this.Oq.clear();this.size=0;};d.prototype.has=function(a){return this.Oq.has(a);};d.prototype.entries=function(){return this.Oq.entries();};d.prototype.values=function(){return this.Oq.values();};d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,b){var f;f=this;this.Oq.forEach(function(d){return a.call(b,d,d,f);});};return d;});ia("Number.isNaN",function(g){return g?g:function(d){return"number"===typeof d&&isNaN(d);};});ia("String.prototype.includes",function(g){return g?g:function(d,a){return-1!==oa(this,d,"includes").indexOf(d,a||0);};});ia("Array.prototype.find",function(g){return g?g:function(d,a){return pa(this,d,a).iY;};});ia("Array.prototype.entries",function(g){return g?g:function(){return ha(this,function(d,a){return[d,a];});};});ia("String.prototype.repeat",function(g){return g?g:function(d){var a;a=oa(this,null,"repeat");if(0>d||1342177279<d)throw new RangeError("Invalid count value");d|=0;for(var b="";d;)if(d&1&&(b+=a),d>>>=1)a+=a;return b;};});ia("String.prototype.endsWith",function(g){return g?g:function(d,a){var b;b=oa(this,d,"endsWith");d+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var f=d.length;0<f&&0<a;)if(b[--a]!=d[--f])return!1;return 0>=f;};});ia("Array.prototype.findIndex",function(g){return g?g:function(d,a){return pa(this,d,a).Ti;};});ia("String.prototype.startsWith",function(g){return g?g:function(d,a){var b,f,p;b=oa(this,d,"startsWith");d+="";f=b.length;p=d.length;a=Math.max(0,Math.min(a|0,b.length));for(var q=0;q<p&&a<f;)if(b[a++]!=d[q++])return!1;return q>=p;};});ia("Array.prototype.values",function(g){return g?g:function(){return ha(this,function(d,a){return a;});};});ia("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ia("Array.prototype.fill",function(g){return g?g:function(d,a,b){var f;f=this.length||0;0>a&&(a=Math.max(0,f+a));if(null==b||b>f)b=f;b=Number(b);0>b&&(b=Math.max(0,f+b));for(a=Number(a||0);a<b;a++)this[a]=d;return this;};});(function(g){var a;function d(b){var f;if(a[b])return a[b].T;f=a[b]={Ti:b,Tgb:!1,T:{}};g[b].call(f.T,f,f.T,d);f.Tgb=!0;return f.T;}a={};d.WJb=g;d.GGb=a;d.d=function(a,f,p){d.klb(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:p});};d.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};d.n=function(a){var b;b=a&&a.kla?function(){return a["default"];}:function(){return a;};d.d(b,"a",b);return b;};d.klb=function(a,f){return Object.prototype.hasOwnProperty.call(a,f);};d.p="";return d(d.LLb=1069);}([function(g,d,a){function b(){b=Object.assign||function(a){for(var c,b=1,f=arguments.length;b<f;b++){c=arguments[b];for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(a[k]=c[k]);}return a;};return b.apply(this,arguments);}function f(a,c){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c;}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);};return f(a,c);}function p(a,c){function b(){this.constructor=a;}f(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());}function q(a,c){var b,f,k;b={};for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&0>c.indexOf(f)&&(b[f]=a[f]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){k=0;for(f=Object.getOwnPropertySymbols(a);k<f.length;k++)0>c.indexOf(f[k])&&Object.prototype.propertyIsEnumerable.call(a,f[k])&&(b[f[k]]=a[f[k]]);}return b;}function c(a,c,b,f){var k,m,r;k=arguments.length;m=3>k?c:null===f?f=Object.getOwnPropertyDescriptor(c,b):f;if("object"===typeof Reflect&&"function"===typeof Reflect.Fv)m=Reflect.Fv(a,c,b,f);else for(var u=a.length-1;0<=u;u--)if(r=a[u])m=(3>k?r(m):3<k?r(c,b,m):r(c,b))||m;return 3<k&&m&&Object.defineProperty(c,b,m),m;}function m(a,c){return function(b,f){c(b,f,a);};}function k(a,c){if("object"===typeof Reflect&&"function"===typeof Reflect.od)return Reflect.od(a,c);}function u(a,c,b,f){return new(b||(b=Promise))(function(k,m){function r(a){try{d(f.next(a));}catch(ka){m(ka);}}function u(a){try{d(f["throw"](a));}catch(ka){m(ka);}}function d(a){a.done?k(a.value):new b(function(c){c(a.value);}).then(r,u);}d((f=f.apply(a,c||[])).next());});}function r(a,c){var k,m,r,u,d;function b(a){return function(c){return f([a,c]);};}function f(b){if(m)throw new TypeError("Generator is already executing.");for(;k;)try{if(m=1,r&&(u=b[0]&2?r["return"]:b[0]?r["throw"]||((u=r["return"])&&u.call(r),0):r.next)&&!(u=u.call(r,b[1])).done)return u;if(r=0,u)b=[b[0]&2,u.value];switch(b[0]){case 0:case 1:u=b;break;case 4:return k.label++,{value:b[1],done:!1};case 5:k.label++;r=b[1];b=[0];continue;case 7:b=k.eA.pop();k.UA.pop();continue;default:if(!(u=k.UA,u=0<u.length&&u[u.length-1])&&(6===b[0]||2===b[0])){k=0;continue;}if(3===b[0]&&(!u||b[1]>u[0]&&b[1]<u[3]))k.label=b[1];else if(6===b[0]&&k.label<u[1])k.label=u[1],u=b;else if(u&&k.label<u[2])k.label=u[2],k.eA.push(b);else{u[2]&&k.eA.pop();k.UA.pop();continue;}}b=c.call(a,k);}catch(ka){b=[6,ka];r=0;}finally{m=u=0;}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0};}k={label:0,bX:function(){if(u[0]&1)throw u[1];return u[1];},UA:[],eA:[]};h();h();n();return d={next:b(0),"throw":b(1),"return":b(2)},"function"===typeof Symbol&&(d[Symbol.iterator]=function(){return this;}),d;}function y(a,c){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b]);}function A(a){var c,b;h();h();n();c="function"===typeof Symbol&&a[Symbol.iterator];b=0;return c?c.call(a):{next:function(){a&&b>=a.length&&(a=void 0);return{value:a&&a[b++],done:!a};}};}function I(a,c){var b,f,k,m;h();h();n();b="function"===typeof Symbol&&a[Symbol.iterator];if(!b)return a;a=b.call(a);k=[];try{for(;(void 0===c||0<c--)&&!(f=a.next()).done;)k.push(f.value);}catch(ma){m={error:ma};}finally{try{f&&!f.done&&(b=a["return"])&&b.call(a);}finally{if(m)throw m.error;}}return k;}function F(){for(var a=[],c=0;c<arguments.length;c++)a=a.concat(I(arguments[c]));return a;}function D(){for(var a=0,c=0,b=arguments.length;c<b;c++)a+=arguments[c].length;for(var a=Array(a),f=0,c=0;c<b;c++)for(var k=arguments[c],m=0,u=k.length;m<u;m++,f++)a[f]=k[m];return a;}function O(a){return this instanceof O?(this.iY=a,this):new O(a);}function aa(a,c,b){var d,p,q;function f(a){d[a]&&(p[a]=function(c){return new Promise(function(b,f){1<q.push([a,c,b,f])||k(a,c);});});}function k(a,c){var b;try{b=d[a](c);b.value instanceof O?Promise.resolve(b.value.iY).then(m,u):r(q[0][2],b);}catch(Qa){r(q[0][3],Qa);}}function m(a){k("next",a);}function u(a){k("throw",a);}function r(a,c){(a(c),q.shift(),q.length)&&k(q[0][0],q[0][1]);}h();if(!Symbol.kR)throw new TypeError("Symbol.asyncIterator is not defined.");d=b.apply(a,c||[]);q=[];h();return p={},f("next"),f("throw"),f("return"),p[Symbol.kR]=function(){return this;},p;}function N(a){var b,f;function c(c,k){b[c]=a[c]?function(b){return(f=!f)?{value:O(a[c](b)),done:"return"===c}:k?k(b):b;}:k;}h();n();return b={},c("next"),c("throw",function(a){throw a;}),c("return"),b[Symbol.iterator]=function(){return this;},b;}function l(a){var f,k;function c(c){k[c]=a[c]&&function(f){return new Promise(function(k,m){f=a[c](f);b(k,m,f.done,f.value);});};}function b(a,c,b,f){Promise.resolve(f).then(function(c){a({value:c,done:b});},c);}h();if(!Symbol.kR)throw new TypeError("Symbol.asyncIterator is not defined.");h();f=a[Symbol.kR];h();n();h();return f?f.call(a):(a="function"===typeof A?A(a):a[Symbol.iterator](),k={},c("next"),c("throw"),c("return"),k[Symbol.kR]=function(){return this;},k);}function Q(a,c){Object.defineProperty?Object.defineProperty(a,"raw",{value:c}):a.raw=c;return a;}function ja(a){var c;if(a&&a.kla)return a;c={};if(null!=a)for(var b in a)Object.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c;}function z(a){return a&&a.kla?a:{"default":a};}a.r(d);a.d(d,"__extends",function(){return p;});a.d(d,"__assign",function(){return b;});a.d(d,"__rest",function(){return q;});a.d(d,"__decorate",function(){return c;});a.d(d,"__param",function(){return m;});a.d(d,"__metadata",function(){return k;});a.d(d,"__awaiter",function(){return u;});a.d(d,"__generator",function(){return r;});a.d(d,"__exportStar",function(){return y;});a.d(d,"__values",function(){return A;});a.d(d,"__read",function(){return I;});a.d(d,"__spread",function(){return F;});a.d(d,"__spreadArrays",function(){return D;});a.d(d,"__await",function(){return O;});a.d(d,"__asyncGenerator",function(){return aa;});a.d(d,"__asyncDelegator",function(){return N;});a.d(d,"__asyncValues",function(){return l;});a.d(d,"__makeTemplateObject",function(){return Q;});a.d(d,"__importStar",function(){return ja;});a.d(d,"__importDefault",function(){return z;});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(31);d.GBb=g;g=a(1066);d.ZN=g.ZN;g=a(81);d.qo=g.qo;d.Xh=g.Xh;d.Wr=g.Wr;g=a(1050);d.Eea=g.Eea;d.ic=g.ic;g=a(1049);d.N=g.N;g=a(1048);d.wEa=g.wEa;g=a(1047);d.gza=g.gza;g=a(479);d.l=g.l;d.l_=g.l_;g=a(1046);d.optional=g.optional;g=a(1045);d.oh=g.oh;g=a(1044);d.Uz=g.Uz;g=a(1043);d.eN=g.eN;g=a(1042);d.SAa=g.SAa;g=a(481);d.w_=g.w_;g=a(102);d.id=g.id;g=a(91);d.Fv=g.Fv;g=a(476);d.kFa=g.kFa;d.xEa=g.xEa;d.hza=g.hza;d.pFa=g.pFa;g=a(142);d.gE=g.gE;a=a(1041);d.dza=a.dza;},function(g,d){var a,b;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.lj=7001]="UNKNOWN";a[a.aUa=7002]="UNHANDLED_EXCEPTION";a[a.IMa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Jga=7010]="INIT_ASYNCCOMPONENT";a[a.bha=7011]="INIT_HTTP";a[a.FMa=7014]="INIT_BADMOVIEID";a[a.UMa=7016]="INIT_NETFLIXID_MISSING";a[a.TMa=7017]="INIT_NETFLIXID_INVALID";a[a.WMa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.cha=7020]="INIT_PLAYBACK_LOCK";a[a.dha=7022]="INIT_SESSION_LOCK";a[a.VMa=7029]="INIT_POSTAUTHORIZE";a[a.aBb=7031]="INIT_HEADER_MEDIA";a[a.CAb=7032]="HEADER_MISSING";a[a.BAb=7033]="HEADER_FRAGMENTS_MISSING";a[a.XMa=7034]="INIT_TIMEDTEXT_TRACK";a[a.bBb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.cBb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.wGa=7037]="ASE_SESSION_ERROR";a[a.vGa=7038]="ASE_SEEK_THREW";a[a.xGa=7039]="ASE_SKIPPED_THREW";a[a.QMa=7041]="INIT_CORE_OBJECTS1";a[a.RMa=7042]="INIT_CORE_OBJECTS2";a[a.SMa=7043]="INIT_CORE_OBJECTS3";a[a.YAb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.SAb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Uga=7053]="INIT_COMPONENT_STORAGE";a[a.Vga=7054]="INIT_COMPONENT_STORAGELOCK";a[a.TAb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.UAb=7056]="INIT_COMPONENT_NRDDPI";a[a.WAb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Qga=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.d_=7059]="INIT_COMPONENT_DEVICE";a[a.VAb=7062]="INIT_COMPONENT_NTBA";a[a.Rga=7063]="INIT_COMPONENT_MSL";a[a.Mga=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.Pga=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.zu=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.XAb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.GMa=7069]="INIT_COMPONENT_ACCOUNT";a[a.KMa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.MMa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.NMa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.OMa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.PMa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.JMa=7081]="INIT_COMPONENT_NRDP";a[a.LMa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.aha=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.Xga=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.$Ab=7085]="INIT_CONGESTION_SERVICE";a[a.Oga=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.Wga=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Lga=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Kga=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.ZAb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.sB=7091]="INIT_COMPONENT_DRM_CACHE";a[a.HMa=7092]="INIT_COMPONENT_DRM";a[a.Sga=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Nga=7094]="INIT_COMPONENT_FTL";a[a.Tga=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.Yga=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.Zga=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.$ga=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.HGa=7112]="AUTHORIZE_UNKNOWN";a[a.XNa=7117]="MANIFEST_VERIFY";a[a.hka=7120]="START";a[a.Fx=7121]="LICENSE";a[a.rSa=7122]="SECURESTOP";a[a.kka=7123]="STOP";a[a.rAb=7124]="FPSAPPDATA";a[a.k_=7125]="KEEPALIVE";a[a.czb=7126]="DEACTIVATE";a[a.EEb=7127]="SYNC_DEACTIVATE_LINKS";a[a.Bxb=7130]="ACTIVATE";a[a.bQa=7131]="PING";a[a.nia=7133]="NETFLIXID";a[a.$Ka=7134]="ENGAGE";a[a.ANa=7135]="LOGIN";a[a.JSa=7136]="SWITCH_PROFILES";a[a.zNa=7137]="LOGBLOB";a[a.LPa=7138]="PAUSE";a[a.$Ra=7139]="RESUME";a[a.fka=7140]="SPLICE";a[a.nzb=7141]="DOWNLOAD_EVENT";a[a.sHa=7142]="BIND";a[a.IPa=7143]="PAIR";a[a.tHa=7144]="BIND_DEVICE";a[a.eQa=7202]="PLAY_INIT_EXCEPTION";a[a.BBb=7301]="MEDIA_DOWNLOAD";a[a.eDb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.fDb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.Oia=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.kQa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.Pia=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.lQa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.M_=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.Ria=7351]="PLAY_MSE_NOTSUPPORTED";a[a.Qia=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.Nia=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.N_=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.P_=7355]="PLAY_MSE_SOURCEADD";a[a.fQa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.pQa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.kDb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.dDb=7359]="PLAY_MSE_ADDKEY";a[a.nDb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.oQa=7361]="PLAY_MSE_EVENT_ERROR";a[a.O_=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.QO=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.nQa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.qQa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.rQa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.sQa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.lDb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.wQa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.vQa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.uQa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.mDb=7379]="PLAY_MSE_SOURCE_EOS";a[a.tQa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.jDb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.gQa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.hQa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.iQa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.hDb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.mQa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.gDb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.iDb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.jQa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.Sia=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.dLa=7400]="EXTERNAL";a[a.OO=7500]="PAUSE_TIMEOUT";a[a.zO=7502]="INACTIVITY_TIMEOUT";a[a.GGa=7510]="AUTHORIZATION_EXPIRED";a[a.ezb=7520]="DECRYPT_AUDIO";a[a.dka=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.sSa=7601]="SECURE_STOP_KEY_ERROR";a[a.hEb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.TDb=7603]="SECURE_STOP_NCCP_ERROR";a[a.UDb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.gEb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.YDb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.tSa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.ZDb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.$Db=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.g0=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.VDb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.aEb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.dEb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.bEb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.XDb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.fEb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.cEb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.WDb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.eEb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.VKa=7700]="EME_INVALID_KEYSYSTEM";a[a.Vfa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.Ufa=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.Wfa=7703]="EME_GENERATEREQUEST_FAILED";a[a.kO=7704]="EME_UPDATE_FAILED";a[a.Ezb=7705]="EME_KEYSESSION_ERROR";a[a.Pzb=7706]="EME_NO_KEYMESSAGE";a[a.$fa=7707]="EME_REMOVE_FAILED";a[a.XKa=7708]="EME_LOAD_FAILED";a[a.SKa=7709]="EME_CREATE_SESSION_FAILED";a[a.Gzb=7710]="EME_LDL_RENEWAL_ERROR";a[a.Xfa=7711]="EME_INVALID_INITDATA_DATA";a[a.Yfa=7712]="EME_INVALID_LICENSE_DATA";a[a.WKa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.Hzb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.Zfa=7715]="EME_INVALID_SECURESTOP_DATA";a[a.RKa=7716]="EME_CLOSE_FAILED";a[a.cQa=7800]="PLAYDATA_STORE_FAILURE";a[a.cDb=7801]="PLAYDATA_SEND_FAILURE";a[a.nG=7900]="BRANCH_PLAY_FAILURE";a[a.eB=7901]="BRANCH_QUEUE_FAILURE";a[a.Iea=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.rCb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.sCb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.RPa=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.PO=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.dQa=8201]="PLAYGRAPH_SEGMENT_NOT_READY";}(a=d.J||(d.J={})));(function(a){a[a.lj=1001]="UNKNOWN";a[a.qh=1003]="EXCEPTION";a[a.$Ma=1004]="INVALID_DI";a[a.AGa=1011]="ASYNCLOAD_EXCEPTION";a[a.BGa=1013]="ASYNCLOAD_TIMEOUT";a[a.Cxb=1015]="ASYNCLOAD_BADCONFIG";a[a.yGa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.zGa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.rB=1101]="HTTP_UNKNOWN";a[a.a_=1102]="HTTP_XHR";a[a.DG=1103]="HTTP_PROTOCOL";a[a.CG=1104]="HTTP_OFFLINE";a[a.EG=1105]="HTTP_TIMEOUT";a[a.Ex=1106]="HTTP_READTIMEOUT";a[a.yu=1107]="HTTP_ABORT";a[a.XZ=1108]="HTTP_PARSE";a[a.yga=1110]="HTTP_BAD_URL";a[a.qB=1111]="HTTP_PROXY";a[a.Mha=1203]="MSE_AUDIO";a[a.Nha=1204]="MSE_VIDEO";a[a.mOa=1250]="MSE_MEDIA_ERR_BASE";a[a.KBb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.NBb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.LBb=1253]="MSE_MEDIA_ERR_DECODE";a[a.OBb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.MBb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.lB=1260]="EME_MEDIA_KEYERR_BASE";a[a.Nzb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.Izb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.Mzb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.Lzb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.Kzb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.Jzb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.Ozb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.UKa=1280]="EME_ERROR_NODRMSESSSION";a[a.TKa=1281]="EME_ERROR_NODRMREQUESTS";a[a.Czb=1282]="EME_ERROR_INDIV_FAILED";a[a.Dzb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.ZKa=1284]="EME_TIMEOUT_MESSAGE";a[a.YKa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.fZ=1286]="EME_UNDEFINED_DATA";a[a.uG=1287]="EME_INVALID_STATE";a[a.Fzb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.eZ=1289]="EME_EMPTY_DATA";a[a.vG=1290]="EME_TIMEOUT";a[a.gCb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.jCb=1305]="NCCP_PARSEXML";a[a.FQa=1309]="PROCESS_EXCEPTION";a[a.iCb=1311]="NCCP_NETFLIXID_MISSING";a[a.kCb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.dCb=1313]="NCCP_HMAC_MISSING";a[a.cCb=1315]="NCCP_HMAC_MISMATCH";a[a.bCb=1317]="NCCP_HMAC_FAILED";a[a.aCb=1321]="NCCP_CLIENTTIME_MISSING";a[a.$Bb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.uga=1331]="GENERIC";a[a.jPa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.kPa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.lCb=1341]="NCCP_TRANSACTION";a[a.eCb=1343]="NCCP_INVALID_DRMTYPE";a[a.fCb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.hCb=1345]="NCCP_MISSING_PAYLOAD";a[a.vDb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.uDb=1347]="PROTOCOL_MISSING_FIELD";a[a.GQa=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.Mu=1402]="STORAGE_NODATA";a[a.oEb=1403]="STORAGE_EXCEPTION";a[a.wEb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.xEb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.mka=1411]="STORAGE_LOAD_ERROR";a[a.FSa=1412]="STORAGE_LOAD_TIMEOUT";a[a.nka=1414]="STORAGE_SAVE_ERROR";a[a.ISa=1415]="STORAGE_SAVE_TIMEOUT";a[a.i0=1417]="STORAGE_DELETE_ERROR";a[a.lka=1418]="STORAGE_DELETE_TIMEOUT";a[a.vEb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.sEb=1423]="STORAGE_FS_GETDIRECTORY";a[a.uEb=1425]="STORAGE_FS_READENTRIES";a[a.pEb=1427]="STORAGE_FS_FILEREAD";a[a.rEb=1429]="STORAGE_FS_FILEWRITE";a[a.qEb=1431]="STORAGE_FS_FILEREMOVE";a[a.tEb=1432]="STORAGE_FS_PARSEJSON";a[a.HSa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.GSa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.yCb=1501]="NTBA_UNKNOWN";a[a.xCb=1502]="NTBA_EXCEPTION";a[a.tCb=1504]="NTBA_CRYPTO_KEY";a[a.vCb=1506]="NTBA_CRYPTO_OPERATION";a[a.uCb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.wCb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.rfa=1553]="DEVICE_NO_ESN";a[a.TY=1555]="DEVICE_ERROR_GETTING_ESN";a[a.Via=1603]="PLUGIN_LOAD_MISSING";a[a.Tia=1605]="PLUGIN_LOAD_ERROR";a[a.Wia=1607]="PLUGIN_LOAD_TIMEOUT";a[a.Uia=1609]="PLUGIN_LOAD_EXCEPTION";a[a.AQa=1625]="PLUGIN_EXCEPTION";a[a.xQa=1627]="PLUGIN_CALLBACK_ERROR";a[a.yQa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.CLa=1701]="FORMAT_UNKNOWN";a[a.lga=1713]="FORMAT_XML";a[a.DLa=1715]="FORMAT_XML_CONTENT";a[a.BLa=1721]="FORMAT_BASE64";a[a.nO=1723]="FORMAT_DFXP";a[a.rMa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.Hga=1802]="INDEXDB_NOT_SUPPORTED";a[a.qMa=1803]="INDEXDB_OPEN_ERROR";a[a.Iga=1804]="INDEXDB_OPEN_NULL";a[a.pMa=1805]="INDEXDB_OPEN_BLOCKED";a[a.sMa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.oMa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.AO=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.vOa=1901]="MSL_UNKNOWN";a[a.oOa=1911]="MSL_INIT_NO_MSL";a[a.Sha=1913]="MSL_INIT_ERROR";a[a.pOa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.Pha=1931]="MSL_ERROR";a[a.uOa=1933]="MSL_REQUEST_TIMEOUT";a[a.tOa=1934]="MSL_READ_TIMEOUT";a[a.nOa=1935]="MSL_ERROR_HEADER";a[a.MG=1936]="MSL_ERROR_ENVELOPE";a[a.Qha=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.Rha=1957]="MSL_ERROR_REAUTH";a[a.z0=2103]="WEBCRYPTO_MISSING";a[a.tUa=2105]="WEBCRYPTOKEYS_MISSING";a[a.uUa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.Hyb=2200]="CACHEDDATA_PARSEJSON";a[a.Rea=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.Iyb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.nu=2203]="CACHEDDATA_INVALID_FORMAT";a[a.zxb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.Axb=3001]="ACCOUNT_INVALID";a[a.mzb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.lzb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.jzb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.kzb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.izb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.yEb=3300]="STORAGE_VA_LOAD_ERROR";a[a.zEb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.CEb=3302]="STORAGE_VA_SAVE_ERROR";a[a.DEb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.AEb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.BEb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.L_=3077]="PBO_DEVICE_EOL_WARNING";a[a.Hia=3078]="PBO_DEVICE_EOL_FINAL";a[a.YPa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.MPa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.QPa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Iia=5007]="PBO_INCORRECT_PIN";a[a.WPa=5008]="PBO_MOBILE_ONLY";a[a.ZPa=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.SPa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.OPa=5059]="PBO_BLACKLISTED_IP";a[a.NPa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.PPa=5080]="PBO_CHOICE_MAP_ERROR";a[a.XPa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.UPa=5091]="PBO_MALFORMED_REQUEST";a[a.TPa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.VPa=5093]="PBO_MDX_INVALID_CTICKET";a[a.kJa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.lJa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.hKa=5200]="DOWNLOADER_IO_ERROR";a[a.Hea=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.xHa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.Wxb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.EY=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.uHa=5304]="BRANCHING_ASE_FAILURE";a[a.Txb=5305]="BRANCHING_MOMENT_FAILURE";a[a.vHa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.Vxb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.yHa=5308]="BRANCHING_SEEK_THREW";a[a.Uxb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.wHa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.zHa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.AHa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.nGa=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.iea=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";}(b=d.u||(d.u={})));(function(a){a[a.gyb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.Xxb=5005]="BR_ACCOUNT_ON_HOLD";a[a.ayb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.dyb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.$xb=5059]="BR_BLACKLISTED_IP";a[a.Yxb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.eyb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.byb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.fyb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.cyb=2207]="BR_ENDPOINT_ERROR";a[a.Zxb=2208]="BR_AUTHORIZATION_ERROR";}(d.rLa||(d.rLa={})));d.b_={FHa:"400",jFb:"401",Zia:"413"};d.y_={pAb:1,YEb:2,Szb:3,iFb:4,tBb:5,Rzb:6,w0:7,cLa:8,LDb:9,lEb:10};(function(a){a[a.JPa=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.KPa=98]="PAIRING_UNKNOWN_ERROR";}(d.u_||(d.u_={})));d.Zzb=function(a){return 7100<=a&&7200>a;};d.pLa=function(b){return b==a.OO||b==a.zO;};d.tLa=function(a){return 1100<=a&&1199>=a;};d.aAb=function(a){return 1300<=a&&1399>=a;};d.$zb=function(a){return 1900<=a&&1999>=a;};d.fga=function(a,b){return 1<=a&&9>=a?b+a:b;};d.uLa=function(a){return d.fga(a,b.mOa);};d.gga=function(a){return d.fga(a,b.lB);};d.uo=function(a){var d,f,c;d={};f=a.errorExternalCode||a.Kc;c=a.errorDetails||a.Sa;d.ErrorSubCode=a.errorSubCode||a.Z||b.lj;f&&(d.ErrorExternalCode=f);c&&(d.ErrorDetails=c);return d;};},function(g,d,a){var p;function b(a){return p.fP.apply(this,arguments)||this;}function f(a){return new p.Qp(a,d.ha);}Object.defineProperty(d,"__esModule",{value:!0});p=a(475);da(b,p.fP);d.cFb=b;d.iKb=function(a){return new p.Qp(a,d.yB);};d.Onb=function(a){return new p.Qp(a*d.Ym.af,d.yB);};d.Bb=f;d.ih=function(a){return new p.Qp(a,d.Ym);};d.tV=function(a){return new p.Qp(a,d.iia);};d.fJb=function(a){return new p.Qp(a,d.iMa);};d.timestamp=function(a){return f(a);};d.yB=new b(1,"\u03bcs");d.ha=new b(1E3,"ms",d.yB);d.Ym=new b(1E3*d.ha.af,"s",d.yB);d.iia=new b(60*d.Ym.af,"min",d.yB);d.iMa=new b(60*d.iia.af,"hr",d.yB);d.sf=f(0);},function(g,d,a){var b,f,p,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(482);g=a(7);f=a(29);p=a(98);q=a(99);c=a(39);m=a(19);k=a(55);d.Om=b.Yc.get(p.Xx);d.gY=d.Om.encode.bind(d.Om);d.vN=d.Om.decode.bind(d.Om);d.Eh=b.Yc.get(q.wx);d.pGb=d.Eh.encode.bind(d.Eh);d.oGb=d.Eh.decode.bind(d.Eh);d.ypa=d.Eh.VJ.bind(d.Eh);d.qGb=d.Eh.ZEa.bind(d.Eh);d.Ae=b.Yc.get(c.Uj);d.Ms=function(a){a=m.ae(a)?d.vN(a):a;return d.Ae.encode(a);};d.$k=d.Ae.decode.bind(d.Ae);d.o1a=function(a){return d.gY(d.$k(a));};d.pTa=a(521);d.$D=function(){return b.Yc.get(f.$Y);};d.Jf=b.Yc.get(g.ob);d.log=d.Jf.kb("General");d.Uf=function(a,c){return d.Jf.kb(a,void 0,c);};d.mg=function(a,c){return d.Jf.kb(c,a,void 0);};d.lT=function(a,c,b,k){return d.Jf.kb(a,void 0,k,c,b);};d.$_=function(a,c){return b.Yc.get(k.Mk)(a,c,void 0).Dda();};d.V=b.Yc;},function(g){g.T={wK:function(d){for(var a in d)d.hasOwnProperty(a)&&(this[a]=d[a]);},reset:function(){}};},function(g){var d;d={na:function(a){return"number"===typeof a;},Xe:function(a){return"object"===typeof a;},ae:function(a){return"string"===typeof a;},U:function(a){return"undefined"===typeof a;},Zfb:function(a){return"boolean"===typeof a;},Gb:function(a){return"function"===typeof a;},Ma:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},gmb:function(a){var b,f;f=[];if(!d.Xe(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&f.push([b,a[b]]);return f;}};d.jd=d.forEach=function(a,b,f){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var p=0,q=a.length;p<q;p++)b.call(f,a[p],p,a);else for(p in a)d.has(a,p)&&b.call(f,a[p],p,a);return a;};g.T=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Zh||(d.Zh={});g[g.ALa=0]="FATAL";g[g.ERROR=1]="ERROR";g[g.y0=2]="WARN";g[g.c_=3]="INFO";g[g.Fka=4]="TRACE";g[g.Oe=5]="DEBUG";d.Cha="LogFieldBuilderFactorySymbol";d.ob="LoggerFactorySymbol";d.iO={};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g="undefined"===typeof L?{}:L;d.Kk=g.navigator||{};d.$j=d.Kk.userAgent;d.E_=g.location;d.Qr=g.screen;d.Pr=g.performance;d.Wd=g.document||{};d.nCb=d.Wd.documentElement;d.nv=Array.prototype;d.sort=d.nv.sort;d.map=d.nv.map;d.slice=d.nv.slice;d.every=d.nv.every;d.reduce=d.nv.reduce;d.filter=d.nv.filter;d.forEach=d.nv.forEach;d.pop=d.nv.pop;d.WG=Object.create;d.BPa=Object.keys;d.gO=Date.now;d.lTa=String.fromCharCode;d.Kx=Math.floor;d.GOa=Math.ceil;d.ai=Math.round;d.Um=Math.max;d.wo=Math.min;d.OG=Math.random;d.NG=Math.abs;d.Yha=Math.pow;d.HOa=Math.sqrt;d.D_=g.escape;d.F_=g.unescape;d.URL=g.URL||g.webkitURL;d.BB=g.MediaSource||g.WebKitMediaSource;d.SG=g.WebKitMediaKeys||g.MSMediaKeys||g.MediaKeys;d.Hu=g.nfCrypto||g.webkitCrypto||g.msCrypto||g.crypto;d.An=d.Hu&&(d.Hu.webkitSubtle||d.Hu.subtle);d.C_=g.nfCryptokeys||g.webkitCryptokeys||g.msCryptokeys||g.cryptokeys;try{d.indexedDB=g.indexedDB;}catch(a){d.pJb=a||"noex";}try{d.localStorage=g.localStorage;}catch(a){d.Axa=a||"noex";}},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qe=function(){};d.aSa=function(){return!0;};d.Tc={W:!0};d.Yj=1E3;d.RDb=86400;d.SDb=604800;d.CBb=1E4;d.DBb=1E7;d.mFb=1.5;d.rBb=.128;d.Sxb=7.8125;d.iyb=128;d.Hx=145152E5;d.ZNa=1E5;d.H_="$netflix$player$order";d.FB=-1;d.I_=1;d.tJa=["en-US"];d.jyb=8;d.$Na=65535;d.kEb=65536;d.DCb=Number.MAX_VALUE;d.dZ="playready";d.Pfa="widevine";d.Bzb="fps";d.MKa="clearkey";d.Ix='audio/mp4; codecs="mp4a.40.5"';d.cOa='audio/mp4; codecs="mp4a.a6"';d.Ol='video/mp4; codecs="avc1.640028"';d.FBb='video/mp4; codecs="hev1.2.6.L153.B0"';d.EBb='video/mp4; codecs="dvhe.01000000"';d.KKa="9A04F079-9840-4286-AB92-E65BE0885F95";d.zzb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";d.Azb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";d.xyb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];d.SHa="A2394F52-5A9B-4F14-A244-6C427C648DF4";d.yyb="4E657466-6C69-7846-7261-6D6552617465";d.zyb="8974DBCE-7BE7-4C51-84F9-7148F9882554";d.tyb="mp4a";d.QHa="enca";d.qyb="ec-3";d.oyb="avc1";d.RHa="encv";d.syb="hvcC";d.ryb="hev1";d.pyb="dvhe";d.uyb="vp09";d.o_=0;d.LG=1;d.Yja="position:relative;width:100%;height:100%;overflow:hidden";},function(g,d,a){var b,f,p,q;b=a(79);f=a(1023);p=a(251);q=a(1022);g=function(){function a(a){this.ks=!1;a&&(this.fg=a);}a.prototype.ng=function(c){var b;b=new a();b.source=this;b.dA=c;return b;};a.prototype.subscribe=function(a,c,b){var k;k=this.dA;a=f.Uub(a,c,b);k?k.call(a,this.source):a.add(this.source||!a.Hk?this.fg(a):this.v2(a));if(a.Hk&&(a.Hk=!1,a.MA))throw a.NA;return a;};a.prototype.v2=function(a){try{return this.fg(a);}catch(k){a.MA=!0;a.NA=k;a.error(k);}};a.prototype.forEach=function(a,c){var k;k=this;c||(b.root.Rx&&b.root.Rx.config&&b.root.Rx.config.Promise?c=b.root.Rx.config.Promise:b.root.Promise&&(c=b.root.Promise));if(!c)throw Error("no Promise impl found");return new c(function(c,b){var m;m=k.subscribe(function(c){if(m)try{a(c);}catch(F){b(F);m.unsubscribe();}else a(c);},b,c);});};a.prototype.fg=function(a){return this.source.subscribe(a);};a.prototype[p.observable]=function(){return this;};a.prototype.bnb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return 0===a.length?this:q.cnb(a)(this);};a.prototype.hN=function(){var a,c;c=this;a||(b.root.Rx&&b.root.Rx.config&&b.root.Rx.config.Promise?a=b.root.Rx.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var k;c.subscribe(function(a){return k=a;},function(a){return b(a);},function(){return a(k);});});};a.create=function(c){return new a(c);};return a;}();d.Ca=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);return d;}(Error);d.assert=function(a,b){if(!a)throw new f(b||"Assertion failed");};},function(g){g.T={Fa:{ci:0,Bi:1,Up:2,dd:3,XO:4,WO:5,Ci:6,name:"STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")},hyb:{Vr:0,nEb:1,name:["STARTUP","STEADY"]},wO:{ci:0,mEb:1,bUa:2,name:["STARTING","STABLE","UNSTABLE"]},Da:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},$h:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Qf:{URL:0,Sx:1,tha:2,Or:3,name:["URL","SERVER","LOCATION","NETWORK"]},Gd:{HAVE_NOTHING:0,xu:1,Np:2,yG:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},cf:{Gea:0,zLa:1,sDb:2,NEXT:3,SCb:4,WEb:5,sAb:6,aOa:7,Vr:8,ERROR:9,Q_:10,EQa:11,DY:12,yNa:13,xNa:14,vSa:15,uSa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},Qzb:{Or:0,dzb:1,name:["NETWORK","DECODE"]},iEb:{AJa:"delayedSeamless",LAb:"hideLongTransition"}};},function(g,d,a){var p,q,c,m,k,u,r,y,A,I,h,D,O,aa,N,l,Q,n;function b(a){return(a=d.config.yvb[f(a)])?a:{};}function f(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";if(0<=a.indexOf("video-merch-bob-horizontal"))return"video-merch-bob-horizontal";}}Object.defineProperty(d,"__esModule",{value:!0});p=a(9);q=a(28);c=a(4);m=a(52);k=a(15);a(19);u=a(34);r=a(29);y=a(63);A=a(18);a(7);I=a(8);h=a(26);D=a(16);O=a(224);aa=a(38);N=a(58);l=a(141);Q=a(41);n=a(3);d.A3a=function(a){var B,G,Ra,cc,Lc,R,Ya,ec,ta;function b(a,c){A.Xc(a,function(a,k){D.Gb(k)?c[a]=k.call(void 0,c[a]):D.Xe(k)&&(c[a]=c[a]||{},b(k,c[a]));});}function f(a,c,b,m){for(var f=[],u=3;u<arguments.length;++u)f[u-3]=arguments[u];return function(m){D.Ub(m)&&(b=m);k.Ea(D.Gb(a));return a.apply(void 0,[].concat([c,b],ea(f)));};}function g(a){a=a.toLowerCase();cc.hasOwnProperty(a)&&(Ra[a]=cc[a],Lc[a]=cc[a]);return a;}function F(a,b,m){var f;a=a.toLowerCase();if(Ra.hasOwnProperty(a)){f=Ra[a];try{f=m?m(f):f;}catch(kf){f=void 0;}if(void 0!==f)return f;k.Ea(!1);c.log.error("Invalid configuration value. Name: "+a);}return b;}function ba(a,c,b,k){return F(a,c,function(a){D.ae(a)&&(a=A.de(a));if(D.ggb(a,b,k))return a;});}function z(a,c,b,k){return F(a,c,function(a){D.ae(a)&&(a=A.de(a));if(D.iw(a,b,k))return a;});}function ja(a,c,b,k){return F(a,c,function(a){D.ae(a)&&(a=parseFloat(a));if(D.na(a,b,k))return a;});}function U(a,c,b){return F(a,c,function(a){if(b?b.test(a):D.ae(a))return a;});}function P(a,c){return F(a,c,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function ra(a,c){return F(a,c,function(a){if(D.ae(a))return JSON.parse(I.F_(a));if(D.Xe(a))return a;});}function ka(a,c,b,k,m,f){var u;a=a.toLowerCase();Ra.hasOwnProperty(a)&&(u=Ra[a]);if(!D.Ub(u))return c;if(D.ae(u))if(u[0]!==b)u=k(u);else try{u=JSON.parse(I.F_(u));}catch(ib){u=void 0;}if(void 0===u)return c;for(a=0;a<m.length;a++)if(!m[a](u))return c;return f?f(u):u;}function t(a,c,b,k,m){return ka(a,c,"[",function(a){a=a.split("|");for(var c=a.length;c--;)a[c]=A.de(a[c]);return a;},[function(a){return D.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(!D.iw(a[c],b,k))return!1;return!0;},function(a){return void 0===m||a.length>=m;}]);}function Fa(a,c){return ka(a,c,"[",function(a){a=D.isArray(a)?a:a.split("|");for(var c=a.length;c--;)try{a[c]=JSON.parse(I.F_(a[c]));}catch(kf){a=void 0;break;}return a;},[function(a){return D.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(!D.Ub(a[c])||!D.Xe(a[c]))return!1;return!0;}]);}function Ea(a,c,b,k){return ka(a,c,"[",function(a){return D.isArray(a)?a:a.split("|");},[function(a){return D.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(b?!b.test(a[c]):!D.Cz(a[c]))return!1;return!0;},function(a){return void 0===k||a.length>=k;}]);}function Qa(a,c,b){return ka(a,c,"{",function(a){var c,k,m;c={};a=a.split(";");for(var b=a.length;b--;){k=a[b];m=k.indexOf(":");if(0>=m)return;c[k.substring(0,m)]=k.substring(m+1);}return c;},[function(a){return D.Xe(a)&&0<Object.keys(a).length;},function(a){if(b)for(var c in a)if(!b.test(a[c]))return!1;return!0;}],function(a){var b;b={};A.Za(b,c);A.Za(b,a);return b;});}function dc(a){var c;c=[];A.Xc(a,function(a,b){var k;try{k="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(b);}catch(lf){k="cantparse";}c.push(a+"="+k);});return c.join("\n");}B=/^[0-9]+[%]?$/;G=/^[0-9]*$/;Lc={};R=c.V.get(m.Sm);Ya=c.V.get(l.aH);(function(){var k;function b(a){a.split(",").forEach(function(a){var c;c=a.indexOf("=");0<c&&(Ra[a.substring(0,c).toLowerCase()]=a.substring(c+1));});}Ra={};A.Za(Ra,u.Lia);a&&a.length&&I.forEach.call(a,function(a){D.ae(a)?b(a):D.Xe(a)&&A.Za(Ra,a,{DE:!0});});cc=A.Za({},q.H7(),{DE:!0});k=q.Zob().cadmiumconfig;k&&(c.log.info("Config cookie loaded",k),b(k));if(u.oGa||Ra.istestaccount)A.Za(Ra,cc),Lc=cc;"clearkey"!=U("drmType")||Ra.keysystemid||(Ra.keysystemid=(L.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());d.config={};ec={R5:f(P,g("enableDDPlus20"),!0),Q5:f(P,g("enableDDPlus"),!0),CJ:f(P,g("enableDDPlusAtmos"),!1),S8a:f(P,g("enableLSSDH"),!0),N8a:f(P,g("enableHEVC"),!1),kAa:f(P,g("overrideEnableHEVC"),!1),M8a:f(P,g("enableHDR"),!1),jAa:f(P,g("overrideEnableHDR"),!1),yS:f(P,g("enableAVCHigh"),Ya.yS),QV:f(P,g("overrideEnableAVCHigh"),Ya.QV),b9a:f(P,g("enableVP9"),!1),lAa:f(P,g("overrideEnableVP9"),!1),J8a:f(P,g("enableAV1"),!1),paa:f(P,g("overrideEnableAV1"),!1),X8a:f(P,g("enablePRK"),!1),O8a:f(P,g("enableHWDRM"),!1),Q8a:f(P,g("enableImageSubs"),!0),yI:f(Ea,g("audioProfiles"),Ya.yI),SHb:f(P,g("disableHD"),!1),lY:f(z,"videoCapabilityDetectorType",r.ak.zx),q3:f(z,"audioCapabilityDetectorType",r.vx.zx),dG:f(Ea,g("videoProfiles"),Ya.dG),sZa:f(Ea,g("timedTextProfiles"),Ya.gu),gu:function(){return ec.sZa().filter(function(a){return a===y.Ok.UY?ec.S8a():a===y.Ok.AB?ec.Q8a():!0;});},endpoint:f(P,g("endpoint"),!1),xDa:f(P,g("setMediaKeysEarly"),!1),GKb:f(P,g("nrdpPersistCookiesToIndexDB"),!1),bU:f(P,g("ignoreKeyStatusOutputNotAllowed"),!1),gsa:f(P,g("doNotPerformLdlOnPlaybackCreate"),!1),hsa:f(P,g("doNotPerformLdlOnPlaybackStart"),!1),NFa:f(P,g("useHdcpLevelOnCast"),!1),P8a:f(P,g("enableHdcp"),!1),Xn:f(P,g("prepareCadmium"),!1),ZZa:f(P,g("acceptManifestOnPrepareItemParams"),!0),VAa:f(ra,"ppmconfig",{maxNumberTitlesScheduled:1}),Anb:f(P,g("playerPredictionModelV2"),!0),UM:f(P,g("supportsLimitedDurationLicense"),!1),V5:f(P,g("enableLdlPrefetch"),!1),zS:f(P,g("enableGetHeadersAndMediaPrefetch"),!1),qJ:f(P,g("deleteCachedManifestOnPlayback"),!1),sJ:f(P,g("deleteOtherManifestCacheOnCreate"),!1),rJ:f(P,g("deleteOtherLdlCacheOnCreate"),!1),Ymb:f(z,g("periodicPrepareLogsIntervalMilliseconds"),36E5),$nb:f(z,g("prepareManifestCacheMaxCount"),50),Ynb:f(z,g("prepareLdlCacheMaxCount"),30),$Aa:f(z,g("prepareManifestExpiryMilliseconds"),12E5),Znb:f(z,g("prepareLdlExpiryMilliseconds"),78E4),Xnb:f(U,g("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),UMb:f(ra,"videoApp"),bx:f(ra,"storageRules"),vab:f(P,"ftlEnabled",!0),E8:f(z,g("imageSubsResolution"),0),rfb:f(z,g("imageSubsMaxBuffer"),Ya.Wib.ba(Q.Gr),0),WI:f(P,g("captureBatteryStatus"),!1),Wab:f(z,g("getBatteryApiTimeoutMilliseconds"),5E3),ce:f(U,g("keySystemId"),Ya.ce),ixa:f(Ea,g("keySystemList"),void 0,void 0),Ejb:f(z,g("hdcpGlobalTimeout1"),1E4),Fjb:f(z,g("hdcpGlobalTimeout2"),1E4),jKb:f(z,g("hdcpQueryTimeout1"),1E3),kKb:f(z,g("hdcpQueryTimeout2"),1E3),Gjb:f(z,g("hdcpQueryTimeout2"),100),Hjb:f(P,g("microsoftHwdrmRequiresHevc"),!1),Bjb:f(P,g("microsoftEnableDeviceInfo"),!1),Cjb:f(P,g("microsoftEnableHardwareInfo"),!1),Djb:f(P,g("microsoftEnableHardwareReset"),!1),rwb:f(P,g("useHevcCodecForDolbyVision"),!1),$hb:f(P,"logMediaPipelineStatus",!1),fM:f(P,g("renderDomDiagnostics"),!0),Hxa:function(){return-1;},BE:f(ba,g("logDisplayMaxEntryCount"),Ya.BE,-1),gib:f(ba,g("logToConsoleLevel"),-1),v1a:f(ba,g("bladerunnerCmdHistorySize"),10),uq:function(){return R.uq;},jwb:f(P,"upgradeNetflixId",!0),I9:f(P,"logErrorIfEsnNotProvided",!0),a6:f(P,"enforceSinglePlayback",Ya.a6),CS:f(P,"enforceSingleSession",Ya.CS),m4:f(P,"closeOtherPlaybacks",!0),A0a:f(z,"asyncLoadTimeout",15E3,1),rib:f(z,"mainThreadMonitorPollRate",0),EKb:f(P,"nrdpAlwaysShowUIOverlay",!1),HKb:f(P,"nrdpValidateSSOTokens",!0),FKb:f(U,"nrdpConfigServiceApiPath","/cbp/cadmiumconfig-default"),dMb:f(P,"showNrdpDebugBadging",!1),nY:function(){return R.nY;},aw:function(){return R.aw;},aD:function(){return R.aD;},VA:function(){return R.VA;},VFa:f(z,g("verbosePlaybackInfoDenominator"),0),AW:f(P,"renderTimedText",!0),Knb:f(P,"preBufferTimedText",!0),q$a:f(P,"fatalOnTimedTextLoadError",!0),PEa:f(Qa,"timedTextStyleDefaults",{}),Ada:f(Qa,"timedTextStyleOverrides",{}),zda:f(Qa,"timedTextFontFamilyMapping",Ya.zda||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),QEa:f(z,g("timedTextTimeOverride"),0),TF:f(z,"timedTextSimpleFallbackThreshold",Ya.TF.ba(Q.Gr)),a5:f(U,g("customDfxpUrl")),a9a:f(P,g("enableSubtitleTrackerLogging"),!1),Hrb:f(P,g("sendSubtitleQoeLogblobOnMidplay"),!1),V3:f(t,"cdnIdWhiteList",[]),U3:f(t,"cdnIdBlackList",[]),F6:f(U,g("forceAudioTrack")),skb:f(P,"muteVolumeOnPlaybackClose",!0),IKb:f(U,"nrdpVolumeControlType","VOLUME_STREAM"),H6:f(U,g("forceTimedTextTrack")),tya:f(z,g("maxRetriesTimedTextDownload"),0),OEa:f(z,g("timedTextRetryInterval"),8E3),Jtb:f(U,"storageType","idb",/^(none|fs|idb|ls)$/),Dxa:f(z,"lockExpiration",1E4),Xhb:f(z,"lockRefresh",3E3),s2a:f(P,"captureUnhandledExceptions",!0),qfb:f(P,"ignoreUnhandledExceptionDuringPlayback",!0),Dvb:f(P,"unhandledExceptionsArePlaybackErrors",!1),tFa:f(U,"unhandledExceptionSource",""),hob:f(P,"preserveLastFrame",!1),Sjb:f(z,"minBufferingTimeInMilliseconds",4E3),zob:f(z,"progressBackwardsGraceTimeMilliseconds",4E3),Aob:f(z,"progressBackwardsMinPercent",10),x1a:f(U,g("bookmarkIgnoreBeginning"),"0",B),y1a:f(U,g("bookmarkIgnoreEnd"),"5%",B),z1a:f(U,g("bookmarkIgnoreEndForBranching"),"60000",B),FE:f(z,"maxParallelConnections",3),Aba:f(P,"reportThroughputInLogblobs",!0),KE:f(z,"minAudioMediaRequestDuration",16E3),Qjb:f(z,"minAudioMediaRequestDurationBranching",0),OE:f(z,"minVideoMediaRequestDuration",4E3),akb:f(z,"minVideoMediaRequestDurationAL1",0),bkb:f(z,"minVideoMediaRequestDurationBranching",0),jV:f(z,"minAudioMediaRequestSizeBytes",0),rV:f(z,"minVideoMediaRequestSizeBytes",0),u8a:f(P,"droppedFrameRateFilterEnabled",!1),v8a:f(z,"droppedFrameRateFilterMaxObservation",60,10,1E3),x8a:f(function(a,c,b,k,m,f){return ka(a,c,"[",function(a){a=a.split(";");for(var c=a.length;c--;){a[c]=a[c].split("|");for(var b=a[c].length;b--;)a[c][b]=A.de(a[c][b]);}return a;},[function(a){return D.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--&&void 0!==a;){if(!D.isArray(a[c]))return!1;for(var m=a[c].length;m--;)if(!D.iw(a[c][m],b,k))return!1;}return!0;},function(a){if(void 0!==m)for(var c=a.length;c--;)if(m!==a[c].length)return!1;return!0;},function(a){return void 0===f||a.length>=f;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),WHb:f(P,"droppedFrameRateFilterWithoutRebufferEnabled",!0),w8a:f(z,"droppedFrameRateFilterMinHeight",384),y8a:f(t,"droppedFramesPercentilesList",[]),Ijb:f(P,"microsoftScreenSizeFilterEnabled",!1),xvb:f(P,"uiLabelFilterEnabled",!0),wvb:f(ra,"uiLabelFilter",{}),i7a:f(z,g("defaultVolume"),100,0,100),bsa:f(P,"disableVideoRightClickMenu",!1),Xjb:f(z,"minDecoderBufferMilliseconds",1E3,0,p.Hx),oaa:f(z,"optimalDecoderBufferMilliseconds",5E3,0,p.Hx),cAa:f(z,"optimalDecoderBufferMillisecondsBranching",3E3,0,p.Hx),sV:f(z,"minimumTimeBeforeBranchDecision",3E3,0,p.Hx),VU:f(z,"maxDecoderBufferMilliseconds",Ya.VU.ba(n.ha),0,p.Hx),Dra:f(z,"decoderTimeoutMilliseconds",1E4,1),R7a:f(P,"disgardMediaOnAppend",!1),$_a:f(P,"appendMediaBeforeInit",!1),Jmb:f(z,"pauseTimeoutLimitMilliseconds",18E5),H8:f(z,"inactivityMonitorInterval",3E4,0),XZa:f(t,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),MD:f(P,"enableTrickPlay",!1),J_a:f(t,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),ovb:f(z,"trickPlayHighResolutionBitrateThreshold",1E3),pvb:f(z,"trickPlayHighResolutionThresholdMilliseconds",1E4),svb:f(ja,"trickplayBufferFactor",.5),nvb:f(z,"trickPlayDownloadRetryCount",1),g$:f(U,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),RDa:f(z,"simplePercentilePredictorPercentile",25),PDa:f(U,"simplePercentilePredictorCalcToUse","simple",/^(simple|tdigest)$/),QDa:f(U,"simplePercentilePredictorMethod","simple",/^(simple|minimum)$/),eha:f(ra,"IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.1,fup:.95,fmind:.2,fmaxd:1,fmintp:.25,fmindp:.75}),Q$:f(U,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Dga:f(ra,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),lya:f(ba,"maxIQRSamples",Infinity),Qya:f(ba,"minIQRSamples",5),RFa:f(P,"useResourceTimingAPI",!1),ofb:f(P,"ignoreFirstByte",!0),tjb:f(P,"mediaRequestAsyncLoadStart",!0),ywb:f(P,"useXHROnLoadStart",!1),m6:f(t,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),LR:f(z,"connectTimeoutMilliseconds",8E3,500),X$:f(z,"noProgressTimeoutMilliseconds",8E3,500),uwb:f(P,"useOnLineApi",!1),NEa:f(z,"timedTextDownloadRetryCountBeforeCdnSwitch",3),jza:f(z,"netflixRequestExpiryTimeout",0),cxb:f(P,"webkitDecodedFrameCountIncorrectlyReported",!1),orb:f(z,"seekBackOnAudioTrackChangeMilliseconds",8E3),Hmb:f(P,"pausePlaybackOnAudioSwitch",!0),jda:f(Ea,g("supportedAudioTrackTypes"),[],void 0,1),qwa:f(z,"initialLogFlushTimeout",5E3),NAa:f(U,"playdataPersistKey",R.uq?"unsentplaydatatest":"unsentplaydata"),kca:f(P,"sendPersistedPlaydata",!0),xnb:f(z,"playdataPersistIntervalMilliseconds",4E3),gLb:f(z,"playdataSendDelayMilliseconds",1E4),aX:f(P,"sendPlaydataBackupOnInit",!0),cib:f(Ea,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),Kjb:f(P,"midplayEnabled",!0),Mya:f(z,"midplayIntervalMilliseconds",3E5),Ljb:f(t,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),wJ:f(z,"downloadReportDenominator",0),c8a:f(z,"downloadReportInterval",3E5),Gxa:f(z,"logConfigApplyDenominator",0),Fpa:f(Qa,g("bookmarkByMovieId"),{}),TJ:f(P,g("forceLimitedDurationLicense"),!1),qw:f(z,g("licenseRenewalRequestDelay"),0),Caa:f(z,g("persistedReleaseDelay"),1E4),QJb:f(P,g("limitedDurationFlagOverride"),void 0),xi:f(P,g("secureStopEnabled"),!1),ZLb:f(P,g("secureStopFromPersistedKeySession"),!1),YCa:f(z,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),$ba:f(z,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),mrb:f(z,g("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),nrb:f(z,g("secureStopPersistedKeySessionRetries"),17,1),lrb:f(z,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),aG:f(P,g("useCdmId"),!1),JCa:f(z,"safariPlayPauseWorkaroundDelay",100),jxb:f(z,"workaroundValueForSeekIssue",1200),ixb:f(P,"workaroundSaio",!0),S3:f(P,g("callEndOfStream"),Ya.S3),Wmb:f(P,"performRewindCheck",!0),s$a:f(P,"fatalOnUnexpectedSeeking",!0),r$a:f(P,"fatalOnUnexpectedSeeked",!0),zsb:f(P,g("setVideoElementSize")),a3a:f(P,g("clearVideoSrc"),!0),Qra:f(z,g("delayPlayPause"),0),f1a:f(P,g("avoidSBRemove"),!1),Kp:f(P,g("useTypescriptEme"),!1),zJ:f(U,g("drmPersistKey"),"unsentDrmData"),dba:f(P,g("promiseBasedEme"),!1),r2a:f(P,"captureKeyStatusData",!1),qE:f(P,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),clb:f(P,g("nudgeSourceBuffer"),!1),aca:f(ba,g("seekDelta"),1),PL:f(P,g("preciseSeeking"),!1),Pnb:f(P,g("preciseSeekingOnTwoCoreDevice"),!1),Pra:f(Qa,g("delayErrorHandling")),cFa:f(P,"trackingLogEnabled",!1),dFa:f(function(a,c){var b;b=Qa(a,c,void 0);b&&Object.keys(b).forEach(function(a){var c;c=b[a];"true"===c?b[a]=!0:"false"===c&&(b[a]=!1);});return b;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Hda:f(U,"trackingLogPath","/customerevents/track/debug"),avb:f(t,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Zg:f(U,"esn",""),fta:f(U,"fesn",""),S5:f(P,g("enableEmeVerboseLogging"),!1),T8a:f(P,"enableLastChunkLogging",!1),tI:f(U,"appId","",G),sessionId:f(U,"sessionId","",G),X3:f(U,"cdnProxyUrl"),wwb:f(P,"usePlayReadyHeaderObject",!1),Gta:f(z,"forceXhrErrorResponseCode",void 0),yj:{bza:f(U,"mslApiPath","/msl/"),wsa:f(U,g("edgePath"),"/cbp/cadmium-29"),sLb:f(U,"proxyPath",""),YF:f(U,"uiVersion"),RX:f(U,"uiPlatform"),OGb:function(){return"0";},gW:f(Ea,"preferredLanguages",p.tJa,/^[a-zA-Z-]{2,5}$/,1),eab:f(U,g("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),fub:f(P,"supportPreviewContentPin",!0),gub:f(P,"supportWatermarking",!0),Wsb:f(P,"showAllSubDubTracks",!1),j$a:f(P,g("failOnGuidMismatch"),!1)},oW:{enabled:f(P,"qcEnabled",!1),Sn:f(U,"qcPackageId","")},BI:f(U,"authenticationType",R.uq?Ya.R0a:Ya.BI),vpa:f(Qa,"authenticationKeyNames",A.Za({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),oub:f(U,"systemKeyWrapFormat"),xfb:f(P,"includeNetflixIdUserAuthData",!0),Tsb:f(P,"shouldSendUserAuthData",!0),mca:f(P,"sendUserAuthIfRequired",Ya.mca),Psb:f(P,"shouldClearUserData",!1),pkb:f(P,"mslDeleteStore",!1),qkb:f(P,"mslPersistStore",!0),Z3a:f(P,"correctNetworkForShortTitles",!0),Inb:f(P,"postplayHighInitBitrate",!1),Y$a:f(P,"flushHeaderCacheOnAudioTrackChange",!0),p$a:f(P,"fatalOnAseStreamingFailure",!0),lub:f(P,"supportsUnequalizedDownloadables",!0),xra:f(z,g("debugAseDenominator"),100),fR:f(z,"aseAudioBufferSizeBytes",Ya.fR.ba(Q.Gr)),iR:f(z,"aseVideoBufferSizeBytes",Ya.iR.ba(Q.Gr)),It:f(z,"minInitVideoBitrate",560),F$:f(z,"minHCInitVideoBitrate",560),Aw:f(z,"maxInitVideoBitrate",Infinity),nL:f(z,"minInitAudioBitrate",0),mL:f(z,"minHCInitAudioBitrate",0),bL:f(z,"maxInitAudioBitrate",65535),iV:f(z,"minAcceptableVideoBitrate",235),pV:f(z,"minRequiredBuffer",3E4),Wf:f(z,"minPrebufSize",7800),rba:f(ja,"rebufferingFactor",1),kp:f(z,"maxBufferingTime",2600),bY:f(P,"useMaxPrebufSize",!0),Dw:f(z,"maxPrebufSize",45E3),bV:f(z,"maxRebufSize",Infinity),hU:f(Fa,"initialBitrateSelectionCurve",null),nwa:f(z,"initSelectionLowerBound",560),owa:f(z,"initSelectionUpperBound",1050),KX:f(z,"throughputPercentForAudio",15),v3:f(z,"bandwidthMargin",10),w3:f(P,"bandwidthMarginContinuous",!1),x3:f(Fa,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),y4:f(z,"conservBandwidthMargin",20),nda:f(P,"switchConfigBasedOnInSessionTput",!1),bJ:f(z,"conservBandwidthMarginTputThreshold",0),z4:f(Fa,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),uEa:f(P,"switchAlgoBasedOnHistIQR",!1),hx:f(U,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),o$:f(ba,"maxPlayerStateToSwitchConfig",-1),Q9:f(U,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),e_:f(ja,"IQRThreshold",.5),v8:f(U,"histIQRCalcToUse","simple"),Ht:f(z,"maxTotalBufferLevelPerSession",0),Xva:f(z,"highWatermarkLevel",3E4),YEa:f(z,"toStableThreshold",3E4),PX:f(z,"toUnstableThreshold",Ya.PX.ba(n.ha)),Qca:f(P,"skipBitrateInUpswitch",!0),dea:f(z,"watermarkLevelForSkipStart",8E3),o8:f(z,"highStreamRetentionWindow",9E4),R9:f(z,"lowStreamTransitionWindow",51E4),q8:f(z,"highStreamRetentionWindowUp",3E5),T9:f(z,"lowStreamTransitionWindowUp",3E5),p8:f(z,"highStreamRetentionWindowDown",6E5),S9:f(z,"lowStreamTransitionWindowDown",0),n8:f(ja,"highStreamInfeasibleBitrateFactor",.5),ww:f(z,"lowestBufForUpswitch",15E3),OU:f(z,"lockPeriodAfterDownswitch",15E3),V9:f(z,"lowWatermarkLevel",25E3),xw:f(z,"lowestWaterMarkLevel",2E4),X9:f(P,"lowestWaterMarkLevelBufferRelaxed",!1),z$:f(ja,"mediaRate",1),q$:f(z,"maxTrailingBufferLen",1E4),o3:f(z,"audioBufferTargetAvailableSize",262144),bea:f(z,"videoBufferTargetAvailableSize",1048576),vya:f(z,"maxVideoTrailingBufferSize",8388608),hya:f(z,"maxAudioTrailingBufferSize",393216),MS:f(ja,"fastUpswitchFactor",3),p6:f(ja,"fastDownswitchFactor",1),YU:f(z,"maxMediaBufferAllowed",24E4),Rq:f(z,"maxVideoBufferAllowedInBytes",0),Nca:f(P,"simulatePartialBlocks",!0),SDa:f(P,"simulateBufferFull",!0),A4:f(P,"considerConnectTime",!1),x4:f(ja,"connectTimeMultiplier",1),Qxa:f(z,"lowGradeModeEnterThreshold",12E4),Rxa:f(z,"lowGradeModeExitThreshold",9E4),iya:f(z,"maxDomainFailureWaitDuration",3E4),fya:f(z,"maxAttemptsOnFailure",18),Wsa:f(P,"exhaustAllLocationsForFailure",!0),oya:f(z,"maxNetworkErrorsDuringBuffering",20),j$:f(z,"maxBufferingTimeAllowedWithNetworkError",6E4),o6:f(z,"fastDomainSelectionBwThreshold",2E3),GEa:f(z,"throughputProbingEnterThreshold",4E4),HEa:f(z,"throughputProbingExitThreshold",34E3),Cxa:f(z,"locationProbingTimeout",1E4),hta:f(z,"finalLocationSelectionBwThreshold",1E4),EEa:f(ja,"throughputHighConfidenceLevel",.75),FEa:f(ja,"throughputLowConfidenceLevel",.4),LD:f(P,"enablePerfBasedLocationSwitch",!1),up:f(P,"probeServerWhenError",!0),$aa:f(z,"probeRequestTimeoutMilliseconds",8E3),Is:f(P,"allowSwitchback",!0),mA:f(z,"probeDetailDenominator",100),WU:f(z,"maxDelayToReportFailure",300),F9:f(z,"locationStatisticsUpdateInterval",6E4),Vqa:f(P,"countGapInBuffer",!1),MC:f(P,"allowReissueMediaRequestAfterAbort",!1),Y2:f(P,"allowCallToStreamSelector",!0),Lpa:f(z,"bufferThresholdForAbort",1E4),Faa:f(z,"pipelineScheduleTimeoutMs",2),Bw:f(z,"maxPartialBuffersAtBufferingStart",2),G$:f(z,"minPendingBufferLen",6E3),Cw:f(z,"maxPendingBufferLen",12E3),$ib:f(z,"maxPendingBufferLenAL1",3E4),p$:f(z,"maxStreamingSkew",4E3),n$:f(z,"maxPendingBufferPercentage",10),Oz:f(z,"maxRequestsInBuffer",60),qya:f(z,"maxRequestsInBufferAL1",240),rya:f(z,"maxRequestsInBufferBranching",120),UT:f(z,"headerRequestSize",4096),kV:f(z,"minBufferLenForHeaderDownloading",1E4),KW:f(z,"reserveForSkipbackBufferMs",1E4),faa:f(z,"numExtraFragmentsAllowed",2),Tn:f(P,"pipelineEnabled",!1),UDa:f(z,"socketReceiveBufferSize",0),mR:f(z,"audioSocketReceiveBufferSize",32768),fG:f(z,"videoSocketReceiveBufferSize",65536),l8:f(z,"headersSocketReceiveBufferSize",32768),XX:f(z,"updatePtsIntervalMs",1E3),I3:f(z,"bufferTraceDenominator",100),XC:f(z,"bufferLevelNotifyIntervalMs",2E3),vI:f(z,"aseReportDenominator",0),l3:f(z,"aseReportIntervalMs",3E5),Bsa:f(P,"enableAbortTesting",!1),qoa:f(z,"abortRequestFrequency",8),eda:f(z,"streamingStatusIntervalMs",2E3),Rw:f(z,"prebufferTimeLimit",24E4),lV:f(z,"minBufferLevelForTrackSwitch",2E3),zaa:f(z,"penaltyFactorForLongConnectTime",2),O9:f(z,"longConnectTimeThreshold",200),S2:f(z,"additionalBufferingLongConnectTime",2E3),T2:f(z,"additionalBufferingPerFailure",8E3),cM:f(z,"rebufferCheckDuration",6E4),Esa:f(P,"enableLookaheadHints",!1),Nxa:f(z,"lookaheadFragments",2),tq:f(P,"enableOCSideChannel",!0),NO:f(ra,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),AFa:f(P,"updateDrmRequestOnNetworkFailure",!1),Ora:f(P,"deferAseScheduling",!1),XU:f(z,"maxDiffAudioVideoEndPtsMs",16E3),bG:f(P,"useHeaderCache",!0),aS:f(z,"defaultHeaderCacheSize",4),o5:f(z,"defaultHeaderCacheDataPrefetchMs",8E3),h8:f(z,"headerCacheMaxPendingData",6),R$:f(P,"neverWipeHeaderCache",!0),i8:f(z,"headerCachePriorityLimit",5),GJ:f(P,"enableUsingHeaderCount",!1),Tva:f(P,"headerCacheTruncateHeaderAfterParsing",!0),X$a:f(P,g("flushHeaderCacheBeforePlayback"),!1),P$:f(z,"networkFailureResetWaitMs",2E3),O$:f(z,"networkFailureAbandonMs",6E4),cV:f(z,"maxThrottledNetworkFailures",3),JX:f(z,"throttledNetworkFailureThresholdMs",200),Fs:f(P,"abortUnsentBlocks",!1),r$:f(z,"maxUnsentBlocks",2),F2:f(z,"abortStreamSelectionPeriod",2E3),U9:f(ba,"lowThroughputThreshold",400),g6:f(P,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),Zya:f(P,"mp4ParsingInNative",!1),VDa:f(P,"sourceBufferInOrderAppend",!0),Zn:f(P,"requireAudioStreamToEncompassVideo",!0),Poa:f(P,"allowAudioToStreamPastVideo",!0),jf:f(P,"enableManagerDebugTraces",!1),$xa:f(z,"managerDebugMessageInterval",1E3),Zxa:f(z,"managerDebugMessageCount",20),Bza:f(P,"notifyManifestCacheEom",!1),H3:f(z,"bufferThresholdToSwitchToSingleConnMs",18E4),G3:f(z,"bufferThresholdToSwitchToParallelConnMs",12E4),YV:f(z,"periodicHistoryPersistMs",3E5),SW:f(z,"saveVideoBitrateMs",18E4),$oa:f(P,"appendMediaRequestOnComplete",!0),oY:f(P,"waitForDrmToAppendMedia",!1),E6:f(P,g("forceAppendHeadersAfterDrm"),!1),bM:f(P,g("reappendRequestsOnSkip"),!0),vkb:f(z,"netIntrStoreWindow",36E3),Zjb:f(z,"minNetIntrDuration",8E3),m$a:f(z,"fastHistoricBandwidthExpirationTime",10368E3),j1a:f(z,"bandwidthExpirationTime",5184E3),k$a:f(z,"failureExpirationTime",86400),Yeb:f(z,"historyTimeOfDayGranularity",4),c$a:f(P,"expandDownloadTime",!1),hkb:f(z,"minimumMeasurementTime",500),gkb:f(z,"minimumMeasurementBytes",131072),Bub:f(z,"throughputMeasurementTimeout",2E3),Jfb:f(z,"initThroughputMeasureDataSize",262144),Cub:f(U,"throughputPredictor","ewma"),Aub:f(z,"throughputMeasureWindow",5E3),Eub:f(z,"throughputWarmupTime",5E3),zub:f(z,"throughputIQRMeasureWindow",5E3),fNa:f(z,"IQRBucketizerWindow",15E3),C3a:f(z,"connectTimeHalflife",10),Eqb:f(z,"responseTimeHalflife",10),Xeb:f(z,"historicBandwidthUpdateInterval",2E3),fkb:f(z,"minimumBufferToStopProbing",1E4),Yba:f(U,"secondThroughputEstimator","none"),VCa:f(ba,"secondThroughputMeasureWindowInMs",Infinity),L8a:f(Ea,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),A$a:f(ra,"filterDefinitionOverrides",{}),d7a:f(U,"defaultFilter","throughput-ewma"),hrb:f(U,"secondaryFilter","none"),e7a:f(ra,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),qL:f(P,"needMinimumNetworkConfidence",!0),A3:f(P,"biasTowardHistoricalThroughput",!0),ZQ:f(P,"addHeaderDataToNetworkMonitor",!1),Yca:f(P,"startMonitorOnLoadStart",!1),zba:f(P,"reportFailedRequestsToNetworkMonitor",!1),l$:f(ba,"maxFastPlayBufferInMs",Infinity),k$:f(ba,"maxFastPlayBitThreshold",Infinity),e3:f(P,"appendFirstHeaderOnComplete",!0),m0a:f(U,"ase_stream_selector","optimized"),P8:f(U,"initBitrateSelectorAlgorithm","default"),K3:f(U,"bufferingSelectorAlgorithm","default"),e5:f(U,"ase_ls_failure_simulation",""),c5:f(P,"ase_dump_fragments",!1),d5:f(z,"ase_location_history",0),f5:f(z,"ase_throughput",0),zra:f(P,"ase_simulate_verbose",!1),Enb:f(z,"pollingPeriod",150),Phb:f(z,"loadTimeMs",18E4),Cib:f(z,"marginTimeMs",1E4),qx:f(P,"useMediaCache",!1),Gv:f(z,"diskCacheSizeLimit",52428800),fV:f(z,"mediaCachePrefetchMs",8E3),v$:f(Qa,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),e7:f(P,"getDeviceIdFromBindDevice",!1),M2:f(P,"addFailedLogBlobsToQueue",!0),yvb:{"content-sampling":{kp:f(z,"contentSamplingMaxBufferingTime",3E3),xF:f(U,"contentSamplingSelectStartingVMAFMethod","fallback"),mI:f(P,"contentSamplingActivateSelectStartingVMAF",!0),NE:f(z,"contentSamplingMinStartingVideoVMAF",80)},billboard:{It:f(z,"billboardMinInitVideoBitrate",1050),Aw:f(z,"billboardMaxInitVideoBitrate",null),Wf:f(z,"billboardMinPrebufSize",null),Dw:f(z,"billboardMaxPrebufSize",null),kp:f(z,"billboardMaxBufferingTime",null),Bw:f(z,"billboardMaxPartialBuffersAtBufferingStart",null),xw:f(z,"billboardLowestWaterMarkLevel",6E3),ww:f(z,"billboardLowestBufForUpswitch",25E3),hx:f(U,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{It:f(z,"preplayMinInitVideoBitrate",1050),Aw:f(z,"preplayMaxInitVideoBitrate",null),Wf:f(z,"preplayMinPrebufSize",null),Dw:f(z,"preplayMaxPrebufSize",null),kp:f(z,"preplayMaxBufferingTime",null),Bw:f(z,"preplayMaxPartialBuffersAtBufferingStart",null),xw:f(z,"preplayLowestWaterMarkLevel",6E3),ww:f(z,"preplayLowestBufForUpswitch",25E3)},embedded:{It:f(z,"embeddedMinInitVideoBitrate",1050),Aw:f(z,"embeddedMaxInitVideoBitrate",null),Wf:f(z,"embeddedMinPrebufSize",null),Dw:f(z,"embeddedMaxPrebufSize",null),kp:f(z,"embeddedMaxBufferingTime",null),Bw:f(z,"embeddedMaxPartialBuffersAtBufferingStart",null),xw:f(z,"embeddedLowestWaterMarkLevel",6E3),ww:f(z,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{It:f(z,"videoMerchBobHorizontalMinInitVideoBitrate",null),Aw:f(z,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Wf:f(z,"videoMerchBobHorizontalMinPrebufSize",null),Dw:f(z,"videoMerchBobHorizontalMaxPrebufSize",null),kp:f(z,"videoMerchBobHorizontalMaxBufferingTime",null),Bw:f(z,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),xw:f(z,"videoMerchBobHorizontalLowestWaterMarkLevel",null),ww:f(z,"videoMerchBobHorizontalLowestBufForUpswitch",null)}},c9a:f(P,"enableVerbosePlaydelayLogging",!1),$8a:f(P,"enableSeamless",!1),u8:f(z,"hindsightDenominator",0),t8:f(z,"hindsightDebugDenominator",0),WT:f(ra,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),FJ:f(P,"enableSessionHistoryReport",!1),P5:f(z,"earlyStageEstimatePeriod",1E4),mxa:f(z,"lateStageEstimatePeriod",3E4),ZU:f(z,"maxNumSessionHistoryStored",30),qV:f(z,"minSessionHistoryDuration",3E4),EJ:f(P,"enableInitThroughputEstimate",!1),h3:f(P,"applyInitThroughputEstimate",!1),pwa:f(ra,"initThroughputPredictor",{bwThreshold:4E3,lrWeights:{}}),Pq:f(z,"maxActiveRequestsPerSession",3),UU:f(z,"maxActiveRequestsSABCell100",2),$U:f(z,"maxPendingBufferLenSABCell100",500),C9:f(P,"limitAudioDiscountByMaxAudioBitrate",!0),nq:f(ra,"browserInfo",{}),P1a:f(z,g("busyGracePeriod"),199),Irb:f(P,g("sendTransitionLogblob"),!0),Dn:f(P,g("editAudioFragments"),!1),et:f(P,g("editVideoFragments"),!1),E8a:f(P,g("editAudioFragmentsBranching"),!0),ysa:f(P,g("editVideoFragmentsBranching"),!0),tS:f(P,g("earlyAppendSingleChildBranch"),!0),yfb:f(P,g("includeSegmentInfoOnLogblobs"),!0),f$a:f(P,"exposeTestData",!1),g5:f(P,"declareBufferingCompleteAtSegmentEnd",!0),Cy:f(P,"applyProfileTimestampOffset",!1),Jo:f(P,"applyProfileStreamingOffset",!1),U_a:f(P,g("allowSmallSeekDelta"),!1),etb:f(z,g("smallSeekDeltaThresholdMilliseconds"),O.h0),K8a:f(P,"enableCDMAttestedDescriptors",!1),IW:f(P,"requireDownloadDataAtBuffering",!1),JW:f(P,"requireSetupConnectionDuringBuffering",!1),sba:f(P,"recordFirstFragmentOnSubBranchCreate",!1),D1a:f(P,"branchingAudioTrackFrameDropSmallSeekFix",!0),Eta:f(P,"forceL3WidevineCdm",!1),twb:f(P,"useMobileVMAF",!1),B7a:f(U,"desiredVMAFTypeMobile","phone_plus_exp"),C7a:f(U,"desiredVMAFTypeNonMobile","plus_lts"),mI:f(P,"activateSelectStartingVMAF",!1),NE:f(z,"minStartingVideoVMAF",1)};ta=!0;d.Kqa=function(a){var m,f;if(0<d.config.Gxa&&0===h.nha%d.config.Gxa)try{m=c.V.get(aa.Xj);f=c.V.get(N.vo).gm("config","info",{params:a});m.yc(f);}catch(jf){c.log.error("Failed to log config$apply",jf);}L._cad_global.config=d.config;L._cad_global.platformExtraInfo=u.xo;k.Ea(a);a&&(Ra=A.Za({},a,{DE:!0}),A.Za(Ra,Lc,{DE:!0}),b(ec,d.config),Ra.istestaccount&&c.log.trace("Config applied for",dc(ta?Ra:a)),ta=!1);};d.Kqa(Ra);};d.dHb=function(a,c){return D.ae(a)&&"%"==a[a.length-1]?I.ai(parseFloat(a)*c/100):a|0;};d.z3a=function(a){return a?(a=A.Za({},d.config),A.Za(a,{oaa:d.config.cAa},{Xq:!0})):d.config;};d.eHb=function(a){var c;c=A.Za({},d.config);return A.Za(c,b(a),{Xq:!0});};d.Mqa=function(c){c=b(c);return A.Za({},a(153)(c),{Xq:!0});};d.Lqa=function(c,b,k){k=!!k&&(0<=k.indexOf("h264hpl")||0<=k.indexOf("vp9"));c={KE:c?d.config.Qjb:d.config.KE,OE:c?d.config.bkb:k?d.config.akb:d.config.OE,MC:c?!1:d.config.MC,Oz:c&&k?Math.max(d.config.rya,d.config.qya):c?d.config.rya:k?d.config.qya:d.config.Oz,Cw:k?d.config.$ib:d.config.Cw,Dn:d.config.Dn||c&&d.config.E8a,et:d.config.et||c&&d.config.ysa,tS:!b};return A.Za({},a(153)(c),{Xq:!0});};d.gHb=b;d.fHb=f;d.cHb="";},function(g,d){function a(){}function b(){}function f(){}Object.defineProperty(d,"__esModule",{value:!0});(function(a){a.Thb="loadedtracks";a.Shb="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.Bn="currenttimechanged";a.Npa="bufferedtimechanged";a.z8a="durationchanged";a.Swb="videosizechanged";a.Kmb="pausedchanged";a.Dnb="playingchanged";a.L9a="endedchanged";a.O3="busychanged";a.spa="audiotracklistchanged";a.zI="audiotrackchanged";a.SA="timedtexttracklistchanged";a.UF="timedtexttrackchanged";a.kN="trickplayframeschanged";a.tkb="mutedchanged";a.Wwb="volumechanged";a.Xsb="showsubtitle";a.Zpb="removesubtitle";a.axb="watermark";a.c9="isReadyToTransition";a.pE="inactivated";a.vrb="segmentmaploaded";a.wrb="segmentpresenting";a.U0a="autoplaywasallowed";a.V0a="autoplaywasblocked";}(d.lb||(d.lb={})));(d.JB||(d.JB={})).rM="playgraphsegmenttransition";d.kha=f;f.mDa="serverTimeChanged";(function(a){a.QC="aseException";a.RC="aseReport";a.S0a="authorized";a.t3="autoplayWasAllowed";a.tj="autoplayWasBlocked";a.n1a="bandwidthMeterAggregateUpdate";a.Lo="bufferUnderrun";a.closed="closed";a.gf="closing";a.Bn="currentTimeChanged";a.Hv="downloadComplete";a.pE="inactivated";a.oxa="licenseAdded";a.VK="licensed";a.Mq="locationSelected";a.EE="manifestClosing";a.wl="manifestPresenting";a.aKb="manifestSelected";a.eV="mediaBufferChanged";a.N$="needLicense";a.DV="nextSegmentChosen";a.Lj="playbackStart";a.Yn="repositioned";a.uA="repositioning";a.KCa="safePlayRequested";a.prb="segmentAborted";a.ZW="segmentPresenting";a.$Lb="segmentComplete";a.rrb="segmentLastPts";a.urb="segmentStarting";a.CF="serverSwitch";a.MDa="shouldUpdateVideoDiagInfo";a.Yi="skipped";a.OF="subtitleError";a.uda="throttledMediaTimeChanged";a.SF="timedTextRebuffer";a.SA="timedTextTrackListChanged";a.kN="trickPlayFramesChanged";a.mN="tryRecoverFromStall";a.lo="updateNextSegmentWeights";a.Dwb="userInitiatedPause";a.TFa="userInitiatedResume";}(d.R||(d.R={})));d.ib=b;b.CB=0;b.LOADING=1;b.cd=2;b.CLOSING=3;b.CLOSED=4;d.Df=a;a.cd=1;a.Bi=2;a.gka=3;(function(a){a[a.cg=1]="WAITING";a[a.dd=2]="PLAYING";a[a.Ci=3]="PAUSED";a[a.Kr=4]="ENDED";}(d.fb||(d.fb={})));(function(a){a[a.FG=0]="INITIAL";a[a.Ku=1]="SEEK";a[a.ZO=2]="TRACK_CHANGED";a[a.LB=3]="SEGMENT_CHANGED";}(d.bg||(d.bg={})));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);a=a(89);d.pHa=function(){d.Ea();};d.EHb=!0;d.ff=g.V.get(a.pu);d.Ea=d.ff.assert.bind(d.ff);d.zHb=d.ff.p0a.bind(d.ff);d.AHb=d.ff.q0a.bind(d.ff);d.x6a=d.ff.v0a.bind(d.ff);d.oJ=d.ff.y0a.bind(d.ff);d.DHb=d.ff.w0a.bind(d.ff);d.BHb=d.ff.t0a.bind(d.ff);d.XR=d.ff.s0a.bind(d.ff);d.nJ=d.ff.x0a.bind(d.ff);d.CHb=d.ff.u0a.bind(d.ff);d.yHb=d.ff.n0a.bind(d.ff);d.wra=d.ff.r0a.bind(d.ff);d.FHb=d.ff.Ufb.bind(d.ff);},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(143);d.is=g.Bu;d.Ub=function(a){return d.is.Nd(a);};d.Xe=function(a){return d.is.Ay(a);};d.Ggb=function(a){return d.is.D2(a);};d.isArray=function(a){return d.is.Js(a);};d.Xwa=function(a){return d.is.Toa(a);};d.na=function(a,f,p){return d.is.gg(a,f,p);};d.ggb=function(a,f,p){return d.is.a3(a,f,p);};d.iw=function(a,f,p){return d.is.jq(a,f,p);};d.Lwa=function(a){return d.is.kI(a);};d.vJb=function(a){return d.is.UZa(a);};d.zJb=function(a){return d.is.VZa(a);};d.Ywa=function(a){return d.is.Uoa(a);};d.ae=function(a){return d.is.Vk(a);};d.Cz=function(a){return d.is.Wk(a);};d.zwa=function(a){return d.is.iI(a);};d.Gb=function(a){return d.is.jI(a);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pd="ConfigSymbol";},function(g,d,a){var b,f,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);f=a(19);p=a(8);q=a(16);d.Xc=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};d.Za=d.Za||function(a,b,k){var c,m,p;if(b)if(k){c=k.DE;m=k.prefix;p=k.Xq;d.Xc(b,function(b,k){if(!p||f.Ub(k))a[(m||"")+(c?b.toLowerCase():b)]=k;});}else d.Xc(b,function(c,b){a[c]=b;});return a;};d.l2a=function(a,b,k,f){var c;if(a){c=a[b];q.Gb(c)&&(k=c.apply(a,p.slice.call(arguments,3)));}};d.j0a=function(){for(var a=["info","warn","trace","error"],b={},k=a.length;k--;)b[a[k]]=!0;return b;};d.de=d.de||function(a){return parseInt(a,10);};d.VKb=function(a){return/^true$/i.test(a);};d.wBa=function(a,b){return p.ai(a+p.OG()*(b-a));};d.FX=function(a){return JSON.stringify(a,null,"  ");};d.x8=function(){var m,k;function a(a){b.Ea(void 0!==m[a]);return m[a];}m={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};k=/[&'"<>]/g;return function(c){return c.replace(k,a);};}();d.trim=function(){var a;a=/^\s+|\s+$/gm;return function(c){return c.replace(a,"");};}();d.b$=function(a){return Array.isArray(a)?a:[a];};d.ne=d.ne||function(a){var c,b,f;if(a){c=a.stack;b=a.number;f=a.message;f||(f=""+a);c?(a=""+c,0!=a.indexOf(f)&&(a=f+"\n"+a)):a=f;b&&(a+="\nnumber:"+b);return a;}};d.pm=function(a){return q.na(a)?a.toFixed(0):"";};d.bz=function(a){return q.na(a)?(a/1E3).toFixed(0):"";};d.iab=function(a){return q.na(a)?a.toFixed():"";};d.W3a=function(a){for(var c=[],b=0;b<a.length;b++)c[b]=a[b];return c;};},function(g,d,a){var q,c;function b(a){return null!==a&&void 0!==a;}function f(a){return typeof a==d.vTa;}function p(a,k,f){var m,u,d;if(k)if(f){m=f.DE;u=f.prefix;d=f.Xq;c.Xc(k,function(c,k){if(!d||b(k))a[(u||"")+(m?c.toLowerCase():c)]=k;});}else c.Xc(k,function(c,b){a[c]=b;});return a;}Object.defineProperty(d,"__esModule",{value:!0});q=a(8);c=a(18);d.Qe=function(){};d.Yj=1E3;d.WG=Object.create;d.BPa=Object.keys;d.gO=Date.now;d.Kx=Math.floor;d.GOa=Math.ceil;d.ai=Math.round;d.Um=Math.max;d.wo=Math.min;d.OG=Math.random;d.NG=Math.abs;d.Yha=Math.pow;d.ej="$attributes";d.tY="$children";d.uY="$name";d.Cr="$text";d.jGa="$parent";d.jG="$sibling";d.vTa="string";d.$Eb="number";d.ZEb="function";d.uTa="object";d.Ub=b;d.Xe=function(a){return typeof a==d.uTa;};d.ae=f;d.Cz=function(a){return f(a)&&a;};d.de=function(a){return parseInt(a,10);};d.Rr=function(a,c,b){return a>=c?a<=b?a:b:c;};d.Za=p;d.CM=function(a){return p({},a);};d.n4=function(a){var f;for(var c=0;c<arguments.length;++c);for(var c=0,m=arguments.length;c<m;){f=arguments[c++];if(b(f))return f;}};d.i0a=function(a){for(var c,b=!0,m;b;)for(b=!1,c=a.length;--c;)m=a[c],m.startTime<a[c-1].startTime&&(a[c]=a[c-1],a[c-1]=m,b=!0);};d.Bv=function(a,c){if(a.length==c.length){for(var b=a.length;b--;)if(a[b]!=c[b])return!1;return!0;}return!1;};d.createElement=function(a,b,f,r){var k;k=q.Wd.createElement(a);b&&(k.style.cssText=b);f&&(k.innerHTML=f);r&&c.Xc(r,function(a,c){k.setAttribute(a,c);});return k;};d.fJ=function(a){var b;b="";c.Xc(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};d.XS=function(a,c,b){var k;a/c>b?(k=d.ai(c*b),a=c):(k=a,a=d.ai(a/b));return{width:k,height:a};};d.x8=function(){var c,b;function a(a){return c[a];}c={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};b=/[&'"<>]/g;return function(c){return c.replace(b,a);};}();d.ne=function(a){var c,b;if(a){c=a.stack;b=a.number;a=""+a;c?(c=""+c,0!=c.indexOf(a)&&(c=a+"\n"+c)):c=a;b&&(c+="\nnumber:"+b);return c;}};d.u={lj:1001,qh:1003,CLa:1701,lga:1713,DLa:1715,BLa:1721,nO:1723};},function(g,d,a){g.T={LLa:a(787),Ka:a(65).Ka,dD:a(65).dD,vj:a(65).vj,Ej:a(65).Ej,yw:a(65).yw,qM:a(65).qM,J_:a(786).J_,V_:a(222),yUa:a(785),sb:a(33)};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fe="IsTypeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bf="AsyncComponentLoaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.df="UtilitiesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ne="ApplicationSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);d.Oe=!1;g=function(){function a(a,b,c,m,k){this.Ya=a;this.type=b;this.byteOffset=c;this.byteLength=m;this.parent=k;this.Ic={};this.fA=m;}a.$y=function(a,b){var m,f;function c(a){a&&a.$y&&(a=a.$y(b),a.length&&(m=m.concat(a)));}m=[];a.type===b&&m.push(a);if(a.Ic)for(var k in a.Ic){f=a.Ic[k];Array.isArray(f)&&f.forEach(c);}return m;};a.oI=function(a,b){void 0===a.Ic[b.type]&&(a.Ic[b.type]=[]);a.Ic[b.type].push(b);};a.az=function(b,f){return a.$y(b,f)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{K:{get:function(){return this.Ya;},enumerable:!0,configurable:!0}});a.prototype.Bf=function(){var a;a=this.Ya.rb();this.version=a>>24;this.Ue=a&16777215;};a.prototype.oI=function(b){a.oI(this,b);};a.prototype.$y=function(b){return a.$y(this,b);};a.prototype.az=function(b){return a.az(this,b);};a.prototype.parse=function(){return!0;};a.prototype.TD=function(){return!0;};a.prototype.Hp=function(a){if((a=this.Ic[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.Oj=function(a,f){f=void 0===f?this.Ya.offset:f;b.assert(f>=this.startOffset+8&&f+a<=this.startOffset+this.fA,"Removal range [0x"+f.toString(16)+"-0x"+(f+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.fA).toString(16)+")");this.Ya.Oj(a,f,this);};a.prototype.BW=function(a,f,c){c=void 0===c?this.Ya.offset:c;b.assert(c>=this.startOffset+8&&c+a<=this.startOffset+this.fA,"Removal range [0x"+c.toString(16)+"-0x"+(c+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.fA).toString(16)+")");this.Ya.BW(a,f,c,this);};a.prototype.IBa=function(a,b,c){if(1<c){for(var m=[];0<c--;)m.push(this.Ina(a,b));return m;}return this.Ina(a,b);};a.prototype.er=function(a){var b,c;c=this;void 0===b&&(b={});a.forEach(function(a){var k,f;if("offset"===a.type){k=a.offset;if(0<k%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");c.Ya.offset+=k/8;}else for(k in a){f=a[k];b[k]="string"===typeof f?c.IBa(f):c.IBa(f.type,f.length,f.h0a);}});return b;};a.prototype.Ina=function(a,b){var c;c=this.byteLength-this.Ya.offset+this.startOffset;"undefined"===typeof b&&(b=c);switch(a){case"int8":a=this.Ya.te();break;case"int64":a=this.Ya.vi();break;case"int32":a=this.Ya.rb();break;case"int16":a=this.Ya.Yf();break;case"string":a=this.Ya.Yob(Math.min(b,c));break;default:throw Error("Invalid type: "+a);}return a;};a.Xb=!1;return a;}();d.Cf=g;},function(g,d,a){var f,p,q,c;function b(){return d.pP.Hz.ba(c.ha);}Object.defineProperty(d,"__esModule",{value:!0});g=a(482);f=a(40);p=a(24);q=a(117);c=a(3);d.Jla=g.Yc.get(f.Vj);d.pP=g.Yc.get(p.Ne);d.xWa=g.Yc.get(q.vB);d.nha=d.pP.id;d.Cg=function(){return d.pP.Tb().ba(c.ha);};d.GR=function(){return d.Jla.kf.ba(c.Ym);};d.WGb=function(){return d.pP.Hz.ba(c.Ym);};d.c3a=function(){return d.xWa.Oy();};d.d3a=b;d.k4=function(){return d.Jla.kf.ba(c.ha);};d.XGb=function(){return b();};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.QY="ConfigurableInputsSymbol";d.mj="ValidatingConfigurableInputsSymbol";d.iB="ConfigNameSymbol";d.CO="InitParamsSymbol";},function(g,d,a){var u,r,y,A,I,h,D;function b(){var a,c;if(a=d.H7.Gna)return a;a=h.E_.search.substr(1);c=a.indexOf("#");0<=c&&(a=a.substr(0,c));a=f(a);return d.H7.Gna=a;}function f(a){for(var c=/[+]/g,b=(a||"").split("&"),k={},f,m=0;m<b.length;m++)a=A.trim(b[m]),f=a.indexOf("="),0<=f?k[decodeURIComponent(a.substr(0,f).replace(c,"%20")).toLowerCase()]=decodeURIComponent(a.substr(f+1).replace(c,"%20")):k[a.toLowerCase()]=null;return k;}function p(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function q(a){return p(a.constructor);}function c(a){return h.sort.call(a,function(a,c){return a-c;});}function m(a){for(var c=0,b=a.length;b--;)c+=a[b];return c;}function k(){return D.Gb(h.Kk.requestMediaKeySystemAccess);}Object.defineProperty(d,"__esModule",{value:!0});u=a(9);r=a(15);y=a(4);A=a(18);I=a(19);h=a(8);D=a(16);d.Dqa=function(a,c){if(a===c)return!0;if(!a||!c)return!1;for(var b in a)if(a.hasOwnProperty(b)&&(!c.hasOwnProperty(b)||a[b]!==c[b]))return!1;return!0;};d.Bv=d.Bv||function(a,c){if(a.length==c.length){for(var b=a.length;b--;)if(a[b]!=c[b])return!1;return!0;}return!1;};d.tLb=function(a){var c;if(a){c=a.length;if(c)return c=A.wBa(0,c-1),a[c];}};d.J3a=function(a,c){if(a.length!=c.length)return!1;a.sort();c.sort();for(var b=a.length;b--;)if(a[b]!==c[b])return!1;return!0;};d.C_a=function(a,c){function b(){a.removeEventListener("loadedmetadata",b);c.apply(this,arguments);}a.addEventListener("loadedmetadata",b);};d.Zob=function(){var a,c,b,k,f,m;a=h.Wd.cookie.split("; ");c=a.length;m={};for(b=0;b<c;b++)if(k=A.trim(a[b]))f=k.indexOf("="),0<f&&(m[k.substr(0,f)]=k.substr(f+1));return m;};d.QIb=b;d.H7=Object.assign(b,{Gna:void 0});d.TV=f;d.yL=function(a){var c;c="";A.Xc(a,function(a,b){c&&(c+="&");r.Ea(I.ae(b)||D.na(b)||D.zwa(b));c+=encodeURIComponent(a)+"="+encodeURIComponent(b);});return c;};d.getFunctionName=p;d.nua=q;d.Mza=function(a){var c;c="";D.isArray(a)||D.Xwa(a)?c=h.reduce.call(a,function(a,c){return a+(32<=c&&128>c?h.lTa(c):".");},""):I.ae(a)?c=a:A.Xc(a,function(a,b){c+=(c?", ":"")+"{"+a+": "+(D.Gb(b)?p(b)||"function":b)+"}";});return"["+q(a)+" "+c+"]";};d.mLb=function(a,c){a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c);};d.fJ=d.fJ||function(a){var c;c="";A.Xc(a,function(a,b){c+=(c?";":"")+a+":"+b;});return c;};d.sJb=function(a,c){var b;b=a[0];if(c<=b[0])return b.slice(1);for(var k=1,f;f=a[k++];){if(c<=f[0]){a=(c-b[0])/(f[0]-b[0]);c=[];for(k=1;k<b.length;k++)c.push((b[k]||0)+a*((f[k]||0)-(b[k]||0)));return c;}b=f;}return b.slice(1);};d.Jxb=function(a,c){var f;for(var b={},k=0;k<c.length;k++){f=c[k];if("string"!=typeof f&&"number"!=typeof f)return!1;b[c[k]]=1;}for(k=0;k<a.length;k++)if(f=a[k],!b[f])return!1;return!0;};d.YGa=function(a,c){0>a.indexOf(c)&&a.push(c);};d.wY=c;d.Lxb=m;d.yea=function(a,c){var b,k,f,m;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(f=a[b])&&f<=f);)f=void 0;for(;++b<k;)null!=(m=a[b])&&m>f&&(f=m);}else{for(;++b<k&&!(null!=(f=c.call(a,a[b],b))&&f<=f);)f=void 0;for(;++b<k;)null!=(m=c.call(a,a[b],b))&&m>f&&(f=m);}return f;};d.Kxb=function(a,c){var b,k,f,m;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(f=a[b])&&f<=f);)f=void 0;for(;++b<k;)null!=(m=a[b])&&f>m&&(f=m);}else{for(;++b<k&&!(null!=(f=c.call(a,a[b],b))&&f<=f);)f=void 0;for(;++b<k;)null!=(m=c.call(a,a[b],b))&&f>m&&(f=m);}return f;};d.TE=function(a){return D.Gb(a.then)?a:new Promise(function(c,b){a.oncomplete=function(){c(a.result);};a.onerror=function(){b(a.error);};});};d.oIb=function(a,b){var f,m,u,r,d,p;function k(a){0>f.indexOf(a)&&D.na(a)&&f.push(a);}a=a.slice();c(a);f=[];if(!b||!b.length)return a;if(!a.length)return[];m=b.length;try{for(;m--;){d=""+b[m];p=I.de(d);switch(d[d.length-1]){case"-":for(u=a.length;u--;)if(r=a[u],r<p){k(r);break;}break;case"+":for(u=0;u<a.length;u++)if(r=a[u],r>p){k(r);break;}break;default:0<=a.indexOf(p)&&k(p);}}}catch(Y){}f.length||f.push(a[0]);c(f);return f;};d.XS=d.XS||function(a,c,b){var k;a/c>b?(k=h.ai(c*b),a=c):(k=a,a=h.ai(a/b));return{width:k,height:a};};d.bHb=function(a,c,b){for(var k=[],f=0;f<c;f++)k.push(h.Yha(a[f]-b,2));return h.HOa(m(k)/k.length);};d.dm=function(a,c){var b;b=a.length;c=(b-1)*c+1;if(1===c)return a[0];if(c==b)return a[b-1];b=h.Kx(c);return a[b-1]+(c-b)*(a[b]-a[b-1]);};d.qIb=function(a,c){if(!D.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");c=D.isArray(c)?c:[c];for(var b=a.length,k=0;k<b;k++)for(var f=0;f<c.length;f++)if(a[k].type==c[f])return a[k];throw Error("Box not found "+c);};d.wyb=function(a){return a.Tv("trak/mdia/minf/stbl/stsd/"+u.QHa+"|"+u.RHa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.x6.schm.arb;})[0].Tv("schi/tenc").nw;};d.vyb=function(a){var b;function c(a,c){var k;k=b[a];b[a]=b[c];b[c]=k;}b=new Uint8Array(a);c(0,3);c(1,2);c(4,5);c(6,7);return b;};d.Owa=k;d.a9=function(a){return k()||a.UM;};d.hLb=function(a){return function(c){return c&&c[a];};};D.Gb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,c){var b,k;void 0===a&&(a=0);void 0===c&&(c=this.byteLength);a=Math.floor(a);c=Math.floor(c);0>a&&(a+=this.byteLength);0>c&&(c+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);c=Math.min(Math.max(0,c),this.byteLength);if(0>=c-a)return new ArrayBuffer(0);b=new ArrayBuffer(c-a);k=new Uint8Array(b);a=new Uint8Array(this,a,c-a);k.set(a);return b;});d.g9=function(a){return a&&0==a.toLowerCase().indexOf("https");};d.Nbb=function(){var a,c;a=new ArrayBuffer(4);c=new Uint8Array(a);a=new Uint32Array(a);c[0]=161;c[1]=178;c[2]=195;c[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};d.zT=function(){var a,c,b;try{a=/playercore.*js/;c=h.Pr.getEntries("resource").filter(function(c){return null!==a.exec(c.name);});if(c&&0<c.length){b=h.ai(c[0].duration);return JSON.stringify(b);}}catch(ba){}};d.iLb=function(a,c,b){if(a&&a.length)if(b&&b.R2a)try{a.forEach(function(a,k){var f;f=(k=b.R2a[k])&&k.media;f&&I.ae(f)?(f=y.$k(f).buffer,a.media={arrayBuffer:f,length:f.byteLength,stream:c,Wb:k.cdn}):y.log.warn("chunk not in cache",a.og);});}catch(ba){y.log.error("error reading cached chunks",ba);}else y.log.warn("chunks not available in cached stream",b.type);else y.log.warn("chunks not available in mediabuffer",b.type);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.ala=1]="Video";}(d.RG||(d.RG={})));(function(a){a[a.zx=0]="Default";a[a.Mx=1]="Microsoft";}(d.vx||(d.vx={})));(function(a){a[a.zx=0]="Default";a[a.MY=1]="Cast";a[a.OY=2]="Chrome";a[a.Mx=3]="Microsoft";a[a.pka=4]="Safari";}(d.ak||(d.ak={})));(function(a){a[a.eH=0]="SD";a[a.pO=1]="HD";a[a.eP=2]="UHD";a[a.Ir=3]="DV";a[a.Lr=4]="HDR10";a[a.cB=5]="AVCHigh";a[a.Nu=6]="VP9";a[a.Vh=7]="AV1";}(d.rd||(d.rd={})));(function(a){a[a.Op=0]="Level_1_4";a[a.Gx=1]="Level_2_2";}(d.Yh||(d.Yh={})));d.qFb=function(){};(function(a){a[a.BDb=0]="Platform";a[a.azb=1]="CurrentTitle";}(d.nUa||(d.nUa={})));d.$Y="DeviceCapabilitiesSymbol";d.vzb=function(){};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yg="SchedulerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gu="named";d.HO="name";d.hH="unmanaged";d.Aia="optional";d.GG="inject";d.Jx="multi_inject";d.zka="inversify:tagged";d.Aka="inversify:tagged_props";d.K_="inversify:paramtypes";d.CJa="design:paramtypes";d.YG="post_construct";},function(g,d,a){var q,c,m;function b(a){return function(c,b){return c.pba(b,a);};}function f(a,c){return a.pW.Qob[c]||p(a,c);}function p(a,c){a=a.zt.data[c];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(d,"__esModule",{value:!0});q=a(41);c=a(3);m=a(138);d.config=function(a,c){return function(b,k,d){var r,u;r=void 0!==c?c:k;u=d.get;void 0!==u&&(d.get=function(){var c;if(!this.ugb(k))return this.kdb(k);a:{c=(this.T_a?f:p)(this,r.toString());if(void 0!==c)if(c=a(this.xL,c),c instanceof m.Vm)this.Ita(r,c);else break a;c=u.bind(this)();}this.Dqb(k,c);return c;});return d;};};d.U8=function(a,c){return a.EBa(c);};d.wd=function(a,c){return a.mba(c);};d.px=function(a,c){return a.Oa(c);};d.string=function(a,c){return a.pba(c);};d.gda=function(a,c){return a.Bd(c,d.string);};d.tJb=function(a,c){return a.Bd(c,d.U8);};d.qFa=function(a,c){return a.Bd(c,d.px);};d.Jg=function(a,b){a=a.Oa(b);return a instanceof m.Vm?a:c.Bb(a);};d.aa=function(a,c){a=a.Oa(c);return a instanceof m.Vm?a:q.aa(a);};d.url=b(/^\S+$/);d.eIb=function(a){return function(c,b){return c.DBa(b,a);};};d.object=function(){return function(a,c){return a.FBa(c);};};d.VBa=b;d.jk=function(a,c){return function(b,k){return b.Bd(k,a,c);};};},function(g,d){function a(a,d){return"number"!==typeof a||"number"!==typeof d?!1:a&&d?Math.abs(a*d/b(a,d)):0;}function b(a,b){var f;a=Math.abs(a);for(b=Math.abs(b);b;){f=b;b=a%b;a=f;}return a;}Object.defineProperty(d,"__esModule",{value:!0});g=function(){function f(a,b){"object"===typeof a?(this.MQ=a.Vd,this.Bs=a.ca):(this.MQ=a,this.Bs=b);}f.OKb=function(a){return new f(1,a);};f.WD=function(a){return new f(a,1E3);};f.WEa=function(a,b){return Math.floor(1E3*a/b);};f.aza=function(a,b){return Math.floor(a*b/1E3);};f.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};f.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};f.xab=function(d,q){var c;if(d.ca===q.ca)return new f(b(d.Vd,q.Vd),d.ca);c=a(d.ca,q.ca);return f.xab(d.Ll(c),q.Ll(c));};Object.defineProperties(f.prototype,{Vd:{get:function(){return this.MQ;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return this.Bs;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Ad:{get:function(){return 1E3*this.MQ/this.Bs;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ih:{get:function(){return this.MQ/this.Bs;},enumerable:!0,configurable:!0}});f.prototype.Ll=function(a){a/=this.ca;return new f(Math.floor(this.Vd*a),Math.floor(this.ca*a));};f.prototype.add=function(b){var d;if(this.ca===b.ca)return new f(this.Vd+b.Vd,this.ca);d=a(this.ca,b.ca);return this.Ll(d).add(b.Ll(d));};f.prototype.xe=function(a){return this.add(new f(-a.Vd,a.ca));};f.prototype.M$=function(a){return new f(this.Vd*a,this.ca);};f.prototype.ED=function(b){var f;if(this.ca===b.ca)return this.Vd/b.Vd;f=a(this.ca,b.ca);return this.Ll(f).ED(b.Ll(f));};f.prototype.Odb=function(b){return a(this.ca,b);};f.prototype.opb=function(){return new f(this.ca,this.Vd);};f.prototype.compare=function(b,f){var c;if(this.ca===f.ca)return b(this.Vd,f.Vd);c=a(this.ca,f.ca);return b(this.Ll(c).Vd,f.Ll(c).Vd);};f.prototype.equal=function(a){return this.compare(function(a,c){return a===c;},a);};f.prototype.uL=function(a){return this.compare(function(a,c){return a!==c;},a);};f.prototype.lessThan=function(a){return this.compare(function(a,c){return a<c;},a);};f.prototype.greaterThan=function(a){return this.compare(function(a,c){return a>c;},a);};f.prototype.mhb=function(a){return this.compare(function(a,c){return a<=c;},a);};f.prototype.c8=function(a){return this.compare(function(a,c){return a>=c;},a);};f.prototype.toJSON=function(){return{ticks:this.Vd,timescale:this.ca};};f.prototype.toString=function(){return this.Vd+"/"+this.ca;};f.sf=new f(0,1);f.BL=new f(1,1E3);return f;}();d.sb=g;},function(g,d,a){var c,m,k,u,r,y,A,I,h;function b(a,c){var b,f,m;try{b=k.Kk.plugins;f=b.length;for(m=0;m<f;m++)if(c.test(b[m][a]))return b[m];return!1;}catch(Q){}}function f(){var a,c;a=b("filename",/widevinecdm/i);if(a){try{c=a.description.match(/version: ([0-9.]+)/);if(c&&c[1])return c[1];}catch(aa){}return"true";}return"false";}function p(){var a;a=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Ol,robustness:"HW_SECURE_DECODE"},{contentType:c.Ol,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.Ix,robustness:"SW_SECURE_CRYPTO"}]}];try{k.Kk.requestMediaKeySystemAccess("com.widevine.alpha",a).then(function(a){var c;c=a.getConfiguration();a=c.videoCapabilities;(c=c.audioCapabilities)&&c.length&&(c=q(c),0<=c.indexOf("SW_SECURE_CRYPTO")&&(d.xo.cptheaacwv_sw_cryp=!0));a&&a.length?(d.xo.cpth264wv=!0,c=q(a),0<=c.indexOf("SW_SECURE_DECODE")&&(d.xo.cpth264wv_sw_dec=!0),0<=c.indexOf("HW_SECURE_DECODE")&&(d.xo.cpth264wv_hw_dec=!0)):d.xo.cpth264wv=!1;})["catch"](function(){d.xo.cpth264wv=!1;});}catch(O){}}function q(a){return a.map(function(a){return a.robustness;});}Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(793),d);c=a(9);g=a(28);m=a(19);k=a(8);u=a(29);r=a(4);a=a(431);d.xJb=/CrOS/.test(k.$j);d.Vja=/CrOS/.test(k.$j);d.Lia={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:u.ak.OY,preciseSeeking:!0,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};r.V.get(a.Ska).c0a(d.Lia);d.$Cb=function(){return{};};d.aDb=b;d.bDb=f;d.Mia=f();a=d.Mia;if(!(u=d.Mia))a:{try{k.Kk.plugins.refresh();u=f();break a;}catch(D){}u=void 0;}r=!!b("name",/Chrome Remote Desktop Viewer/i);y=!!b("name",/Chromoting Viewer/i);a:{try{A=MediaSource.isTypeSupported(c.Ol);break a;}catch(D){}A=void 0;}a:{try{I=m.createElement("VIDEO").canPlayType(c.Ol);break a;}catch(D){}I=void 0;}a:{try{if(g.Owa())p();else{h=m.createElement("VIDEO").canPlayType(c.Ol,"com.widevine.alpha");break a;}}catch(D){}h=void 0;}d.xo={wvp:a,wvp2:u,crdvp:r,cvp:y,itsh264:A,cpth264:I,cpth264wv:h};d.TGb=p;d.RIb=q;},function(g,d,a){var p,q,c,m;function b(a,c){var b;b=m.call(this,a,c)||this;b.Nqa=c;b.debug=a.debug;b.ja=a.Jf.kb(b.Nqa);return b;}function f(a,c){this.Nqa=c;this.eba={};this.zt=a.zt;this.xL=a.xL;this.pW=a.pW;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);p=a(1032);q=a(1);c=a(138);d.tTa="isTestAccount";f.prototype.Ita=function(){};f.prototype.Dqb=function(a,c){this.eba[a]=[c,this.zt.CCa];};f.prototype.ugb=function(a){return p.Eia.of(this.eba[a]).map(function(a){return a[1];}).fAa(-1)<this.zt.CCa;};f.prototype.kdb=function(a){return p.Eia.of(this.eba[a]).map(function(a){return a[0];}).fAa(function(){throw Error("Invalid State Error");});};qa.Object.defineProperties(f.prototype,{T_a:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.zt&&this.zt.data){a=this.zt.data[d.tTa];"undefined"!==typeof a&&(b=a.toString());a=this.xL.mba(b);a=a instanceof c.Vm?!1:a;}else a=!1;return a;}}});m=f;m=g.__decorate([q.N(),g.__param(0,q.oh()),g.__param(1,q.oh())],m);d.RN=m;da(b,m);b.prototype.Ita=function(a,c){this.ja.error("Invalid configuration value.",{name:a},c);this.debug.assert(!1);};a=b;a=g.__decorate([g.__param(0,q.oh()),g.__param(1,q.oh())],a);d.Ie=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ela="WindowTimersSymbol";d.Cu="JSONSymbol";d.EB="NavigatorSymbol";d.UOa="MediaSourceSymbol";d.yha="LocationSymbol";d.Bfa="DateSymbol";d.W_="PerformanceSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.di={Lxa:"logblob",ya:"manifest",Vf:"license",events:"events",bind:"bind",oAa:"pair",ping:"ping"};g=d.xg||(d.xg={});g[g.Mr=20]="High";g[g.v_=10]="Medium";g[g.xB=0]="Low";d.f0={xg:"reqPriority",jSa:"reqAttempt",lSa:"reqName"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.n_="LogBatcherConfigSymbol";d.Xj="LogBatcherSymbol";d.zha="LogBatcherProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uj="Base64EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vj="ClockSymbol";},function(g,d,a){var p;function b(a){return p.fP.apply(this,arguments)||this;}function f(a){return new p.Qp(a,d.fB);}Object.defineProperty(d,"__esModule",{value:!0});p=a(475);da(b,p.fP);d.Fyb=b;d.nR=f;d.aa=function(a){return new p.Qp(a,d.Gr);};d.LJb=function(a){return new p.Qp(a,d.rha);};d.gKb=function(a){return new p.Qp(a,d.WOa);};d.fB=new b(1,"b");d.Gr=new b(8*d.fB.af,"B",d.fB);d.rha=new b(1024*d.Gr.af,"KB",d.fB);d.WOa=new b(1024*d.rha.af,"MB",d.fB);d.sf=f(0);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lk="PboCommandContextSymbol";},function(g,d,a){var q,c;function b(a){return a&&a.xf&&a.inRange&&!a.$g&&!1!==a.Ov;}function f(a,c,b){return!q.na(a)||a<c?c:a>b?b:a;}function p(a){if(!(this instanceof p))return new p(a);this.Cd=q.na(a)?a:void 0;}q=a(6);c=new(a(5)).Console("ASEJS_STREAM_SELECTOR","media|asejs");g.T={console:c,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",c.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},Bz:b,v6:function(a,c,b){var m,d,u,p;function k(c){var k;k=a[c];if(!k.xf||!k.inRange||k.$g||b&&!b(k,c))return!1;p=c;return!0;}m=a.length;d=0;u=m;q.isArray(c)&&(d=f(c[0],0,m),u=f(c[1],0,m),c=c[2]);c=f(c,d-1,u);for(m=c-1;m>=d;--m)if(k(m))return p;for(m=c+1;m<u;++m)if(k(m))return p;return-1;},mkb:function(a,c){return Math.floor(a/(125*c)*1E3);},Q1a:function(a,c){return Math.ceil(a/1E3*c*125);},AJb:function(a,c){return!a.slice(c+1).some(b);},Vp:p,gpa:function(a,c){var b;return a.some(function(a,k,f){b=a;return c(a,k,f);})?b:void 0;},PC:function(a,c){var b;return a.some(function(a,k,f){b=k;return c(a,k,f);})?b:-1;},dD:f};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ab=function(a){return setTimeout(a,0);};},function(g,d,a){var b,f,p,q,c,m;b=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var k in c)c.hasOwnProperty(k)&&(a[k]=c[k]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=a(468);g=a(69);p=a(253);q=a(252);c=function(a){function k(b,k,f){var d;a.call(this);this.NA=null;this.yf=this.Hk=this.MA=!1;switch(arguments.length){case 0:this.destination=p.empty;break;case 1:if(!b){this.destination=p.empty;break;}if("object"===typeof b){if(b instanceof c||"syncErrorThrowable"in b&&b[q.BA]){d=b[q.BA]();this.Hk=d.Hk;this.destination=d;d.add(this);}else this.Hk=!0,this.destination=new m(this,b);break;}default:this.Hk=!0,this.destination=new m(this,b,k,f);}}b(k,a);k.prototype[q.BA]=function(){return this;};k.create=function(a,c,b){a=new k(a,c,b);a.Hk=!1;return a;};k.prototype.next=function(a){this.yf||this.zh(a);};k.prototype.error=function(a){this.yf||(this.yf=!0,this.Jd(a));};k.prototype.complete=function(){this.yf||(this.yf=!0,this.jc());};k.prototype.unsubscribe=function(){this.closed||(this.yf=!0,a.prototype.unsubscribe.call(this));};k.prototype.zh=function(a){this.destination.next(a);};k.prototype.Jd=function(a){this.destination.error(a);this.unsubscribe();};k.prototype.jc=function(){this.destination.complete();this.unsubscribe();};k.prototype.DZa=function(){var a,c;a=this.ln;c=this.ly;this.ly=this.ln=null;this.unsubscribe();this.yf=this.closed=!1;this.ln=a;this.ly=c;};return k;}(g.Nk);d.Ei=c;m=function(a){function c(c,b,k,m){var d;a.call(this);this.TH=c;c=this;f.Gb(b)?d=b:b&&(d=b.next,k=b.error,m=b.complete,b!==p.empty&&(c=Object.create(b),f.Gb(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)));this.Gi=c;this.zh=d;this.Jd=k;this.jc=m;}b(c,a);c.prototype.next=function(a){var c;if(!this.yf&&this.zh){c=this.TH;c.Hk?this.C0(c,this.zh,a)&&this.unsubscribe():this.D0(this.zh,a);}};c.prototype.error=function(a){var c;if(!this.yf){c=this.TH;if(this.Jd)c.Hk?this.C0(c,this.Jd,a):this.D0(this.Jd,a),this.unsubscribe();else if(c.Hk)c.NA=a,c.MA=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a,c,b;a=this;if(!this.yf){c=this.TH;if(this.jc){b=function(){return a.jc.call(a.Gi);};c.Hk?this.C0(c,b):this.D0(b);}this.unsubscribe();}};c.prototype.D0=function(a,c){try{a.call(this.Gi,c);}catch(A){throw this.unsubscribe(),A;}};c.prototype.C0=function(a,c,b){try{c.call(this.Gi,b);}catch(I){return a.NA=I,a.MA=!0;}return!1;};c.prototype.Cs=function(){var a;a=this.TH;this.TH=this.Gi=null;a.unsubscribe();};return c;}(c);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ilb=function(a,b){return a-b;};d.kMb=function(a,b){return a.localeCompare(b);};d.vl=function(a,b){var f;f=Object.getOwnPropertyDescriptor(a,b);f&&Object.defineProperty(a,b,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(g,d,a){var q,c;function b(a){var c,b;c=[];for(b in a)c.push(b);return c;}function f(a,c,b,f,d){var k;Object.getOwnPropertyNames(a).filter(function(a){return d(a)&&(b||!Object.prototype.hasOwnProperty.call(c,a))&&(f||!(a in c));}).forEach(function(b){k=Object.getOwnPropertyDescriptor(a,b);void 0!==k&&Object.defineProperty(c,b,k);});}function p(a,c,d,r){var k,m;k=[];d||(k=Object.keys(c));r||(k=b(c));m=Object.getPrototypeOf(a);null!==m&&m!==Object.prototype&&p(m,c,d,r);f(a,c,!0,!0,function(a){return"constructor"!==a&&-1===k.indexOf(a);});}Object.defineProperty(d,"__esModule",{value:!0});q=a(11);c=Object.getOwnPropertyNames(Function);d.Tj=function(a,b,d,r){void 0===d&&(d=!0);void 0===r&&(r=!0);r||q.assert(!d);a.prototype?(p(a.prototype,b.prototype,d,r),f(a,b,d,r,function(a){return-1===c.indexOf(a);})):f(a,b.prototype,d,r,function(a){return-1===c.indexOf(a);});};},function(g){g.T=function(d,a){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a;};},function(g,d,a){d=a(129);d.f7a=0;g.T={EventEmitter:d,Cx:a(791)};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(388),d);d.sib=function(b){d.platform.wK(b);return a(792).q_;};d.GIb=function(){return a(201);};d.tKb=function(){return a(216);};g=a(12);d.wc=g;g=a(670);d.Cn=g.Cn;g=a(5);d.platform=g;},function(g,d,a){var b,f;b=a(111);f=a(163);g.T=function(a){return function c(m,k){switch(arguments.length){case 0:return c;case 1:return f(m)?c:b(function(c){return a(m,c);});default:return f(m)&&f(k)?c:f(m)?b(function(c){return a(c,k);}):f(k)?b(function(c){return a(m,c);}):a(m,k);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.vu||(d.vu={});g[g.Gka=0]="Test";g[g.jha=1]="Int";g[g.cTa=2]="Staging";g[g.QRa=3]="Prod";d.Sm="GeneralConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.iKa="Cannot apply @injectable decorator multiple times.";d.jKa="Metadata key was used more than once in a parameter:";d.TG="NULL argument";d.pha="Key Not Found";d.qGa="Ambiguous match found for serviceIdentifier:";d.dIa="Could not unbind serviceIdentifier:";d.nPa="No matching bindings found for serviceIdentifier:";d.jOa="Missing required @injectable annotation in:";d.kOa="Missing required @inject or @multiInject annotation in:";d.$Ta=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};d.gIa="Circular dependency found:";d.pCb="Sorry, this feature is not fully implemented yet.";d.YMa="Invalid binding type:";d.oPa="No snapshot available to restore.";d.aNa="Invalid return type in middleware. Middleware must return!";d.dBb="Value provided to function binding must be a function!";d.cNa="The toSelf function can only be applied when a constructor is used as service identifier";d.ZMa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";d.rGa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};d.vIa="Invalid Container constructor argument. Container options must be an object.";d.tIa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";d.sIa="Invalid Container option. Auto bind injectable must be a boolean";d.uIa="Invalid Container option. Skip base check must be a boolean";d.xOa="Cannot apply @postConstruct decorator multiple times in the same class";d.BQa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};d.hIa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};d.CSa="Maximum call stack size exceeded";},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(66);b=a(44);f=a(8);d.Le=new g.Wj();d.pl=1;d.nz=2;d.b8=3;d.kK=4;d.a8=5;b.Ab(function(){var b,c,m;function a(a,b){if(c)c.on(a,b);else L.addEventListener(a,b);}b=L.jQuery;c=b&&b(L);b=(b=L.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;m=f.Wd.hidden;b?b(function(a){d.Le.Kb(d.pl,a);}):a("beforeunload",function(a){d.Le.Kb(d.pl,a);});a("keydown",function(a){d.Le.Kb(d.nz,a);});a("resize",function(){d.Le.Kb(d.b8);});f.Wd.addEventListener("visibilitychange",function(){m!==f.Wd.hidden&&(m=f.Wd.hidden,d.Le.Kb(d.kK));});});(function(){L.addEventListener("error",function(a){d.Le.Kb(d.a8,a);return!0;});}());},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mk="PlayerErrorFactorySymbol";},function(g,d,a){var f;function b(a,b,c,m,k,d,r,y,A,g,h,D){this.code=void 0===a?f.J.lj:a;this.Lc=b;this.Gg=c;this.Vy=m;this.Vq=k;this.message=d;this.yD=r;this.data=y;this.En=A;this.unb=g;this.alert=h;this.W2=D;this.W=!1;}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);b.ne=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}return"";};b.prototype.uJ=function(a){this.yD=b.ne(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.Lc,extCode:this.Gg,edgeCode:this.Vy,mslCode:this.Vq,message:this.message,details:this.yD,data:this.data,errorDisplayMessage:this.En,playbackServiceError:this.unb};};b.gT=function(a,d){return new b(a,f.u.qh,void 0,void 0,void 0,void 0,d.message,d.stack);};d.Sc=b;},function(g,d,a){var f,p;function b(a,c){var m;m=d.Tp[0];m==c&&(m=d.Tp[1]);m?m.close(function(){b(a,c);}):a&&a(f.Tc);}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);p=a(15);d.zja=b;d.Cja=function(a,c){switch(a){case d.xja:d.Aja.push(c);return;case d.yja:d.Bja.push(c);return;}p.Ea(!1);};d.Tp=[];d.Aja=[];d.Bja=[];d.xja=1;d.yja=3;d.cH={index:0,lkb:void 0,A6:void 0};d.wja="network";d.vja="media";d.mRa="timedtext";d.nRa="playback";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vo="LogMessageFactorySymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);d.xH=function(a){b.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};d.Nla=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};d.JFb=function(a,b){return Math.floor(1E3*a/b);};},function(g,d,a){var c;function b(){}function f(){}function p(){}function q(){}Object.defineProperty(d,"__esModule",{value:!0});a=a(113);(function(a){a[a.Xm=0]="STANDARD";a[a.Du=1]="LIMITED";a[a.rDb=2]="PREVIEW";}(c||(c={})));d.Ge=q;q.Xea="created";q.ika="started";q.oka="succeeded";q.wu="failed";q.gB="cancelled";q.WN="cancelled_on_create";q.oG="cancelled_on_start";q.VN="cancelled_not_encrypted";p.hFb="uirequest";p.qDb="prefetch_start";p.oDb="prefetch_complete";p.pDb="prefetch_delete";p.aQa="periodic_update";(function(a){a[a.Yia=0]="PRE_FETCH";a[a.Tja=1]="QC";a[a.Xm=2]="STANDARD";a[a.j0=3]="SUPPLEMENTAL";a[a.gKa=4]="DOWNLOAD";}(g=d.Wm||(d.Wm={})));a={manifest:a.He.fj.mea,ldl:a.He.fj.Fx,getHeaders:a.He.fj.zG,getMedia:a.He.fj.MEDIA};d.Fi=f;f.EGa="asl_start";f.CGa="asl_comp";f.Dxb="asl_exc";f.DGa="asl_fail";f.ESa="stf_creat";f.wMa="idb_open";f.tMa="idb_block";f.DMa="idb_upgr";f.CMa="idb_succ";f.uMa="idb_error";f.vMa="idb_invalid_state";f.yMa="idb_open_timeout";f.AMa="idb_open_wrkarnd";f.BMa="idb_storelen_exc";f.xMa="idb_open_exc";f.zMa="idb_timeout_invalid_storelen";f.qOa="msl_load_data";f.sOa="msl_load_no_data";f.rOa="msl_load_failed";d.bd=b;b.vBb=c;b.Tqa=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.Ge=q;b.CQa=p;b.Wm=g;b.U3a=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.ZG=a;b.Fi=f;},function(g,d){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(d,"__esModule",{value:!0});da(a,Error);d.Zm=a;d.Px="PromiseTimerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.so="EmeConfigSymbol";},function(g,d){function a(){}function b(){}function f(){}Object.defineProperty(d,"__esModule",{value:!0});d.$=f;f.rZ="playready-h264mpl30-dash";f.oO="playready-h264mpl31-dash";f.sZ="playready-h264mpl40-dash";f.OLa="playready-h264hpl22-dash";f.oZ="playready-h264hpl30-dash";f.pZ="playready-h264hpl31-dash";f.qZ="playready-h264hpl40-dash";f.QZ="hevc-main-L30-dash-cenc";f.RZ="hevc-main-L31-dash-cenc";f.SZ="hevc-main-L40-dash-cenc";f.TZ="hevc-main-L41-dash-cenc";f.UZ="hevc-main-L50-dash-cenc";f.VZ="hevc-main-L51-dash-cenc";f.CZ="hevc-main10-L30-dash-cenc";f.FZ="hevc-main10-L31-dash-cenc";f.IZ="hevc-main10-L40-dash-cenc";f.LZ="hevc-main10-L41-dash-cenc";f.AG="hevc-main10-L50-dash-cenc";f.BG="hevc-main10-L51-dash-cenc";f.DZ="hevc-main10-L30-dash-cenc-prk";f.GZ="hevc-main10-L31-dash-cenc-prk";f.JZ="hevc-main10-L40-dash-cenc-prk";f.MZ="hevc-main10-L41-dash-cenc-prk";f.EZ="hevc-main10-L30-dash-cenc-prk-do";f.HZ="hevc-main10-L31-dash-cenc-prk-do";f.KZ="hevc-main10-L40-dash-cenc-prk-do";f.NZ="hevc-main10-L41-dash-cenc-prk-do";f.OZ="hevc-main10-L50-dash-cenc-prk-do";f.PZ="hevc-main10-L51-dash-cenc-prk-do";f.HAb="hevc-main-L30-L31-dash-cenc-tl";f.IAb="hevc-main-L31-L40-dash-cenc-tl";f.JAb="hevc-main-L40-L41-dash-cenc-tl";f.KAb="hevc-main-L50-L51-dash-cenc-tl";f.DAb="hevc-main10-L30-L31-dash-cenc-tl";f.EAb="hevc-main10-L31-L40-dash-cenc-tl";f.FAb="hevc-main10-L40-L41-dash-cenc-tl";f.GAb="hevc-main10-L50-L51-dash-cenc-tl";f.bO="hevc-dv5-main10-L30-dash-cenc-prk";f.cO="hevc-dv5-main10-L31-dash-cenc-prk";f.dO="hevc-dv5-main10-L40-dash-cenc-prk";f.eO="hevc-dv5-main10-L41-dash-cenc-prk";f.fO="hevc-dv5-main10-L50-dash-cenc-prk";f.WY="hevc-dv5-main10-L51-dash-cenc-prk";f.tZ="hevc-hdr-main10-L30-dash-cenc";f.uZ="hevc-hdr-main10-L31-dash-cenc";f.vZ="hevc-hdr-main10-L40-dash-cenc";f.wZ="hevc-hdr-main10-L41-dash-cenc";f.xZ="hevc-hdr-main10-L50-dash-cenc";f.zZ="hevc-hdr-main10-L51-dash-cenc";f.qO="hevc-hdr-main10-L30-dash-cenc-prk";f.rO="hevc-hdr-main10-L31-dash-cenc-prk";f.sO="hevc-hdr-main10-L40-dash-cenc-prk";f.tO="hevc-hdr-main10-L41-dash-cenc-prk";f.yZ="hevc-hdr-main10-L50-dash-cenc-prk";f.AZ="hevc-hdr-main10-L51-dash-cenc-prk";f.$ka="vp9-profile0-L21-dash-cenc";f.kH="vp9-profile0-L30-dash-cenc";f.lH="vp9-profile0-L31-dash-cenc";f.mH="vp9-profile0-L40-dash-cenc";f.Vka="vp9-profile2-L30-dash-cenc-prk";f.Wka="vp9-profile2-L31-dash-cenc-prk";f.Xka="vp9-profile2-L40-dash-cenc-prk";f.Yka="vp9-profile2-L50-dash-cenc-prk";f.Zka="vp9-profile2-L51-dash-cenc-prk";f.nea="av1-main-L20-dash-cbcs-prk";f.oea="av1-main-L21-dash-cbcs-prk";f.pea="av1-main-L30-dash-cbcs-prk";f.qea="av1-main-L31-dash-cbcs-prk";f.rea="av1-main-L40-dash-cbcs-prk";f.sea="av1-main-L41-dash-cbcs-prk";f.tea="av1-main-L50-dash-cbcs-prk";f.uea="av1-main-L51-dash-cbcs-prk";f.qSa=[f.rZ];f.TLa=[f.oO,f.sZ];f.XTa=[f.QZ,f.RZ,f.SZ,f.TZ,f.UZ,f.VZ];f.ZTa=[f.CZ,f.FZ,f.IZ,f.LZ,f.AG,f.BG];f.YTa=[f.DZ,f.GZ,f.JZ,f.MZ,f.AG,f.BG];f.gFb=[f.EZ,f.HZ,f.KZ,f.NZ,f.OZ,f.PZ];f.SLa=[f.tZ,f.uZ,f.vZ,f.wZ,f.xZ,f.zZ];f.RLa=[f.qO,f.rO,f.sO,f.tO,f.yZ,f.AZ];f.kKa=[f.bO,f.dO,f.fO,f.cO,f.eO,f.WY];f.ozb=[f.bO,f.cO,f.dO,f.fO,f.eO];f.Fxb=[f.oZ,f.pZ,f.qZ];f.pFb=[f.kH,f.lH,f.mH];f.Nu=[f.$ka,f.kH,f.lH,f.mH,f.Vka,f.Wka,f.Xka,f.Yka,f.Zka];f.JGa=[f.nea,f.oea,f.pea];f.IGa=[f.qea,f.rea,f.sea];f.KGa=[f.tea,f.uea];f.Vh=[].concat(f.JGa,f.IGa,f.KGa);f.NLa=f.qSa.concat(f.TLa);f.QLa=f.XTa;f.PLa=f.ZTa;f.SGa=[].concat(f.NLa,f.QLa,f.PLa,f.YTa,f.SLa,f.RLa,f.kKa,f.Nu,f.Vh);d.Ai=b;b.uO="heaac-2-dash";b.ULa="heaac-5.1-dash";b.vO="heaac-2hq-dash";b.$N="ddplus-2.0-dash";b.RY="ddplus-5.1-dash";b.aO="ddplus-atmos-dash";b.BZ="playready-heaac-2-dash";b.WLa="heaac-2-dash-enc";b.fJa="ddplus-2.0-dash-enc";b.gJa="ddplus-5.1-dash-enc";b.VLa="playready-heaac-2-dash-enc";b.SGa=[b.uO,b.vO,b.$N,b.RY,b.aO,b.BZ,b.WLa,b.fJa,b.gJa,b.VLa];d.Ok=a;a.zSa="simplesdh";a.UY="dfxp-ls-sdh";a.AB="nflx-cmisc";a.jEb="simplesdh-enc";a.hzb="dfxp-ls-sdh-enc";a.KO="nflx-cmisc-enc";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);g=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.Gu?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();d.Metadata=g;},function(g,d,a){var r;function b(a,b){if(a.length==b.length&&1<a.length){for(var k=a.length,f=0,m=c(a),d=c(b),r=0;r<k;r++)f+=a[r]*b[r];return(f-m*d/k)/k;}return!1;}function f(a){if(!Array.isArray(a)||2>a.length)return!1;a=p(a);return Math.sqrt(a);}function p(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=q(a);return c(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function q(a){return Array.isArray(a)&&a.length?c(a)/a.length:!1;}function c(a){return Array.isArray(a)?a.reduce(function(a,c){return a+c;},0):!1;}function m(a,c,b){return Math.max(Math.min(a,b),c);}function k(a,c){return"number"===typeof a?a:c;}function u(a){return 1/(1+Math.exp(-a));}r=a(6);g.T={Ka:function(a,c,b){try{a.emit(c,b);}catch(F){a.Jd("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",F,"Event:",b);}},vj:function(){var a,c,b;a=Array.prototype.concat.apply([],arguments);c=a.reduce(function(a,c){return a+c.byteLength;},0);b=new Uint8Array(c);a.reduce(function(a,c){b.set(new Uint8Array(c),a);return a+c.byteLength;},0);return b.buffer;},dD:m,U2a:function(a,c,b,f){return{min:m(k(a.min,c),b,f),max:m(k(a.max,c),b,f),Vs:m(a.Vs||6E4,0,6E5),fqa:m(a.fqa||0,-3E5,3E5),scale:m(a.scale||6E4,0,3E5),QCa:m(a.QCa||0,-3E5,3E5),gamma:m(a.gamma||1,.1,10)};},Xc:function(a,c){void 0!==a&&r.gmb(a).forEach(function(a){c(a[0],a[1]);});},V9a:function(a,c,b){return a.min+(a.max-a.min)*(1-Math.pow(u(6*(c-(a.Vs+(a.fqa||0)*(1-b)))/(a.scale+(a.QCa||0)*(1-b))),a.gamma));},W9a:function(a,c){return a.min+(a.max-a.min)*Math.pow(u(6*(c-a.Vs)/a.scale),a.gamma);},VIb:c,Pab:q,Zdb:p,TIb:f,zIb:b,yIb:function(a,c){var k;if(a.length==c.length){k=b(a,c);a=f(a);c=f(c);if(0<a&&0<c)return k/(a*c);}return!1;},yw:function(a,c,b){return c.fra?c.fra(b):new a.Console("ASEJS","media|asejs",b);},qM:function(a){return a.length?"{"+a+"} ":"";},Yqb:function(a,c,b){return{min:a.min*b+(1-b)*c.min,max:a.max*b+(1-b)*c.max,Vs:a.Vs*b+(1-b)*c.Vs,scale:a.scale*b+(1-b)*c.scale,gamma:a.gamma*b+(1-b)*c.gamma};},tanh:Math.tanh||function(a){var c;c=Math.exp(+a);a=Math.exp(-a);return Infinity==c?1:Infinity==a?-1:(c-a)/(c+a);},Kca:u,Ej:function(a){var c;c=a.Ua.cc.wa.id;return{S:a.S,duration:a.duration,offset:a.offset,aa:a.aa,O:a.O,profile:a.profile,Yb:a.Yb,Db:c,pa:a.pa,xb:a.xb,location:a.location,Si:a.Si,wj:a.wj,dnb:{cc:{wa:{id:c}}}};}};},function(g,d,a){var f,p;function b(){var a,c;a=this;this.Co={};this.on=function(c,b,f){a.addListener(c,b,f);};this.addListener=function(c,b,f){a.Co&&(a.Co[c]=a.Co[c]||new p.Pja(!0)).add(b,f);};this.removeListener=function(c,b){a.Co&&a.Co[c]&&a.Co[c].removeAll(b);};this.j7=function(c){return a.Co&&a.Co[c]?a.Co[c].yta():[];};c=this;this.Kb=function(a,b,d){var k;if(c.Co){k=c.j7(a);for(a={Ti:0};a.Ti<k.length;a={Ti:a.Ti},a.Ti++)d?function(a){return function(){var c;c=k[a.Ti];f.Ab(function(){c(b);});};}(a)():k[a.Ti].call(this,b);}};}Object.defineProperty(d,"__esModule",{value:!0});f=a(44);p=a(435);b.prototype.Fg=function(){this.Co=void 0;};d.Wj=b;},function(g,d,a){var u,r,y,A,I,h,D,O,aa,N,l,n,ja,z,t,T;function b(a){var c,b,k,f;c=a.url.split("?");b=c[0];k="sc="+a.brb;f=a.Spa?"random="+(1E17*l.OG()).toFixed(0):"";b=c[1]?b+("?"+c[1]+"&"+k):b+("?"+k);b=b+(f?"&"+f:"");a.Wb&&!A.g9(b)&&(a=r.config&&r.config.X3)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function f(a){var c,b,k,f;c=a.url.split("?");b=c[0];k="bb_reason="+a.reason;f=a.Spa?"random="+(1E17*l.OG()).toFixed(0):"";b=c[1]?b+("?"+c[1]+"&"+k):b+("?"+k);b=b+(f?"&"+f:"");a.Wb&&!A.g9(b)&&(a=r.config&&r.config.X3)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function p(a,c){var b,k,f,m;b=a.url.split("?");k=b[0];f=q(a);f&&(c.cr=f,(void 0===a.tN?0:a.tN)?(a.headers=a.headers||{},a.headers.Range="bytes="+f):(c.cr=f,k="/"==k[k.length-1]?k+"range/":k+"/range/",k+=f));f=a.Spa?"random="+(1E17*l.OG()).toFixed(0):"";r.config.tq&&a.lX&&(m="sc="+a.lX,f=m+(f?"&"+f:""));k=b[1]?k+("?"+b[1]+(f?"&"+f:"")):k+(f?"?"+f:"");a.Wb&&!A.g9(k)&&(a=r.config&&r.config.X3)&&(k=a.replace("{URL}",k).replace("{EURL}",encodeURIComponent(k)));c.url=k;}function q(a){var c;c=a.offset;if(void 0!==c)return aa.XR(c),void 0!==a.length?(a=a.offset+a.length-1,aa.XR(a),aa.Ea(c<=a),c+"-"+a):c+"-";}function c(){return!1!==l.Kk.onLine;}function m(a,c,b,k){var f,m;f=k.Qaa;m=k.headers;a.open(f?"POST":"GET",c,!b);switch(k.responseType){case d.YT:a.responseType="arraybuffer";break;case d.$va:N.l2a(a,"overrideMimeType",void 0,"text/xml");}f&&(c={"Content-Type":h.ae(f)?"text/plain":"application/x-octet-stream"},m=m?h.Za(c,m):c);m&&N.Xc(m,function(c,b){a.setRequestHeader(c,b);});k.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");f?a.send(f):a.send();}function k(a,c){switch(c.type){case d.YT:return a.response||new ArrayBuffer(0);case d.$va:return a.responseXML;default:return a.responseText;}}Object.defineProperty(d,"__esModule",{value:!0});u=a(66);r=a(13);y=a(9);A=a(28);I=a(26);h=a(19);D=a(2);O=a(4);aa=a(15);N=a(18);l=a(8);n=a(44);ja=a(16);z=a(22);t={s0:1,uFb:2,rHa:3};d.Qd=function(){var A,F,N,l;function a(a){var c;try{c=a.url;ja.Ywa(c)?0===c.indexOf("https")?l.ssl++:0===c.indexOf("http")?l["non-ssl"]++:l.invalid++:l.invalid++;}catch(Ba){}}function q(){F.Kb(d.ffb);F.Kb(d.awa);}function g(){F.Kb(d.z8);F.Kb(d.awa);}A=O.Uf("Http");F=new u.Wj();N=0;l={ssl:0,"non-ssl":0,invalid:0};O.V.get(z.bf).register(D.J.bha,function(a){r.config.uwb&&(L.addEventListener("online",q),L.addEventListener("offline",g),d.y8=c);a(y.Tc);});return{addEventListener:F.addListener,removeEventListener:F.removeListener,download:function(c,b){var Q,M,P,ra,fa,V,U,ka,t,X,Y;function f(){var a;f=h.Qe;Y&&(clearTimeout(Y),Y=null);F.removeListener(d.z8,y);t&&(t.onloadstart=null,t.onreadystatechange=null,t.onprogress=null,t.onerror=null,t.onload=null,t=t.onabort=null);ka.W||(ka.Z!=D.u.yu?Q.warn("Download failed",M,D.uo(ka)):Q.trace("Download aborted",M));a=P;P=void 0;for(var c=a.length;c--;)(function(){var b;b=a[c];n.Ab(function(){b(ka);});}());F.Kb(d.dfb,ka,!0);}function u(){Y&&(clearTimeout(Y),Y=null);Y=setTimeout(l,X?U:V);}function q(a,c,b,k){var m,d;ka.W=!1;ka.Z=a;m=I.Cg();d=ka.Fj;d.rg=d.rg||m;d.Hl=d.Hl||m;0<c&&(ka.mi=ka.Kc=c);b&&(ka.Sa=b);k&&(ka.Pj=k);a!==D.u.CG&&a!==D.u.Ex&&a!==D.u.EG||!t||(t.onabort=null,ba());f();}function g(a){var c,b;try{b=a.getResponseHeader("X-Netflix.Retry.Server.Policy");b&&(c=JSON.parse(b));}catch(qc){}return c;}function y(){d.y8()||q(D.u.CG);}function l(){q(X?D.u.Ex:D.u.EG);}function ba(){try{t&&t.abort();}catch(lf){}}function z(){q(D.u.yu);}aa.Ea(b);Q=c.j&&c.j.log&&O.mg(c.j,"Http")||A;M={Num:N++};P=[b];ra={};V=c.LR||r.config.LR;U=c.X$||r.config.X$;a(c);ka=function(){var a,b,k;a=h.Qe;b=h.Qe;k=h.Qe;return{request:c,type:c.responseType,Fj:ra,abort:ba,timeout:l,roa:function(a){f!==h.Qe&&(aa.Ea(P,"Callback should be added before download starts."),P&&P.unshift(a));},JV:function(a){k(a);},LV:function(c){a(c);},SE:function(a){b(a);},jsb:function(a){k=a;},ssb:function(c){a=c;},esb:function(a){b=a;}};}();n.Ab(function(){var a,b;if(ja.Ywa(c.url))try{if(p(c,ka),fa=ka.url,aa.oJ(fa),M.Url=fa,d.y8()){t=new XMLHttpRequest();a=r.config.ywb&&"undefined"!=typeof t.onloadstart;a&&(t.onloadstart=function(){var a;a=I.Cg();ra.requestTime=a;ka.JV({mediaRequest:c,timestamp:a});});t.onreadystatechange=function(){if(2==t.readyState){X=!0;ra.rg=I.Cg();t.onreadystatechange=null;u();for(var a=ka,b=t.getAllResponseHeaders().split("\n"),k=b.length,f,m,d={};k--;)if(f=b[k])m=f.indexOf(": "),1<=m&&m<f.length-1&&(d[f.substr(0,m)]=f.substr(m+2));a.headers=d;ka.LV({timestamp:ra.rg,connect:!0,mediaRequest:c,start:ra.requestTime,rt:[ra.rg-ra.requestTime]});}};t.onprogress=function(a){X=!0;ra.Dv=a.loaded;u();a={mediaRequest:c,bytes:a.loaded,tempstamp:I.Cg(),bytesLoaded:a.loaded};ka.LV(a);};t.onload=function(){var a;if(f!==h.Qe){aa.Ea(void 0===ra.Hl);ra.Hl=I.Cg();ra.rg=ra.rg||ra.Hl;if(200<=t.status&&299>=t.status)if(a=k(t,ka),c.Kg)try{ka.content=c.Kg(a,ka);ka.W=!0;ka.parsed=!0;ka.raw=a;}catch(qc){Q.warn("Exception parsing response",qc,M);q(D.u.XZ,void 0,h.ne(qc));}else ka.parsed=!1,ka.content=a,ka.W=!0;else t.status==T?q(D.u.qB,t.status):q(D.u.DG,t.status,t.response,g(t));f();}};t.onabort=z;t.onerror=function(){var a,c;a=t.status;"undefined"!==typeof r.config.Gta&&(a=r.config.Gta);if(0<a)if(a==T)q(D.u.qB,a);else{try{c=t.responseText;}catch(Ge){}q(D.u.DG,a,c,g(t));}else q(D.u.rB);};b=I.Cg();m(t,fa,!1,c);F.Kb(d.efb,ka,!0);a||(ra.requestTime=b,ka.JV({mediaRequest:c,timestamp:b}));u();F.addListener(d.z8,y);}else n.Ab(q.bind(void 0,D.u.CG));}catch(ib){Q.error("Exception starting download",ib,M);q(D.u.a_,void 0,h.ne(ib));}else q(D.u.yga);});return ka;},Pb:l,CKb:function(a){var c;c=new XMLHttpRequest();a=f(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},$sb:function(a){var c;c=new XMLHttpRequest();a=b(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},oob:function(a){var c,b,k;c=new XMLHttpRequest();b=a.url;k=a.lob;c.open("HEAD",b);c.timeout=Math.max(2*k.Vhb,r.config.$aa);c.onreadystatechange=function(){2==c.readyState&&k&&k.zl({url:b});};c.ontimeout=c.onerror=function(){k&&k.daa({url:b});};c.send();},ZRa:t};}();d.jJb=b;d.gJb=f;d.iJb=p;d.hJb=q;d.y8=y.aSa;d.kJb=c;d.wFb=m;d.vFb=k;d.efb=1;d.dfb=2;d.ffb=3;d.z8=4;d.awa=5;d.Zva=1;d.$va=2;d.YT=3;T=420;L._cad_global.http=d.Qd;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mO="EventSourceSymbol";d.nZ="GlobalEventSourceSymbol";d.sG="DebugEventSourceSymbol";},function(g,d,a){var f,p,q,c,m,k;function b(a){return a.reduce(function(a,c){return a.concat(c instanceof k.gP?c.LJ:c);},[]);}f=a(101);p=a(469);q=a(468);c=a(1025);m=a(467);k=a(1024);g=function(){function a(a){this.closed=!1;this.GC=this.ly=this.ln=null;a&&(this.Cs=a);}a.prototype.unsubscribe=function(){var a,d,u,g,h,D;a=!1;if(!this.closed){u=this.ln;g=this.ly;h=this.Cs;D=this.GC;this.closed=!0;this.GC=this.ly=this.ln=null;for(var O=-1,aa=g?g.length:0;u;)u.remove(this),u=++O<aa&&g[O]||null;q.Gb(h)&&(u=c.mFa(h).call(this),u===m.Lv&&(a=!0,d=d||(m.Lv.e instanceof k.gP?b(m.Lv.e.LJ):[m.Lv.e])));if(f.isArray(D))for(O=-1,aa=D.length;++O<aa;)u=D[O],p.Xe(u)&&(u=c.mFa(u.unsubscribe).call(u),u===m.Lv&&(a=!0,d=d||[],u=m.Lv.e,u instanceof k.gP?d=d.concat(b(u.LJ)):d.push(u)));if(a)throw new k.gP(d);}};a.prototype.add=function(c){var b;if(!c||c===a.EMPTY)return a.EMPTY;if(c===this)return this;b=c;switch(typeof c){case"function":b=new a(c);case"object":if(b.closed||"function"!==typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;"function"!==typeof b.qla&&(c=b,b=new a(),b.GC=[c]);break;default:throw Error("unrecognized teardown "+c+" added to Subscription.");}(this.GC||(this.GC=[])).push(b);b.qla(this);return b;};a.prototype.remove=function(a){var c;c=this.GC;c&&(a=c.indexOf(a),-1!==a&&c.splice(a,1));};a.prototype.qla=function(a){var c,b;c=this.ln;b=this.ly;c&&c!==a?b?-1===b.indexOf(a)&&b.push(a):this.ly=[a]:this.ln=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();d.Nk=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vka="StorageValidatorSymbol";d.Er="AppStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rp="PlatformSymbol";},function(g,d,a){var f,p,q,c;function b(a,c,b,f,d,p){this.context=a;this.errorCode=c;this.Hqb=b;this.Cba=d;this.Bba=p;this.name=f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);p=a(302);q=a(3);c=a(56);b.prototype.send=function(a,c,b,f,d,p,q){var k;k=this;return this.Dbb(a,c,b,void 0===q?!1:q,f,d,p).then(function(a){return k.context.T7a.send(a.context,a.request);});};b.prototype.Dbb=function(a,c,b,f,d,p,q){var k,m;try{k=this.context.mqb.create(this.context.nE.Oy(),c,b,d,f);m=this.L1a(a,f,p,q);return Promise.resolve({context:m,request:k});}catch(O){return Promise.reject(O);}};b.prototype.L1a=function(a,c,b,f){return{Qd:this.context.Qd,log:a,gl:this.name,url:this.context.owb(p.N1a(this.context.Tf,this.context.Jj,this.name,c)),Mba:this.Hqb,timeout:q.ih(59),headers:{"Content-Type":"text/plain"},Bba:this.Bba,Cba:void 0!==b?b:this.Cba,u1a:f};};b.prototype.Hn=function(a){return a instanceof c.Sc?a:p.Hn(this.errorCode,a);};b.prototype.jqa=function(a){var c;c=this;a.forEach(function(a){if(c.qU(a))throw a.error;});};b.prototype.qU=function(a){return void 0!==a.error;};a=b;a=g.__decorate([f.N(),g.__param(0,f.oh()),g.__param(1,f.oh()),g.__param(2,f.oh()),g.__param(3,f.oh()),g.__param(4,f.oh()),g.__param(5,f.oh())],a);d.Wh=a;},function(g){g.T=function a(b,f){var p;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,f);Object.getOwnPropertyNames(b).forEach(function(a){p=Object.getOwnPropertyDescriptor(b,a);void 0!==p&&Object.defineProperty(f,a,p);});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vg={audio:"audio",video:"video",MX:"timedtext",Mda:"trickplay"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nl={start:"start",stop:"stop",LK:"keepAlive",HJ:"engage",splice:"splice"};d.kZ="EventPboCommandFactorySymbol";d.tka="StartEventPboCommandSymbol";d.uka="StopEventPboCommandSymbol";d.qha="KeepAliveEventPboCommandSymbol";d.rka="SpliceEventPboCommandSymbol";d.ega="EngageEventPboCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Xm=0]="STANDARD";a[a.Du=1]="LIMITED";}(d.ij||(d.ij={})));d.sxa=function(a){return["STANDARD","LIMITED"][a];};},function(g,d,a){var b,f,p,q,c,m,k,u;b=a(79);f=a(458);p=a(457);q=a(469);c=a(10);m=a(170);k=a(1007);u=a(251);d.fu=function(a,d,g,I){var r;r=new k.iha(a,g,I);if(r.closed)return null;if(d instanceof c.Ca)if(d.ks)r.next(d.value),r.complete();else return r.Hk=!0,d.subscribe(r);else if(f.xwa(d)){a=0;for(g=d.length;a<g&&!r.closed;a++)r.next(d[a]);r.closed||r.complete();}else{if(p.Nwa(d))return d.then(function(a){r.closed||(r.next(a),r.complete());},function(a){return r.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),r;if(d&&"function"===typeof d[m.iterator]){d=d[m.iterator]();do{a=d.next();if(a.done){r.complete();break;}r.next(a.value);if(r.closed)break;}while(1);}else if(d&&"function"===typeof d[u.observable])if(d=d[u.observable](),"function"!==typeof d.subscribe)r.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return d.subscribe(new k.iha(a,g,I));else d="You provided "+(q.Xe(d)?"an invalid object":"'"+d+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",r.error(new TypeError(d));}return null;};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);}b(f,a);f.prototype.Yz=function(a,c){this.destination.next(c);};f.prototype.aaa=function(a){this.destination.error(a);};f.prototype.zl=function(){this.destination.complete();};return f;}(a(45).Ei);d.Tr=g;},function(g,d,a){g=a(174);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;g="undefined"!==typeof L&&L||"undefined"!==typeof g&&g||a;d.root=g;if(!g)throw Error("RxJS could not find any global context (window, self, global)");},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hha="Injector";d.Hx=145152E5;d.Ju="ProfileSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qo={Request:"Request",m0:"Singleton",cP:"Transient"};d.Xh={hfa:"ConstantValue",ifa:"Constructor",Tfa:"DynamicValue",mZ:"Factory",Function:"Function",g_:"Instance",rNa:"Invalid",Sja:"Provider"};d.Wr={dfa:"ClassProperty",jfa:"ConstructorArgument",x0:"Variable"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Iu="PboConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.ResponseType||(d.ResponseType={});g[g.Text=0]="Text";g[g.xFb=1]="Xml";g[g.nyb=2]="Binary";d.PAb="HttpClientSymbol";d.Eu="LegacyHttpSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(b){a.prototype.parse.call(this,b);this.ld=this.er([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{cJb:"int32"},{SMb:"int32"},{offset:32,type:"offset"},{lab:"int16"},{v3a:{type:"int8",h0a:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};f.Xb=!0;return f;}(a(215)["default"]);d["default"]=g;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Je="avc1";return f;}(g);d.LGa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Je="avc2";return f;}(g);d.MGa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Je="avc3";return f;}(g);d.NGa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Je="avc4";return f;}(g);d.OGa=a;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Je="hvc1";return f;}(g);d.dMa=a;g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Je="hev1";return f;}(g);d.ZLa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.A_="6674654e-696c-5078-6966-665374726d21";d.B_="6674654e-696c-4878-6165-6465722e7632";d.oia="6674654e-696c-5078-6966-66496e646578";d.JO="6674654e-696c-4d78-6f6f-6653697a6573";d.IO="6674654e-696c-5378-6565-6b506f696e74";d.Kia="cedb7489-e77b-514c-84f9-7148f9882554";d.Jia="524f39a2-9b5a-144f-a244-6c427c648df4";d.z_="6674654e-696c-4678-7261-6d6552617465";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Sf=a;}a.prototype.ADa=function(a){this.Sf=a;};a.prototype.pqa=function(){this.Sf=void 0;};a.prototype.dz=function(a){this.Sf&&this.Sf.cA&&this.Sf.cA(a);};a.prototype.cz=function(a){this.Sf&&this.Sf.bA&&this.Sf.bA(a);};a.prototype.VD=function(a){this.Sf&&this.Sf.DL&&this.Sf.DL(a);};a.prototype.zq=function(a){this.Sf&&this.Sf.Ph&&this.Sf.Ph(a);};a.prototype.cT=function(a){this.Sf&&this.Sf.CL&&this.Sf.CL(a);};a.prototype.bT=function(a,f){this.Sf&&this.Sf.MV&&this.Sf.MV(a,f);};return a;}();d.Fr=g;g.prototype.cA=g.prototype.dz;g.prototype.bA=g.prototype.cz;g.prototype.DL=g.prototype.VD;g.prototype.Ph=g.prototype.zq;g.prototype.CL=g.prototype.cT;g.prototype.MV=g.prototype.bT;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.psa=0]="downloading";a[a.i8a=1]="downloaded";a[a.gi=2]="appended";a[a.buffered=3]="buffered";a[a.CLb=4]="removed";a[a.HMb=5]="unused";}(d.Bea||(d.Bea={})));(function(a){a[a.waiting=1]="waiting";a[a.MKb=2]="ondeck";a[a.psa=4]="downloading";a[a.i8a=8]="downloaded";a[a.AK=6]="inprogress";}(d.Aea||(d.Aea={})));d.Mxb="AseBufferViewSymbol";d.xY="AseBufferAccountingSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lu="ApiInfoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cfa="DebugConfigSymbol";d.pu="DebugSymbol";},function(g,d,a){var f,p;function b(a,c,b,k,d){a=void 0===a?f.J.lj:a;return p.Sc.call(this,a,c,b,void 0,void 0,k,p.Sc.ne(d),d)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);p=a(56);da(b,p.Sc);d.Pf=b;},function(g,d,a){var p,q;function b(a,b,k,f,d){var c,m,u;c={};m="number"===typeof d;d=void 0!==d&&m?d.toString():k;if(m&&void 0!==k)throw Error(p.ZMa);Reflect.g8(a,b)&&(c=Reflect.getMetadata(a,b));k=c[d];if(Array.isArray(k))for(var m=0,r=k;m<r.length;m++){u=r[m];if(u.key===f.key)throw Error(p.jKa+" "+u.key.toString());}else k=[];k.push(f);c[d]=k;Reflect.r5(a,c,b);}function f(a,b){return function(c,f){b(c,f,a);};}Object.defineProperty(d,"__esModule",{value:!0});p=a(53);q=a(31);d.OA=function(a,f,k,d){b(q.zka,a,f,d,k);};d.bN=function(a,f,k){b(q.Aka,a.constructor,f,k);};d.Fv=function(a,b,k){"number"===typeof k?Reflect.Fv([f(k,a)],b):"string"===typeof k?Reflect.Fv([a],b,k):Reflect.Fv([a],b);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);d.VOa=function(a,g){var c;function f(){}c=[];this.bu=function(a){var m;for(var b=[],f=c.length;f--;){m=c[f];m.bu(a)&&b.push(m.PJ);}if(b.length)return b;};d.fia.forEach(function(b){(b=b(a,g))&&c.push(b);});0<c.length&&a.addEventListener(b.R.Lj,f);};d.QG=function(a){d.fia.push(a);};d.fia=[];},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ax="DeviceFactorySymbol";},function(g,d,a){var b,f,p,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(11);f=a(12);p=a(73);q=a(33);g=a(47);c=a(161);m=a(221);a=a(160);k=function(a){function k(c,b){var k;k=a.call(this,c,b)||this;k.Hi=b.index;k.cC=b.ab;k.Zr=b.tb;k.OZa=b.Ac?b.Ac:c.Ac;k.Dna=b.wp||0;k.Fma=!!b.Kq;k.kg=void 0===b.J6||void 0===b.I6||b.J6===b.ab&&b.I6===b.tb?k:new m.mG(k,{ab:b.J6,tb:b.I6});k.fXa=b.K$;k.EUa=b.Ag;k.as=b.Ra?k.uza(b.Ra):void 0;k.Zna=b.ix;k.gi=!1;return k;}b.__extends(k,a);Object.defineProperties(k.prototype,{yz:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{index:{get:function(){return this.Hi;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Ac:{get:function(){return this.OZa;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{ab:{get:function(){return this.cC;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{tb:{get:function(){return this.Zr;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{wp:{get:function(){return this.Dna;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Kq:{get:function(){return this.Fma;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{K$:{get:function(){return this.fXa;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Ag:{get:function(){return this.EUa;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Ra:{get:function(){return this.as;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{ix:{get:function(){return this.Zna;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{J6:{get:function(){return this.kg.ab;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{I6:{get:function(){return this.kg.tb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{kab:{get:function(){return this.kg.im;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Mta:{get:function(){return this.kg.ML;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Qv:{get:function(){return this.kg.ec;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{dT:{get:function(){return this.kg.pe;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Lta:{get:function(){return this.kg.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{Jta:{get:function(){return this.kg.gd;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{UJ:{get:function(){return this.kab/this.stream.La.Vd;},enumerable:!0,configurable:!0}});k.prototype.zDa=function(a){this.Dna=a.Ll(this.ca).Vd;};k.prototype.dya=function(){this.Fma=!0;};k.prototype.AM=function(a){this.Zna=a;};k.prototype.Qj=function(a){var c,b;void 0===a&&(a={});c=this.stream.La.Vd;b=this.as||{start:0,end:this.UJ};a=this.uza(a);this.kg&&this.kg!==this||(this.kg=new m.mG(this,this));a.start>b.start&&(this.cC=this.kg.ab+a.start*c);a.end<b.end&&(this.Zr=this.kg.ab+a.end*c);this.as=a;};k.prototype.rsa=function(){this.as?this.Qj({start:this.as.start+1,end:this.as.end}):this.Qj({start:1});};k.prototype.s8a=function(){this.as?this.Qj({start:this.as.start,end:(this.as.end||0)-1}):this.Qj({start:0,end:-1});};k.prototype.Q$a=function(a){var b;if(!(a<this.S||a>=this.ka)&&this.Ag&&this.Ag.length){a=new q.sb(a+1-this.S,1E3).ED(this.stream.La);for(var c=this.Ag.length-1;0<=c;--c){b=this.Ag[c];if(b.Jm<=a)return b;}return{Jm:0,Td:this.Qv};}};k.prototype.P$a=function(a){var b;if(!(a<this.S||a>=this.ka)&&this.Ag&&this.Ag.length){a=new q.sb(a+1-this.S,1E3).ED(this.stream.La);for(var c=this.Ag.length-1;0<=c;--c){b=this.Ag[c];if(b.Jm<=a)return b;}return{Jm:0,Td:this.Qv};}};k.prototype.jta=function(a,c){var b,k,f;if(!(a<this.S||a>=this.ka)){b=this.La.Vd;k=this.La.ca;f=Math.floor(this.im/b);a=Math.min((c?Math.ceil:Math.floor)((q.sb.aza(a,k)-this.ab+(c?-1:1)*(k/1E3-1))/b),f);b=q.sb.WEa(this.ab+a*b,k);return a===f?void 0:{Jm:a,Td:b};}};k.prototype.QS=function(a){return this.M===f.Da.VIDEO?this.Q$a(a):this.jta(a,!1);};k.prototype.N$a=function(a){return this.M===f.Da.VIDEO?this.P$a(a):this.jta(a,!0);};k.prototype.V2=function(a){this.Cc+=a.aa;this.Zr=a.tb;};k.prototype.toString=function(){return"["+this.pa+", "+this.O+"kbit/s, "+("c:"+this.gd+"-"+this.hg+",")+("p:"+this.ec+"-"+this.pe+",d:"+this.duration+"]");};k.prototype.toJSON=function(){var a;a=c.ux.prototype.toJSON.call(this);p({index:this.index,startPts:this.S,endPts:this.ka,contentStartPts:this.gd,contentEndPts:this.hg,fragmentStartPts:this.Qv!==this.S?this.Qv:void 0,fragmentEndPts:this.dT!==this.ka?this.dT:void 0,edit:this.Ra},a);return a;};k.prototype.qta=function(a){var c;if(this.Ag)for(var b=0;b<this.Ag.length;++b)this.Ag[b].Jm===a&&(c=this.Ag[b].offset);return c;};k.prototype.uza=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.UJ)+(a.end||0)};};return k;}(c.ux);d.Jk=k;g.Tj(a.PN,k);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wB="LoggerSinksSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.NB="ThrottleFactorySymbol";},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.format=function(a,b){var f;for(var c=1;c<arguments.length;++c);f=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return"undefined"!=typeof f[c]?f[c]:a;});};b.prototype.Ptb=function(a){for(var b=a.length,c=new Uint16Array(b),f=0;f<b;f++)c[f]=a.charCodeAt(f);return c.buffer;};b.prototype.FX=function(a){return JSON.stringify(a,null,"  ");};f=b;f=g.__decorate([a.N()],f);d.Ux=f;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xx="Utf8EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wx="Base16EncoderSymbol";},function(g,d,a){var b,f,p,q;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(247);p=a(135);q=a(118);a=function(a){function c(c,b){a.call(this);this.jk=c;(this.ga=b)||1!==c.length||(this.ks=!0,this.value=c[0]);}b(c,a);c.create=function(a,b){return new c(a,b);};c.of=function(){var m;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];q.Az(b)?a.pop():b=null;m=a.length;return 1<m?new c(a,b):1===m?new f.k0(a[0],b):new p.wG(b);};c.Ab=function(a){var c,b,k;c=a.jk;b=a.index;k=a.Mf;b>=a.count?k.complete():(k.next(c[b]),k.closed||(a.index=b+1,this.Nb(a)));};c.prototype.fg=function(a){var b,k,f;b=this.jk;k=b.length;f=this.ga;if(f)return f.Nb(c.Ab,0,{jk:b,index:0,count:k,Mf:a});for(f=0;f<k&&!a.closed;f++)a.next(b[f]);a.complete();};return c;}(g.Ca);d.sx=a;},function(g,d){d.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});a=0;d.id=function(){return a++;};},function(g,d,a){var b,f,p,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(13);g=a(2);p=a(15);q=a(4);c=a(343);m=a(34);k=a(8);a=a(22);u=q.V.get(a.bf);u.register(g.J.d_,function(a){var r,g;p.Ea(f.config);p.Ea(k.Hu&&k.Hu.getDeviceId||k.C_||m.tga);r=q.V.get(c.Ifa);g=q.Uf("Device");u.Qc("devs");r.create({deviceId:f.config.deviceId,Q6:m.tga,Zra:"deviceid",Zg:f.config.Zg,vq:m.Sg.gZ,$ra:m.sfa,userAgent:k.$j,I9:f.config.I9,e7:f.config.e7,I7a:m.Sg.qfa,Q0a:f.config.vpa.e,H7a:m.Sg.DJa,uKb:f.config.uq?"mslstoretest":"mslstore"}).then(function(c){d.Fh=c;L._cad_global.device=d.Fh;g.info("Esn source: "+d.Fh.b6);u.Qc("devdone");a(b.Tc);})["catch"](function(c){c.W=void 0;a(c);});});},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(16);d.Rr=d.Rr||function(a,b,d){return a>=b?a<=d?a:d:b;};d.ECb=function(a,b,d,c,m){return(a-b)*(m-c)/(d-b)+c;};d.th=function(a){if(b.na(a))return(a/1E3).toFixed(3);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Nr||(d.Nr={});g[g.lyb=8]="Backspace";g[g.Tab=9]="Tab";g[g.Wzb=13]="Enter";g[g.KEb=16]="Shift";g[g.$yb=17]="Ctrl";g[g.Hxb=18]="Alt";g[g.yDb=19]="PauseBreak";g[g.Pyb=20]="CapsLock";g[g.bAb=27]="Escape";g[g.MEb=32]="Space";g[g.xDb=33]="PageUp";g[g.wDb=34]="PageDown";g[g.Vzb=35]="End";g[g.NAb=36]="Home";g[g.xBb=37]="LeftArrow";g[g.kFb=38]="UpArrow";g[g.ODb=39]="RightArrow";g[g.yzb=40]="DownArrow";g[g.nBb=45]="Insert";g[g.rzb=46]="Delete";g[g.AFb=48]="Zero";g[g.VCb=49]="One";g[g.eFb=50]="Two";g[g.aFb=51]="Three";g[g.wAb=52]="Four";g[g.uAb=53]="Five";g[g.LEb=54]="Six";g[g.JEb=55]="Seven";g[g.Uzb=56]="Eight";g[g.ACb=57]="Nine";g[g.xxb=65]="A";g[g.Oxb=66]="B";g[g.Gyb=67]="C";g[g.eJa=68]="D";g[g.E=69]="E";g[g.cAb=70]="F";g[g.xAb=71]="G";g[g.AAb=72]="H";g[g.lMa=73]="I";g[g.oBb=74]="J";g[g.j_=75]="K";g[g.vNa=76]="L";g[g.ABb=77]="M";g[g.iPa=78]="N";g[g.PCb=79]="O";g[g.XCb=80]="P";g[g.Q=81]="Q";g[g.JDb=82]="R";g[g.oSa=83]="S";g[g.sTa=84]="T";g[g.fFb=85]="U";g[g.lFb=86]="V";g[g.rFb=87]="W";g[g.A0=88]="X";g[g.yFb=89]="Y";g[g.zFb=90]="Z";g[g.yBb=91]="LeftWindowKey";g[g.PDb=92]="RightWindowKey";g[g.HEb=93]="SelectKey";g[g.FCb=96]="Numpad0";g[g.GCb=97]="Numpad1";g[g.HCb=98]="Numpad2";g[g.ICb=99]="Numpad3";g[g.JCb=100]="Numpad4";g[g.KCb=101]="Numpad5";g[g.LCb=102]="Numpad6";g[g.MCb=103]="Numpad7";g[g.NCb=104]="Numpad8";g[g.OCb=105]="Numpad9";g[g.ZBb=106]="Multiply";g[g.Gxb=107]="Add";g[g.UEb=109]="Subtract";g[g.qzb=110]="DecimalPoint";g[g.xzb=111]="Divide";g[g.dAb=112]="F1";g[g.hAb=113]="F2";g[g.iAb=114]="F3";g[g.jAb=115]="F4";g[g.kAb=116]="F5";g[g.lAb=117]="F6";g[g.mAb=118]="F7";g[g.nAb=119]="F8";g[g.oAb=120]="F9";g[g.eAb=121]="F10";g[g.fAb=122]="F11";g[g.gAb=123]="F12";g[g.CCb=144]="NumLock";g[g.FEb=145]="ScrollLock";g[g.IEb=186]="SemiColon";g[g.Yzb=187]="Equals";g[g.Vyb=188]="Comma";g[g.pzb=189]="Dash";g[g.ADb=190]="Period";g[g.vAb=191]="ForwardSlash";g[g.bFb=192]="Tilde";g[g.WCb=219]="OpenBracket";g[g.kyb=220]="BackSlash";g[g.Tyb=221]="CloseBracket";g[g.IDb=222]="Quote";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.PB="VideoPreparerSymbol";},function(g,d,a){(function(b,f){var q;function d(a,b){var c;c=Date.now();this.ntb=c;this.DS=c+a;this.Xmb=a;this.w6a=c+b;this.debug=!1;this.dJ=0;}q=new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");d.prototype.constructor=d;d.prototype.jb=function(a,b){a=((a-this.ntb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;q.debug(a+" "+this.y6a+b);};d.prototype.QYa=function(a){this.y6a=a;this.jb(Date.now(),"starting");};d.prototype.FZa=function(a){var c;this.dJ++;if(!(1E3>this.dJ)){this.dJ=0;c=new Date().getTime();if(c>=this.w6a)throw Error("Execution deadline exceeded");if(3221225472<b.hKb().$Ib)throw Error("Heap total limit exceeded");if(this.debug&&!(c<=this.DS)){for(;c>this.DS;)this.DS+=this.Xmb;this.jb(c,a);}}};d.xc=function(){f.mW=new d(5E3,12E5);};d.fX=function(a){f.mW&&f.mW.QYa(a);};d.update=function(a){f.mW&&f.mW.FZa(a);};g.T=d;}.call(this,a(243),a(174)));},function(g,d,a){g.T={EventEmitter:a(734),Cx:a(733)};},function(g,d,a){var c,m;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function f(a){return c.ae(a);}function p(a){return c.na(a);}function q(a){return!b(a)&&!f(a)&&!p(a)&&!Array.isArray(a)&&c.Xe(a);}c=a(6);m={yx:0,YO:1,qPa:2,OBJECT:3,lj:4};g.T={X7:function(a){return b(a)?m.yx:f(a)?m.YO:p(a)?m.qPa:q(a)?m.OBJECT:m.lj;},pU:b,ae:f,na:p,Xe:q,Tm:m};},function(g){var d;d={wK:function(a){for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);}};g.T=d;},function(g,d,a){var b;b=a(163);g.T=function(a){return function q(c){return 0===arguments.length||b(c)?q:a.apply(this,arguments);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zB="MslSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){function b(){}function f(){}function d(){}d.bIa="cache_start";d.cIa="cache_success";d.ZHa="cache_abort";d.aIa="cache_fail";d.$Ha="cache_evict";d.$Pa="pb_request";d.DSa="start_playback";a.Bx=d;f.mea="auth";f.Fx="ldl";f.zG="hdr";f.MEDIA="media";a.fj=f;b.UN="cached";b.LOADING="loading";b.cLa="expired";a.LN=b;}(d.He||(d.He={})));d.Mja="PrefetchEventsFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.MB="SourceBufferTypeProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wx="TimingApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yka="SystemRandomSymbol";d.dH="RandomGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vB="IdProviderSymbol";},function(g,d){d.Az=function(a){return a&&"function"===typeof a.Nb;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lx="MediaKeySystemAccessServicesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ofa="DrmServicesSymbol";d.jO="DrmServicesProviderSymbol";},function(g,d,a){var f,p,q,c,m,k,u,r,y,A,I,h,D,O,aa,N,l,n,ja;function b(a){var d;d=this;this.createPlayer=function(a,b){var k,f;b=void 0===b?{}:b;b="number"===typeof b?{mh:b}:b;k=b.manifest;if(d.igb(k))k.clientGenesis=k.clientGenesis||I.k4(),k=c.V.get(A.s_).decode(k);else if(k){f=c.V.get(aa.$G)();f.aR(k.links);k.If=f;}a=c.V.get(D.b0).b6a(a);return d.gra(a,b,k);};this.createPlaygraphPlayer=function(a,b,k){var f;f=c.V.get(O.Ija);return d.gra(f.Jv(a),b,k);};this.closeAllPlayers=function(a){q.zja(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;d.jR.WK(function(m){m.W?(p.config.aX?d.Crb().then(function(){f.jRa();})["catch"](function(a){c.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(d,b.wI);a(Object.assign({success:!0},b.wI));}):a({success:!1,error:c.$_(m.errorCode||k.J.Jga,m)});});};this.applyConfig=function(a){d.CFa(a);p.Kqa(a);};this.prepare=function(a,b){var k;a=d.Vaa.Ura(a)||[];k=new Set();a=a.filter(function(a){var c;c=k.has(a.I);k.add(a.I);return!c;});if(p.config.Xn&&d.Mc())try{d.Mc().Tw(a,b);}catch(M){c.log.warn("Prepare call failed",M);}};this.predownload=function(a,b){if((a=d.Vaa.Ura(a))&&p.config.qx&&d.Mc())try{d.Mc().Rnb(a,b);}catch(V){c.log.warn("Predownload call failed",V);}};this.lookupPredownloaded=function(){return p.config.qx&&d.Mc()?d.Mc().Ft():Promise.resolve([]);};this.ppmUpdate=function(a){L._cad_global.playerPredictionModel?((a=d.Vaa.A7a(a))&&L._cad_global.playerPredictionModel.update(a),L._cad_global.prefetchEvents&&L._cad_global.prefetchEvents.update(a)):c.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){var b;try{b=c.$D().TM();a(b);}catch(V){a(!1);}};this.supportsUltraHd=function(a){c.$D().VM().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){var b;try{b=c.$D().QM();a(b);}catch(V){a(!1);}};this.supportsDolbyVision=function(a){var b;try{b=c.$D().RM();a(b);}catch(V){a(!1);}};this.close=function(){};this.deviceThroughput=function(){var a;a=c.V.get(r.MO).L4();return a?Promise.resolve(a.ol()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=c.V.get(r.MO).L4();return a?Promise.resolve(a.Mcb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return p.config.$8a;};this.Vaa=c.V.get(m.X_);this.jR=c.V.get(l.bf);this.Mc=c.V.get(N.PB);this.CFa(a);p.A3a([a]);c.$D().VM();}Object.defineProperty(d,"__esModule",{value:!0});f=a(187);p=a(13);q=a(57);c=a(4);m=a(189);k=a(2);u=a(27);r=a(196);y=a(149);A=a(165);I=a(26);h=a(271);D=a(178);O=a(265);aa=a(124);N=a(106);l=a(22);n=a(267);ja=a(24);b.prototype.igb=function(a){return!!a&&!!a.runtime;};b.prototype.CFa=function(a){c.V.get(u.CO).yjb(a);};b.prototype.Crb=function(){return c.V.get(y.RO)()["catch"](function(a){c.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){c.log.error("Unable to send deferred playdata",a);});};b.prototype.gra=function(a,b,k){var f,m,d;b=void 0===b?{}:b;f=c.V.get(ja.Ne);m=c.V.get(h.Hja);d=c.V.get(n.Kja);m=m.create(a);a=m.d7();f=f.Tb();b=Object.assign(Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||a.Gk,uiPlayStartTime:Date.now()},b),{endPts:a.ft,isPlaygraph:!0});d=d.create(f,m);d.addEpisode({movieId:a.nb,playbackParams:b,manifestData:k});return d;};d.hP=b;b.wI={};},function(g,d,a){var f,p,q;function b(a,b,k,f,d){b=q.Wh.call(this,a,b,f,p.di.events,d,p.di.events+"/"+k)||this;b.context=a;b.X9a=k;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);p=a(37);q=a(72);a(152);da(b,q.Wh);b.prototype.lf=function(a,b){var c,f;c=this;f=this.rR(b);return this.send(a,b.href,f).then(function(){return b;})["catch"](function(a){throw c.Hn(a);});};b.prototype.Fn=function(a,b,k){var c,f;c=this;f=this.rR(k);return this.send(a,b.v7("events").href,f).then(function(a){b.aR(a.result.links);return k;})["catch"](function(a){throw c.Hn(a);});};b.prototype.rR=function(a){return{event:this.X9a,xid:a.ia,position:a.position||0,clientTime:a.ZI,sessionStartTime:a.yM,mediaId:a.Pz,trackId:a.cb,sessionId:a.sessionId,appId:a.tI,playTimes:this.O1a(a.HL),sessionParams:a.Km,mdxControllerEsn:a.t$};};b.prototype.M3=function(a){return{downloadableId:a.Uc,duration:a.duration};};b.prototype.O1a=function(a){return{total:a.total,audio:a.audio.map(this.M3),video:a.video.map(this.M3),text:a.text.map(this.M3)};};a=b;a=g.__decorate([f.N(),g.__param(0,f.oh()),g.__param(1,f.oh()),g.__param(2,f.oh()),g.__param(3,f.oh()),g.__param(4,f.oh())],a);d.po=a;},function(g,d,a){var b,f,p,q,c,m,k,u,r,y,A,I,h,D;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(305);p=a(577);q=a(144);c=a(13);m=a(9);k=a(148);u=a(289);r=a(26);g=a(2);y=a(4);A=a(196);I=a(8);h=a(145);D=a(22);y.V.get(D.bf).register(g.J.Kga,function(g){var D,F,O,l,n,z,t;D=y.V.get(A.MO).L4();F=y.V.get(k.Lfa).kB;O=y.V.get(f.dia).Zj;l={iA:y.lT("ASE"),l0a:y.lT("JS-ASE",void 0,"Platform"),Uf:y.lT,storage:h.storage,Uo:h.Uo,Ncb:I.gO,getTime:r.Cg,zE:{},Zj:O,Ur:p.Ur,kB:F,MediaSource:u.SOa,SourceBuffer:q.bia,qk:function(){return[c.config.fR,c.config.iR];},IIb:function(){}};F=new Promise(function(a){h.storage.load("nh",function(c){l.zE.nh=c.W?c.data:void 0;a();});});O=new Promise(function(a){h.storage.load("lh",function(c){l.zE.lh=c.W?c.data:void 0;a();});});n=new Promise(function(a){h.storage.load("gh",function(c){l.zE.gh=c.W?c.data:void 0;a();});});z=new Promise(function(a){h.storage.load("sth",function(c){l.zE.sth=c.W?c.data:void 0;a();});});t=new Promise(function(a){h.storage.load("vb",function(c){l.zE.vb=c.W?c.data:void 0;a();});});Promise.all([F,O,t,z,n]).then(function(){var k;k=a(575)(l);d.Dc=a(288);d.Dc.declare(b.Cn);d.Dc.declare({qx:["useMediaCache",!1],Gv:["diskCacheSizeLimit",0],uHb:["dailyDiskCacheWriteLimit",0],fV:["mediaCachePrefetchMs",8E3],v$:["mediaCachePartitionConfig",{}]});d.Dc.set(a(153)(c.config),!0,y.lT("ASE"));k=b.sib(k);d.Zk=new k(d.Dc,D);d.Zk.xc(c.config.fR,c.config.iR,{iA:l.iA},c.config.KW);g(m.Tc);})["catch"](function(a){l.iA.error("Exception loading location history from local storage",a);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gja="PboLinksManagerSymbol";d.$G="PboLinksManagerFactorySymbol";},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(18);f=a(15);d.ej="$attributes";d.tY="$children";d.uY="$name";d.Cr="$text";d.jGa="$parent";d.jG="$sibling";d.ZKb=/^\s*\<\?xml.*\?\>/i;d.zbb=function(a,b,c){for(var f=2;f<arguments.length;++f);for(f=1;(b=arguments[f++])&&(a=a[b]););return a;};d.WKb=function(a,g){var c;a?c=b.de(a[d.Cr]):void 0!==g&&(c=g);f.XR(c);return c;};d.Cmb=function(a){var b;a&&(b=a[d.Cr]);f.x6a(b);return b;};d.$Jb=function(a,b){var c;c={};c[d.ej]=a;c[d.Cr]=b;return c;};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(214);g=function(){function a(a,c,b){this.tag=a;this.view=c;this.K=b;this.startOffset=b.offset;}a.BBa=function(b,c){var m,k;m=b.te();k=b.apb();b=new(f.wD[m]||a)(m,b.wbb(k),b);b.parse(c);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.K.offset=this.startOffset+this.length;this.K.Vz=0;return!0;};a.prototype.kta=function(a){var c;c=[];this.tag===a&&c.push(this);if(this.wD)for(var f=0;f<this.wD.length;f++)c=b.__spreadArrays(c,this.wD[f].kta(a));return c;};a.prototype.az=function(a){for(a=this.kta(a);0<a.length;)return a[0];};a.prototype.Hna=function(){for(this.wD=[];this.K.offset<this.startOffset+this.length;)this.wD.push(a.BBa(this.K,this));};return a;}();d.ZY=g;g.prototype.skip=g.prototype.parse;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(388),d);},function(g){var b,f;function d(){var d,g;if(DataView.prototype&&DataView.prototype.lz&&!f){try{d=new ArrayBuffer(4);g=new DataView(d);g.jE(0,4,1);}catch(c){return;}try{d=new ArrayBuffer(4);g=new DataView(d);g.jE(1,2,2);}catch(c){DataView.prototype.jE=a(DataView.prototype.jE,DataView.prototype.getUint8,Uint8Array);DataView.prototype.IT=a(DataView.prototype.IT,DataView.prototype.getUint16,Uint16Array);DataView.prototype.lz=a(DataView.prototype.lz,DataView.prototype.getUint32,Uint32Array);DataView.prototype.q7=a(DataView.prototype.q7,DataView.prototype.getInt8,Int8Array);DataView.prototype.o7=a(DataView.prototype.o7,DataView.prototype.getInt16,Int16Array);DataView.prototype.p7=a(DataView.prototype.p7,DataView.prototype.getInt32,Int32Array);}b.Vdb=function(a,b,k,f,d){return a.jE(b,k,f||1,d);};b.Udb=function(a,b,k,f,d){return a.IT(b,k,f||2,d);};b.vva=function(a,b,k,f,d){return a.lz(b,k,f||4,d);};b.EIb=function(a,b,k,f,d){return a.q7(b,k,f||1,d);};b.CIb=function(a,b,k,f,d){return a.o7(b,k,f||2,d);};b.DIb=function(a,b,k,f,d){return a.p7(b,k,f||4,d);};f=!0;}}function a(a,b,c){return function(f,k,d,r){var m;d=d||c.BYTES_PER_ELEMENT;if(f+k*d>this.byteLength){m=new c(k);m.set(a.call(this,f,k-1,d,r));m[k-1]=b.call(this,f+(k-1*d),r);return m;}return a.call(this,f,k,d,r);};}b={jE:function(a,b,c,f,k){var m;m=new Uint8Array(c);f=f||1;for(var d=0;d<c;++d,b+=f)m[d]=a.getUint8(b,k);return m;},IT:function(a,b,c,f,k){var m;m=new Uint16Array(c);f=f||2;for(var d=0;d<c;++d,b+=f)m[d]=a.getUint16(b,k);return m;},lz:function(a,b,c,f,k){var m;m=new Uint32Array(c);f=f||4;for(var d=0;d<c;++d,b+=f)m[d]=a.getUint32(b,k);return m;},q7:function(a,b,c,f,k){var m;m=new Int8Array(c);f=f||1;for(var d=0;d<c;++d,b+=f)m[d]=a.getInt8(b,k);return m;},o7:function(a,b,c,f,k){var m;m=new Int16Array(c);f=f||2;for(var d=0;d<c;++d,b+=f)m[d]=a.getInt16(b,k);return m;},p7:function(a,b,c,f,k){var m;m=new Int32Array(c);f=f||4;for(var d=0;d<c;++d,b+=f)m[d]=a.getInt32(b,k);return m;},lIb:d};f=!1;b.Bbb=function(){return f;};d();g.T=b;},function(g){var q,c,m,k;function d(){d.xc.call(this);}function a(a,c,b,k){var f,m;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);f=a.wh;void 0===f?(f=a.wh=Object.create(null),a.ey=0):(void 0!==f.zKb&&(a.emit("newListener",c,b.listener?b.listener:b),f=a.wh),m=f[c]);void 0===m?(f[c]=b,++a.ey):("function"===typeof m?m=f[c]=k?[b,m]:[m,b]:k?m.unshift(b):m.push(b),b=void 0===a.QH?d.f7a:a.QH,0<b&&m.length>b&&!m.Zwb&&(m.Zwb=!0,b=Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit"),b.name="MaxListenersExceededWarning",b.BJ=a,b.type=c,b.count=m.length,console&&console.warn&&console.warn(b)));return a;}function b(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.tta||(this.target.removeListener(this.type,this.gGa),this.tta=!0,c(this.listener,this.target,a));}function f(a,c,f){a={tta:!1,gGa:void 0,target:a,type:c,listener:f};c=b.bind(a);c.listener=f;return a.gGa=c;}function p(a){var c;c=this.wh;if(void 0!==c){a=c[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}q="object"===typeof Reflect?Reflect:null;c=q&&"function"===typeof q.apply?q.apply:function(a,c,b){return Function.prototype.apply.call(a,c,b);};m=Number.isNaN||function(a){return a!==a;};g.T=d;d.EventEmitter=d;d.prototype.wh=void 0;d.prototype.ey=0;d.prototype.QH=void 0;k=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return k;},set:function(a){if("number"!==typeof a||0>a||m(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");k=a;}});d.xc=function(){if(void 0===this.wh||this.wh===Object.getPrototypeOf(this).wh)this.wh=Object.create(null),this.ey=0;this.QH=this.QH||void 0;};d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||m(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.QH=a;return this;};d.prototype.emit=function(a){var k,f,m;for(var b=[],f=1;f<arguments.length;f++)b.push(arguments[f]);k="error"===a;f=this.wh;if(void 0!==f)k=k&&void 0===f.error;else if(!k)return!1;if(k){0<b.length&&(m=b[0]);if(m instanceof Error)throw m;b=Error("Unhandled error."+(m?" ("+m.message+")":""));b.context=m;throw b;}f=f[a];if(void 0===f)return!1;if("function"===typeof f)c(f,this,b);else{m=f.length;for(var k=Array(m),d=0;d<m;++d)k[d]=f[d];for(f=0;f<m;++f)c(k[f],this,b);}return!0;};d.prototype.addListener=function(c,b){return a(this,c,b,!1);};d.prototype.on=d.prototype.addListener;d.prototype.cBa=function(c,b){return a(this,c,b,!0);};d.prototype.once=function(a,c){if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);this.on(a,f(this,a,c));return this;};d.prototype.cob=function(a,c){if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);this.cBa(a,f(this,a,c));return this;};d.prototype.removeListener=function(a,c){var b,f,k,m,d;if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);f=this.wh;if(void 0===f)return this;b=f[a];if(void 0===b)return this;if(b===c||b.listener===c)0===--this.ey?this.wh=Object.create(null):(delete f[a],f.removeListener&&this.emit("removeListener",a,b.listener||c));else if("function"!==typeof b){k=-1;for(m=b.length-1;0<=m;m--)if(b[m]===c||b[m].listener===c){d=b[m].listener;k=m;break;}if(0>k)return this;if(0===k)b.shift();else{for(;k+1<b.length;k++)b[k]=b[k+1];b.pop();}1===b.length&&(f[a]=b[0]);void 0!==f.removeListener&&this.emit("removeListener",a,d||c);}return this;};d.prototype.Oza=d.prototype.removeListener;d.prototype.removeAllListeners=function(a){var c,b,f;b=this.wh;if(void 0===b)return this;if(void 0===b.removeListener)return 0===arguments.length?(this.wh=Object.create(null),this.ey=0):void 0!==b[a]&&(0===--this.ey?this.wh=Object.create(null):delete b[a]),this;if(0===arguments.length){c=Object.keys(b);for(b=0;b<c.length;++b)f=c[b],"removeListener"!==f&&this.removeAllListeners(f);this.removeAllListeners("removeListener");this.wh=Object.create(null);this.ey=0;return this;}c=b[a];if("function"===typeof c)this.removeListener(a,c);else if(void 0!==c)for(b=c.length-1;0<=b;b--)this.removeListener(a,c[b]);return this;};d.prototype.listeners=function(a){var c;c=this.wh;if(void 0===c)a=[];else if(a=c[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var c=Array(a.length),b=0;b<c.length;++b)c[b]=a[b].listener||a[b];a=c;}return a;};d.listenerCount=function(a,c){return"function"===typeof a.listenerCount?a.listenerCount(c):p.call(a,c);};d.prototype.listenerCount=p;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(824);a=a(821);d.zjb=g;d.Rt=a;},function(g,d,a){var f,p,q,c;function b(a,b,d){var k;k=q.YN.call(this,a,b,f.RG.ala)||this;k.config=a;k.A$=b;k.is=d;k.type=f.ak.zx;k.DN=c.Ed.hra();return k;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);p=a(63);q=a(418);g=a(97);c=a(132);new g.Ux();da(b,q.YN);b.prototype.or=function(){return Promise.resolve(!1);};b.prototype.bE=function(){return Promise.resolve("");};b.prototype.TM=function(){return!1;};b.prototype.RM=function(){return!1;};b.prototype.VM=function(){return Promise.resolve(!1);};b.prototype.QM=function(){return!1;};b.prototype.YD=function(a){return this.DN[a];};b.prototype.L2=function(a){return a;};b.prototype.bya=function(a){switch(a){case f.Yh.Op:return"1.4";case f.Yh.Gx:return"2.2";}};b.prototype.Py=function(){var a;a={};a[p.$.rZ]="avc1.4D401E";a[p.$.oO]="avc1.4D401F";a[p.$.sZ]="avc1.4D4028";a[p.$.QZ]="hev1.1.6.L90.B0";a[p.$.RZ]="hev1.1.6.L93.B0";a[p.$.SZ]="hev1.1.6.L120.B0";a[p.$.TZ]="hev1.1.6.L123.B0";a[p.$.UZ]="hev1.1.6.L150.B0";a[p.$.VZ]="hev1.1.6.L153.B0";a[p.$.CZ]="hev1.2.6.L90.B0";a[p.$.FZ]="hev1.2.6.L93.B0";a[p.$.IZ]="hev1.2.6.L120.B0";a[p.$.LZ]="hev1.2.6.L123.B0";a[p.$.AG]="hev1.2.6.L150.B0";a[p.$.BG]="hev1.2.6.L153.B0";a[p.$.DZ]="hev1.2.6.L90.B0";a[p.$.GZ]="hev1.2.6.L93.B0";a[p.$.JZ]="hev1.2.6.L120.B0";a[p.$.MZ]="hev1.2.6.L123.B0";a[p.$.tZ]="hev1.2.6.L90.B0";a[p.$.uZ]="hev1.2.6.L93.B0";a[p.$.vZ]="hev1.2.6.L120.B0";a[p.$.wZ]="hev1.2.6.L123.B0";a[p.$.xZ]="hev1.2.6.L150.B0";a[p.$.zZ]="hev1.2.6.L153.B0";a[p.$.qO]="hev1.2.6.L90.B0";a[p.$.rO]="hev1.2.6.L93.B0";a[p.$.sO]="hev1.2.6.L120.B0";a[p.$.tO]="hev1.2.6.L123.B0";a[p.$.bO]=c.Ed.VY;a[p.$.cO]=c.Ed.wfa;a[p.$.dO]=c.Ed.xfa;a[p.$.eO]=c.Ed.yfa;a[p.$.fO]=c.Ed.zfa;a[p.$.WY]=c.Ed.Afa;a[p.$.OLa]="avc1.640016";a[p.$.oZ]="avc1.64001E";a[p.$.pZ]="avc1.64001F";a[p.$.qZ]="avc1.640028";a[p.$.$ka]=c.Ed.jH;a[p.$.kH]=c.Ed.jH;a[p.$.lH]=c.Ed.jH;a[p.$.mH]=c.Ed.jH;a[p.$.Vka]=c.Ed.iH;a[p.$.Wka]=c.Ed.iH;a[p.$.Xka]=c.Ed.iH;a[p.$.Yka]=c.Ed.iH;a[p.$.Zka]=c.Ed.iH;a[p.$.nea]=c.Ed.Vh;a[p.$.oea]=c.Ed.Vh;a[p.$.pea]=c.Ed.Vh;a[p.$.qea]=c.Ed.Vh;a[p.$.rea]=c.Ed.Vh;a[p.$.sea]=c.Ed.Vh;a[p.$.tea]=c.Ed.Vh;a[p.$.uea]=c.Ed.Vh;return a;};b.prototype.eva=function(){return this.config().dG;};b.prototype.fE=function(){return Promise.resolve(void 0);};b.prototype.iK=function(){return Promise.resolve(void 0);};b.prototype.hJ=function(a){var c;c=[];this.is.Nd(a)&&c.push(this.bya(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:c,isHdcpEngaged:!!c.length}];};d.Ml=b;b.XF="video/mp4;codecs={0};";},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);b.hra=function(a){var d;d={};d[f.rd.eH]=b.pB;d[f.rd.pO]=b.pB;d[f.rd.eP]=b.xG;d[f.rd.Lr]=b.Lr;d[f.rd.Ir]=a||b.Ir;d[f.rd.cB]=b.pB;d[f.rd.Nu]=b.jH;d[f.rd.Vh]=b.Vh;return d;};d.Ed=b;b.pB="avc1.640028";b.xG="hev1.1.6.L93.B0";b.VY="dvhe.05.01";b.wfa="dvhe.05.04";b.xfa="dvhe.05.05";b.yfa="dvhe.05.06";b.zfa="dvhe.05.07";b.Afa="dvhe.05.09";b.Ir=b.VY;b.Lr=b.xG;b.vY="mp4a.40.2";b.bzb="ec-3";b.oFb="vp9";b.jH="vp09.00.11.08.02";b.iH="vp09.02.31.10.01";b.Vh="av01.0.04M.08";b.DIa=[b.Afa,b.zfa,b.yfa,b.xfa,b.wfa,b.VY];},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.OB="TimeoutMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.Bj=function(){return this.buffer.length-this.position;};a.prototype.ue=function(){return this.buffer[this.position++];};a.prototype.Bd=function(a){var b;b=this.position;this.position+=a;return this.Cgb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.Cgb=function(a){return void 0!==a.subarray;};a.prototype.tc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.dr=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.nba=function(){for(var a="",f;f=this.ue();)a+=String.fromCharCode(f);return a;};a.prototype.Cb=function(){return this.tc(2);};a.prototype.Oa=function(){return this.tc(4);};a.prototype.Zf=function(){return this.tc(8);};a.prototype.tW=function(){return this.tc(2)/256;};a.prototype.$L=function(){return this.tc(4)/65536;};a.prototype.qf=function(a){for(var b,d="";a--;)b=this.ue(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;};a.prototype.Ww=function(){return this.qf(4)+"-"+this.qf(2)+"-"+this.qf(2)+"-"+this.qf(2)+"-"+this.qf(6);};a.prototype.aM=function(a){for(var b=0,d=0;d<a;d++)b+=this.ue()<<(d<<3);return b;};a.prototype.rA=function(){return this.aM(4);};a.prototype.iG=function(a){this.Ar(a,2);};a.prototype.Br=function(a){this.Ar(a,4);};a.prototype.IN=function(a){this.buffer[this.position++]=a;};a.prototype.Ar=function(a,f){this.position+=f;for(var b=1;b<=f;b++)this.buffer[this.position-b]=a&255,a=Math.floor(a/256);};a.prototype.zr=function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);};a.prototype.aB=function(a){for(var b=a.length,d=0;d<b;d++)this.buffer[this.position++]=a[d];};a.prototype.bB=function(a,f){this.aB(a.Bd(f));};a.prototype.iGa=function(b){b=new a(b);for(var f,d;;)if(f=b.Bj(),d=f>>>14)d=Math.min(4,d),this.IN(192|d),this.bB(b,16384*d);else{128>f?this.IN(f):this.Ar(f|32768,2);this.bB(b,f);break;}};a.prototype.yBa=function(){var d;for(var b=[],f=new a(b);;){d=this.ue();if(d&128)if(128==(d&192))d&=63,d=(d<<8)+this.ue(),f.bB(this,d);else if(d&=63,0<d&&4>=d){f.bB(this,16384*d);continue;}else throw Error("bad asn1");else f.bB(this,d);break;}return new Uint8Array(b);};return a;}();d.jB=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b){a.call(this);this.ga=b;}b(f,a);f.create=function(a){return new f(a);};f.Ab=function(a){a.Mf.complete();};f.prototype.fg=function(a){var c;c=this.ga;if(c)return c.Nb(f.Ab,0,{Mf:a});a.complete();};return f;}(a(10).Ca);d.wG=g;},function(g,d,a){var b,f,p,q;b=a(118);f=a(456);p=a(455);q=a(452);d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return 1===a.length||2===a.length&&b.Az(a[1])?p.from(a[0]):q.aJ()(f.of.apply(void 0,a));};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(69);d.gNa=g.gNa;g=a(10);d.Ca=g.Ca;g=a(171);d.kj=g.kj;g=a(464);d.TO=g.TO;g=a(462);d.gfa=g.gfa;g=a(1014);d.Hka=g.Hka;a(1010);a(1006);a(1E3);a(998);a(995);a(991);a(988);a(984);a(981);a(979);a(977);a(975);a(972);a(968);a(965);a(964);a(961);a(957);a(954);a(953);a(951);a(949);a(946);a(944);a(943);a(941);a(938);a(935);a(932);a(929);a(928);g=a(253);d.EPa=g.EPa;a=a(69);d.Nk=a.Nk;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vm=function(){};d.p0="StringObjectReaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.PG="MediaKeysStorageFactorySymbol";},function(g,d,a){var f,p,q;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(173);p=a(56);q=a(2);b.f7=function(a){if(a){if(a.includes(d.tG.kA))return f.ro.kA;if(a.includes("fps"))return f.ro.SD;if(a.includes(d.tG.rY))return f.ro.rY;}throw new p.Sc(q.J.VKa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};b.uua=function(a){switch(a){case f.ro.kA:return d.tG.kA;case f.ro.SD:return d.tG.SD;default:return d.tG.rY;}};d.hb=b;b.Sp="com.microsoft.playready";b.qd="com.microsoft.playready.hardware";b.bH="com.microsoft.playready.software";b.CDb="com.chromecast.playready";b.DDb="org.chromium.external.playready";b.tAb="com.apple.fps.2_0";b.wUa="com.widevine.alpha";b.EDb="com.microsoft.playready.recommendation";b.FDb="com.microsoft.playready.recommendation.3000";b.GDb="com.microsoft.playready.recommendation.2000";d.tG={SD:"fairplay",rY:"widevine",kA:"playready"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aH="PlatformConfigDefaultsSymbol";},function(g,d,a){var m;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function f(a,c){return null===a.Qt?!1:a.Qt.$e===c?!0:f(a.Qt,c);}function p(a){function c(a,f){void 0===f&&(f=[]);f.push(b(a.$e));return null!==a.Qt?c(a.Qt,f):f;}return c(a).reverse().join(" --\x3e ");}function q(a){a.c4.forEach(function(a){if(f(a,a.$e))throw a=p(a),Error(m.gIa+" "+a);q(a);});}function c(a){var c;if(a.name)return a.name;a=a.toString();c=a.match(/^function\s*([^\s(]+)/);return c?c[1]:"Anonymous function: "+a;}Object.defineProperty(d,"__esModule",{value:!0});m=a(53);d.gE=b;d.wxa=function(a,b,f){var k;k="";a=f(a,b);0!==a.length&&(k="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.Cj&&(b=c(a.Cj));k=k+"\n "+b;a.Ly.Kya&&(k=k+" - "+a.Ly.Kya);}));return k;};d.T2a=q;d.ohb=function(a,c){var b,f;if(c.d9()||c.b9()){b="";f=c.Icb();c=c.vbb();null!==f&&(b+=f.toString()+"\n");null!==c&&c.forEach(function(a){b+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+b;}return" "+a;};d.getFunctionName=c;},function(g,d){var b;function a(){}Object.defineProperty(d,"__esModule",{value:!0});b=/^\S+$/;a.prototype.hm=function(a){return void 0!==a;};a.prototype.Nd=function(a){return null!==a&&void 0!==a;};a.prototype.Ay=function(b){return a.Soa(b);};a.prototype.D2=function(b){return!(!b||!a.Soa(b));};a.prototype.Js=function(a){return Array.isArray(a);};a.prototype.Toa=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.gg=function(b,d,g){return a.ooa(b,d,g);};a.prototype.C2=function(b){return a.C2(b);};a.prototype.a3=function(b,d,g){return a.cR(b,d,g)&&0===b%1;};a.prototype.jq=function(b,d,g){return a.cR(b,d||0,g);};a.prototype.kI=function(b){return a.cR(b,1);};a.prototype.UZa=function(b){return a.cR(b,0,255);};a.prototype.VZa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.Uoa=function(a){return!(!a||!b.test(a));};a.prototype.Vk=function(b){return a.poa(b);};a.prototype.Wk=function(b){return!(!a.poa(b)||!b);};a.prototype.iI=function(a){return!0===a||!1===a;};a.prototype.jI=function(a){return"function"==typeof a;};a.poa=function(a){return"string"==typeof a;};a.ooa=function(a,b,d){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===d||a<=d);};a.C2=function(a){return"number"==typeof a&&isNaN(a);};a.cR=function(b,d,g){return a.ooa(b,d,g)&&0===b%1;};a.Soa=function(a){return"object"==typeof a;};d.Bu=new a();},function(g,d,a){var p,q,c,m,k,u,r,y,A,I,h,D,O,aa,N,l;function b(a){b=I.Qe;N=a.appendBuffer?"appendBuffer":"append";d.EO=!m.config.f1a&&!!a.remove;l=!!a.addEventListener;}function f(a,f,d,g,A){var I,h;I=this;this.j=a;this.type=f;this.ula=g;this.log=A;this.VP=new k.Nc(!1);this.dy={data:[],state:"",operation:""};this.JE=this.$sa((this.type===p.wc.Da.VIDEO?this.j.Of.value:this.j.Pc.value).uc);this.oj=new u.Wj();this.B1={Type:this.type};m.config.qw&&(h=!0,this.y6=new k.Nc(!1));this.log.trace("Adding source buffer",this.B1,{TypeId:this.JE});this.Oc=d.addSourceBuffer(this.JE);b(this.Oc);l&&(this.Oc.addEventListener("updatestart",function(){I.dy.state="updatestart";}),this.Oc.addEventListener("update",function(){I.dy.state="update";}),this.Oc.addEventListener("updateend",function(){I.VP.set(!1);I.Bla&&I.Bla();I.dy.state="updateend";h&&I.Oc.buffered.length&&(h=!1,I.y6.set(!0));}),this.Oc.addEventListener("error",function(b){var k;try{k=b.target.error&&b.target.error.message;(b.message||k)&&A.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(ma){}b=r.V.get(c.Mk);a.xd(b(y.J.tQa,q.i7(I.type)));}),this.Oc.addEventListener("abort",function(){}));a.addEventListener(D.R.closed,function(){I.Oc=void 0;});}Object.defineProperty(d,"__esModule",{value:!0});p=a(50);q=a(224);c=a(55);m=a(13);k=a(182);u=a(66);r=a(4);a(87);y=a(2);a(3);A=a(15);I=a(19);h=a(16);D=a(14);O=a(114);aa=a(147);f.prototype.Aj=function(){return this.VP.value;};f.prototype.updating=function(){return this.Oc?this.Oc.updating:!1;};f.prototype.rDa=function(a){this.Bla=a;};f.prototype.d7=function(){return this.dy;};f.prototype.buffered=function(){return this.Oc.buffered;};f.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};f.prototype.toJSON=function(){return{type:this.type};};f.prototype.pT=function(){var a,c,b,k,f,d,m;try{a=this.Oc.buffered;f=0;if(a)for(c=[],b=0,k=a.length,b=0;b<k;b++){d=a.start(b);m=a.end(b);f=f+(m-d);A.Ea(m>d);c.push(d+"-"+m);}if(c)return{Buffered:f.toFixed(3),Ranges:c.join("|")};}catch(M){}};f.prototype.Zoa=function(a,c){A.Ea(this.Oc.buffered&&1>=this.Oc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.pT()));A.Ea(!this.Aj());this.KDa("append",a);c=c&&c.Gm/1E3;h.na(c)&&this.Oc.timestampOffset!==c&&(this.Oc.timestampOffset=c);this.Oc[N](a);l&&this.VP.set(!0);};f.prototype.remove=function(a,c){A.Ea(!this.Aj());try{d.EO&&(this.KDa("remove"),this.Oc.remove(a,c),l&&this.VP.set(!0));}catch(z){this.log.error("SourceBuffer remove exception",z,this.B1);}};f.prototype.KDa=function(a,c){this.dy.data=c||[];this.dy.state="init";this.dy.operation=a;};f.prototype.xsb=function(a,c){this.ghb=Math.floor(1E3*a/c);};f.prototype.D2a=function(a){var c;if(this.Oc){if(a=this.$sa([{type:this.L3a,uf:a}]),a!==this.JE){c=this.JE;this.log.info("Changing SourceBuffer mime-type from: "+this.JE+" to: "+a);try{if(this.Oc.changeType)this.Oc.changeType(a),this.JE=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(z){throw this.log.error("Error changing SourceBuffer type",z,this.B1,{From:c,To:a}),z;}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(a,c){!c||c.Yb?this.f3(a,c):this.dR(a,c);return!0;};f.prototype.f3=function(a,c){this.j.Ig.f3(this,a,c||{});};f.prototype.dR=function(a,c){this.j.Ig.dR(this.F3a(a,c));};f.prototype.F3a=function(a,c){var b;b=this.ghb||0;return{mqa:function(){this.response=void 0;},Si:function(){return this.requestId;},constructor:{name:"MediaRequest"},M:this.M,readyState:aa.Hb.ac.DONE,Wt:c.S,gF:c.S+c.duration,dt:c.duration,Gm:b,wj:c.wj,Db:c.Db,pa:c.pa,xb:+c.xb,location:c.location,OI:c.offset,NI:c.offset+c.aa-1,O:c.O,response:a,Kva:a&&0<a.byteLength,yz:!0,get Yb(){return!this.yz;},$Ca:this.Zp-b||Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.Db,isHeader:this.Yb,ptsStart:this.Wt,ptsOffset:this.Gm,responseType:this.WFb,duration:this.dt,readystate:this.Ff};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);}};};f.prototype.endOfStream=function(){};f.prototype.addEventListener=function(a,c,b){this.oj.addListener(a,c,b);};f.prototype.removeEventListener=function(a,c){this.oj.removeListener(a,c);};f.prototype.$sa=function(a){var c;c=r.V.get(O.MB);return this.type===p.wc.Da.VIDEO?c.jJ(a):c.eJ(a);};qa.Object.defineProperties(f.prototype,{M:{configurable:!0,enumerable:!0,get:function(){return this.type;}},pR:{configurable:!0,enumerable:!0,get:function(){return this.ula.pR;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.ula.sourceId;}},L3a:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});d.bia=f;},function(g,d,a){var b,f,p,q,c,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);f=a(9);p=a(295);g=a(2);q=a(294);c=a(292);m=a(4);a=a(22);d.storage=d.storage||void 0;d.Uo=d.Uo||void 0;m.V.get(a.bf).register(g.J.Uga,function(a){var k;switch(b.config.Jtb){case"idb":k=q.Ftb;break;case"none":k=p.Htb;break;case"ls":k=c.Gtb;}k(function(c){c.W?(d.storage=c.storage,d.Uo=c.Uo,a(f.Tc)):a(c);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.SO="PboPublisherSymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});d.Hb=a;a.Fd={yia:"mr1",xia:"mr2",zia:"mr3",VG:"mr4",APa:"mr5",Ox:"mr6"};a.ac={UNSENT:0,OPENED:1,Lu:2,Qx:3,DONE:5,wu:6,kG:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.NDb={kea:0,Tx:1,pia:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.tu={NO_ERROR:-1,RJa:0,ufa:1,cKa:2,VJa:3,nIa:4,Vea:5,KY:6,oIa:7,pIa:8,qIa:9,kIa:10,mIa:11,Uea:12,lIa:13,jIa:14,aMa:15,Aga:16,zga:17,YZ:18,xO:19,ZZ:20,$Z:21,cMa:22,yO:23,Bga:24,bMa:25,YJa:26,SJa:27,BSa:28,IJa:29,JJa:30,KJa:31,LJa:32,MJa:33,NJa:34,OJa:35,PJa:36,QJa:37,TJa:38,UJa:39,WJa:40,XJa:41,ZJa:42,$Ja:43,aKa:44,bKa:45,dKa:46,eKa:47,ASa:48,TIMEOUT:49,WZ:50,xga:51,$La:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.vc={pF:{kea:!0,Tx:!1,pia:!0}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EKa=function(){this.AUDIO=0;this.VIDEO=1;this.XLa=2;this.lf=function(){};};d.Lfa="DownloadTrackConstructorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mja="PboPlaydataServicesSymbol";d.RO="PboPlaydataServicesProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.JG="LicenseProviderSymbol";},function(g,d,a){var f,p;function b(a){switch(a){case f.u.DG:return"http";case f.u.EG:return"connectiontimeout";case f.u.Ex:return"readtimeout";case f.u.XZ:return"corruptcontent";case f.u.yu:return"abort";case f.u.rB:case f.u.a_:return"unknown";}}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);p=a(8);d.Yua=b;d.cva=function(a,c){a={errorcode:a+(c.errorCode||f.J.lj)};c.Z&&(a.errorsubcode=c.Z);c.Kc&&(a.errorextcode=c.Kc);c.GS&&(a.erroredgecode=c.GS);c.Sa&&(a.errordetails=c.Sa);c.mi&&(a.httperr=c.mi);c.zV&&(a.aseneterr=c.zV);c.kt&&(a.errordata=c.kt);c.gL&&(a.mediaerrormessage=c.gL);(c=b(Number(c.Z)))&&(a.nwerr=c);return a;};d.iva=function(){return{screensize:p.Qr.width+"x"+p.Qr.height,screenavailsize:p.Qr.availWidth+"x"+p.Qr.availHeight,clientsize:L.innerWidth+"x"+L.innerHeight};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(d.Dfa||(d.Dfa={})).OQa="PboDebugEvent";d.XY={yOa:"Manifest",Event:"Event",zBb:"Logblob"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g.T=function(a){return{minInitVideoBitrate:a.It,minHCInitVideoBitrate:a.F$,maxInitVideoBitrate:a.Aw,minInitAudioBitrate:a.nL,maxInitAudioBitrate:a.bL,minHCInitAudioBitrate:a.mL,minAcceptableVideoBitrate:a.iV,minRequiredBuffer:a.pV,minPrebufSize:a.Wf,rebufferingFactor:a.rba,useMaxPrebufSize:a.bY,maxPrebufSize:a.Dw,maxRebufSize:a.bV,maxBufferingTime:a.kp,minAudioMediaRequestSizeBytes:a.jV,minVideoMediaRequestSizeBytes:a.rV,initialBitrateSelectionCurve:a.hU,initSelectionLowerBound:a.nwa,initSelectionUpperBound:a.owa,throughputPercentForAudio:a.KX,bandwidthMargin:a.v3,bandwidthMarginContinuous:a.w3,bandwidthMarginCurve:a.x3,conservBandwidthMargin:a.y4,switchConfigBasedOnInSessionTput:a.nda,conservBandwidthMarginTputThreshold:a.bJ,conservBandwidthMarginCurve:a.z4,switchAlgoBasedOnHistIQR:a.uEa,switchConfigBasedOnThroughputHistory:a.hx,maxPlayerStateToSwitchConfig:a.o$,lowEndMarkingCriteria:a.Q9,IQRThreshold:a.e_,histIQRCalcToUse:a.v8,maxTotalBufferLevelPerSession:a.Ht,highWatermarkLevel:a.Xva,toStableThreshold:a.YEa,toUnstableThreshold:a.PX,skipBitrateInUpswitch:a.Qca,watermarkLevelForSkipStart:a.dea,highStreamRetentionWindow:a.o8,lowStreamTransitionWindow:a.R9,highStreamRetentionWindowUp:a.q8,lowStreamTransitionWindowUp:a.T9,highStreamRetentionWindowDown:a.p8,lowStreamTransitionWindowDown:a.S9,highStreamInfeasibleBitrateFactor:a.n8,lowestBufForUpswitch:a.ww,lockPeriodAfterDownswitch:a.OU,lowWatermarkLevel:a.V9,lowestWaterMarkLevel:a.xw,lowestWaterMarkLevelBufferRelaxed:a.X9,mediaRate:a.z$,maxTrailingBufferLen:a.q$,audioBufferTargetAvailableSize:a.o3,videoBufferTargetAvailableSize:a.bea,maxVideoTrailingBufferSize:a.vya,maxAudioTrailingBufferSize:a.hya,fastUpswitchFactor:a.MS,fastDownswitchFactor:a.p6,maxMediaBufferAllowed:a.YU,maxMediaBufferAllowedInBytes:a.Rq,simulatePartialBlocks:a.Nca,simulateBufferFull:a.SDa,considerConnectTime:a.A4,connectTimeMultiplier:a.x4,lowGradeModeEnterThreshold:a.Qxa,lowGradeModeExitThreshold:a.Rxa,maxDomainFailureWaitDuration:a.iya,maxAttemptsOnFailure:a.fya,exhaustAllLocationsForFailure:a.Wsa,maxNetworkErrorsDuringBuffering:a.oya,maxBufferingTimeAllowedWithNetworkError:a.j$,fastDomainSelectionBwThreshold:a.o6,throughputProbingEnterThreshold:a.GEa,throughputProbingExitThreshold:a.HEa,locationProbingTimeout:a.Cxa,finalLocationSelectionBwThreshold:a.hta,throughputHighConfidenceLevel:a.EEa,throughputLowConfidenceLevel:a.FEa,locationStatisticsUpdateInterval:a.F9,enablePerfBasedLocationSwitch:a.LD,probeServerWhenError:a.up,probeRequestTimeoutMilliseconds:a.$aa,allowSwitchback:a.Is,probeDetailDenominator:a.mA,maxDelayToReportFailure:a.WU,countGapInBuffer:a.Vqa,allowReissueMediaRequestAfterAbort:a.MC,bufferThresholdForAbort:a.Lpa,allowCallToStreamSelector:a.Y2,pipelineScheduleTimeoutMs:a.Faa,maxPartialBuffersAtBufferingStart:a.Bw,minPendingBufferLen:a.G$,maxPendingBufferLen:a.Cw,maxPendingBufferLenSABCell100:a.$U,maxActiveRequestsSABCell100:a.UU,maxStreamingSkew:a.p$,maxPendingBufferPercentage:a.n$,maxRequestsInBuffer:a.Oz,headerRequestSize:a.UT,minBufferLenForHeaderDownloading:a.kV,reserveForSkipbackBufferMs:a.KW,numExtraFragmentsAllowed:a.faa,pipelineEnabled:a.Tn,maxParallelConnections:a.FE,socketReceiveBufferSize:a.UDa,audioSocketReceiveBufferSize:a.mR,videoSocketReceiveBufferSize:a.fG,headersSocketReceiveBufferSize:a.l8,updatePtsIntervalMs:a.XX,bufferTraceDenominator:a.I3,bufferLevelNotifyIntervalMs:a.XC,aseReportDenominator:a.vI,aseReportIntervalMs:a.l3,enableAbortTesting:a.Bsa,abortRequestFrequency:a.qoa,streamingStatusIntervalMs:a.eda,prebufferTimeLimit:a.Rw,minBufferLevelForTrackSwitch:a.lV,penaltyFactorForLongConnectTime:a.zaa,longConnectTimeThreshold:a.O9,additionalBufferingLongConnectTime:a.S2,additionalBufferingPerFailure:a.T2,rebufferCheckDuration:a.cM,enableLookaheadHints:a.Esa,lookaheadFragments:a.Nxa,enableOCSideChannel:a.tq,OCSCBufferQuantizationConfig:a.NO,updateDrmRequestOnNetworkFailure:a.AFa,deferAseScheduling:a.Ora,maxDiffAudioVideoEndPtsMs:a.XU,useHeaderCache:a.bG,useHeaderCacheData:a.zS,defaultHeaderCacheSize:a.aS,defaultHeaderCacheDataPrefetchMs:a.o5,headerCacheMaxPendingData:a.h8,neverWipeHeaderCache:a.R$,headerCachePriorityLimit:a.i8,enableUsingHeaderCount:a.GJ,networkFailureResetWaitMs:a.P$,networkFailureAbandonMs:a.O$,maxThrottledNetworkFailures:a.cV,throttledNetworkFailureThresholdMs:a.JX,abortUnsentBlocks:a.Fs,maxUnsentBlocks:a.r$,abortStreamSelectionPeriod:a.F2,lowThroughputThreshold:a.U9,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.g6,mp4ParsingInNative:a.Zya,sourceBufferInOrderAppend:a.VDa,requireAudioStreamToEncompassVideo:a.Zn,allowAudioToStreamPastVideo:a.Poa,enableManagerDebugTraces:a.jf,managerDebugMessageInterval:a.$xa,managerDebugMessageCount:a.Zxa,bufferThresholdToSwitchToSingleConnMs:a.H3,bufferThresholdToSwitchToParallelConnMs:a.G3,netIntrStoreWindow:a.vkb,minNetIntrDuration:a.Zjb,fastHistoricBandwidthExpirationTime:a.m$a,bandwidthExpirationTime:a.j1a,failureExpirationTime:a.k$a,historyTimeOfDayGranularity:a.Yeb,expandDownloadTime:a.c$a,minimumMeasurementTime:a.hkb,minimumMeasurementBytes:a.gkb,throughputMeasurementTimeout:a.Bub,initThroughputMeasureDataSize:a.Jfb,throughputMeasureWindow:a.Aub,throughputIQRMeasureWindow:a.zub,IQRBucketizerWindow:a.fNa,connectTimeHalflife:a.C3a,responseTimeHalflife:a.Eqb,historicBandwidthUpdateInterval:a.Xeb,throughputWarmupTime:a.Eub,minimumBufferToStopProbing:a.fkb,throughputPredictor:a.Cub,ase_stream_selector:a.m0a,enableFilters:a.L8a,filterDefinitionOverrides:a.A$a,defaultFilter:a.d7a,secondaryFilter:a.hrb,defaultFilterDefinitions:a.e7a,initBitrateSelectorAlgorithm:a.P8,bufferingSelectorAlgorithm:a.K3,ase_ls_failure_simulation:a.e5,ase_dump_fragments:a.c5,ase_location_history:a.d5,ase_throughput:a.f5,ase_simulate_verbose:a.zra,secondThroughputEstimator:a.Yba,secondThroughputMeasureWindowInMs:a.VCa,marginPredictor:a.g$,simplePercentilePredictorPercentile:a.RDa,simplePercentilePredictorCalcToUse:a.PDa,simplePercentilePredictorMethod:a.QDa,IQRBandwidthFactorConfig:a.eha,networkMeasurementGranularity:a.Q$,HistoricalTDigestConfig:a.Dga,maxIQRSamples:a.lya,minIQRSamples:a.Qya,periodicHistoryPersistMs:a.YV,saveVideoBitrateMs:a.SW,needMinimumNetworkConfidence:a.qL,biasTowardHistoricalThroughput:a.A3,maxFastPlayBufferInMs:a.l$,maxFastPlayBitThreshold:a.k$,headerCacheTruncateHeaderAfterParsing:a.Tva,minAudioMediaRequestDuration:a.KE,minVideoMediaRequestDuration:a.OE,minAudioMediaRequestDurationCache:a.KE,minVideoMediaRequestDurationCache:a.OE,addHeaderDataToNetworkMonitor:a.ZQ,useMediaCache:a.qx,mediaCachePartitionConfig:a.v$,diskCacheSizeLimit:a.Gv,mediaCachePrefetchMs:a.fV,hindsightDenominator:a.u8,hindsightDebugDenominator:a.t8,hindsightParam:a.WT,minimumTimeBeforeBranchDecision:a.sV,enableSessionHistoryReport:a.FJ,earlyStageEstimatePeriod:a.P5,lateStageEstimatePeriod:a.mxa,maxNumSessionHistoryStored:a.ZU,minSessionHistoryDuration:a.qV,enableInitThroughputEstimate:a.EJ,applyInitThroughputEstimate:a.h3,initThroughputPredictor:a.pwa,appendMediaRequestOnComplete:a.$oa,waitForDrmToAppendMedia:a.oY,forceAppendHeadersAfterDrm:a.E6,startMonitorOnLoadStart:a.Yca,reportFailedRequestsToNetworkMonitor:a.zba,reappendRequestsOnSkip:a.bM,maxActiveRequestsPerSession:a.Pq,limitAudioDiscountByMaxAudioBitrate:a.C9,appendFirstHeaderOnComplete:a.e3,maxAudioFragmentOverlapMs:0,editAudioFragments:a.Dn,editVideoFragments:a.et,declareBufferingCompleteAtSegmentEnd:a.g5,applyProfileTimestampOffset:a.Cy,applyProfileStreamingOffset:a.Jo,requireDownloadDataAtBuffering:a.IW,requireSetupConnectionDuringBuffering:a.JW,recordFirstFragmentOnSubBranchCreate:a.sba,earlyAppendSingleChildBranch:a.tS,selectStartingVMAFMethod:a.xF,activateSelectStartingVMAF:a.mI,minStartingVideoVMAF:a.NE};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qoa=function(a,b){var f,d,g;f=b.profile;b=b.I;d=a.drb;g=a.erb;return a.crb||Array.isArray(d)&&-1!==d.indexOf(f)||"object"===typeof g&&Array.isArray(g[f])&&-1!==g[f].indexOf(""+b);};d.Uua=function(a,b){return void 0!==a.LE?a.LE:b&&void 0!==b.LE?b.LE:100;};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(25);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(c){c=a.prototype.parse.call(this,c);this.K.offset+=8;this.E2a=this.K.Yf();this.Tqb=this.K.Yf();this.K.offset+=4;this.NCa=this.K.Yf();this.K.offset+=2;f.Oe&&this.K.console.trace("MP4AudioSampleEntry: channelcount: "+this.E2a+", samplesize: "+this.Tqb+", samplerate: "+this.NCa);return c;};d.Xb=!1;return d;}(a(215)["default"]);d["default"]=g;},function(g,d,a){function b(a,b){this.JC=a;this.Dh=Math.floor((a+b-1)/b);this.Bc=b;this.reset();}a(11);b.prototype.shift=function(){this.Hc.shift();this.fq.shift();};b.prototype.XE=function(a){return this.Wpa(this.Hc[a],a);};b.prototype.update=function(a,b){this.Hc[a]=(this.Hc[a]||0)+b;};b.prototype.push=function(){this.Hc.push(0);this.fq.push(0);this.Pa+=this.Bc;};b.prototype.add=function(a,b,d){var c,f,k;if(null===this.Pa)for(c=Math.max(Math.floor((d-b+this.Bc-1)/this.Bc),1),this.Pa=b;this.Hc.length<c;)this.push();for(;this.Pa<=d;)this.push(),this.Hc.length>this.Dh&&this.shift();if(null===this.Pk||b<this.Pk)this.Pk=b;if(b>this.Pa-this.Bc)this.update(this.Hc.length-1,a);else if(b==d)c=this.Hc.length-Math.max(Math.ceil((this.Pa-d)/this.Bc),1),0<=c&&this.update(c,a);else for(c=1;c<=this.Hc.length;++c){f=this.Pa-c*this.Bc;k=f+this.Bc;if(!(f>d)){if(k<b)break;this.update(this.Hc.length-c,Math.round(a*(Math.min(k,d)-Math.max(f,b))/(d-b)));}}for(;this.Hc.length>this.Dh;)this.shift();};b.prototype.start=function(a){null===this.Pk&&(this.Pk=a);null===this.Pa&&(this.Pa=a);};b.prototype.stop=function(a){var b,f;if(null!==this.Pa)if(a-this.Pa>10*this.JC)this.reset();else{for(;this.Pa<=a;)this.push(),this.Hc.length>this.Dh&&this.shift();b=this.Hc.length-Math.ceil((this.Pa-this.Pk)/this.Bc);0>b&&(this.Pk=this.Pa-this.Bc*this.Hc.length,b=0);f=this.Hc.length-Math.ceil((this.Pa-a)/this.Bc);if(b===f)this.fq[b]+=a-this.Pk;else if(f>b)for(this.fq[b]+=(this.Pa-this.Pk)%this.Bc,this.fq[f]+=this.Bc-(this.Pa-a)%this.Bc,a=b+1;a<f;++a)this.fq[a]=this.Bc;this.Pk=null;}};b.prototype.Wpa=function(a,b){b=this.S6(b);return 0===b?null:8*a/b;};b.prototype.S6=function(a){var b;b=this.fq[a];null!==this.Pk&&(a=this.Pa-(this.Hc.length-a-1)*this.Bc,a>this.Pk&&(b=a-this.Pk<=this.Bc?b+(a-this.Pk):this.Bc));return b;};b.prototype.get=function(a,b){var f,c;f=this.Hc.map(this.Wpa,this);if("last"===a)for(a=0;a<f.length;++a)null===f[a]&&(f[a]=0<a?f[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.Bc));for(a=0;a<f.length;++a)null===f[a]?f[a]=Math.floor(c||0):c=void 0!==c?b*f[a]+(1-b)*c:f[a];}return f;};b.prototype.reset=function(){this.Hc=[];this.fq=[];this.Pk=this.Pa=null;};b.prototype.setInterval=function(a){this.Dh=Math.floor((a+this.Bc-1)/this.Bc);};g.T=b;},function(g,d,a){var p,q,c,m,k,u,r,y;function b(a){var c;if(!a.w2){c=a.tva();a.fk.zy(c["default"].Qa,a.vh);a.fk.YA(c.fp?c.fp.XV:void 0,c.fp?c.fp.CA:void 0);p.Ma(a.Fb)||(a.w2=!0);}}function f(a,b,k){var f;this.G=k;this.Fo={};this.hC=k.hC;this.ima=new m(this.hC);this.BH=new u(!0);this.nH=new u(!1);this.reset();this.N1=a;this.fk=b;this.Cma=q.yl.name();this.fk.eX(this.Cma);this.YH=this.Yx=0;this.oH=[];q.events.on("networkchange",function(a){this.Cma=a;this.fk.eX(a);}.bind(this));f=k.f5;f&&(f={Jc:c.Gd.yG,Ba:{Qa:parseInt(f,10),ph:0},Ng:{b1a:0,ph:0},ep:{b1a:0,ph:0}},this.get=function(){return f;});y=this;}p=a(6);q=a(5);c=a(12);a(20);d=a(49).EventEmitter;m=a(377).oga;k=new q.Console("ASEJS_NETWORK_MONITOR","media|asejs");u=a(770).nLa;r=a(768);y=void 0;f.prototype.constructor=f;f.prototype=Object.create(d.prototype);f.ah=function(){r(void 0!==y);return y;};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.Xd;}},Jc:{get:function(){return this.vh;}},hq:{get:function(){return this.Yx;}},d_a:{get:function(){return this.oH;}}});f.prototype.yVa=function(){var a,c,b;a=this.G;c=a.k1;b=this.ima;return a.MVa.reduce(function(a,k){a[k]=b.create(k,c);return a;},{});};f.prototype.reset=function(){var a,k,f;a=this.G.k1;k=this.ima;f=this.G;this.location=null;this.Fo=this.yVa();this.BH.reset();this.nH.reset();this.ws=k.create("respconn-ewma",a);this.js=k.create("respconn-ewma",a);this.vh=c.Gd.HAVE_NOTHING;this.GZa=function(){b(this);}.bind(this);this.UQ=void 0;this.$u=this.Cc=this.Fb=this.Xd=null;this.WUa=this.NQ=this.gI=0;this.Z1=!1;f.sCa&&(this.YH=this.Yx=0,this.oH=[]);};f.prototype.hX=function(a){var b;b=this.Fo;if(a!==this.location){p.U(this.UQ)||(clearInterval(this.UQ),this.UQ=void 0);p.Ma(this.location)&&(this.NQ=this.gI=0,this.Xd=null);if(!p.Ma(a)){this.vh=c.Gd.HAVE_NOTHING;for(var k in b)b[k]&&b[k].reset&&b[k].reset();this.ws.reset();this.js.reset();}p.Ma(this.Xd)||(this.gI+=(p.Ma(this.Fb)?q.time.ea():this.Fb)-this.Xd,this.NQ+=this.Cc);this.Fb=this.Xd=null;this.Cc=0;this.location=a;this.fk.hX(a);}};f.prototype.eX=function(a){this.fk.eX(a);};f.prototype.m_a=function(a){this.Fo.QoEEvaluator?k.warn("monitor (QoEEvaluator) already existed."):this.Fo.QoEEvaluator=a;};f.prototype.Tpb=function(){delete this.Fo.QoEEvaluator;};f.prototype.yy=function(a,f,d,m){var r,u;r=this.G;u=this.Fo;if(p.U(f))k.warn("addDataReceived called with undefined start time");else{r.TVa&&10>d-f?f=d-10:0===d-f&&(f=d-1);this.BH.yy(a,f,d,m);this.nH.yy(a,f,d,m);for(var g in u)u[g]&&u[g].add&&u[g].add(a,f,d);this.vh=Math.max(this.vh,c.Gd.xu);p.Ma(this.Xd)&&(this.Xd=f,this.Fb=null,this.w2=!1,this.Cc=0);p.Ma(this.Fb)||(f>this.Fb&&(this.Xd+=f-this.Fb),this.Fb=null,this.w2=!1);this.Cc+=a;this.vh<c.Gd.Np&&(d-this.Xd>r.dXa||this.Cc>r.cXa)&&(this.vh=c.Gd.Np);this.vh<c.Gd.yG&&(d-this.Xd>r.jYa||this.Cc>r.iYa)&&(!this.Z1||this.WUa>r.bXa)&&(this.vh=c.Gd.yG,b(this),this.UQ=setInterval(this.GZa,r.OWa));p.Ma(this.$u)||(f-this.$u>r.Wma?this.N1.vwa(this.$u,f):d-f>r.Wma&&this.N1.vwa(f,d));this.$u=Math.max(d,this.$u);}};f.prototype.Hs=function(a){this.ws.add(a);this.fk.Hs(a);};f.prototype.Gs=function(a){this.js.add(a);this.fk.Gs(a);};f.prototype.start=function(a){var c;p.Ma(this.$u)&&!p.Ma(this.Fb)&&(this.$u=a);c=this.Fo;if(this.G.Yca)for(var b in c)c[b]&&c[b].start&&c[b].start(a);};f.prototype.stop=function(a){var c,b;c=this.Fo;for(b in c)c[b]&&c[b].stop&&c[b].stop(a);this.Fb=p.Ma(this.Fb)?a:Math.min(this.Fb,a);this.$u=null;};f.prototype.flush=function(){var a,c;a=this.Fo;for(c in a)a[c]&&a[c].flush&&a[c].flush();};f.prototype.fail=function(){this.Xd=null;};f.prototype.Obb=function(){var a,c;a=this.Fo.entropy;a&&(c=a.Y1a(),a.reset());return c;};f.prototype.tva=function(){var a,c,b,k,f,d,m;a=q.time.ea();c={};b=this.Fo;k=this.G;f=k.BVa;d=k.MYa;for(m in b)b[m]&&b[m].get&&(c[m]=b[m].get(a),"iqr"===b[m].type&&(c.fp=c[m]),"tdigest"===b[m].type&&(c.Sh=c[m]));c.cdnavtp=this.BH.ol();c.activecdnavtp=this.nH.ol();c["default"]=f&&c[f]?c[f]:c["throughput-ewma"];"none"!==k.Yba&&"none"!==d&&(c.WCa=d&&c[d]?c[d]:c["throughput-sw"]);return c;};f.prototype.get=function(){var a,c,b,k,f;a=this.tva();c=a["default"];b=this.ws.get();k=this.js.get();if(a.WCa)f=a.WCa,c=p.na(c.Qa)&&p.na(f.Qa)&&c.Qa>f.Qa&&0<f.Qa?f:c;a.Jc=this.vh;a.Ba=c;a.Ng=b;a.ep=k;c=this.gI+!p.Ma(this.Xd)?(p.Ma(this.Fb)?q.time.ea():this.Fb)-this.Xd:0;a.time=c;return a;};f.prototype.Hab=function(){var a;a=this.gI+!p.Ma(this.Xd)?(p.Ma(this.Fb)?q.time.ea():this.Fb)-this.Xd:0;return{UC:Math.floor(8*(this.NQ+this.Cc)/a),aJb:this.N1.Ec()};};f.prototype.Mdb=function(){var a,c,b;a={};c=this.get(!0);if(c.Jc&&c.Ba){a.aseavtp=Number(c.Ba.Qa).toFixed(2);a.asevartp=Number(c.Ba.ph).toFixed(2);if(c.fp){b=c.fp.XV;!b||isNaN(b.Ij)||isNaN(b.Hj)||isNaN(b.ti)||(a.aseniqr=0<b.ti?Number((b.Ij-b.Hj)/b.ti).toFixed(2):-1,a.aseiqr=Number(b.Ij-b.Hj).toFixed(2),a.asemedtp=Number(b.ti).toFixed(2));a.iqrsamples=c.fp.CA;}c.Sh&&c.Sh.qt&&(a.tdigest=c.Sh.qt());}return a;};f.prototype.vA=function(a,c){var b;b=c.requestId;1===++this.Yx&&(this.emit("active",a),this.start(a));b&&this.oH.push(b);this.BH.vA(a,c);this.nH.vA(a,c);};f.prototype.Dba=function(){++this.YH;};f.prototype.xA=function(a,c,b){var k;k=b.requestId;c&&--this.YH;--this.Yx;this.G.sCa&&(this.Yx=Math.max(this.Yx,0),this.YH=Math.max(this.YH,0));0===this.Yx&&(this.stop(a),this.emit("inactive",a));k&&(c=this.oH.indexOf(k),0<=c&&this.oH.splice(c,1));this.BH.xA(a,b);this.nH.xA(a,b);};g.T=f;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(217);f=a(11);g=function(){function a(a){this.config=a;this.reset();}a.ah=function(){f.assert(void 0!==a.lC);return a.lC;};a.B3a=function(b){a.lC=new a(b);};a.UGb=function(){a.lC=void 0;};a.prototype.push=function(a){this.Sh&&this.Sh.push(a);};a.prototype.Xa=function(){if(this.Sh)return this.Sh.Ys(),this.Sh.Lg([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;});};a.prototype.reset=function(){this.config.Fsa&&this.config.i_&&(this.Sh=new b.VEb(this.config.i_.c,this.config.i_.maxc));};return a;}();d.mu=g;},function(g,d,a){var b,f,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);p=a(12);q=a(5);g=function(a){function c(c,b,d,m,g){d=a.call(this,d)||this;d.nCa=c;d.Dc=m;d.location=c.location||b.location;d.xb=c.Vb||b.Vb;d.qca=c.qca||b.qca;d.tMb=q.time.ea();f.assert(g);d.L=g;return d;}b.__extends(c,a);Object.defineProperties(c.prototype,{console:{get:function(){return this.L;},enumerable:!0,configurable:!0}});c.prototype.xc=function(a){this.Ua=a;this.U2=!1;};c.prototype.rQ=function(a){var c,b,k;c={type:"logdata",target:"endplay",fields:{}};b=this.M===p.Da.AUDIO?"audioedit":"videoedit";k=[this.Qv===this.S?this.hg:this.gd,this.Qv===this.S?-this.duration:this.duration];a&&a.mr&&k.push(a.mr);c.fields[b]={type:"array",value:k};return c;};c.prototype.kQ=function(a){this.Dc.bM&&(this.Nta=!0,this.zsa=a);};c.prototype.$X=function(){var a,c;if(this.complete)return 0;a=this.nCa;c=a.P;return a.url?this.url===a.url||(c.Aca(this,a.location,a.Vb),this.XM(a.url))?0:(this.L.warn("swapUrl failed: ",this.RD),2):(this.L.warn("updateurl, missing url for streamId:",a.pa,"mediaRequest:",this,"stream:",a),1);};return c;}(a(86).Fr);d.tx=g;},function(g,d,a){var p;function b(a,c){return void 0===a||void 0===c?void 0:a+c;}function f(a,c){return void 0===a||void 0===c?void 0:a-c;}Object.defineProperty(d,"__esModule",{value:!0});p=a(33);g=function(){function a(){}Object.defineProperties(a.prototype,{im:{get:function(){return f(this.tb,this.ab)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ML:{get:function(){return b(this.ab,this.wp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cW:{get:function(){return b(this.tb,this.wp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M5:{get:function(){return this.HC(this.im);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{N3a:{get:function(){return this.HC(this.ab);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{K3a:{get:function(){return this.HC(this.tb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Laa:{get:function(){return this.HC(this.ML);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{znb:{get:function(){return this.HC(this.cW);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Iob:{get:function(){return this.HC(this.wp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return f(this.ka,this.S)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.hv(this.ML);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ka:{get:function(){return this.hv(this.cW);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Gm:{get:function(){return this.hv(this.wp);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wj:{get:function(){return this.hv(this.ab);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gd:{get:function(){return this.hv(this.ab);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hg:{get:function(){return this.hv(this.tb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ec:{get:function(){return this.hv(this.ML);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pe:{get:function(){return this.hv(this.cW);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{dt:{get:function(){return this.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wt:{get:function(){return this.S;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gF:{get:function(){return this.ka;},enumerable:!0,configurable:!0}});a.prototype.HC=function(a){return void 0===a?void 0:0===a?p.sb.sf:new p.sb(a,this.ca);};a.prototype.hv=function(a){return a&&Math.floor(p.sb.WEa(a,this.ca));};return a;}();d.PN=g;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(11);g=function(){function a(a,b){this.fd=a;this.Cc=b.aa;this.Kd=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.fd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Cc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.Kd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ha:{get:function(){return this.fd.P.Ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.fd.P;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.fd.I;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.fd.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pa:{get:function(){return this.fd.pa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.fd.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.fd.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.fd.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Iw:{get:function(){return this.fd.Iw;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.fd.La;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.I,streamId:this.pa,offset:this.offset,bytes:this.aa};};return a;}();d.ux=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wp={IB:"PRIMARY",lea:"ASSISTIVE",Tea:"COMMENTARY"};d.v0={assistive:d.Wp.lea,closedcaptions:d.Wp.lea,directorscommentary:d.Wp.Tea,commentary:d.Wp.Tea,subtitles:d.Wp.IB,primary:d.Wp.IB};},function(g){g.T=function(d){return null!=d&&"object"===typeof d&&!0===d["@@functional/placeholder"];};},function(g,d,a){var b,f,p;b=a(111);f=a(51);p=a(163);g.T=function(a){return function m(k,d,r){switch(arguments.length){case 0:return m;case 1:return p(k)?m:f(function(b,f){return a(k,b,f);});case 2:return p(k)&&p(d)?m:p(k)?f(function(b,k){return a(b,d,k);}):p(d)?f(function(b,f){return a(k,b,f);}):b(function(b){return a(k,d,b);});default:return p(k)&&p(d)&&p(r)?m:p(k)&&p(d)?f(function(b,k){return a(b,k,r);}):p(k)&&p(r)?f(function(b,k){return a(b,d,k);}):p(d)&&p(r)?f(function(b,f){return a(k,b,f);}):p(k)?b(function(b){return a(b,d,r);}):p(d)?b(function(b){return a(k,b,r);}):p(r)?b(function(b){return a(k,d,b);}):a(k,d,r);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tha="ManifestEncoderSymbol";d.s_="ManifestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fga="IDBDatabaseFactorySymbol";d.gha="IndexedDBFactorySymbol";d.f_="IndexedDBStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rPa="NativeLocalStorageSymbol";d.qia="NativeLocalStorageFactorySymbol";d.Gga="IDBFactorySymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(29);d.szb=function(){this.yI=[];this.dG=[];this.q3=b.vx.zx;this.lY=b.ak.zx;};d.hO="DeviceCapabilitiesConfigSymbol";},function(g,d,a){g=a(250);a=a(249);d.async=new a.CY(g.BY);},function(g,d,a){function b(a){var b,c;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),f=0;f<b.length;++f){c=b[f];if("entries"!==c&&"size"!==c&&a.prototype[c]===a.prototype.entries)return c;}return"@@iterator";}g=a(79);d.mMb=b;d.iterator=b(g.root);d.uxb=d.iterator;},function(g,d,a){var b,f,p,q,c,m,k,u;b=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var k in c)c.hasOwnProperty(k)&&(a[k]=c[k]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=a(10);g=a(45);p=a(69);q=a(466);c=a(465);m=a(252);k=function(a){function c(c){a.call(this,c);this.destination=c;}b(c,a);return c;}(g.Ei);d.nTa=k;a=function(a){function d(){a.call(this);this.Ot=[];this.nK=this.yf=this.closed=!1;this.wda=null;}b(d,a);d.prototype[m.BA]=function(){return new k(this);};d.prototype.ng=function(a){var c;c=new u(this,this);c.dA=a;return c;};d.prototype.next=function(a){if(this.closed)throw new q.GB();if(!this.yf)for(var c=this.Ot,b=c.length,c=c.slice(),k=0;k<b;k++)c[k].next(a);};d.prototype.error=function(a){if(this.closed)throw new q.GB();this.nK=!0;this.wda=a;this.yf=!0;for(var c=this.Ot,b=c.length,c=c.slice(),k=0;k<b;k++)c[k].error(a);this.Ot.length=0;};d.prototype.complete=function(){if(this.closed)throw new q.GB();this.yf=!0;for(var a=this.Ot,c=a.length,a=a.slice(),b=0;b<c;b++)a[b].complete();this.Ot.length=0;};d.prototype.unsubscribe=function(){this.closed=this.yf=!0;this.Ot=null;};d.prototype.v2=function(c){if(this.closed)throw new q.GB();return a.prototype.v2.call(this,c);};d.prototype.fg=function(a){if(this.closed)throw new q.GB();if(this.nK)return a.error(this.wda),p.Nk.EMPTY;if(this.yf)return a.complete(),p.Nk.EMPTY;this.Ot.push(a);return new c.wka(this,a);};d.prototype.k3=function(){var a;a=new f.Ca();a.source=this;return a;};d.create=function(a,c){return new u(a,c);};return d;}(f.Ca);d.kj=a;u=function(a){function c(c,b){a.call(this);this.destination=c;this.source=b;}b(c,a);c.prototype.next=function(a){var c;c=this.destination;c&&c.next&&c.next(a);};c.prototype.error=function(a){var c;c=this.destination;c&&c.error&&this.destination.error(a);};c.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};c.prototype.fg=function(a){return this.source?this.source.subscribe(a):p.Nk.EMPTY;};return c;}(a);d.Ixb=u;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bka="ReportSyncSymbol";d.aka="ReportApiErrorSyncSymbol";d.rga="FtlProbeConfigSymbol";d.sga="FtlProbeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.ro||(d.ro={});g[g.kA=0]="playready";g[g.rY=1]="widevine";g[g.SD=2]="fairplay";g[g.VGb=3]="clearkey";d.NKa="DrmTypeSymbol";},function(g){var d;d=function(){return this;}();try{d=d||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof L&&(d=L);}g.T=d;},function(g){g.T={Hr:{t0:0,eka:1,Di:2,name:["transient","semiTransient","permanent"]},Dr:{kga:0,cka:1,VO:2,XG:3,Sr:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},nFb:{XEb:0,JBb:1,Nyb:2,Sr:100,name:["trailer","montage","content"]},Pp:{sha:0,Xja:1,cUa:2,fKa:3,Sr:100,name:["left","right","up","down"]},HG:{wIa:0,VO:1,zAb:2,Tzb:3,Rxb:4,yAb:5,qHa:6,Sr:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},uB:{XG:0,pfa:1,Sr:100,name:["playFocused","detailsOpened"]}};},function(g,d,a){d=a(243);g.T="undefined"!==typeof d&&"undefined"!==typeof nrdp?nrdp.ea:Date.now;},function(g,d,a){var b,f,p,q,c,m,k,u,r,y,A,h,F,D,O,aa,N;Object.defineProperty(d,"__esModule",{value:!0});b=a(188);f=a(103);p=a(13);q=a(9);g=a(34);c=a(2);m=a(15);k=a(4);u=a(115);r=a(60);y=a(70);A=a(18);h=a(8);F=a(16);D=a(28);O=a(96);aa=a(3);a=a(22);d.Rn={};L._cad_global.msl=d.Rn;N=k.V.get(a.bf);g.Oha&&N.register(c.J.Rga,function(a){var ba,n,t,V,M,fa,ma,U,P,ra,ka,Ba,Fa,Ea;function g(b){b&&b.userList&&p.config.Psb&&(b.userList=[]);V({esn:f.Fh.Zg,esnPrefix:f.Fh.vq,authenticationType:p.config.BI,authenticationKeyNames:p.config.vpa,systemKeyWrapFormat:p.config.oub,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Fa,storeState:b,notifyMilestone:N.Qc.bind(N),log:ma,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:c.u.uOa,MSL_READ_TIMEOUT:c.u.tOa}},{result:function(a){I(a);},timeout:function(){a({Z:c.u.Sha});},error:function(b){a(l(c.u.Sha,void 0,b));}});}function I(b){var r,u,g;function f(){Ba&&k.V.get(y.Er).create().then(function(a){return a.save(ra,u,!1);})["catch"](function(a){ma.error("Error persisting msl store",c.uo(a));});}r=k.V.get(O.NB)(aa.Bb(100));g=M.extend({init:function(a){this.Vma=a;},getResponse:function(a,c,b){var f,d;c=this.Vma;f=c.Jt.Qd||f;a=F.Xwa(a.body)?k.gY(a.body):a.body;m.oJ(a,"Msl should not be sending empty request");a={url:c.url,Qaa:a,withCredentials:!0,AD:"nq-"+c.method,headers:c.headers};c=this.Vma.timeout;a.LR=c;a.X$=c;d=f.download(a,function(a){try{if(a.W)b.result({body:a.content});else if(400===a.mi&&a.Sa)b.result({body:a.Sa});else throw A.Za(new fa("HTTP error, SubCode: "+a.Z+(a.mi?", HttpCode: "+a.mi:"")),{cadmiumResponse:a});}catch(bc){b.error(bc);}});return{abort:function(){d.abort();}};}});P&&b.addEventHandler("shouldpersist",function(a){u=a.storeState;r.Nb(f);});A.Za(d.Rn,{oJb:function(){ka=!0;},send:function(a){function k(){var c,b;c=a.Jt;b={method:a.method,nonReplayable:a.Y$,encrypted:a.li,userId:a.uN,body:a.body,timeout:2*a.timeout,url:new g(a),allowTokenRefresh:Ba,sendUserAuthIfRequired:Ea,shouldSendUserAuthData:p.config.Tsb};c.wS?(b.email=c.wS,b.password=c.password||""):c.$Ea?(b.token=c.$Ea,b.mechanism=c.ojb,c.Xz&&(b.netflixId=c.Xz,b.secureNetflixId=c.WW),c.nA&&(b.profileGuid=c.nA)):c.Xz?(b.netflixId=c.Xz,b.secureNetflixId=c.WW):c.zya?(b.mdxControllerToken=c.zya,b.mdxPin=c.jjb,b.mdxNonce=c.ijb,b.mdxEncryptedPinB64=c.hjb,b.mdxSignature=c.kjb):ka||c.useNetflixUserAuthData?b.useNetflixUserAuthData=!0:c.nA&&(b.profileGuid=c.nA);return b;}return new Promise(function(a,f){var d;d=k();b.send(d).then(function(c){ka&&(ka=!1);a({W:!0,body:c.body});})["catch"](function(a){var k,d;if(a.error){k=a.error.cadmiumResponse&&a.error.cadmiumResponse.Z?a.error.cadmiumResponse.Z:b.isErrorReauth(a.error)?c.u.Rha:b.isErrorHeader(a.error)?c.u.nOa:c.u.Pha;d=b.getErrorCode(a.error);f(l(k,d,a.error));}else ma.error("Unknown MSL error",a),a.Lc=a.subCode,f({Z:a.Lc?a.Lc:c.u.vOa});});});},Nh:b});a(q.Tc);}function l(a,c,b){var k,f,d,m;m={Z:a,ND:c};if(b){k=function(a){var c;a=a||""+b;if(b.stack){c=""+b.stack;a=0<=c.indexOf(a)?c:a+c;}return a;};if(d=b.cadmiumResponse){if(f=d.Kc&&d.Kc.toString())d.Kc=f;d.Z=a;d.ND=c;d.Sa=k(b.message);d.error={Lc:a,Gg:f,Vq:c,data:b.cause,message:b.message};return d;}k=k(b.errorMessage);f=A.de(b.internalCode)||A.de(b.error&&b.error.internalCode);d=void 0!==b.U9a?D.Mza(b.U9a):void 0;}k&&(m.Sa=k);f&&(m.Kc=f);m.error={Lc:a,Gg:f.toString(),Vq:c,data:d,message:k};return m;}m.Ea(p.config);ba=k.V.get(u.Wx);n=r.bd.Fi;if(h.Hu&&h.An&&h.An.unwrapKey){try{t=L.netflix.msl;V=t.createMslClient;M=t.IHttpLocation;fa=t.MslIoException;}catch(Qa){a({Z:c.u.oOa});return;}ma=k.Uf("Msl");U=p.config.pkb;P=p.config.qkb;ra=p.config.uq?"mslstoretest":"mslstore";t=b.LF.pDa;ka=p.config.xfb;Ba=!t||t.W;Fa=k.$k(p.config.uq?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Ea=!!p.config.mca;k.V.get(y.Er).create().then(function(b){U?b.remove(ra).then(function(){g();})["catch"](function(a){ma.error("Unable to delete MSL store",c.uo(a));g();}):P?b.load(ra).then(function(a){ba.mark(n.qOa);g(a.value);})["catch"](function(k){k.Z==c.u.Mu?(ba.mark(n.sOa),g()):(ma.error("Error loading msl store",c.uo(k)),ba.mark(n.rOa),b.remove(ra).then(function(){g();})["catch"](function(c){a(c);}));}):g();})["catch"](function(b){ma.error("Error creating app storage while loading msl store",c.uo(b));a(b);});}else a({Z:c.u.pOa});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.b0="PlaygraphHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$ja=function(a,b){var f;this.Eca=function(){f||(f=setInterval(b,a));};this.i4=function(){f&&(clearInterval(f),f=void 0);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.bi||(d.bi={});g[g.XDa=1]="sourceopen";g[g.Bn=2]="currentTimeChanged";g[g.pM=3]="seeked";g[g.vKb=4]="needlicense";g[g.txa=5]="licenseadded";g[g.WDa=6]="sourceBuffersAdded";g[g.jaa=7]="onNeedKey";},function(g,d,a){var b,f,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);f=a(18);p=a(16);(function(){var c,m,k;function a(a){b.Ea(void 0!==c[a]);return c[a];}c={'"':'""',"\r":"","\n":" "};m=/["\r\n]/g;k=/[", ]/;d.o6a=function(c){return p.Ub(c)?p.na(c)?c:p.ae(c)?c.replace(m,a):p.zwa(c)?c:isNaN(c)?"NaN":"":"";};d.Vxa=function(a){var c,b;c=d.o6a;b="";f.Xc(a,function(a,f){a=c(a)+"="+c(f);k.test(a)&&(a='"'+a+'"');b=b?b+(","+a):a;});return b;};}());},function(g,d,a){var f,p,q;function b(a,b){this.pj=b?[b]:[];this.p1="$op$"+q++;this.o=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);p=a(15);q=0;b.prototype.addListener=function(a,b){var c;c=this;p.wra(a);p.Ea(0>this.pj.indexOf(a));a[f.H_+this.p1]=b;this.pj=this.pj.slice();this.pj.push(a);this.pj.sort(function(a,b){return c.htb(a,b);});};b.prototype.removeListener=function(a){var c;p.wra(a);this.pj=this.pj.slice();0<=(c=this.pj.indexOf(a))&&this.pj.splice(c,1);};b.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,Ev:b};this.o=a;a=this.pj;for(var c=a.length,f=0;f<c;f++)a[f](b);}};b.prototype.when=function(a){var c;c=this;return new Promise(function(b){function k(f){if(a(f.newValue))return c.removeListener(k),b(f.newValue);}if(a(c.o))return b(c.o);c.addListener(k);});};b.prototype.htb=function(a,b){return(a[f.H_+this.p1]||0)-(b[f.H_+this.p1]||0);};qa.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});d.Nc=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Z_="PlaybackSegmentDataFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.R_="PboBindCommandSymbol";},function(g,d,a){var b,f,p,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(291);f=a(13);p=a(9);g=a(2);q=a(15);c=a(4);m=a(18);k=a(68);u=a(88);a=a(22);d.zn={};L._cad_global.controlProtocol=d.zn;c.V.get(a.bf).register(g.J.Mga,function(a){var k,r,g;q.Ea(f.config);k=c.Uf("ControlProtocol");r=f.config.yj;q.Ea(r);g=c.V.get(u.lu);k.info("Creating EDGE instance",{Endpoint:g.endpoint+r.bza,Path:r.wsa});m.Za(d.zn,new b.YIa(k));a(p.Tc);});d.kHb=c.V.get(k.mO);d.jHb="1";d.lHb="2";d.mHb="3";d.iHb="4";},function(g,d,a){var p,q,c,m,k,u,r,y,A,h,F,D,O,aa,N,l,n;function b(a){var b;b=this;this.j=a;this.wpa=this.uxa=!1;this.log=k.mg(this.j,"Playback");this.Jt={Qd:a.sK,log:k.mg(a,"MSLContext")};this.LU=k.V.get(O.JG);this.Jj=k.V.get(l.Iu);this.Mc=k.V.get(n.PB);this.j.addEventListener(N.R.VK,function(){return b.kwb();});u.Ea(c.config);u.Ea(p.zn);u.Ea(this.Jt.Qd);c.config.Kp||(this.n8a=k.V.get(r.Mfa));}function f(a,c){var f;function b(a){return a&&0<a.length&&a[0].pw;}f=k.V.get(O.JG);return a.ia&&b(a.qc)?f.release(Object.assign(Object.assign({},c),{ia:a.ia,qc:a.qc})):c.ia&&b(c.qc)?f.release(c):Promise.resolve(q.Tc);}Object.defineProperty(d,"__esModule",{value:!0});p=a(185);q=a(9);c=a(13);m=a(26);k=a(4);u=a(15);r=a(473);y=a(2);A=a(60);h=a(34);F=a(44);D=a(16);O=a(150);aa=a(149);N=a(14);l=a(82);n=a(106);b.prototype.CI=function(a){var f,d,r;function b(){f.j.dDa().then(k)["catch"](a);}function k(c){try{f.j.jBa(c);a(q.Tc);f.S$a();}catch(fa){f.log.error("Exception processing authorization response",fa);a({W:!1,Z:y.u.FQa});}}f=this;u.nJ(this.j.I);u.nJ(this.j.mh);d=this.j.ya;if(d){r=d.expiration;r?(r-=m.k4(),18E5<r?F.Ab(function(){k(d);f.j.wv="ui";}):(this.log.error("manifest is expired",{gap:r}),b())):F.Ab(function(){k(d);f.j.wv="ui";});}else c.config.Xn&&this.Mc()?(r=this.Mc().Yo(this.j.I,"manifest"))&&r.then(function(a){k(a);f.j.wv="videopreparer";})["catch"](function(a){f.log.warn("manifest not in cache",a);b();}):b();};b.prototype.dK=function(a){var c;c=this;return new Promise(function(b,f){var d,m,r;d=A.bd.Tqa(a.Kh);m=a.qq.map(function(a){return{sessionId:a.sessionId,dataBase64:k.Ms(a.data)};});r=c.j.Zcb(a.qq[0].sessionId);d={Xf:r.Xf,Kh:D.is.Wk(a.Kh)?a.Kh:d,qS:[r.nk],qq:m,ia:r.ia,Vo:a.Vo,If:r.ya.If};c.j.cJ&&c.j.cJ.NR&&(d.fL=c.j.cJ.NR);c.LU.wy(d).then(function(a){c.j.qc=a.qc;b(a);c.T$a(r);})["catch"](f);});};b.prototype.release=function(a){return f(this.j,a);};b.prototype.Xqa=function(){var a;a=this.n8a.create();this.j.wf&&(a.ce=this.j.wf.bE());a.qc=this.j.qc;a.ia=this.j.ia;a.I=this.j.I;return a;};b.prototype.T$a=function(a){this.uxa||(this.uxa=!0,this.j.fireEvent(N.R.VK,{I:a.I}));};b.prototype.S$a=function(){var a;a=this;this.wpa||(this.wpa=!0,this.j.fireEvent(N.R.S0a),k.V.get(aa.RO)().then(function(c){c.otb(a.j);}));};b.prototype.kwb=function(){var a;a=this;this.Jj.tE||b.KFa||(b.KFa=!0,h.pPa&&c.config.jwb&&p.zn.B3(this.Jt).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(c){return a.log.error("NetflixId upgrade failed",y.uo(c));}));};d.ZIa=b;b.KFa=!1;d.Ppb=f;},function(g,d,a){var q,c,m,k,u,r,y,A,h,F,D,O,aa,N,l,n,ja;function b(a,b){var I;function k(c){return q.Ppb(a,c);}function d(){var a,c,b;c=r.Uf("Eme");a=new u.Sg.ru(c,void 0,k,{bh:!1,GK:!1});b=r.V.get(A.MB);return u.Sg.uu(c,"cenc",void 0,{bh:!1,GK:!1,Rwa:m.config.xi,ZCa:{Jya:m.config.mrb,iqa:m.config.$ba,GMb:m.config.lrb},iM:a,nBa:m.config.dba,aG:m.config.aG,$A:m.config.S5,cLb:m.config.nrb,qpa:b.eJ([]),XFa:b.jJ([]),qE:m.config.qE});}function g(a,c){var b,k;k=r.V.get(ja.Z_)(0,c.movieId,void 0,{},c.xid,l.Bb(n.Cg()),!1,void 0,function(){return null;});m.config.xi&&(I.info("secure stop is enabled"),b=a.W?{success:a.W,persisted:!0,ss_km:a.Iya,ss_sr:a.xM,ss_ka:a.Fqa}:{success:a.W,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.Lc,ErrorExternalCode:a.Gg,ErrorEdgeCode:a.Vy,ErrorDetails:a.cause&&a.cause.Sa},b.browserua=F.$j,c=r.V.get(aa.Xj),a=r.V.get(N.vo).gm("securestop",a.W?"info":"error",b,k),c.yc(a));}function h(){function a(a,c){var b;if(!c.qc||0===c.qc.length||!c.qc[0].pw)return I.error("releaseDrmSession exception: missing valid keySessionData"),f(a,c);if(0<c.qc.length){I.info("Sending the deferred playdata and secure stop data");b=d();return b.create(m.config.ce).then(function(){return b.PHb(c);}).then(function(b){I.info("Sent the deferred playdata and secure stop data");g(b,c);return f(a,c);})["catch"](function(b){b&&b.code===y.J.tSa&&f(a,c);b&&b.code===y.J.sSa&&f(a,c);I.error("Unable to send last stop",b);g(b,c);throw b;});}I.info("No key session so just send the playdata");return k(c).then(function(){I.trace("Successfully sent stop command for previous session");return f(a,c);})["catch"](function(a){I.error("Unable to send stop command for previous session",a);throw a;});}p(I).then(function(k){var f;f=k.rS.filter(function(a){return!1===a.active;}).map(function(c){return a(k,c);});Promise.all(f).then(function(){I.info("release drm session completed for "+f.length+" entries");b(c.Tc);})["catch"](function(a){a=a||{};a.DrmCacheSize=f.length;I.error("Unable to release one or more DRM session data",a);b(c.Tc);});})["catch"](function(a){I.error("Unable to load DRM session data",a);b(c.Tc);});}I=r.Uf("PlayDataManager");b=b||c.Qe;m.config.Kp?b(c.Tc):h();}function f(a,c){return a?a.xba(c):Promise.resolve();}function p(a){var c;if(!d.qsa){c=r.V.get(h.LY);d.qsa=new Promise(function(b,k){c.CBa().then(function(){b(c);})["catch"](function(c){a.error("Unable to load DRM data for persistent secure stop",c);k(c);});});}return d.qsa;}Object.defineProperty(d,"__esModule",{value:!0});q=a(186);c=a(9);m=a(13);k=a(54);u=a(34);r=a(4);y=a(2);A=a(114);h=a(254);F=a(8);D=a(149);O=a(14);aa=a(38);N=a(58);l=a(3);n=a(26);ja=a(183);g=a(22);d.iRa=function(a){var q,A,y,h,I;function d(){A||(a.Qc("pdsb"),A=r.V.get(D.RO)().then(function(c){h=c;a.Qc("pdsc");return c;})["catch"](function(c){q.error("Unable to initialize the playdata services",c);a.Qc("pdse");throw c;}));return A;}function g(){y=!0;h&&h.close();k.Le.removeListener(k.pl,g);}q=r.mg(a,"PlayDataManager");y=!1;if(!u.Sg.uu||!u.Sg.ru){I={};u.Sg.uu=I.Ob;u.Sg.ru=I.request;}a.Qc("pdctor");a.addEventListener(O.R.gf,function(){k.Le.removeListener(k.pl,g);});a.addEventListener(O.R.VK,function(){var c;if(!m.config.Kp&&a.wf){c=a.zn.Xqa();p(q).then(function(a){return a.voa(c);})["catch"](function(){q.error("Unable to load/add cached DRM data");});}});a.addEventListener(O.R.gf,function(){var c;if(!y){a.Xwb();c=[function(){return m.config.Kp||!a.wf?Promise.resolve():new Promise(function(c){var b;q.info("Sending the expedited playdata and secure stop data");b=a.zn.Xqa();a.wf.jIb(b).then(function(c){q.info("Sent the expedited playdata and secure stop data");m.config.xi&&a.Et.XW({success:c.W,persisted:!1,ss_km:c.Iya,ss_sr:c.xM,ss_ka:c.Fqa});return p(q);}).then(function(a){return f(a,b);}).then(function(){c();})["catch"](function(b){q.error("Unable to send the expedited playdata and secure stop data",b);m.config.xi&&a.Et.XW({success:b.W,state:b.state,ErrorCode:b.code,ErrorSubCode:b.Lc,ErrorExternalCode:b.Gg,ErrorEdgeCode:b.Vy,ErrorDetails:b.cause&&b.cause.Sa});c();});});}(),function(){return d().then(function(c){return c.gEa(a.da);}).then(function(){q.info("Sent the playdata");})["catch"](function(a){q.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){r.V.get(aa.Xj).flush(!1)["catch"](function(){q.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(c).then(function(){a.FV();})["catch"](function(){a.FV();});}});k.Le.addListener(k.pl,g);return{Brb:function(k){a.Qc("pdpb");m.config.aX||d().then(function(c){return c.send(a.I);}).then(function(){m.config.Kp?(a.Qc("pdpc"),k(c.Tc)):b(a,function(){a.Qc("pdpc");k(c.Tc);});})["catch"](function(){a.Qc("pdpe");k(c.Tc);});}};};d.jRa=function(){new Promise(function(a){b({},function(c){a(c);});});};r.V.get(g.bf).register(y.J.zu,function(a){a(c.Tc);});},function(g,d,a){var b,f,p,q,c,m,k,u,r,y,A;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(13);p=a(54);q=a(26);c=a(2);m=a(15);k=a(4);u=a(18);r=a(8);y=a(145);A=a(16);g=a(22);k.V.get(g.bf).register(c.J.Vga,function(a){var I,aa,N;function g(){var a;g=b.Qe;a=setInterval(h,f.config.Xhb);p.Le.addListener(p.pl,function(c){c&&c.isPopStateEvent?I.trace("popstate event, Lock timers can stay"):(u.Xc(aa,function(a,c){localStorage.removeItem(c.Nn);}),clearInterval(a));},b.FB);}function h(){var a;a=q.GR();u.Xc(aa,function(c,b){c=localStorage.getItem(b.Nn);(c=JSON.parse(c))?c.updated=a:c={updated:a,sessionId:N,count:1};localStorage.setItem(b.Nn,JSON.stringify(c));});}m.Ea(y.storage);I=k.Uf("StorageLock");aa={};N=Date.now()+"-"+Math.floor(1E6*Math.random());d.LF={wy:function(a,k,d){var p,y,h,D,F,O,l,ba,n,Q;function m(a){localStorage.setItem(h,JSON.stringify(a));a={Nn:h};aa[h]=a;I.trace("Lock acquired",{Name:a.Nn});g();k({W:!0,PU:a});}d=void 0===d?!1:d;p=this;if(localStorage){y=q.GR();h="lock-"+a;D={updated:y,sessionId:N,count:1};try{if(h in localStorage){F=localStorage.getItem(h);l=JSON.parse(F);A.iw(l.updated)&&(O=l.updated);ba=r.NG(y-O)*b.Yj;n=N===l.sessionId;if(ba<f.config.Dxa)if(n)l.count+=1,I.debug("Incremented lock count for existing playbackSession",{id:N,count:l.count}),l.updated=y,m(l);else if(d){Q=f.config.Dxa-ba+b.Yj;I.error("Waiting until current expiration to confirm whether lock is still active",{id:N,count:l.count,Epoch:y,LockEpoch:O,waitTimeoutMs:Q});L.setTimeout(function(){return p.wy(a,k,!1);},Q);}else k({W:!1});else I.error("Lock was expired or invalid, ignoring",{Epoch:y,LockEpoch:O}),m(D);}else m(D);}catch(ka){I.error("Error acquiring Lock",{errorSubCode:c.u.qh,errorDetails:u.ne(ka)});k({W:!0});}}else r.Axa?I.error("Local storage access exception",{errorSubCode:c.u.GSa,errorDetails:u.ne(r.Axa)}):I.error("No localstorage",{errorSubCode:c.u.HSa}),k({W:!0});},release:function(a,c){var k,f;m.Ea(aa[a.Nn]==a);if(localStorage){try{k=localStorage.getItem(a.Nn);f=JSON.parse(k);1<f.count?(--f.count,localStorage.setItem(a.Nn,JSON.stringify(f)),I.trace("Lock count decremented",{Name:a.Nn,count:f.count})):(localStorage.removeItem(a.Nn),delete aa[a.Nn],I.trace("Lock released",{Name:a.Nn}));}catch(X){I.error("Unable to release Lock",{Name:a.Nn},X);}c&&c(b.Tc);}}};f.config.CS?d.LF.wy("session",function(c){d.LF.pDa=c;a(b.Tc);}):a(b.Tc);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.X_="PlayPredictionDeserializerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.KU=function(a,b,f){var d;if(f.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");d=f.get;f.get=function(){var g,c;g=d.apply(this,arguments);c={enumerable:f.enumerable,value:g};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,c):Object.defineProperty(this,b,c);return g;};};},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});d.Hha=a;a.HJa="display";a.rIa="console";a.KDb="remote";a.sFb="writer";},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(8);b.G4=function(a){var b;if(f.Wd.queryCommandSupported&&f.Wd.queryCommandSupported("copy")){b=f.Wd.createElement("textarea");b.textContent=a;b.style.position="fixed";f.Wd.body.appendChild(b);b.select();try{f.Wd.execCommand("copy");}catch(c){console.warn("Copy to clipboard failed.",c);}finally{f.Wd.body.removeChild(b);}}};d.PY=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nja="PboPlaydataValidatorSymbol";d.kja="PboPlaydataArrayValidatorSymbol";d.lja="PboPlaydataCollectionValidatorSymbol";},function(g,d,a){var c,m,k,u,r,y;function b(a,c,b,k){this.Ta=a;this.yva=c;this.ta=b;this.profile=k;}function f(){}function p(){}function q(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);m=a(40);k=a(3);u=a(17);r=a(24);a=a(80);q.prototype.encode=function(a){return{downloadableId:a.Uc,duration:a.duration};};q.prototype.decode=function(a){return{Uc:a.downloadableId,duration:a.duration};};p.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new q().encode),video:a.video.map(new q().encode),text:a.text.map(new q().encode)};};p.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new q().decode),video:a.video.map(new q().decode),text:a.text.map(new q().decode)};};f.prototype.encode=function(a){return{type:a.type,href:a.href,xid:a.ia,movieId:a.I,position:a.position,clientTime:a.ZI,sessionStartTime:a.yM,mediaId:a.Pz,playTimes:new p().encode(a.HL),trackId:a.cb,sessionId:a.sessionId,appId:a.tI,sessionParams:a.Km,mdxControllerEsn:a.t$,profileId:a.profileId};};f.prototype.decode=function(a){return{type:a.type,href:a.href,ia:a.xid,I:a.movieId,position:a.position,ZI:a.clientTime,yM:a.sessionStartTime,Pz:a.mediaId,HL:new p().decode(a.playTimes),cb:a.trackId,sessionId:a.sessionId,tI:a.appId,Km:a.sessionParams,t$:a.mdxControllerEsn,profileId:a.profileId};};d.T_=f;b.prototype.create=function(a){return{href:a.ya&&a.ya.If?a.ya.If.v7("events").href:"",type:"online",ia:a.ia.toString(),I:a.I,position:a.Y4||0,ZI:this.Ta.pca.ba(k.ha),yM:a.rE?a.rE.ba(k.ha):-1,Pz:this.sbb(a),HL:this.Xcb(a),cb:void 0!==a.mh?a.mh.toString():"",sessionId:this.yva().sessionId||this.ta.id,tI:this.yva().tI||this.ta.id,Km:a.Wa.Km||{},profileId:this.profile};};b.prototype.Q5a=function(a,c){return Object.assign({},this.create(a),{t$:c&&c.NR});};b.prototype.load=function(a){return new f().decode(a);};b.prototype.sbb=function(a){var c,b,k;c=a.Pc.value;b=a.Of.value;k=a.zc.value;return c&&b&&k?(a=a.ya.media.find(function(a){return a.tracks.AUDIO===c.cb&&a.tracks.VIDEO===b.cb&&a.tracks.TEXT===k.cb;}))?a.id:"":"";};b.prototype.D7=function(a){return a.map(function(a){return{Uc:a.downloadableId,duration:a.duration};});};b.prototype.Xcb=function(a){return(a=a.Al)?(a=a.Wcb(),{total:a.total,audio:this.D7(a.audio),video:this.D7(a.video),text:this.D7(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};y=b;y=g.__decorate([c.N(),g.__param(0,c.l(m.Vj)),g.__param(1,c.l(u.pd)),g.__param(2,c.l(r.Ne)),g.__param(3,c.l(a.Ju))],y);d.aRa=y;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.r_="ManifestProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.MO="NetworkMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.a0="PlaygraphConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dha="LogMessageRulerConfigSymbol";d.Eha="LogMessageRulerSymbol";},function(g,d,a){var b,f,p,q,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(2);p=a(350);q=a(349);c=a(44);d.kGa=function(a,k){var d,m;try{d=p.nxb(a);}catch(y){b.log.error("xml2xmlDoc exception",y);}c.Ab(function(){if(d&&d.documentElement)try{m=q.oxb(d);}catch(y){b.log.error("xmlDoc2js exception",y);}c.Ab(function(){m?k({W:!0,object:m}):k({W:!1,Z:f.u.lga});});});};},function(g,d,a){var b,f,p,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);f=a(19);p=a(9);q=a(125);c=a(8);m=a(16);k=a(18);d.jmb=function(){var Y,V,M,fa,ma,U,P,ra,ka,Ba,Fa,Ea;function a(a){if(f.Cz(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return d.pmb[a];}}function r(a,b,k){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return c.wo(b,k);}function g(a,c){var b,k;b=a.length;k=a[b-1];if("t"===k)return parseFloat(a)*c|0;if("s"===k)return"m"===a[b-2]?parseFloat(a)|0:parseFloat(a)*p.Yj|0;if((a=a.match(ka))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*p.Yj|0;throw Error("dfxp-badtime");}function A(a,c,b,k,f){var d,m,r,u,g,q,p,y;if(a){m=a.style;b=m?b[m]:void 0;k=(m=a.region)?k[m]:void 0;m=f.length;for(r=0;r<m;r++)if(u=f[r],g=a[u],void 0===g&&b&&(g=b[u]),void 0===g&&k&&(g=k[u]),void 0!==g&&g!==c[u]){if(!d)for(d={},q=0;q<m;q++)p=f[q],y=c[p],void 0!==y&&(d[p]=y);d[u]=g;}}return d||c;}function h(a,c,b,k,d,m,r,u,g){var y,h;function p(a,I,D){var F,O,N,l,ba,n;F=a[q.ej];O=F.style||I.style||"";N=F.region||I.region||"";O||N?(l=O+"/"+N,ba=b[l]):ba=c;if(!ba){ba=c;n=f.CM(k);f.Za(n,d[O]);ba=aa(ba,n,r,u,g);b[O+"/"]=ba;N&&(f.Za(n,m[N]),f.Za(n,d[O]),ba=aa(ba,n,r,u,g),b[l]=ba);}if(!D)a:{for(D=U.length;D--;)if(void 0!==F[U[D]]){D=!0;break a;}D=void 0;}D&&(F=A(F,I,d,m,P),ba=aa(ba,F,r,u,g));I=(a=a[q.tY])&&a.length;for(O=0;O<I;O++)N=a[O],f.Xe(N)?Ba.test(N[q.uY])?h++:p(N,F,D):(y.push({text:N,lineBreaks:h,style:ba}),h=0);}y=[];h=0;p(a,k,!1);0<h&&y.push({text:"",lineBreaks:h,style:c});return y;}function F(a,c,b,k,f,d,m,r){var u,g;b&&(b=V[b]||"top",a.verticalAlignment!==b&&(a.verticalAlignment=b));k&&(b=M[k]||"left",a.horizontalAlignment!==b&&(a.horizontalAlignment=b));f?((g=r[f])?(k=g.marginLeft,b=g.marginTop):(u=f.split(" "),k=n(u[0],m.x)||0,b=n(u[1],m.y)||0,g={km:0,marginLeft:k,marginTop:b,L_a:k*c.e8+c.mK,N_a:b*c.$da+c.jY},30>r.km&&(r.km++,r[f]=g)),a.marginLeft=g.L_a,a.marginTop=g.N_a):(b=k=0,(g=r["default"])||(r["default"]=g={km:0}));d&&(f=g[d],f||(u=d.split(" "),f={M_a:(1-(k+(n(u[0],m.x)||0)))*c.e8+c.mK,K_a:(1-(b+(n(u[1],m.y)||0)))*c.$da+c.jY},30>g.km&&(g.km++,g[d]=f)),a.marginRight=f.M_a,a.marginBottom=f.K_a);}function D(a,c,b,k,d){var m,r,u;m=a.displayAlign;r=a.textAlign;u=a.origin;a=a.extent;b=f.CM(b);F(b,c,m,r,u,a,k,d);b.id=Y++;return b;}function O(c,b,k,m){var u,g,q,p,y,A;u=r(k.characterSize||b.characterSize,d.qmb,2)||1;g=(g=c.fontSize)&&Fa.test(g)?f.Rr(f.de(g),25,200):void 0;u*=g/100||1;g=c.textOutline;if(g&&"none"!=g){p=g.split(" ");Ea.test(p)?(A=0,y=c.color):(A=1,y=a(p[0]));q=l(p[A]);p=l(p[A+1]);}return{characterStyle:k.characterStyle||d.rmb[c.fontFamily]||b.characterStyle,characterSize:u*m,characterColor:a(k.characterColor||c.color||b.characterColor),characterOpacity:r(f.n4(k.characterOpacity,c.opacity,b.characterOpacity),d.taa,1),characterEdgeAttributes:k.characterEdgeAttributes||g&&("none"===g?d.nmb:p?d.saa:d.qAa)||b.characterEdgeAttributes,characterEdgeColor:a(k.characterEdgeColor||y||b.characterEdgeColor),characterEdgeWidth:q,characterEdgeBlur:p,characterItalic:"italic"===c.fontStyle,characterUnderline:"underline"===c.textDecoration,backgroundColor:a(k.backgroundColor||c.backgroundColor||b.backgroundColor),backgroundOpacity:r(f.n4(k.backgroundOpacity,c.opacity,b.backgroundOpacity),d.taa,1)};}function aa(a,b,f,d,m){var r;b=O(b,f,d,m);k.Xc(b,function(b,k){k!==a[b]&&(r||(r=c.WG(a)),r[b]=k);});return r||a;}function N(a,b,k,f,d,m,r,u){var g;g=a[q.ej];k=A(a[q.ej],b,k,d,ra);b=k.region;a=g.displayAlign;k=k.textAlign;d=g.origin;g=g.extent;b||a||k||d||g?((f=f[b])?f=c.WG(f):a||d||g?(f=c.WG(ma),f.id=Y++):f=c.WG(fa),F(f,m,a,k,d,g,r,u)):f=fa;return f;}function l(a){a=f.de(a);return m.iw(a,0,100)?a:0;}function n(a,c){var b;b=a[a.length-1];if("%"===b)return f.Rr(.01*parseFloat(a),0,1);if("c"===b)return f.Rr(f.de(a)/c,0,1);}function ja(a){for(var b=a.length,k=a[--b].endTime;b--;)k=c.wo(a[b].endTime,k);return k;}function z(c){k.Xc(c,function(b,k){0<=b.toLowerCase().indexOf("color")&&(c[b]=a(k));});}function t(a,k){var f,d,m,r;f=a.pixelAspectRatio;r={mK:0,e8:1,jY:0,$da:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(f=(f||"").split(" "),d=parseFloat(a[0])*(parseFloat(f[0])||1),m=parseFloat(a[1])*(parseFloat(f[1])||1));d=0<d&&0<m?d/m:1280/720;k=k||1280/720;f=d/k;.01<c.NG(k-d)&&(k>=d?(r.mK=(1-f)/2,r.e8=f):b.Ea(!1,"not implemented"));return r;}function T(a){var c,b,k,m,r;if(c=a.cellResolution)if(c=c.split(" "),2<=c.length){b=f.de(c[0]);c=f.de(c[1]);if(0<b&&0<c)return{x:b,y:c};}c=a.extent;if(c&&(c=c.split(" "),2<=c.length)){b=f.de(c[0]);r=f.de(c[1]);if(a=a.pixelAspectRatio)c=a.split(" "),k=f.de(c[0]),m=f.de(c[1]);if(b&&r&&1.5<b*(k||1)/(r*(m||1)))return d.lmb;}return d.kmb;}Y=1;V={before:"top",center:"center",after:"bottom"};M={left:"left",start:"left",center:"center",right:"right",end:"right"};fa={id:Y++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};ma={id:Y++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};U="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");P=U.concat(["style","region"]);ra=["region","textAlign","displayAlign","extent","origin"];ka=/^([0-9]+):([0-9]+):([0-9.]+)$/;Ba=/^br$/i;Fa=/^[0-9]{1,3}%$/;Ea=/^[0-9]/;return function(b,k,m,u,y){var l,ba,n,Q,M,fa,U,V,ka,X,Ba,Fa,Ea,Qa,B,G,dc,Nc,L,Sb,R,Ra,S,Tb,Z,da,ga,pf,He,ea;function I(){try{for(var a;S;)if(ka=S[q.ej],Tb.push({id:Y++,startTime:g(ka.begin,n),endTime:g(ka.end,n),region:N(S,da,fa,V,U,Q,Qa,Nc),textNodes:h(S,ga,pf,Z,fa,U,G,dc,B)}),S=S[q.jG],a=c.gO(),100<a-He){He=Date.now();ea=setTimeout(I,1);return;}}catch(rf){aa({Z:f.u.nO,Sa:f.ne(rf)});return;}ea=setTimeout(F,1);}function F(){var c,b,k,d,m,r,u;function a(a,k){for(var d,m=[],r={},u,g=b.length;g--;)d=b[g],u=d.region.id,r[u]||(r[u]=1,m.unshift(d));(d=c[c.length-1])&&d.endTime==a&&f.Bv(d.blocks,m)?d.endTime=k:c.push({id:Y++,startTime:a,endTime:k,blocks:m});}try{if(!Tb.length){aa({W:!0,entries:[]});return;}f.i0a(Tb);c=[];b=[];k=Tb[0];m=Tb[0].startTime;for(r=1;b.length||k;){for(;!b.length||k&&k.startTime==m;)b.push(k),m=k.startTime,k=Tb[r++];d=ja(b);if(!k||d<=k.startTime)for(a(m,d),m=d,u=b.length;u--;)b[u].endTime<=m&&b.splice(u,1);else a(m,k.startTime),m=k.startTime,b.push(k),k=Tb[r++];}for(r=c.length;r--;)c[r].index=r,c[r].previous=c[r-1],c[r].next=c[r+1];}catch(sf){aa({Z:f.u.nO,Sa:f.ne(sf)});return;}aa({W:!0,entries:c});}function aa(a){setTimeout(function(){l.abort=f.Qe;y(a);},1);}l={abort:function(){ea&&clearTimeout(ea);}};try{ba=b[q.ej];n=p.Yj/(f.de(ba.tickRate)||1);Q=t(ba,k);M=f.Za(ma,{marginLeft:Q.mK,marginTop:Q.jY,marginRight:Q.mK,marginBottom:Q.jY});fa={};U={};V={};Fa=b.head;Ea=b.body;Qa=T(ba);B=1/Qa.y*Q.$da;G=f.Za({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:d.saa,characterEdgeColor:"#000000",characterSize:1},m,{Xq:!0});dc=u||{};Nc={km:0};if(Fa){L=Fa.styling;if(L)for(Ba=L.style;Ba;)ka=Ba[q.ej],z(ka),fa[ka.id]=ka,Ba=Ba[q.jG];Sb=Fa.layout;if(Sb)for(var Sa=Sb.region;Sa;){ka=Sa[q.ej];R=ka.id;X=f.CM(fa[ka.style]);X=f.Za(X,ka);for(Ba=Sa.style;Ba;)f.Za(X,Ba[q.ej]),Ba=Ba[q.jG];z(X);U[R]=X;V[R]=D(X,Q,M,Qa,Nc);Sa=Sa[q.jG];}}Ra=Ea.div;S=Ra.p;Tb=[];Z={};Z=A(Ea[q.ej],Z,fa,U,P);Z=A(Ra[q.ej],Z,fa,U,P);da={};da=A(Ea[q.ej],da,fa,U,ra);da=A(Ra[q.ej],da,fa,U,ra);ga=O(Z,G,dc,B);f.Za(ga,{windowColor:a(dc.windowColor||G.windowColor),windowOpacity:r(f.n4(dc.windowOpacity,G.windowOpacity),d.taa,1),cellResolution:Qa},{Xq:!0});pf={};Ra.p=void 0;Ra[q.tY]=[];}catch(of){aa({Z:f.u.nO,Sa:f.ne(of)});return;}He=c.gO();ea=setTimeout(I,1);return l;};}();d.rmb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};d.qmb={SMALL:.5,MEDIUM:1,LARGE:2};d.taa={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d.pmb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};d.nmb="NONE";d.omb="RAISED";d.mmb="DEPRESED";d.qAa="UNIFORM";d.saa="DROP_SHADOW";d.kmb={x:40,y:19};d.lmb={x:52,y:19};},function(g,d,a){var c,m,k,u,r,y;function b(a){var c;c=a.k1;this.G=a;this.vh=m.Gd.HAVE_NOTHING;this.hC=a.hC;a=new r(this.hC);this.eI=a.create("throughput-location-history",c);this.ws=a.create("respconn-location-history",c);this.js=a.create("respconn-location-history",c);this.KQ=a.create("throughput-tdigest-history",c);this.UP=a.create("throughput-iqr-history",c);this.Pa=null;}function f(a,c,f,d,m){this.fs=new b(m);this.qn=[];this.$Wa=k.time.ea()-Date.now()%864E5;this.cs=null;this.G=m;for(a=0;a<d;++a)this.qn.push(new b(m));}function p(a,b,k){return c.has(a,b)?a[b]:a[b]=k;}function q(a,c){var k;this.G=a;this.fI=c;this.Rsa();this.DH=new b(this.G);this.LH();k=a.d5;k&&(k={Jc:m.Gd.yG,Ba:{Qa:parseInt(k,10),ph:0},Ng:{Qa:0,ph:0},ep:{Qa:0,ph:0}},this.get=function(){return k;});}c=a(6);m=a(12);d=a(20);k=a(5);u=d.LLa;r=a(377).oga;new k.Console("ASEJS_LOCATION_HISTORY","media|asejs");y={Jc:m.Gd.HAVE_NOTHING};b.prototype.zy=function(a,c){this.vh=c;this.eI.add(a);this.KQ.add(a);this.Pa=k.time.ea();};b.prototype.YA=function(a,c){this.UP.set(a,c);};b.prototype.Hs=function(a){this.ws.add(a);};b.prototype.Gs=function(a){this.js.add(a);};b.prototype.Ec=function(){var a,b,f,d,m,r;a=this.eI.Ec();b=this.ws.Ec();f=this.js.Ec();d=this.UP.Ec();m=this.KQ.Ec();if(c.Ma(a)&&c.Ma(b)&&c.Ma(f))return null;r={c:this.vh,t:k.time.J$(this.Pa)};c.Ma(a)||(r.tp=a);c.Ma(b)||(r.rt=b);c.Ma(f)||(r.hrt=f);c.Ma(d)||(r.iqr=d);c.Ma(m)||(r.td=m);return r;};b.prototype.Ud=function(a){var b;b=k.time.now();if(!(a&&c.has(a,"c")&&c.has(a,"t")&&c.has(a,"tp")&&c.isFinite(a.c)&&c.isFinite(a.t))||0>a.c||a.c>m.Gd.yG||a.t>b||!this.eI.Ud(a.tp))return this.vh=m.Gd.HAVE_NOTHING,this.cs=this.Pa=null,this.eI.Ud(null),this.ws.Ud(null),this.js.Ud(null),!1;this.vh=a.c;this.Pa=k.time.eaa(a.t);this.ws.Ud(c.has(a,"rt")?a.rt:null);this.js.Ud(c.has(a,"hrt")?a.hrt:null);c.has(a,"iqr")&&this.UP.Ud(a.iqr);c.has(a,"td")&&this.KQ.Ud(a.td);return!0;};b.prototype.get=function(){var a,b,f,d,r,g;a=this.G;if(c.Ma(this.Pa))return y;b=(k.time.ea()-this.Pa)/1E3;b>a.wWa?this.vh=m.Gd.HAVE_NOTHING:b>a.XVa&&(this.vh=Math.min(this.vh,m.Gd.xu));a=this.eI.get();f=this.ws.get();d=this.js.get();r=this.UP.get();g=this.KQ.get();b={Yk:b,Jc:this.vh,Ba:a,Ng:f,ep:d,fp:r,Sh:g};a&&(b.rMb=u.prototype.Raa.bind(a));f&&(b.JLb=u.prototype.Raa.bind(f));d&&(b.lJb=u.prototype.Raa.bind(d));return b;};b.prototype.time=function(){return this.Pa;};b.prototype.gC=function(){this.get();k.time.ea();};f.prototype.Hi=function(){return((k.time.ea()-this.$Wa)/1E3/3600/(24/this.qn.length)|0)%this.qn.length;};f.prototype.Ec=function(){var a;a={g:this.fs.Ec(),h:this.qn.map(function(a){return a.Ec();})};c.Ma(this.cs)||(a.f=k.time.J$(this.cs));return a;};f.prototype.Ud=function(a){var b,f;if(!this.fs.Ud(a.g))return!1;b=this.qn.length;f=!1;this.qn.forEach(function(c,k){f=!c.Ud(a.h[k*a.h.length/b|0])||f;});this.cs=c.has(a,"f")?k.time.eaa(a.f):null;return f;};f.prototype.zy=function(a,c){this.fs.zy(a,c);this.qn[this.Hi()].zy(a,c);this.cs=null;};f.prototype.YA=function(a,c){this.fs.YA(a,c);this.qn[this.Hi()].YA(a,c);};f.prototype.Hs=function(a){this.fs.Hs(a);this.qn[this.Hi()].Hs(a);};f.prototype.Gs=function(a){this.fs.Gs(a);this.qn[this.Hi()].Gs(a);};f.prototype.fail=function(a){this.cs=a;};f.prototype.get=function(){var a,b;if(!c.Ma(this.cs)){if((k.time.ea()-this.cs)/1E3<this.G.WVa)return{Jc:m.Gd.HAVE_NOTHING,wq:!0};this.cs=null;}a=this.qn[this.Hi()].get();b=this.fs.get();a=a.Jc>=b.Jc?a:b;a.wq=!1;return a;};f.prototype.time=function(){return this.fs.time();};f.prototype.gC=function(a){this.fs.gC(a+": global");this.qn.forEach(function(b,k,f){c.Ma(b.time())||(k=24*k/f.length,b.gC(a+":  "+((10>k?"0":"")+k+"00")+"h"));});};q.prototype.sma=function(a,c){var b;b=this.G;a=p(this.Xu,a,{});return p(a,c,new f(0,0,0,b.pna||4,b));};q.prototype.LH=function(){var a,c;a=k.storage.get("lh");c=k.storage.get("gh");a&&this.l2(a);c&&this.RYa(c);};q.prototype.n1=function(){var a;a={};c.jd(this.Xu,function(b,k){c.jd(b,function(c,b){p(a,k,{})[b]=c.Ec();},this);},this);return a;};q.prototype.RYa=function(a){this.DH.Ud(a);};q.prototype.l2=function(a){var b,k;b=null;k=this.G;c.jd(a,function(a,d){c.jd(a,function(a,m){var r;r=new f(0,0,0,k.pna||4,k);r.Ud(a)?(p(this.Xu,d,{})[m]=r,b=!0):c.Ma(b)&&(b=!1);},this);},this);return c.Ma(b)?!0:b;};q.prototype.save=function(){var a;a=this.n1();k.storage.set("lh",a);k.storage.set("gh",this.DH.Ec());this.fI&&this.fI.vca(this.DH.Ec());};q.prototype.Rsa=function(a){a?(c.has(this.Xu,a)&&delete this.Xu[a],this.FP==a&&(this.cy=this.FP="",this.fk=null)):(this.Xu={},this.cy=this.FP="",this.fk=null);};q.prototype.hX=function(a){this.FP=a;this.fk=null;};q.prototype.eX=function(a){this.cy=a;this.fk=null;};q.prototype.NP=function(){c.Ma(this.fk)&&(this.fk=this.sma(this.FP,this.cy));return this.fk;};q.prototype.zy=function(a,c){this.NP().zy(a,c);this.DH.zy(a,c);};q.prototype.YA=function(a,c){a&&a.Hj&&a.ti&&a.Ij&&(this.NP().YA(a,c),this.DH.YA(a,c));};q.prototype.Hs=function(a){this.NP().Hs(a);};q.prototype.Gs=function(a){this.NP().Gs(a);};q.prototype.fail=function(a,c){this.sma(a,this.cy).fail(c);};q.prototype.get=function(a,b){var k,f,d,r;a=(a=this.Xu[a])?a[this.cy]:null;k=null;if(a&&(k=a.get(),k.Jc>m.Gd.HAVE_NOTHING))return k;if(!1===b)return y;f=k=null;d=!1;r=null;c.jd(this.Xu,function(a){c.jd(a,function(a,c){var b;if(!d||c==this.cy){b=a.get();b&&(!f||f<=b.Jc)&&(!r||f<b.Jc||r<a.time())&&(f=b.Jc,d=c==this.cy,r=a.time(),k=b);}},this);},this);return k?k:y;};q.prototype.gC=function(){c.jd(this.Xu,function(a,b){c.jd(a,function(a,c){a.gC(b+":"+c);});});};g.T=q;},function(g,d,a){var q;function b(){}function f(a,b){this.yn=a;void 0!==b?(q(b<=a.co,"require remain_sec <= chunk.sec but has "+b+" and "+a.co),this.wi=b):this.wi=a.co;}function p(a){void 0===a&&(a=[]);this.fh=[];this.Nf=this.bj=0;for(var c in a)this.add(a[c],void 0);}q=a(11).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.fm=function(){return new f(this.yn,this.wi);};p.prototype.constructor=p;p.prototype.add=function(a,b){a=new f(a,b);this.fh.push(a);this.Nf+=a.wi;this.bj+=a.yn.tt()*a.wi;};p.prototype.fm=function(){var a,b;a=new p(void 0);for(b in this.fh)a.add(this.fh[b].yn,this.fh[b].wi);return a;};p.prototype.$o=function(){try{return this.fh[0];}catch(c){}};p.prototype.IAa=function(a){var c;for(q(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.$o())throw new b();if(a<this.$o().wi){c=this.$o().yn.tt()*a;this.$o().wi-=a;this.Nf-=a;this.bj-=c;a=0;}else c=this.fh.shift(),this.Nf-=c.wi,this.bj-=c.yn.tt()*c.wi,a-=c.wi;}};p.prototype.pnb=function(a){var k;q(0<=a,"unexpected play_y_kb: y="+a);for(var c=0;0<a;){if(void 0===this.$o())throw new b();if(a<this.$o().wi*this.$o().yn.tt()){k=a/this.$o().yn.tt();this.$o().wi-=k;this.Nf-=k;this.bj-=a;c+=k;a=0;}else k=this.fh.shift(),this.Nf-=k.wi,this.bj-=k.yn.tt()*k.wi,c+=k.wi,a-=k.yn.tt()*k.wi;}return c;};g.T={Qea:p,YHa:b};},function(g,d,a){(function(){var V5i,h,F,D,O,aa,N,l,n,ja,z,t,T,Y,V,M,fa,ma,A0Q;function f(a,c,b){var d5i;d5i=2;while(d5i!==5){switch(d5i){case 1:return n(a,c);break;case 9:return n(a,c);break;d5i=5;break;case 2:a=ja(b.Wf,a*b.z$);d5i=1;break;}}}V5i=2;function A(a,c,b,k){var N5i,Q0Q;N5i=2;while(N5i!==1){Q0Q="play";Q0Q+="in";Q0Q+="g";switch(N5i){case 2:return Q0Q===a.K3?y(a,c,b,k):u(a,b,k);break;}}}while(V5i!==4){A0Q="1";A0Q+="S";A0Q+="IYbZr";A0Q+="N";A0Q+="JCp9";switch(V5i){case 2:h=a(6),F=a(12),D=a(43),O=a(5),aa=a(383),N=D.console,l=D.assert,n=D.mkb,ja=D.Q1a,z=D.dD,t=D.Vp,T=D.gpa,Y=D.PC,V=a(65).Kca,M=a(372),fa=a(48),ma=aa.ZSa;g.T={STARTING:function(a,b,f){var g5i,j0Q;g5i=2;while(g5i!==1){j0Q="his";j0Q+="t";j0Q+="oric";j0Q+="al";switch(g5i){case 2:return j0Q===a.P8?k(a,b,f):a.mI?c(a,f):m(a,b,f);break;}}},BUFFERING:A,REBUFFERING:A,PLAYING:y,PAUSED:y};A0Q;V5i=4;break;}}function c(a,c){var n5i,b,k,m,r,u,g,u0Q,S0Q,i0Q,P0Q,J0Q;n5i=2;while(n5i!==8){u0Q="no";u0Q+="_suitable_st";u0Q+="ream";S0Q="De";S0Q+="layT";S0Q+="ar";S0Q+="get";i0Q="Bi";i0Q+="t";i0Q+="ra";i0Q+="te";P0Q="V";P0Q+="M";P0Q+="A";P0Q+="F";J0Q="no_val";J0Q+="i";J0Q+="d_";switch(n5i){case 2:b=a.NE&&a.uya,b=b&&c.filter(function(a){var Y5i;Y5i=2;while(Y5i!==1){switch(Y5i){case 4:return 668>a.Ac||1<=a.Ac;break;Y5i=1;break;case 2:return 110>=a.Ac&&0<a.Ac;break;}}}).length==c.length,k=null,m=!1,r=!1,u=!1,g=c.length-1;n5i=1;break;case 5:u=[J0Q],!m&&b&&u.push(P0Q),m||b||u.push(i0Q),r||u.push(S0Q),k.reason=u.join("");n5i=4;break;case 3:h.Ma(k)&&(k=q(c[0],a),k.reason=u0Q);return k;break;case 1:n5i=0<=g&&(b?c[g].Ac>=a.NE:c[g].O>=a.It)&&!(m=c[g],k=q(m,a),r=f(m.O,k.yt,a),u=d(k.yt,a),k.tz=r,r=r<u,m=b?m.Ac>=a.NE&&m.Ac<=a.uya:m.O>=a.It&&m.O<=a.Aw,u=r&&m)?5:3;break;case 4:g--;n5i=1;break;}}}function d(a,c){var G3v=V5ii;var F5i,b,U0Q,R0Q,f5i,Q5i;F5i=2;while(F5i!==9){U0Q="si";U0Q+="g";U0Q+="m";U0Q+="o";U0Q+="id";R0Q="l";R0Q+="o";R0Q+="g";switch(F5i){case 2:G3v.W0Q(1);f5i=G3v.o0Q(12,100012);G3v.b0Q(8);Q5i=G3v.o0Q(8,981,27);a=z(a,0,f5i)/Q5i;F5i=1;break;case 1:F5i=0===c.xF.lastIndexOf(R0Q,0)?5:3;break;case 5:b=c.aDa[c.xF];return b&&2==b.length?1E3*(b[0]+b[1]*Math.log(1+a)):c.kp;break;case 3:return 0===c.xF.lastIndexOf(U0Q,0)?(b=c.aDa[c.xF])&&2==b.length?1E3*(b[0]+b[1]*V(a)):c.kp:c.kp;break;}}}function k(a,b,k){var t5i,f,M0Q,h0Q;t5i=2;while(t5i!==7){M0Q="hi";M0Q+="st_";M0Q+="bi";M0Q+="trat";M0Q+="e";h0Q="v";h0Q+="b";switch(t5i){case 1:t5i=void 0===f?5:4;break;case 2:f=O.storage.get(h0Q);t5i=1;break;case 4:a=new t();a.Ap=T(k.reverse(),function(a){var P5i;P5i=2;while(P5i!==1){switch(P5i){case 2:return a.O<=f;break;case 4:return a.O<f;break;P5i=1;break;}}})||k[0];a.reason=M0Q;return a;break;case 5:return a.mI?c(a,k):m(a,b,k);break;}}}function q(a,c){var y5i,k,b,Y0Q,p0Q;y5i=2;while(y5i!==12){Y0Q="his";Y0Q+="t_through";Y0Q+="put";p0Q="hist_";p0Q+="t";p0Q+="d";p0Q+="i";p0Q+="gest";switch(y5i){case 7:y5i=(k=h.na(c.$W)&&0<=c.$W&&100>=c.$W&&!h.U(a)&&!h.Ma(a))?6:14;break;case 14:k?(c=a.Lg(c.$W/100)||b.Ap.Ba,b.yt=c,b.reason=p0Q):b.Ap.Ba&&(c=b.Ap.Ba,b.yt=c,b.reason=Y0Q);return b;break;case 9:a=fa(b.ql,{});y5i=7;break;case 6:a.Lg=M.Vcb(a),k=h.Gb(a.Lg)?!0:!1;y5i=14;break;case 2:b=new t();b.Ap=a;a=b.Ap.Xa||{};b.ql=a.Yk&&a.Sh;b.rm=a.Yk?a.Yk:0;y5i=9;break;}}}function b(a,c){var W5i,b,k;W5i=2;while(W5i!==13){switch(W5i){case 1:b=a.hU,k=Y(b,function(a){var X5i;X5i=2;while(X5i!==1){switch(X5i){case 2:return c<=a.r;break;case 4:return c>=a.r;break;X5i=1;break;}}});W5i=5;break;case 2:W5i=a.hU?1:14;break;case 4:return b[0].d;break;case 3:W5i=-1===k?9:8;break;case 8:V5ii.b0Q(1);a=b[V5ii.N0Q(1,k)];b=b[k];return Math.floor(a.d+(b.d-a.d)*(c-a.r)/(b.r-a.r));break;case 9:return b[b.length-1].d;break;case 14:return a.kp;break;case 5:W5i=0===k?4:3;break;}}}function y(a,c,b,k,f,d){var k5i,U,X,q,p,y,A,I,D,O,aa,n,ba,z,Q,M,P,ja,fa,V,ra,ka,Z1Q,v1Q;function m(a,c,b){var G5i;G5i=2;while(G5i!==1){switch(G5i){case 2:return a.X?a.X.H4(c,b):0;break;case 4:return a.X?a.X.H4(c,b):7;break;G5i=1;break;}}}k5i=2;while(k5i!==27){Z1Q="pl";Z1Q+="ayer missin";Z1Q+="g ";Z1Q+="streamingIndex";v1Q="Must h";v1Q+="ave a";v1Q+="t least one selected s";v1Q+="t";v1Q+="ream";switch(k5i){case 16:U=m(f,O,a.p8),X=m(f,O+U,a.S9);k5i=15;break;case 20:f=T(b.slice(k+1,a.Qca&&aa>=a.dea?b.length:k+2),function(a,c){var U5i;U5i=2;while(U5i!==1){switch(U5i){case 2:return u(a,b[k+c],p,ra,ka,!1);break;case 4:return u(a,b[k%c],p,ra,ka,+6);break;U5i=1;break;}}});k5i=19;break;case 15:(f=T(b.slice(0,k).reverse(),function(a,c){var o5i;o5i=2;while(o5i!==1){switch(o5i){case 2:return u(a,b[Math.max(k-c-2,0)],p,U,X,!0);break;}}}))||(f=b[0]);k5i=19;break;case 9:return r.call(this,b);break;case 3:k5i=z==F.wO.bUa||!f.Ba?9:8;break;case 12:k5i=u(f,b[Math.max(k-1,0)],f,fa,V,!1)?11:17;break;case 2:l(!h.U(k),v1Q);l(h.na(c.dx),Z1Q);q=new t(),p=f=b[k],y=c.buffer.S,A=c.buffer.hf,I=c.buffer.bb,D=c.buffer.jl,O=c.dx,aa=D-A,z=this.QP||F.wO.ci,Q=c.state===F.Fa.dd||c.state===F.Fa.Ci?c.buffer.Bm:0,M=a.q$,P=a.xw?a.xw:1E3,fa=m(f,O,a.o8),V=m(f,O+fa,a.R9);this.Rma||(this.Rma=Math.min(f.O,a.iV));k5i=3;break;case 14:0<a.Rq&&(z=Math.min(z,a.Rq));ba=z-n.aa;k5i=12;break;case 10:ra=m(f,O,a.q8),ka=m(f,O+ra,a.T9);k5i=20;break;case 19:q.Ap=f||p;return q;break;case 17:k5i=f.X&&f.X.length?16:19;break;case 8:f.X&&f.X.length||(f.dda=!0);n=ma.from(c.buffer.X);z=c.buffer.Ts;k5i=14;break;case 11:k5i=k+1<b.length&&g.call(this,aa,I)?10:19;break;}}function g(c,b){var i5i;i5i=2;while(i5i!==1){switch(i5i){case 2:return c>a.ww&&(h.U(this.ow)||this.GU>this.ow||b-this.ow>a.OU&&c>a.V9);break;}}}function u(b,k,f,m,r,u){var t3v=V5ii;var B5i,T,Y,h,X,ma,ka,F,V,ra,aa,Ba,Fa,Ea,z,fa,p,g,t,U,B1Q,r1Q,X1Q,f1Q,q1Q,E1Q,g1Q,a1Q,d1Q,O1Q;B5i=2;while(B5i!==49){B1Q="Second stream unavail";B1Q+="a";B1Q+="ble";r1Q="Se";r1Q+="cond stream un";r1Q+="defined";X1Q="First stre";X1Q+="am has fai";X1Q+="l";X1Q+="ed";f1Q="First stream not in ";f1Q+="ra";f1Q+="n";f1Q+="ge";q1Q="Sec";q1Q+="ond stream has faile";q1Q+="d";E1Q="Second stream ";E1Q+="no";E1Q+="t in range";g1Q="First str";g1Q+="eam una";g1Q+="vailab";g1Q+="le";a1Q="F";a1Q+="ir";a1Q+="st ";a1Q+="s";a1Q+="tream undefined";switch(B5i){case 4:u||h||(b.dda=!0);B5i=3;break;case 51:r=m>b.aV?{result:!0,pib:0,Ov:!0}:{result:!1,pib:0,Ov:!0};B5i=29;break;case 53:B5i=0<V||0<ra?52:51;break;case 3:B5i=!u||!h?9:13;break;case 41:B5i=U?40:50;break;case 52:a:{d1Q=" ";d1Q+=">= frag";d1Q+="ment";d1Q+="sLengt";d1Q+="h: ";O1Q="S";O1Q+="treamin";O1Q+="gIndex: ";T=F.concat(T);Y=aa;t3v.b0Q(0);h=t3v.N0Q(k,V);X=ka;ma=a.pV;ka=a.EX;F=T.ca;V=Math.min(T.length,k+V+ra);ra=T.Vc;aa=T.sizes;t3v.b0Q(1);Ea=t3v.N0Q(Y,z);z=Infinity;fa=U=0;T=T.Vc[0];t3v.b0Q(2);p=t3v.N0Q(1E3,F,p,T);t3v.W0Q(3);T=t3v.o0Q(8,m,0,u);t3v.W0Q(4);u=t3v.N0Q(m,0,8);t3v.W0Q(5);m=t3v.o0Q(F,1E3);k>=V&&N.error(O1Q+k+d1Q+V);Y+=T;0===f&&(Y=0);t3v.b0Q(5);Y*=t3v.o0Q(F,1E3);t3v.b0Q(5);f*=t3v.N0Q(F,1E3);t3v.W0Q(5);ma*=t3v.o0Q(F,1E3);t3v.b0Q(5);X*=t3v.o0Q(F,1E3);for(Ea*=F/1E3;k<V;){Ba=aa[k];Fa=ra[k];if(t<Ba){for(U=Math.max(Ba,r);t<U;){Y=p;t+=aa[fa];++fa;T=ra[fa];p+=T;}if(!ka&&(T=f-Y,T<ma)){r={result:!1,W9:T/(F/1E3),Ov:!1};break a;}t3v.b0Q(1);T=t3v.N0Q(Y,f);}else if(T=Math.max(f-Y,0),T<X&&T<U){r={result:!1,W9:Math.min(T,z)/(F/1E3),Ov:!0};break a;}t3v.b0Q(6);Y+=t3v.N0Q(Ba,u,m,0);f+=Fa;for(t-=Ba;p<Y&&fa<k;){t+=aa[fa];++fa;p+=ra[fa];}++k;if(k>=h&&T>Ea)break;U=T;z=Math.min(T,z);}r={result:!0,W9:z/(F/1E3),Ov:!0};}B5i=29;break;case 13:f=!a.A4||b===f||b.Vb===f.Vb&&d?0:(f=b.Xa)&&f.Ng&&f.Ng.Qa?f.Ng.Qa+a.x4*(f.Ng.ph?Math.sqrt(f.Ng.ph):0):0;h=k,F=n,aa=A+f-y,p=M,z=D-y;t3v.W0Q(1);f=t3v.o0Q(y,I);fa=O;k=n.length;B5i=19;break;case 43:Y||(h=b);T=[];B5i=41;break;case 8:B5i=g>=Math.max(b.aV,b.O*p)&&!b.ODa?7:13;break;case 37:U=ra;B5i=36;break;case 2:g=b.Ba,p=u?a.p6:a.MS,h=b.X&&b.X.length;B5i=1;break;case 39:B5i=0<U?38:37;break;case 31:B5i=!m||m<b.O*a.n8||!X?30:43;break;case 26:a.X9&&(ka=Math.min(ka,z-aa));l(b,a1Q);l(b.xf,g1Q);B5i=23;break;case 5:return!1;break;case 14:return!0;break;case 54:X=Math.min(U,h.X.length-fa),T.push(h.X.EF.subarray(fa,fa+X)),U-=X,fa+=X,fa>=h.X.length&&(fa=0);B5i=36;break;case 40:U=V;B5i=39;break;case 36:B5i=0<U?54:53;break;case 19:u=Q;t=ba,V=m,ra=r,ka=P;r=c.k8a;U=c.oib;m=b.Ba;T=F.length,X=b.X&&b.X.length,Y=h.X&&h.X.length;B5i=26;break;case 38:X=Math.min(U,b.X.length-fa),T.push(b.X.EF.subarray(fa,fa+X)),U-=X,fa+=X,fa>=b.X.length&&(fa=0);B5i=39;break;case 34:l(h.inRange,E1Q);l(!h.$g,q1Q);t3v.W0Q(7);l(t3v.o0Q(T,k));B5i=31;break;case 23:l(b.inRange,f1Q);l(!b.$g,X1Q);l(h,r1Q);l(h.xf,B1Q);B5i=34;break;case 29:r&&r.result&&(q.VJb=r.W9);ja={t$a:r&&r.result,Ba:g,O:b.O};return r&&r.result;break;case 6:B5i=g>=b.O*p?14:13;break;case 30:r=!1;B5i=29;break;case 9:B5i=h&&!a.EX?8:6;break;case 1:B5i=ja&&!ja.t$a&&ja.Ba>=g&&ja.O<=b.O?5:4;break;case 7:return!0;break;case 50:V=Math.max(0,Math.min(V,b.X.length-fa)),ra=Math.max(0,Math.min(ra,h.X.length-fa-V)),0<V&&T.push(b.X.EF.subarray(fa,fa+V)),0<ra&&T.push(h.X.EF.subarray(fa+V,fa+V+ra));B5i=53;break;}}}}function r(a){var l5i,c,b;l5i=2;while(l5i!==4){switch(l5i){case 2:c=new t(),b=this.Rma;c.Ap=T(a,function(a){var p5i;p5i=2;while(p5i!==1){switch(p5i){case 2:return a.O>=b;break;case 4:return a.O<b;break;p5i=1;break;}}})||a[a.length-1];return c;break;}}}function u(a,c,b){var E5i,f,d,m,r,w1Q,s1Q;E5i=2;function k(c){var I5i,b,C1Q;I5i=2;while(I5i!==8){C1Q="b";C1Q+="uff_lt_h";C1Q+="ist";switch(I5i){case 1:I5i=!b||(c.O>f.O?a.nwb:1)*c.O>b?5:4;break;case 2:b=c.Ba;I5i=1;break;case 5:return!1;break;case 4:r=C1Q;m=b;return!0;break;}}}while(E5i!==7){w1Q="no_f";w1Q+="e";w1Q+="a";w1Q+="sible_strea";w1Q+="m";s1Q="Must have at least one ";s1Q+="select";s1Q+="ed stream";switch(E5i){case 2:l(!h.U(b),s1Q);f=c[b],d=f;f.Ba&&(f=T(c.slice(0,Math.min(b+(a.V_a?2:1),c.length)).reverse(),k),void 0===f&&(f=c[0],r=w1Q,m=f.Ba));c=new t();E5i=3;break;case 3:c.Ap=f;d!==f&&(c.reason=r,c.yt=m);return c;break;}}}function m(a,c,k){var z5i,d,m;z5i=2;while(z5i!==3){switch(z5i){case 2:d=new t();m=Math.max(a.It,a.iV,c.Z8?a.F$:-Infinity);d.Ap=T(k.filter(function(c){var c5i;c5i=2;while(c5i!==1){switch(c5i){case 2:return c.O<=a.Aw;break;case 4:return c.O>a.Aw;break;c5i=1;break;}}}).reverse(),function(c){var H5i,k,r,u,L1Q,H1Q,l1Q,t1Q;H5i=2;while(H5i!==7){L1Q="no_historical_";L1Q+="lt";L1Q+="e_minbitrate";H1Q="hist_";H1Q+="tput_l";H1Q+="t_minbitrate";l1Q="lt_hist_l";l1Q+="te_minb";l1Q+="itrate";t1Q="hi";t1Q+="st_";t1Q+="bufftime";switch(H5i){case 2:k={Ba:c.Ba,Yk:c.Xa&&c.Xa.Yk,Sh:c.Xa&&c.Xa.Sh};H5i=1;break;case 3:u?(r=b(a,c),f(c,u,a)<=r?(d.yt=u,k&&(d.rm=k.Yk?k.Yk:0,d.ql=k.Yk&&k.Sh),d.reason=t1Q,k=!0):k=!1):k=!1;H5i=9;break;case 1:H5i=c.O>m?5:8;break;case 5:c=c.O;u=k.Ba;H5i=3;break;case 8:r=k.Ba,c.O<=r?(d.yt=r,k&&(d.rm=k.Yk?k.Yk:0,d.ql=k.Yk?k.Sh:void 0),d.reason=l1Q,k=!0):r?(d.yt=r,k&&(d.rm=k.Yk?k.Yk:0,d.ql=k.Yk?k.Sh:void 0),d.reason=H1Q,k=!1):(d.reason=L1Q,k=!0);H5i=9;break;case 9:return k;break;}}})||k[0];return d;break;}}}}());},function(g){g.T={Ava:function(d){var a;if(d&&0!==d.length){a=[];d.forEach(function(b){var f;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(f=a);});f?f.kM.push(b.Im):a.push({error:b.error,kM:[b.Im]});});return a;}},lua:function(d){var a;a={freeSize:d.Qi,dailyBytesRemaining:d.rD,bytesWritten:d.hi,time:d.time,duration:d.duration};d.items&&(a.items=d.items.map(function(a){return{key:a.key,operation:a.zf,itemBytes:a.AU,error:a.error};}));return a;},ar:function(d){return d["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(g){g.T={Kha:{code:-1,description:"MediaCache is not supported."},MDb:{code:100,description:"Resource was not found"},eOa:{code:101,description:"Resource Metadata was not found"},KB:{code:102,description:"Read failed",Qm:function(d,a){return{code:this.code,description:d,cause:a};}},jP:{code:200,description:"Daily write limit exceeded"},hB:{code:201,description:"Capacity has been exceeded"},iP:{code:202,description:"Write failed, cause unknown",Qm:function(d,a){return{code:this.code,description:d,cause:a};}},tFb:{code:203,description:"Write failed, cause unknown"},BJa:{code:300,description:"Failed to delete resource",Qm:function(d,a){return{code:this.code,description:d,cause:a};}},Au:{code:900,description:"Invalid partition name"},bNa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},tfa:{code:701,description:"Failed to initialize underlying disk cache."},dOa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(g,d,a){var p,q,c,m;function b(a,c,b){q.call(this,a,c,b);}function f(a,c){q.call(this,a,c,void 0);}a(11);a(20);p=a(85);q=a(744).cPa;c=a(743);a(59);m=a(59).Nla;a(59);b.prototype=Object.create(q.prototype);f.prototype=Object.create(b.prototype);f.prototype.hWa=function(a,b){return"string"===typeof b?c[b]:b?c.reset[a]||c.jtb[a]:c.jtb[a];};f.prototype.$Ba=function(a,c,b,f){return this.Ra(a,c,!1,b,f);};f.prototype.dCa=function(a,c,b,f){return this.Ra(a,c,!0,b,f);};f.prototype.Ra=function(a,c,b,f,d){var m,r,u,g,q,y,A,h,l,n,t,Y,V,M;function k(a){r=m[a];u=r.Hp("traf");if(void 0===u||void 0===u.Ns)return!1;g=u.Hp("tfdt");if(void 0===g)return!1;q=u.Hp("trun");return void 0===q?!1:!0;}if(!this.parse())return!1;m=this.Ic.moof;if(!m||0===m.length)return!1;if(void 0!==a)for(y=a,a=0;a<m.length;++a){if(!k(a))return!1;if(q.fe>y||b&&q.fe===y)break;y-=q.fe;}else if(a=b?m.length-1:0,!k(a))return!1;if(b&&a<m.length-1){A=m[a+1];this.Oj(this.wHb-A.startOffset,A.startOffset);}else!b&&0<a&&this.Oj(r.startOffset,0);A=u.Hp("tfhd");if(void 0===A)return!1;g=u.Hp("tfdt");h=q.fe;l=u.Hp("saiz");n=u.Hp("saio");t=u.Hp(p.Jia);Y=u.Hp("sbgp");if(!(!l&&!n||l&&n))return!1;V=u.Hp("sdtp");if(this.Ic.mdat&&a<this.Ic.mdat.length)M=this.Ic.mdat[a];else if(a!==m.length-1)return!1;void 0===y&&(y=b?q.fe:0);if(q.Ra(u,A,M||this.Kg,c,y,u.Ns,b))q.uS&&(!b&&g&&g.Ra(q.ctb),l&&n&&(l.Ra(q.FF,b),n.Ra(t?0:l.Pba,u.Ns,b)),t&&t.Ra(q.FF,b),V&&V.Ra(q.FF,h,b),Y&&Y.Ra(q.FF,b));else if(!b){if(a===m.length-1)return!1;this.Oj(m[a+1].startOffset-r.startOffset,r.startOffset);}else if(0===q.FF)return!1;f&&(c=this.hWa(this.stream.profile,d))&&q.eqb(u,A,M,b,f,c);b=this.Kg.Ra();f=b.reduce(function(a,c){return a+c.byteLength;},0);b={kg:b,length:f,fA:this.Kg.view.byteLength};q.uS&&!M&&(b.kF=u.Ns+q.kF,b.Xt=q.Xt);return b;};g.T={GO:f,tib:function(a){var c,b;c=new ArrayBuffer(8);b=new DataView(c);b.setUint32(0,a+8);b.setUint32(4,m("mdat"));return c;}};},function(g,d,a){var b,f,p,q,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(73);p=a(11);g=a(47);q=a(380);c=a(94);a=function(a){function k(b,k,f,d,m){f=a.call(this,b,k,f,d,m)||this;c.Jk.call(f,b,k);f.Cc=0;f.Ra||f.Qj();f.gi=!1;return f;}b.__extends(k,a);Object.defineProperties(k.prototype,{Yb:{get:function(){return!1;},enumerable:!0,configurable:!0}});k.prototype.push=function(c){this.Cc+=c.aa;a.prototype.push.call(this,c);};k.prototype.wz=function(){return!this.gi&&!!this.oa.length&&this.oa.every(function(a){return a.wz();});};k.prototype.OC=function(a,c){p.assert(!this.gi);this.gi=this.oa.every(function(b){return b.wz()?b.OC(a,c,void 0,void 0):!1;});return{W:this.gi};};k.prototype.Qpb=function(){this.oa.forEach(function(a){a.eM();});};k.prototype.bA=function(a){q.NN.prototype.bA.call(this,a);};k.prototype.Ph=function(a){q.NN.prototype.Ph.call(this,a);};k.prototype.Si=function(){return this.oa?this.oa[0].Si()+"-"+this.oa[this.oa.length-1].Si():"empty";};k.prototype.toString=function(){return c.Jk.prototype.toString.call(this)+"(aggregate)";};k.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);f(c.Jk.prototype.toJSON.call(this),b);return b;};return k;}(q.NN);d.dB=a;g.Tj(c.Jk,a);},function(g,d,a){var b,f,p,q,c,m,k,u,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(11);g=a(47);f=a(207);p=a(94);q=a(218);c=a(12);m=a(73);k=a(5).Zj;u=a(745);a=a(742);r=function(a){var e1Q;function d(c,b,f,d,m,r,u){var z1Q,g,m1Q,y1Q,n1Q;z1Q=2;while(z1Q!==14){m1Q="1";m1Q+="SI";m1Q+="Y";m1Q+="bZrNJ";m1Q+="Cp9";y1Q="ed";y1Q+="i";y1Q+="t";n1Q="c";n1Q+="a";n1Q+="c";n1Q+="h";n1Q+="e";switch(z1Q){case 4:g=[n1Q,y1Q].filter(function(a,c){var T1Q;T1Q=2;while(T1Q!==1){switch(T1Q){case 2:return[m,f.Ra][c];break;case 4:return[m,f.Ra][c];break;T1Q=1;break;}}});g=g.length?"("+g.join(",")+")":"";void 0===f.responseType&&(f.responseType=f.Ra||k.vc&&!k.vc.pF.Tx?0:1);g=a.call(this,c,b,g,f,d,r,u)||this;p.Jk.call(g,c,f);return g;break;case 2:g=this;m1Q;z1Q=4;break;}}}e1Q=2;while(e1Q!==3){switch(e1Q){case 2:b.__extends(d,a);d.create=function(a,b,m,r,g,p,y){var I1Q,A,h,I,F1Q;I1Q=2;while(I1Q!==18){F1Q="subr";F1Q+="equ";F1Q+="est";switch(I1Q){case 20:return g;break;case 10:g.push(new q.lG(a,m,F1Q,I,g,b,y));I1Q=14;break;case 3:A=Math.ceil(r.aa/r.Nz);p=r.offset;h=r.aa;I1Q=7;break;case 7:g=new f.dB(a,r,g,b,y);I1Q=6;break;case 6:A=Math.ceil(r.aa/A);I1Q=14;break;case 13:I={offset:p,aa:Math.min(h,A),responseType:r.responseType};p+=I.aa;h-=I.aa;I1Q=10;break;case 2:I1Q=1;break;case 4:I1Q=r.Nz&&r.aa>r.Nz?3:19;break;case 14:I1Q=0<h?13:20;break;case 1:I1Q=!b.Rb&&r.Ra&&a.M===c.Da.VIDEO&&k.vc&&k.vc.pF.Tx?5:4;break;case 5:return new u.aHa(a,m,r,g,p,b,y);break;case 19:return new d(a,m,r,g,p,b,y);break;}}};d.prototype.toString=function(){var D1Q;D1Q=2;while(D1Q!==1){switch(D1Q){case 2:return q.lG.prototype.toString.call(this)+":"+p.Jk.prototype.toString.call(this);break;}}};return d;break;}}}(q.lG);d.zY=r;m(a["default"],r.prototype);g.Tj(p.Jk,r,!1);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.Qua=function(a){var b;b={profile:a.spoofedProfile||a.profile,L6:a.max_framerate_value,K6:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,DAa:a.pixelAspectX,EAa:a.pixelAspectY,fl:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile&&(b.QKb=a.profile);return b;};a.x7=function(b,f,d){var g;g=[{},{}];(0===d?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(c,d){b[c].some(function(c,b){return b===f[d]?(g[d]=a.Qua(c),!0):!1;});});return g;};return a;}();d.t_=g;},function(g,d,a){d=a(747);g.T=d;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(126);f=a(214);a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.HBa=function(){15!==this.K.Af(4)||this.K.Af(24);};d.prototype.parse=function(a){if(this.agb(a)&&64===a.llb)switch(this.Dy=this.zBa(),this.HBa(),this.K.Af(4),this.h$a=5===this.Dy||29===this.Dy?5:-1,0<this.h$a&&(this.HBa(),this.Dy=this.zBa(),22===this.Dy&&this.K.Af(4)),this.Dy){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.Ota=this.K.Af(1),(this.s7a=this.K.Af(1))&&this.K.Af(14),this.K.Af(1),this.eT=3===this.Dy?256:23===this.Dy?this.Ota?480:512:this.Ota?960:1024;}this.skip();return!0;};d.prototype.zBa=function(){var a;a=this.K.Af(5);31===a&&(a=32+this.K.Af(6));return a;};d.prototype.agb=function(a){return a.tag===f.Efa.tag;};d.tag=5;return d;}(g.ZY);d.pKa=a;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.llb=this.K.te();this.K.te();this.K.Yf();this.K.te();this.Pn=this.K.rb();this.c1a=this.K.rb();this.Hna();return!0;};f.tag=4;return f;}(a(126).ZY);d.Efa=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var a;this.K.Yf();a=this.K.te();this.Ktb=!!(a&128);this.dUa=!!(a&64);this.zPa=!!(a&32);this.Ktb&&this.K.Yf();this.dUa&&this.K.sW(this.K.te());this.zPa&&this.K.Yf();this.Hna();return!0;};f.tag=3;return f;}(a(126).ZY);d.aga=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});g=a(0);g.__exportStar(a(126),d);g.__exportStar(a(213),d);g.__exportStar(a(212),d);g.__exportStar(a(211),d);g=a(212);b=a(211);a=a(213);d.wD={3:a.aga,4:g.Efa,5:b.pKa};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.K.offset+=6;this.K.Yf();return!0;};return f;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b,f,p,q,c,m,k,u,r,y,A,h,F;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(73);p=a(5);q=a(20);c=a(11);m=a(33);k=a(25);g=a(370);u=a(369);r=a(368);y=a(128);A=a(367);h=a(85);F=a(365);d.console=new p.Console("MP4","media|asejs");a=function(){function a(a,c,b,k,f){this.stream=a;this.yp=b;this.H_a=k;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=f||{};this.Heb=y.Bbb();}a.path=function(a,c){return c.reduce(function(a,c){return a&&a.Ic[c]&&a.Ic[c][0];},a);};a.Bcb=function(a){return a&&a.s4&&-1!==a.s4.indexOf("mcl0")?"mcl0":void 0;};a.L$a=function(a,b){var k;c.assert("mcl0"===a,"Unsupported McClearen brand");k=b.X;a=k.Vc;b=new m.sb(120,1).Ll(k.ca).Vd;for(var f=0,k=k.Zi;f<a.length&&k<b;)k+=a[f++];return f;};a.prototype.parse=function(a){var c;c=this.Zqb();if(!c.done){if(c.iza)return{Nw:!1,I_a:c.iza};d.console.error("Scan error: "+c.error);return{Nw:!1,parseError:c.error||"unknown mp4 scan error"};}c=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+c.offset);this.view=new DataView(c);a=this.imb(a);return a.done?this.H3a():(d.console.error("Parse error: "+a.error),{Nw:!1,parseError:a.error||"unknown mp4 parse error"});};a.prototype.$y=function(a){return k.Cf.$y(this,a);};a.prototype.az=function(a){return k.Cf.az(this,a);};a.prototype.Zqb=function(){var c,k;c=new F.gMa(this.yp,this.H_a?[h.JO,h.IO]:[],this.config&&this.config.pMb||["moof",h.oia],this.config&&this.config.sAa);k=b.__assign(b.__assign({},this.config),{vaa:!1});return new r.JY(a.Sba,c,this.view,d.console,k).parse();};a.prototype.imb=function(a){var c,k,m;c=new F.Gfa(this.view.byteLength);k=Object.create(A.pL.Ic);this.config&&((this.config.rAa||this.config.hFa||this.config.uX)&&f(A.pL.Qba,k),this.config.Jda&&f(A.pL.jvb,k),this.config.hFa&&f(A.pL.iFa,k));m=b.__assign(b.__assign({},this.config),{vaa:!0});this.Kg=new r.JY(k,c,this.view,d.console,m);a=this.Kg.parse(a);a.done&&(this.Ic=this.Kg.Ic);return a;};a.prototype.H3a=function(){var c,b,k,f,d,r;c={Nw:!0};b=a.path(this,["moov"]);k=a.path(b,["trak","mdia","minf","stbl","stsd"]);if(this.config.rAa)if(k)c.La=k.La,c.PLb=k.Ic;else return{Nw:!1,parseError:"Missing sample descriptions"};f=a.path(k,["encv","sinf","schi"]);f&&(f=a.path(f,["tenc"])||a.path(f,[h.Kia]))&&(c.BS={hHb:f.nw,fxa:f.fxa,KJb:!1});if(f=a.path(b,["trak","mdia","mdhd"]))c.ca=f.ca;if(f=a.path(b,["mvex","trex"]))c.uD=f&&f.ld.uD;!c.La&&c.uD&&c.ca&&(c.La=new m.sb(c.uD,c.ca));if(f=a.path(this,["sidx"])){d=a.path(this,[h.JO]);d=d&&d.gjb;r=a.path(this,[h.IO]);r=r&&r.Ag;c.X=f.X;c.Hw=d;c.Ag=r;}if(d=this.Ic.vmaf&&this.Ic.vmaf[0])c.mo=d.mo;if(this.config.Iqb)if(b)this.trim(b.byteOffset+b.byteLength),this.config.uX&&k&&1<k.km&&f&&(c.tk=this.uX(k,f)),void 0===c.tk&&(b=this.Kg.uS?q.vj(this.Kg.Ra()):this.view.buffer,c.tk=[{ez:0,data:b}]);else return{Nw:!1,parseError:"Missing movie box"};c.Nw=!0;c.UV=this.Kg.offset;return c;};a.prototype.trim=function(a){var c;c=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.Kg.trim(a);this.view=new DataView(c);};a.prototype.uX=function(c,b){var k,f,d;k=Object.keys(c.Ic);f=k.filter(function(a){return"encv"!==a;});if(!(2>k.length||f.length===k.length||0===f.length)){k=a.path(this,["ftyp"]);d=a.Bcb(k);if(d)return k=[],this.Kg.Nob(),c.cCa("encv"),k.push({ez:0,li:!1,data:q.vj(this.Kg.Ra())}),this.Kg.Fnb(),c.cCa(f[0]),c=a.L$a(d,b),k.push({ez:c,li:!0,data:q.vj(this.Kg.Ra())}),k;}};a.Sba={};return a;}();d.dPa=a;a.Sba[h.A_]=g["default"];a.Sba[h.B_]=u["default"];},function(g,d,a){var c;function b(a,b,d){this.CD=!1===a;this.vD=a||.01;this.j_=void 0===b?25:b;this.Yea=void 0===d?1.1:d;this.Bg=new c(f);this.reset();}function f(a,c){return a.Ye>c.Ye?1:a.Ye<c.Ye?-1:0;}function p(a,c){return a.Sq-c.Sq;}function q(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.vD:!1);this.L7a=this.config.ratio||.9;this.M7a=this.config.qMb||1E3;this.xV=0;}c=a(779).XRa;b.prototype.reset=function(){this.Bg.clear();this.z9=this.n=0;};b.prototype.size=function(){return this.Bg.size;};b.prototype.nx=function(a){var c;c=[];a?(this.EP(!0),this.Bg.jd(function(a){c.push(a);})):this.Bg.jd(function(a){c.push({Ye:a.Ye,n:a.n});});return c;};b.prototype.summary=function(){return[(this.CD?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.Lg(0),"Q1  = "+this.Lg(.25),"Q2  = "+this.Lg(.5),"Q3  = "+this.Lg(.75),"max = "+this.Lg(1)].join("\n");};b.prototype.push=function(a,c){c=c||1;a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.$la(a[b],c);};b.prototype.gba=function(a){a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this.$la(a[c].Ye,a[c].n);};b.prototype.EP=function(a){var c;if(!(this.n===this.z9||!a&&this.Yea&&this.Yea>this.n/this.z9)){c=0;this.Bg.jd(function(a){a.Sq=c+a.n/2;c=a.mD=c+a.n;});this.n=this.z9=c;}};b.prototype.R$a=function(a){var c,b;if(0===this.size())return null;c=this.Bg.lowerBound({Ye:a});b=null===c.data()?c.lA():c.data();return b.Ye===a||this.CD?b:(c=c.lA())&&Math.abs(c.Ye-a)<Math.abs(b.Ye-a)?c:b;};b.prototype.uC=function(a,c,b){a={Ye:a,n:c,mD:b};this.Bg.sm(a);this.n+=c;return a;};b.prototype.mP=function(a,c,b){c!==a.Ye&&(a.Ye+=b*(c-a.Ye)/(a.n+b));a.mD+=b;a.Sq+=b/2;a.n+=b;this.n+=b;};b.prototype.$la=function(a,c){var b,k,f;b=this.Bg.min();k=this.Bg.max();f=this.R$a(a);f&&f.Ye===a?this.mP(f,a,c):f===b?this.uC(a,c,0):f===k?this.uC(a,c,this.n):this.CD?this.uC(a,c,f.mD):(b=f.Sq/this.n,Math.floor(4*this.n*this.vD*b*(1-b))-f.n>=c?this.mP(f,a,c):this.uC(a,c,f.mD));this.EP(!1);!this.CD&&this.j_&&this.size()>this.j_/this.vD&&this.Ys();};b.prototype.B1a=function(a){var c,b;this.Bg.ck=p;c=this.Bg.upperBound({Sq:a});this.Bg.ck=f;b=c.lA();a=b&&b.Sq===a?b:c.next();return[b,a];};b.prototype.Lg=function(a){var c;c=(Array.isArray(a)?a:[a]).map(this.cYa,this);return Array.isArray(a)?c:c[0];};b.prototype.cYa=function(a){var c,b;if(0!==this.size()){this.EP(!0);this.Bg.min();this.Bg.max();a*=this.n;c=this.B1a(a);b=c[0];c=c[1];return c===b||null===b||null===c?(b||c).Ye:this.CD?a<=b.mD?b.Ye:c.Ye:b.Ye+(a-b.Sq)*(c.Ye-b.Ye)/(c.Sq-b.Sq);}};b.prototype.Ys=function(){var a;if(!this.Hqa){a=this.nx();this.reset();for(this.Hqa=!0;0<a.length;)this.gba(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.EP(!0);this.Hqa=!1;}};q.prototype=Object.create(b.prototype);q.prototype.constructor=q;q.prototype.push=function(a){b.prototype.push.call(this,a);this.M2a();};q.prototype.uC=function(a,c,f){this.xV+=1;b.prototype.uC.call(this,a,c,f);};q.prototype.mP=function(a,c,f){1===a.n&&--this.xV;b.prototype.mP.call(this,a,c,f);};q.prototype.M2a=function(){!("auto"!==this.mode||this.size()<this.M7a)&&this.xV/this.size()>this.L7a&&(this.mode="cont",this.CD=!1,this.vD=this.config.vD||.01,this.Ys());};g.T={TDigest:b,Digest:q};},function(g,d,a){var b,f,p,q,c,m,k,u,r,y;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(49);f=a(6);p=g.Cx;q=a(5);c=q.Zj;m=a(158);k=a(157);u=a(20);g=a(47);r=a(159);y=a(161);a=function(a){function d(b,f,k,d,m,u,g){f=a.call(this,f,k)||this;r.tx.call(f,b,d,m,u,g);y.ux.call(f,b,d);f.lP=b.url||d.url;f.kP=d.responseType;f.hla=d.lX;void 0===f.kP&&(f.kP=c.vc&&!c.vc.pF.Tx?0:1);f.zg=new p();f.zg.on(f,c.Fd.yia,f.jQ);f.zg.on(f,c.Fd.xia,f.gna);f.zg.on(f,c.Fd.zia,f.ina);f.zg.on(f,c.Fd.VG,f.iQ);f.zg.on(f,c.Fd.Ox,f.RH);f.QB=!1;f.sd=!1;f.Ug=!1;return f;}b.__extends(d,a);Object.defineProperties(d.prototype,{active:{get:function(){return this.sd;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{QBa:{get:function(){return this.Ug;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return!this.QB&&5===this.readyState;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zl:{get:function(){return this.QB;},enumerable:!0,configurable:!0}});d.prototype.xc=function(a){r.tx.prototype.xc.call(this,a);this.kc||!this.Dc.ZQ&&this.Yb||(this.kc=k.ah(),this.active&&(this.kc.vA(q.time.ea(),{requestId:this.en(),le:this.xb,type:this.M}),this.Ug&&(this.kc.Dba(q.time.ea()),this.connect&&0<this.$n.length&&this.kc.Hs(this.$n[0]))));};d.prototype.wz=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};d.prototype.OC=function(a){this.gi=a.appendBuffer(this.response,u.Ej(this));return{W:this.gi};};d.prototype.wwa=function(){return this.Zl;};d.prototype.Mw=function(){return c.prototype.open.call(this,this.lP,{start:this.offset,end:this.offset+this.aa-1},this.kP,{},void 0,void 0,this.hla);};d.prototype.abort=function(){var a;if(this.Zl)return!0;a=this.sd;this.kc&&a&&this.kc.xA(q.time.ea(),this.Ug,{requestId:this.en(),le:this.xb,type:this.M});this.QB=!0;this.Ug=this.sd=!1;c.prototype.abort.call(this);this.bT(this,a);return!0;};d.prototype.oc=function(){0!==this.readyState&&7!==this.readyState&&5!==this.readyState&&(this.L.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.zg&&this.zg.clear();c.prototype.oc.call(this);};d.prototype.jQ=function(){var a;a=this.zd||this.nf;m.mu.ah().push(q.time.ea()-a);this.sd||(this.sd=!0,this.rl=this.track.rl(),this.stream.G.eya||this.kc&&this.kc.vA(a,{requestId:this.en(),le:this.xb,type:this.M}),this.dz(this),this.Bk=0,this.El=this.zd);};d.prototype.gna=function(){var a,c,b;a=this.zd;c=this.connect;b=this.$n;m.mu.ah().push(q.time.ea()-a);this.Ug||(this.Ug=!0,this.stream.G.eya&&this.kc&&this.kc.vA(a,{requestId:this.en(),le:this.xb,type:this.M}),this.kc&&this.kc.Dba(),c&&0<b.length&&this.kc&&this.kc.Hs(b[0]),this.cz(this),this.El=a);};d.prototype.ina=function(){var a,c,b;a=this;c=this.zd;b=this.Be-this.Bk;m.mu.ah().push(q.time.ea()-c);this.kc&&(this.kc.yy(b,this.El,c,{requestId:this.en(),le:this.xb,type:this.M}),this.$n&&this.$n.length&&this.$n.forEach(function(c){a.kc.Gs(c);}));this.VD(this);this.El=c;this.Bk=this.Be;};d.prototype.iQ=function(){var a,c,b;a=this;c=this.zd;b=this.Be-this.Bk;m.mu.ah().push(q.time.ea()-c);this.kc&&(0<b&&this.kc.yy(b,this.El,c,{requestId:this.en(),le:this.xb,type:this.M}),this.$n&&this.$n.length&&this.$n.forEach(function(c){a.kc.Gs(c);}),this.kc.xA(c,this.Ug,{requestId:this.en(),le:this.xb,type:this.M}));this.Ug=this.sd=!1;this.zq(this);this.El=c;this.Bk=this.Be;this.oc();};d.prototype.en=function(){var a,c;a=(a=this.stream)?a.toString():this.url;c=this.sR;c&&(a+=",range "+c.start+"-"+c.end);return a;};d.prototype.RH=function(){var a,c,b,k;this.L.warn("AseMediaRequest._onError:",this.toString());a=this.zd;c=this.status;b=this.Gh;k=this.Gj;m.mu.ah().push(q.time.ea()-a);this.complete?this.L.warn("Error on a done request "+this.toString()+", failurecode: "+b):this.Zl?this.L.warn("Error on an aborted request "+this.toString()+", failurecode: "+b):f.na(b)?(this.kc&&this.Dc&&this.Dc.zba&&this.nf&&void 0===c&&this.kc.yy(this.Bk?this.Be-this.Bk:this.Be,this.El?this.El:this.nf,a,{requestId:this.en(),le:this.xb,type:this.M}),this.cT(this)):this.L.warn("ignoring undefined request error (nativecode: "+k+")");};return d;}(c);d.lG=a;g.Tj(r.tx,a,!1);g.Tj(y.ux,a,!1);},function(g,d,a){var b,f,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(73);f=a(218);p=a(161);a=function(a){function c(c,b,f,d,g,q,h){b=a.call(this,c,b,f,d,g,q,h)||this;p.ux.call(b,c,d);return b;}b.__extends(c,a);return c;}(f.lG);d.ON=a;g(p.ux.prototype,a.prototype);},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(5);f=a(20);g=function(){function a(a){this.L=new b.Console("ASEJS","media|asejs","("+a+")");this.I1=[];}a.prototype.In=function(a){this.I1[a]||(this.I1[a]=f.yw(b,this.L,"["+a+"]"));return this.I1[a];};return a;}();d.Rm=new g(0);},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});g=a(47);a=a(160);b=function(){function a(a,b){this.ln=a;this.cC=b.ab;this.Zr=b.tb;}Object.defineProperties(a.prototype,{ab:{get:function(){return void 0!==this.cC?this.cC:this.ln.ab;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tb:{get:function(){return void 0!==this.Zr?this.Zr:this.ln.tb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.ln.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wp:{get:function(){return this.ln.wp;},enumerable:!0,configurable:!0}});a.prototype.tca=function(a){this.Zr=a;};a.prototype.f4=function(){this.Zr=void 0;};return a;}();d.mG=b;g.Tj(a.PN,b);},function(g){function d(a){this.G1=a;this.ze=[];this.rn=!1;this.py=void 0;this.Bh={};}d.prototype.qI=function(a){this.ze.length===this.G1&&this.ze.shift();Array.isArray(a)?this.ze=this.ze.concat(a):this.ze.push(a);this.rn=!0;};d.prototype.jz=function(){return this.ze.length;};d.prototype.xR=function(){var a;a=this.ze;return 0<a.length?a.reduce(function(a,f){return a+f;},0)/this.ze.length:void 0;};d.prototype.UI=function(){var a,b;a=this.ze;if(0<a.length){b=this.xR();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};d.prototype.dm=function(a){var b,f,d;if(this.rn||void 0===this.py)this.py=this.ze.slice(0).sort(function(a,c){return a-c;}),this.Bh={},this.rn=!1;if(void 0===this.Bh[a]){b=this.py;f=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.Bh[a]=f===b.length-1?b[f]:b[f]+d*(b[f+1]-b[f]);}return this.Bh[a];};g.T=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wg=[0,1];},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(2);d.i7=function(a){return a===b.wc.$h.AUDIO?f.u.Mha:f.u.Nha;};d.h0=50;d.bSa=1E3;},function(g,d,a){var f,p,q,c,m,k,u,r,y,A,h,F,D;function b(a,b,f,d,r,u,g,q,p,y,A,h,I,F,l){this.j=a;this.cb=b;this.vz=f;this.Uc=d;this.sq=r;this.G5=u;this.kk=g;this.displayName=q;this.cj=p;this.qA=y;this.profile=A;this.np=h;this.Jkb=I;this.hab=F;this.JK=l;this.type=c.vg.MX;this.Jq=!(!A||A!=k.Ok.AB&&A!=k.Ok.KO);this.og={bcp47:g,trackId:b,downloadableId:d,isImageBased:this.Jq};this.log=m.mg(a,"TimedTextTrack");this.state=D.LO;this.request=this.request.bind(this);}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);p=a(67);q=a(13);c=a(74);m=a(4);k=a(63);u=a(15);r=a(351);y=a(16);A=a(669);h=a(14);F=a(2);(function(a){a[a.LO=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.IG=3]="LOAD_FAILED";}(D||(D={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(c,b){function f(){a.j.state.removeListener(f);a.download().then(c)["catch"](b);}a.state=D.LOADING;a.j.state.value!==h.ib.LOADING?a.download().then(c)["catch"](b):a.j.state.addListener(f);});};b.prototype.Ec=function(){return this.state;};b.prototype.KK=function(){return this.Jkb;};b.prototype.sU=function(){return this.hab;};b.prototype.Yv=function(a,c){var b;b=[];try{this.Jq?b=this.Hf&&this.Hf.Yv(a,c)||[]:this.entries&&(b=this.entries.filter(function(b){var f;f=R([b.startTime,b.endTime]);b=f.next().value;f=f.next().value;return b>=a&&b<=c||b<=a&&a<=f;}));}catch(ba){this.log.error("error in getSubtitles",ba,{start:a,end:c,isImageBased:this.Jq});}return b;};b.prototype.ydb=function(){var a;if(!y.Ub(this.S))try{this.S=this.Jq?(a=this.Yv(0,b.YNa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(aa){this.log.error("exception in getStartPts",aa);}return this.S;};b.prototype.jX=function(a){return this.j.state.value===h.ib.CLOSING||this.j.state.value===h.ib.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.zc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(c,b){a.j.state.value==h.ib.cd?a.Jq?a.Mfb(function(f){f.W?(a.log.info("Loaded image subtitle manager"),c(f)):(a.log.error("Unable to load image subtitles manager",f),a.state=D.IG,b(f));}):a.nsa().then(function(c){return a.tmb(c);}).then(c)["catch"](b):b({W:!1});});};b.prototype.Mfb=function(a){var b,f,k,d,r,u,g,p;function c(k){var A;if(y.Ub(k))if(p||b.jX(b.Cq(b.So,"","image"))){p=!1;b.np.url=b.sq[b.So];f.url=b.np.url;g[k]=(g[k]||0)+1;A=new m.pTa(d,f);A.on("ready",function(){b.Hf=A;a({W:!0,track:b});});A.on("error",function(f){var d;f=Object.assign({W:!1},f);d=b.Cq(b.So,b.np.url,"image");d.details={midxoffset:b.np.offset,midxsize:b.np.length};d.errorstring=f.errorString;g[k]<=q.config.NEa?(b.SS(d,!0,"retry with current cdn"),b.u3(g[k]).then(function(a){b.log.trace("retry timed text download after "+a,b.Cq(b.So,"","image"));c(b.So);})):(b.So=r[u++],b.So?(b.SS(d,!0,"retry with next cdn"),b.u3(g[k]).then(function(a){b.log.trace("retry timed text download after "+a,b.Cq(b.So,"","image"));c(b.So);})):(b.SS(d,!1,"all cdns tried"),a({W:!1,okb:"all cdns failed for image subs",track:b})));});A.start();}else a({W:!1,Zl:!0});else a({W:!1,okb:"cdnId is not defined for image subs downloadUrl"}),b.SS(b.Cq(0,"","image"),!1,"cdnId is undefined");}b=this;f={W0a:!1,profile:this.profile,lL:this.np.offset,hV:this.np.length,Td:this.j.Zb.value||0,bufferSize:q.config.rfb,aMb:{Rc:this.j.qT()}};k=m.mg(this.j,"TimedTextTrack");k.warn=k.trace.bind(k);k.info=k.debug.bind(k);d=A.g6a(this.j,k,this.request);r=(this.G5||[]).filter(function(a){return a.id in b.sq;}).sort(function(a,c){return a.se-c.se;}).map(function(a){return a.id;});u=0;g={};p=!0;this.So=r[u++];c(this.So);};b.prototype.SS=function(a,c,b){a=Object.assign({},a,{XMb:c,status:b});this.j.fireEvent(h.R.OF,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,c){var b;b=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,responseType:p.YT,headers:{},Wb:this.Y6(this.So)};this.j.sK.download(a,function(a){b.log.trace("imgsub: request status "+a.W);a.W?c(null,new Uint8Array(a.content)):c({Z:a.Z,Kc:a.Kc});});};b.prototype.Cq=function(a,c,b){return{currentCdnId:a,url:c,profile:this.profile,dlid:this.Uc,subtitletype:b,bcp47:this.kk,trackId:this.cb,cdnCount:Object.keys(this.sq).length,isImageBased:this.Jq};};b.prototype.Y6=function(a){return(this.G5||[]).find(function(c){return c.id===a;});};b.prototype.nsa=function(){var k,d;function a(a){return f.__awaiter(k,void 0,void 0,function(){var k,m,r,u,g;function f(){for(;;)switch(k){case 0:r=b();m=u.Cq(a.Wb.id,a.url,"text");m.errorstring=a.reason;if(!r||!u.jX(m)){k=1;break;}k=-1;return{value:u.u3(d[r.id]).then(c),done:!0};case 1:return k=-1,{value:Promise.reject({W:!1,Zl:!0}),done:!0};default:return{value:void 0,done:!0};}}k=0;u=this;g={next:function(){return f();},"throw":function(){return f();},"return":function(){throw Error("Not yet implemented");}};n();g[Symbol.iterator]=function(){return this;};return g;});}function c(){return f.__awaiter(k,void 0,void 0,function(){var f,k,m,r,u;function c(){for(;;)switch(f){case 0:k=(m=b())&&r.sq[m.id];if(!m||!k){f=1;break;}d[m.id]=(d[m.id]||0)+1;f=-1;return{value:r.a8a(k,m)["catch"](a),done:!0};case 1:return f=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}f=0;r=this;u={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};n();u[Symbol.iterator]=function(){return this;};return u;});}function b(){return(k.G5||[]).find(function(a){return!!((d[a.id]||0)<q.config.NEa&&k.sq[a.id]);});}k=this;d={};return c();};b.prototype.u3=function(a){return new Promise(function(c){var b;b=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return c(b);},b);});};b.prototype.tmb=function(a){var c,b;c=this;b=this.j.eG;u.Ea(b);return r.smb(a,b.width/b.height,q.config.PEa,q.config.Ada).then(function(a){var b;if(q.config.QEa){b=0;c.entries=a.map(function(a){return Object.assign({},a,{startTime:b,endTime:b+=q.config.QEa});});}else c.entries=a;c.log.trace("Entries parsed",{Length:a.length},c.og);c.state=D.LOADED;return{W:!0,entries:c.entries,track:c};})["catch"](function(a){c.log.error("Unable to parse timed text track",F.uo(a),c.og,{url:a.url});c.state=D.IG;a.reason="parseerror";a.track=c;throw a;});};b.prototype.a8a=function(a,c){var b;b=this;this.log.trace("Downloading",c&&{Wb:c.id},this.Cq(c.id,a,"text"));return new Promise(function(f,k){var d;d={responseType:p.Zva,url:a,track:b,Wb:c,AD:"tt-"+b.kk};b.j.sK.download(d,function(a){a.W?f(a.content):(a.reason="downloadfailed",a.url=d.url,a.track=b,a.Wb=c,k(a));});});};d.gH=b;b.YNa=72E7;b.jka=D;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(8);b.F7=function(){var a;a=f.Qr&&f.Qr.height;return a?1080<=a?1080:720:720;};d.r0=b;},function(g){g.T=function(d,a){switch(d){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,f){return a.apply(this,arguments);};case 3:return function(b,f,d){return a.apply(this,arguments);};case 4:return function(b,f,d,g){return a.apply(this,arguments);};case 5:return function(b,f,d,g,c){return a.apply(this,arguments);};case 6:return function(b,f,d,g,c,m){return a.apply(this,arguments);};case 7:return function(b,f,d,g,c,m,k){return a.apply(this,arguments);};case 8:return function(b,f,d,g,c,m,k,u){return a.apply(this,arguments);};case 9:return function(b,f,d,g,c,m,k,u,r){return a.apply(this,arguments);};case 10:return function(b,f,d,g,c,m,k,u,r,y){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(g,d,a){var p,q,c,m;function b(a,c,b){for(var f=b.next();!f.done;){if((c=a["@@transducer/step"](c,f.value))&&c["@@transducer/reduced"]){c=c["@@transducer/value"];break;}f=b.next();}return a["@@transducer/result"](c);}function f(a,b,f,d){return a["@@transducer/result"](f[d](c(a["@@transducer/step"],a),b));}p=a(818);q=a(816);c=a(815);h();h();n();m="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";g.T=function(a,c,d){"function"===typeof a&&(a=q(a));if(p(d)){for(var k=0,r=d.length;k<r;){if((c=a["@@transducer/step"](c,d[k]))&&c["@@transducer/reduced"]){c=c["@@transducer/value"];break;}k+=1;}return a["@@transducer/result"](c);}if("function"===typeof d["fantasy-land/reduce"])return f(a,c,d,"fantasy-land/reduce");if(null!=d[m])return b(a,c,d[m]());if("function"===typeof d.next)return b(a,c,d);if("function"===typeof d.reduce)return f(a,c,d,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(g){g.T=function(d,a){return Object.prototype.hasOwnProperty.call(a,d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dFb=function(){};d.dP="TransportConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.IY="BookmarkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.rG||(d.rG={});g[g.LPa=0]="PAUSE";g[g.$Ra=1]="RESUME";g[g.Kyb=2]="CAPTIONS_ON";g[g.Jyb=3]="CAPTIONS_OFF";g[g.Lyb=4]="CAPTION_LANGUAGE_CHANGED";g[g.Exb=5]="AUDIO_LANGUAGE_CHANGED";g[g.mCb=6]="NEXT_EP";g[g.tDb=7]="PREV_EP";g[g.Ku=8]="SEEK";g[g.kka=9]="STOP";d.$ea="CastInteractionTrackerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Dx||(d.Dx={});g.eUa="unknown";g.vea="absent";g.Nja="present";g.Error="error";d.iga="ExternalDisplayLogHelperSymbol";},function(g,d,a){var f,p,q;function b(){this.type=f.vx.Mx;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);g=a(97);p=a(140);q=new g.Ux();b.J4=function(){return{isTypeSupported:function(a){var c;try{if(-1==a.toLowerCase().indexOf("codec"))return L.MSMediaKeys.isTypeSupported(a,"video/mp4");c=a.split("|");return 1===c.length?L.MSMediaKeys.isTypeSupported(p.hb.Sp,a):"probably"===b.kda(c[0],c[1]);}catch(k){return!1;}}};};b.RR=function(a,f,k){f=q.format(b.XF,f);if(0===k.length)return f;k=q.format('features="{0}"',k.join());return q.format("{0}|{1}{2}",a,f,k);};b.kda=function(a,b){var c;try{c=L.MSMediaKeys.isTypeSupportedWithFeatures?L.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(u){c="exception";}return c;};d.Nx=b;b.XF='video/mp4;codecs="{0},mp4a";';},function(g,d,a){var f,p,q,c,m,k;function b(a,f,d,m){var r;r=p.Ml.call(this,a,f,d)||this;r.cast=m;r.type=q.ak.MY;a=b.WTa;r.DN[q.rd.eP]=c.Ed.xG+"; "+a;r.DN[q.rd.Lr]=c.Ed.Lr+"; "+a;a=c.Ed.DIa.find(function(a){return r.Ss(k(b.XF,a));});r.DN[q.rd.Ir]=a;return r;}Object.defineProperty(d,"__esModule",{value:!0});f=a(63);p=a(131);q=a(29);g=a(97);c=a(132);m=a(417);k=new g.Ux().format;da(b,p.Ml);b.J4=function(a,c){return(c=b.xCa(c))?{isTypeSupported:c}:a;};b.xCa=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.or=function(a){var f,d;f=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().NFa){d={};if(f)return d[q.Yh.Op]="1.4",d[q.Yh.Gx]="2.2",f().then(function(c){return c===d[a];});f=this.bya(a);f=k(b.XF,c.Ed.xG)+" hdcp="+f;f=this.Ss.bind(this,f);return Promise.resolve(f());}return Promise.resolve(!1);};b.prototype.YD=function(a){return this.DN[a];};b.prototype.fE=function(){var a;a=this;return this.config().NFa?this.or(q.Yh.Gx).then(function(c){return c?Promise.resolve(q.Yh.Gx):a.or(q.Yh.Op).then(function(a){return a?Promise.resolve(q.Yh.Op):Promise.resolve(void 0);});}).then(function(c){return a.hJ(c);}):Promise.resolve(void 0);};b.prototype.Py=function(){var a,c;a=p.Ml.prototype.Py.call(this);c=b.Sva;a[f.$.tZ]=["hev1.2.6.L90.B0",c];a[f.$.uZ]=["hev1.2.6.L93.B0",c];a[f.$.vZ]=["hev1.2.6.L120.B0",c];a[f.$.wZ]=["hev1.2.6.L123.B0",c];a[f.$.xZ]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[f.$.zZ]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[f.$.qO]=["hev1.2.6.L90.B0",c];a[f.$.rO]=["hev1.2.6.L93.B0",c];a[f.$.sO]=["hev1.2.6.L120.B0",c];a[f.$.tO]=["hev1.2.6.L123.B0",c];a[f.$.yZ]=["hev1.2.6.L150.B0","width=3840; height=2160; "+c];a[f.$.AZ]=["hev1.2.6.L153.B0","width=3840; height=2160; "+c];a[f.$.QZ]="hev1.1.6.L90.B0";a[f.$.RZ]="hev1.1.6.L93.B0";a[f.$.SZ]="hev1.1.6.L120.B0";a[f.$.TZ]="hev1.1.6.L123.B0";a[f.$.UZ]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[f.$.VZ]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[f.$.CZ]="hev1.2.6.L90.B0";a[f.$.FZ]="hev1.2.6.L93.B0";a[f.$.IZ]="hev1.2.6.L120.B0";a[f.$.LZ]="hev1.2.6.L123.B0";a[f.$.AG]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.$.BG]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[f.$.EZ]="hev1.2.6.L90.B0";a[f.$.HZ]="hev1.2.6.L93.B0";a[f.$.KZ]="hev1.2.6.L120.B0";a[f.$.NZ]="hev1.2.6.L123.B0";a[f.$.OZ]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.$.PZ]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.R8=function(){p.Ml.prototype.R8.call(this);!b.xCa(this.cast)&&this.Fm.push(m.gj.Lr);};d.afa=b;b.Sva="eotf=smpte2084";b.ZIb="video/mp4;codecs={0}; "+b.Sva;b.WTa="width=3840; height=2160; ";d.NY="CastSDKSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mha="IsTypeSupportedProviderFactorySymbol";d.tja="PlatformIsTypeSupportedSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jka="ThroughputTrackerSymbol";d.u0="ThroughputTrackerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.U_="PboPlaydataFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.l0="SegmentManagerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.x_="MomentObserverFactory";},function(g,d,a){var f,p,q;function b(a,b,f,d){this.ta=a;this.Qs=b;this.Ek=f;this.el=void 0===d?"General":d;this.q4={};}Object.defineProperty(d,"__esModule",{value:!0});f=a(7);p=a(428);q=a(883);b.prototype.toa=function(a,b){this.q4[a]=b;};b.prototype.fatal=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.mv(f.Zh.ALa,a,q.YC(this.Qs,this.ZD(c)));};b.prototype.error=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.mv(f.Zh.ERROR,a,q.YC(this.Qs,this.ZD(c)));};b.prototype.warn=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.mv(f.Zh.y0,a,q.YC(this.Qs,this.ZD(c)));};b.prototype.info=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.mv(f.Zh.c_,a,q.YC(this.Qs,this.ZD(c)));};b.prototype.trace=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.mv(f.Zh.Fka,a,q.YC(this.Qs,this.ZD(c)));};b.prototype.debug=function(a,b){for(var c=1;c<arguments.length;++c);};b.prototype.log=function(a,b){for(var c=1;c<arguments.length;++c);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,f){for(var c=[],k=2;k<arguments.length;++k)c[k-2]=arguments[k];this.mv(a,b,q.YC(this.Qs,this.ZD(c)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.el};};b.prototype.P4=function(a){return new b(this.ta,this.Qs,this.Ek,a);};b.prototype.mv=function(a,b,f){a=new p.Bha(a,this.el,this.ta.Tb(),b,f);b=R(this.Ek.Ek);for(f=b.next();!f.done;f=b.next())f=f.value,f(a);};b.prototype.ZD=function(a){return 0<Object.keys(this.q4).length?[].concat([this.q4],ea(a)):a;};d.KG=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.q0="StringUtilsSymbol";},function(g){var k,u,r,y,A,h;function d(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(k===setTimeout)return setTimeout(a,0);if((k===d||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0);}catch(D){try{return k.call(null,a,0);}catch(O){return k.call(this,a,0);}}}function f(c){if(u===clearTimeout)clearTimeout(c);else if(u!==a&&u||!clearTimeout)try{u(c);}catch(D){try{u.call(null,c);}catch(O){u.call(this,c);}}else u=clearTimeout,clearTimeout(c);}function p(){y&&A&&(y=!1,A.length?r=A.concat(r):h=-1,r.length&&q());}function q(){var a;if(!y){a=b(p);y=!0;for(var c=r.length;c;){A=r;for(r=[];++h<c;)A&&A[h].sF();h=-1;c=r.length;}A=null;y=!1;f(a);}}function c(a,c){this.wab=a;this.jk=c;}function m(){}g=g.T={};try{k="function"===typeof setTimeout?setTimeout:d;}catch(F){k=d;}try{u="function"===typeof clearTimeout?clearTimeout:a;}catch(F){u=a;}r=[];y=!1;h=-1;g.pza=function(a){var f;f=Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)f[k-1]=arguments[k];r.push(new c(a,f));1!==r.length||y||b(q);};c.prototype.sF=function(){this.wab.apply(null,this.jk);};g.title="browser";g.yGb=!0;g.R9a={};g.hGb=[];g.version="";g.QMb={};g.on=m;g.addListener=m;g.once=m;g.Oza=m;g.removeListener=m;g.removeAllListeners=m;g.emit=m;g.cBa=m;g.cob=m;g.listeners=function(){return[];};g.uGb=function(){throw Error("process.binding is not supported");};g.rHb=function(){return"/";};g.SGb=function(){throw Error("process.chdir is not supported");};g.FMb=function(){return 0;};},function(g,d,a){var f,p;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var c=new Uint8Array(a.length/2),b=0;b<c.length;b++)c[b]=this.ZEa(a.substr(2*b,2));return c;};b.prototype.encode=function(a){for(var c="",b=a.length,f=0;f<b;f++)var d=a[f],c=c+("0123456789ABCDEF"[d>>>4]+"0123456789ABCDEF"[d&15]);return c;};b.prototype.VJ=function(a,c){var b;b="";for(c<<=1;c--;)b=("0123456789ABCDEF"[a&15]||"0")+b,a>>>=4;return b;};b.prototype.ZEa=function(a){var c;c=a.length;if(7<c)throw Error("hex to long");for(var b=0,k=0;k<c;k++)b=16*b+f[a[k]];return b;};p=b;p=g.__decorate([a.N()],p);d.FY=p;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ol='video/mp4; codecs="avc1.640028"';d.Ix='audio/mp4; codecs="mp4a.40.5"';d.LKa="DrmTraitsSymbol";},function(g,d,a){var b,f;b=a(451);f=a(1001);d.Fw=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.IE(f.kfb,null,a);};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,c){a.call(this);this.value=b;this.ga=c;this.ks=!0;c&&(this.ks=!1);}b(f,a);f.create=function(a,c){return new f(a,c);};f.Ab=function(a){var c,b;c=a.value;b=a.Mf;a.done?b.complete():(b.next(c),b.closed||(a.done=!0,this.Nb(a)));};f.prototype.fg=function(a){var c,b;c=this.value;b=this.ga;if(b)return b.Nb(f.Ab,0,{done:!1,value:c,Mf:a});a.next(c);a.closed||a.complete();};return f;}(a(10).Ca);d.k0=g;},function(g,d,a){a(10);g=function(){function a(a,b,d){this.kind=a;this.value=b;this.error=d;this.ap="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.vJ=function(a,b,d){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return d&&d();}};a.prototype.accept=function(a,b,d){return a&&"function"===typeof a.next?this.observe(a):this.vJ(a,b,d);};a.M4=function(b){return"undefined"!==typeof b?new a("N",b):a.Bvb;};a.Zqa=function(b){return new a("E",void 0,b);};a.I4=function(){return a.s3a;};a.s3a=new a("C");a.Bvb=new a("N",void 0);return a;}();d.Notification=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);this.ik=[];this.active=!1;}b(f,a);f.prototype.flush=function(a){var c,b;c=this.ik;if(this.active)c.push(a);else{this.active=!0;do if(b=a.lf(a.state,a.Od))break;while(a=c.shift());this.active=!1;if(b){for(;a=c.shift();)a.unsubscribe();throw b;}}};return f;}(a(1016).MSa);d.CY=g;},function(g,d,a){var b,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(79);g=function(a){function d(c,b){a.call(this,c,b);this.ga=c;this.FL=!1;this.HN=b;}b(d,a);d.prototype.Nb=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.FL=!0;a=this.id;c=this.ga;null!=a&&(this.id=this.xW(c,a,b));this.Od=b;this.id=this.id||this.FW(c,this.id,b);return this;};d.prototype.FW=function(a,b,k){void 0===k&&(k=0);return f.root.setInterval(a.flush.bind(a,this),k);};d.prototype.xW=function(a,b,k){void 0===k&&(k=0);return null!==k&&this.Od===k&&!1===this.FL?b:(f.root.clearInterval(b),void 0);};d.prototype.lf=function(a,b){if(this.closed)return Error("executing a cancelled action");this.FL=!1;if(a=this.KP(a,b))return a;!1===this.FL&&null!=this.id&&(this.id=this.xW(this.ga,this.id,null));};d.prototype.KP=function(a){var c,b;c=!1;b=void 0;try{this.HN(a);}catch(u){c=!0;b=!!u&&u||Error(u);}if(c)return this.unsubscribe(),b;};d.prototype.Cs=function(){var a,b,f,d;a=this.id;b=this.ga;f=b.ik;d=f.indexOf(this);this.state=this.HN=null;this.FL=!1;this.ga=null;-1!==d&&f.splice(d,1);null!=a&&(this.id=this.xW(b,a,null));this.Od=null;};return d;}(a(1018).QGa);d.BY=g;},function(g,d,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}g=a(79);d.WIb=b;d.observable=b(g.root);d.vxb=d.observable;},function(g,d,a){g=a(79).root.Symbol;d.BA="function"===typeof g&&"function"===typeof g["for"]?g["for"]("rxSubscriber"):"@@rxSubscriber";d.wxb=d.BA;},function(g,d){d.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.LY="CachedDrmDataSymbol";},function(g,d,a){var p;function b(){}function f(a){a?(this.active=!1,this.O6(a)):this.active=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f.prototype.O6=function(a){this.qc=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,pw:a.licenseContextId,AE:a.licenseId};}):[];this.ia=a.xid;this.I=a.movieId;};f.prototype.qr=function(){return JSON.parse(JSON.stringify({keySessionData:this.qc?this.qc.map(function(a){return{id:a.id,licenseContextId:a.pw,licenseId:a.AE};}):[],xid:this.ia,movieId:this.I}));};d.cZ=f;b.prototype.create=function(){return new f();};b.prototype.load=function(a){return new f(a);};p=b;p=g.__decorate([a.N()],p);d.HKa=p;},function(g,d,a){var b,f,p,q,c,m,k,u,r;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(120);f=a(473);p=a(255);q=a(254);c=a(1038);m=a(1037);k=a(119);u=a(139);r=a(1036);d.eme=new g.ic(function(a){a(f.Mfa).to(p.HKa).Y();a(q.LY).to(c.AIa).Y();a(b.jO).OX(m.Dob);a(k.Lx).ox(function(a){d.AJ.parent=a.zb;return d.AJ.get(k.Lx);});a(u.PG).$f(function(){return function(){return new r.OOa();};});});d.AJ=new g.ZN({IA:!0});},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(258);a(476);g=function(){function a(a){this.yb=a;}a.prototype.when=function(a){this.yb.Ly=a;return new b.TN(this.yb);};a.prototype.FN=function(){this.yb.Ly=function(a){return null!==a.target&&!a.target.b9()&&!a.target.d9();};return new b.TN(this.yb);};return a;}();d.HY=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(257);g=function(){function a(a){this.yb=a;}a.prototype.Wq=function(a){this.yb.Wq=a;return new b.HY(this.yb);};return a;}();d.TN=g;},function(g,d,a){var q;function b(a,b,f,d,r,g,q){this.xN=d;this.lGa=a;this.rza=b;this.I$=f;this.Jgb=g;this.Yw=q;this.split=r;}function f(){this.H={};this.H["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new b("7","8","7","10","1.5",0,0);this.H["7"]=new b("15","16","15","9","4.5",0,0);this.H["15"]=new b("31","32","31","2","5.5",0,0);this.H["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new b("123","124","123","0","0",1,.207298);this.H["124"]=new b("123","124","123","0","0",1,.49076);this.H["64"]=new b("125","126","125","4","40.5",0,0);this.H["125"]=new b("125","126","125","0","0",1,-.00157835);this.H["126"]=new b("125","126","125","0","0",1,.934205);this.H["32"]=new b("65","66","65","135","5.5",0,0);this.H["65"]=new b("127","128","128","4","1272.5",0,0);this.H["127"]=new b("127","128","128","0","0",1,-.510333);this.H["128"]=new b("127","128","128","0","0",1,.18363);this.H["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new b("129","130","129","0","0",1,-.0464542);this.H["130"]=new b("129","130","129","0","0",1,.458833);this.H["16"]=new b("33","34","34","10","2.00001",0,0);this.H["33"]=new b("67","68","67","0","29.5",0,0);this.H["67"]=new b("131","132","131","2","39.5",0,0);this.H["131"]=new b("131","132","131","0","0",1,-.37577);this.H["132"]=new b("131","132","131","0","0",1,.512087);this.H["68"]=new b("133","134","134","140","1.5",0,0);this.H["133"]=new b("133","134","134","0","0",1,.321272);this.H["134"]=new b("133","134","134","0","0",1,-.675396);this.H["34"]=new b("69","70","70","2","24.5",0,0);this.H["69"]=new b("135","136","136","9","28.5",0,0);this.H["135"]=new b("135","136","136","0","0",1,-.0573845);this.H["136"]=new b("135","136","136","0","0",1,-.507455);this.H["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new b("137","138","137","0","0",1,-.503909);this.H["138"]=new b("137","138","137","0","0",1,.450886);this.H["8"]=new b("17","18","17","4","44189.5",0,0);this.H["17"]=new b("35","36","35","2","21.5",0,0);this.H["35"]=new b("71","72","72","0","19.5",0,0);this.H["71"]=new b("139","140","140","9","2.5",0,0);this.H["139"]=new b("139","140","140","0","0",1,.00403497);this.H["140"]=new b("139","140","140","0","0",1,-.312656);this.H["72"]=new b("141","142","141","135","96",0,0);this.H["141"]=new b("141","142","141","0","0",1,-.465786);this.H["142"]=new b("141","142","141","0","0",1,.159633);this.H["36"]=new b("73","74","73","130","89.5",0,0);this.H["73"]=new b("143","144","144","10","4.5",0,0);this.H["143"]=new b("143","144","144","0","0",1,-.76265);this.H["144"]=new b("143","144","144","0","0",1,-.580804);this.H["74"]=new b("145","146","146","10","16.5",0,0);this.H["145"]=new b("145","146","146","0","0",1,.296357);this.H["146"]=new b("145","146","146","0","0",1,-.691659);this.H["18"]=new b("37","38","38","9","1.5",0,0);this.H["37"]=new b("37","38","38","0","0",1,.993951);this.H["38"]=new b("75","76","75","0","19",0,0);this.H["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new b("147","148","147","0","0",1,-.346535);this.H["148"]=new b("147","148","147","0","0",1,-.995745);this.H["76"]=new b("147","148","147","0","0",1,-.99978);this.H["4"]=new b("9","10","9","5","4.5",0,0);this.H["9"]=new b("19","20","19","2","4.5",0,0);this.H["19"]=new b("39","40","39","140","7.5",0,0);this.H["39"]=new b("77","78","78","134","6.5",0,0);this.H["77"]=new b("149","150","150","7","11.5",0,0);this.H["149"]=new b("149","150","150","0","0",1,.729843);this.H["150"]=new b("149","150","150","0","0",1,.383857);this.H["78"]=new b("151","152","151","133","4.5",0,0);this.H["151"]=new b("151","152","151","0","0",1,.39017);this.H["152"]=new b("151","152","151","0","0",1,.0434342);this.H["40"]=new b("79","80","79","133","3.5",0,0);this.H["79"]=new b("153","154","154","8","4.5",0,0);this.H["153"]=new b("153","154","154","0","0",1,-.99536);this.H["154"]=new b("153","154","154","0","0",1,-.00943396);this.H["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new b("155","156","155","0","0",1,.266272);this.H["156"]=new b("155","156","155","0","0",1,.959904);this.H["20"]=new b("41","42","42","10","65.5",0,0);this.H["41"]=new b("81","82","82","7","10.5",0,0);this.H["81"]=new b("157","158","158","2","37.5",0,0);this.H["157"]=new b("157","158","158","0","0",1,-.701873);this.H["158"]=new b("157","158","158","0","0",1,.224649);this.H["82"]=new b("159","160","159","133","9.5",0,0);this.H["159"]=new b("159","160","159","0","0",1,.0955181);this.H["160"]=new b("159","160","159","0","0",1,-.58962);this.H["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new b("161","162","161","135","31",0,0);this.H["161"]=new b("161","162","161","0","0",1,-.229692);this.H["162"]=new b("161","162","161","0","0",1,.88595);this.H["84"]=new b("163","164","164","1","13.5",0,0);this.H["163"]=new b("163","164","164","0","0",1,-.992157);this.H["164"]=new b("163","164","164","0","0",1,.922159);this.H["10"]=new b("21","22","22","4","486",0,0);this.H["21"]=new b("43","44","44","133","4.5",0,0);this.H["43"]=new b("85","86","86","10","4.5",0,0);this.H["85"]=new b("165","166","166","4","158.5",0,0);this.H["165"]=new b("165","166","166","0","0",1,-.127778);this.H["166"]=new b("165","166","166","0","0",1,.955189);this.H["86"]=new b("165","166","166","0","0",1,-.994012);this.H["44"]=new b("87","88","88","1","3.5",0,0);this.H["87"]=new b("167","168","168","135","7",0,0);this.H["167"]=new b("167","168","168","0","0",1,-.997015);this.H["168"]=new b("167","168","168","0","0",1,.400821);this.H["88"]=new b("169","170","169","130","36",0,0);this.H["169"]=new b("169","170","169","0","0",1,-.898638);this.H["170"]=new b("169","170","169","0","0",1,.56129);this.H["22"]=new b("45","46","45","9","2.5",0,0);this.H["45"]=new b("89","90","90","9","1.5",0,0);this.H["89"]=new b("171","172","171","10","10.5",0,0);this.H["171"]=new b("171","172","171","0","0",1,.573986);this.H["172"]=new b("171","172","171","0","0",1,-.627266);this.H["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new b("173","174","173","0","0",1,.925273);this.H["174"]=new b("173","174","173","0","0",1,-.994805);this.H["46"]=new b("91","92","91","136","5.5",0,0);this.H["91"]=new b("175","176","175","10","10.5",0,0);this.H["175"]=new b("175","176","175","0","0",1,.548352);this.H["176"]=new b("175","176","175","0","0",1,-.879195);this.H["92"]=new b("177","178","178","8","14.5",0,0);this.H["177"]=new b("177","178","178","0","0",1,.457305);this.H["178"]=new b("177","178","178","0","0",1,-.998992);this.H["2"]=new b("5","6","5","10","2.5",0,0);this.H["5"]=new b("11","12","11","9","4.5",0,0);this.H["11"]=new b("23","24","24","10","4.00001",0,0);this.H["23"]=new b("47","48","48","133","5.5",0,0);this.H["47"]=new b("93","94","93","3","13.5",0,0);this.H["93"]=new b("179","180","179","138","15.5",0,0);this.H["179"]=new b("179","180","179","0","0",1,.658398);this.H["180"]=new b("179","180","179","0","0",1,-.927007);this.H["94"]=new b("181","182","182","3","15.5",0,0);this.H["181"]=new b("181","182","182","0","0",1,-.111351);this.H["182"]=new b("181","182","182","0","0",1,-.99827);this.H["48"]=new b("95","96","95","7","167",0,0);this.H["95"]=new b("183","184","183","132","36.5",0,0);this.H["183"]=new b("183","184","183","0","0",1,.895161);this.H["184"]=new b("183","184","183","0","0",1,-.765217);this.H["96"]=new b("185","186","186","137","6.00001",0,0);this.H["185"]=new b("185","186","186","0","0",1,-.851095);this.H["186"]=new b("185","186","186","0","0",1,.674286);this.H["24"]=new b("49","50","49","137","5.5",0,0);this.H["49"]=new b("97","98","97","5","23.5",0,0);this.H["97"]=new b("187","188","187","3","28.5",0,0);this.H["187"]=new b("187","188","187","0","0",1,.951654);this.H["188"]=new b("187","188","187","0","0",1,-.993808);this.H["98"]=new b("187","188","187","0","0",1,-.99705);this.H["50"]=new b("187","188","187","0","0",1,-.997525);this.H["12"]=new b("25","26","25","8","8.5",0,0);this.H["25"]=new b("51","52","52","10","4.00001",0,0);this.H["51"]=new b("99","100","100","133","5.5",0,0);this.H["99"]=new b("189","190","190","7","40.5",0,0);this.H["189"]=new b("189","190","190","0","0",1,.151839);this.H["190"]=new b("189","190","190","0","0",1,-.855517);this.H["100"]=new b("191","192","192","133","14.5",0,0);this.H["191"]=new b("191","192","192","0","0",1,.86223);this.H["192"]=new b("191","192","192","0","0",1,.544394);this.H["52"]=new b("101","102","101","135","47.5",0,0);this.H["101"]=new b("193","194","194","4","24.5",0,0);this.H["193"]=new b("193","194","194","0","0",1,.946185);this.H["194"]=new b("193","194","194","0","0",1,.811859);this.H["102"]=new b("193","194","194","0","0",1,-.991561);this.H["26"]=new b("53","54","54","132","6.5",0,0);this.H["53"]=new b("103","104","103","131","85",0,0);this.H["103"]=new b("195","196","196","134","16.5",0,0);this.H["195"]=new b("195","196","196","0","0",1,.0473538);this.H["196"]=new b("195","196","196","0","0",1,-.999401);this.H["104"]=new b("197","198","198","8","15.5",0,0);this.H["197"]=new b("197","198","198","0","0",1,.816129);this.H["198"]=new b("197","198","198","0","0",1,-.99322);this.H["54"]=new b("105","106","105","133","3.5",0,0);this.H["105"]=new b("105","106","105","0","0",1,-.998783);this.H["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new b("199","200","199","0","0",1,.528588);this.H["200"]=new b("199","200","199","0","0",1,-.998599);this.H["6"]=new b("13","14","14","10","7.5",0,0);this.H["13"]=new b("27","28","28","133","7.5",0,0);this.H["27"]=new b("55","56","56","10","4.5",0,0);this.H["55"]=new b("107","108","107","3","3.5",0,0);this.H["107"]=new b("201","202","201","4","17.5",0,0);this.H["201"]=new b("201","202","201","0","0",1,-.379512);this.H["202"]=new b("201","202","201","0","0",1,.15165);this.H["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new b("203","204","203","0","0",1,-.884606);this.H["204"]=new b("203","204","203","0","0",1,.265406);this.H["56"]=new b("109","110","109","136","6.5",0,0);this.H["109"]=new b("205","206","205","4","157.5",0,0);this.H["205"]=new b("205","206","205","0","0",1,-.0142737);this.H["206"]=new b("205","206","205","0","0",1,.691279);this.H["110"]=new b("205","206","205","0","0",1,-.998086);this.H["28"]=new b("57","58","58","138","11.5",0,0);this.H["57"]=new b("111","112","112","2","6.5",0,0);this.H["111"]=new b("207","208","208","7","67.5",0,0);this.H["207"]=new b("207","208","208","0","0",1,.763925);this.H["208"]=new b("207","208","208","0","0",1,-.309645);this.H["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new b("209","210","209","0","0",1,-.306635);this.H["210"]=new b("209","210","209","0","0",1,.556696);this.H["58"]=new b("113","114","113","138","50.5",0,0);this.H["113"]=new b("211","212","212","8","25.5",0,0);this.H["211"]=new b("211","212","212","0","0",1,.508234);this.H["212"]=new b("211","212","212","0","0",1,.793551);this.H["114"]=new b("211","212","212","0","0",1,-.998438);this.H["14"]=new b("29","30","29","134","27.5",0,0);this.H["29"]=new b("59","60","60","7","17.5",0,0);this.H["59"]=new b("115","116","115","135","5.5",0,0);this.H["115"]=new b("213","214","214","137","5.5",0,0);this.H["213"]=new b("213","214","214","0","0",1,.401747);this.H["214"]=new b("213","214","214","0","0",1,.0367503);this.H["116"]=new b("215","216","216","8","5.5",0,0);this.H["215"]=new b("215","216","216","0","0",1,-.0241984);this.H["216"]=new b("215","216","216","0","0",1,-.999046);this.H["60"]=new b("117","118","117","0","12.5",0,0);this.H["117"]=new b("217","218","218","132","5.5",0,0);this.H["217"]=new b("217","218","218","0","0",1,-.997294);this.H["218"]=new b("217","218","218","0","0",1,.210398);this.H["118"]=new b("219","220","219","137","1.5",0,0);this.H["219"]=new b("219","220","219","0","0",1,-.55763);this.H["220"]=new b("219","220","219","0","0",1,.074493);this.H["30"]=new b("61","62","62","133","42.5",0,0);this.H["61"]=new b("119","120","119","135","5.5",0,0);this.H["119"]=new b("221","222","222","4","473.5",0,0);this.H["221"]=new b("221","222","222","0","0",1,-.920213);this.H["222"]=new b("221","222","222","0","0",1,-.17615);this.H["120"]=new b("223","224","224","5","144",0,0);this.H["223"]=new b("223","224","224","0","0",1,-.954295);this.H["224"]=new b("223","224","224","0","0",1,-.382538);this.H["62"]=new b("121","122","121","133","50",0,0);this.H["121"]=new b("225","226","226","10","18.5",0,0);this.H["225"]=new b("225","226","226","0","0",1,-.0731343);this.H["226"]=new b("225","226","226","0","0",1,.755454);this.H["122"]=new b("227","228","228","0","30",0,0);this.H["227"]=new b("227","228","228","0","0",1,.25);this.H["228"]=new b("227","228","228","0","0",1,-.997101);}function p(a,b,f,d,r,g){this.PW=r;this.HR=g;}d=a(288);q=a(176);a={};a.G0a=new function(){this.ZVa=q();this.o=0;this.update=function(){this.o=q()-this.ZVa;};this.getValue=function(){return this.o;};this.type="num";}();a.phb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouAdded"===f.xa[a].context||null;};this.type="cat";}();a.qhb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouLiked"===f.xa[a].context||null;};this.type="cat";}();a.shb=new function(){this.getValue=function(a,b,f){return this.o="billboard"===f.xa[a].context||null;};this.type="cat";}();a.thb=new function(){this.getValue=function(a,b,f){return this.o="continueWatching"===f.xa[a].context||null;};this.type="cat";}();a.rhb=new function(){this.getValue=function(a,b,f){return this.o="bigRow"===f.xa[a].context||null;};this.type="cat";}();a.uhb=new function(){this.getValue=function(a,b,f){return this.o="genre"===f.xa[a].context||null;};this.type="cat";}();a.vhb=new function(){this.getValue=function(a,b,f){return this.o="netflixOriginals"===f.xa[a].context||null;};this.type="cat";}();a.whb=new function(){this.getValue=function(a,b,f){return this.o="newRelease"===f.xa[a].context||null;};this.type="cat";}();a.xhb=new function(){this.getValue=function(a,b,f){return this.o="popularTitles"===f.xa[a].context||null;};this.type="cat";}();a.yhb=new function(){this.getValue=function(a,b,f){return this.o="queue"===f.xa[a].context||null;};this.type="cat";}();a.zhb=new function(){this.getValue=function(a,b,f){return this.o="recentlyAdded"===f.xa[a].context||null;};this.type="cat";}();a.Ahb=new function(){this.getValue=function(a,b,f){return this.o="similars"===f.xa[a].context||null;};this.type="cat";}();a.Chb=new function(){this.getValue=function(a,b,f){return this.o="trendingNow"===f.xa[a].context||null;};this.type="cat";}();a.Dhb=new function(){this.getValue=function(a,b,f){return this.o="ultraHD"===f.xa[a].context||null;};this.type="cat";}();a.Ehb=new function(){this.getValue=function(a,b,f){return this.o="watchAgain"===f.xa[a].context||null;};this.type="cat";}();a.Bhb=new function(){this.getValue=function(a,b,f){return this.o="topTen"===f.xa[a].context||null;};this.type="cat";}();a.p1a=new function(){this.update=function(a){for(var c in a.xa)if("becauseYouAdded"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.q1a=new function(){this.update=function(a){for(var c in a.xa)if("becauseYouLiked"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.t1a=new function(){this.update=function(a){for(var c in a.xa)if("billboard"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.P3a=new function(){this.update=function(a){for(var c in a.xa)if("continueWatching"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.s1a=new function(){this.update=function(a){for(var c in a.xa)if("bigRow"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Cab=new function(){this.update=function(a){for(var c in a.xa)if("genre"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.zkb=new function(){this.update=function(a){for(var c in a.xa)if("netflixOriginals"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Dkb=new function(){this.update=function(a){for(var c in a.xa)if("newRelease"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Gnb=new function(){this.update=function(a){for(var c in a.xa)if("popularTitles"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.fh=new function(){this.update=function(a){for(var c in a.xa)if("queue"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.npb=new function(){this.update=function(a){for(var c in a.xa)if("recentlyAdded"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.atb=new function(){this.update=function(a){for(var c in a.xa)if("similars"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.mvb=new function(){this.update=function(a){for(var c in a.xa)if("trendingNow"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.zvb=new function(){this.update=function(a){for(var c in a.xa)if("ultraHD"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.$wb=new function(){this.update=function(a){for(var c in a.xa)if("watchAgain"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Wub=new function(){this.update=function(a){for(var c in a.xa)if("topTen"===a.xa[c].context){this.o=Math.max(a.xa[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.$3a=new function(){this.getValue=function(a,b,f){return this.o="AR"===f.za||null;};this.type="cat";}();a.a4a=new function(){this.getValue=function(a,b,f){return this.o="AT"===f.za||null;};this.type="cat";}();a.b4a=new function(){this.getValue=function(a,b,f){return this.o="AU"===f.za||null;};this.type="cat";}();a.c4a=new function(){this.getValue=function(a,b,f){return this.o="AZ"===f.za||null;};this.type="cat";}();a.d4a=new function(){this.getValue=function(a,b,f){return this.o="BB"===f.za||null;};this.type="cat";}();a.e4a=new function(){this.getValue=function(a,b,f){return this.o="BE"===f.za||null;};this.type="cat";}();a.f4a=new function(){this.getValue=function(a,b,f){return this.o="BO"===f.za||null;};this.type="cat";}();a.g4a=new function(){this.getValue=function(a,b,f){return this.o="BR"===f.za||null;};this.type="cat";}();a.h4a=new function(){this.getValue=function(a,b,f){return this.o="BS"===f.za||null;};this.type="cat";}();a.i4a=new function(){this.getValue=function(a,b,f){return this.o="CA"===f.za||null;};this.type="cat";}();a.j4a=new function(){this.getValue=function(a,b,f){return this.o="CH"===f.za||null;};this.type="cat";}();a.k4a=new function(){this.getValue=function(a,b,f){return this.o="CL"===f.za||null;};this.type="cat";}();a.l4a=new function(){this.getValue=function(a,b,f){return this.o="CO"===f.za||null;};this.type="cat";}();a.m4a=new function(){this.getValue=function(a,b,f){return this.o="CR"===f.za||null;};this.type="cat";}();a.n4a=new function(){this.getValue=function(a,b,f){return this.o="CW"===f.za||null;};this.type="cat";}();a.o4a=new function(){this.getValue=function(a,b,f){return this.o="DE"===f.za||null;};this.type="cat";}();a.p4a=new function(){this.getValue=function(a,b,f){return this.o="DK"===f.za||null;};this.type="cat";}();a.q4a=new function(){this.getValue=function(a,b,f){return this.o="DM"===f.za||null;};this.type="cat";}();a.r4a=new function(){this.getValue=function(a,b,f){return this.o="DO"===f.za||null;};this.type="cat";}();a.s4a=new function(){this.getValue=function(a,b,f){return this.o="EC"===f.za||null;};this.type="cat";}();a.t4a=new function(){this.getValue=function(a,b,f){return this.o="EE"===f.za||null;};this.type="cat";}();a.u4a=new function(){this.getValue=function(a,b,f){return this.o="EG"===f.za||null;};this.type="cat";}();a.v4a=new function(){this.getValue=function(a,b,f){return this.o="ES"===f.za||null;};this.type="cat";}();a.w4a=new function(){this.getValue=function(a,b,f){return this.o="FI"===f.za||null;};this.type="cat";}();a.x4a=new function(){this.getValue=function(a,b,f){return this.o="FR"===f.za||null;};this.type="cat";}();a.y4a=new function(){this.getValue=function(a,b,f){return this.o="GB"===f.za||null;};this.type="cat";}();a.z4a=new function(){this.getValue=function(a,b,f){return this.o="GF"===f.za||null;};this.type="cat";}();a.A4a=new function(){this.getValue=function(a,b,f){return this.o="GP"===f.za||null;};this.type="cat";}();a.B4a=new function(){this.getValue=function(a,b,f){return this.o="GT"===f.za||null;};this.type="cat";}();a.C4a=new function(){this.getValue=function(a,b,f){return this.o="HK"===f.za||null;};this.type="cat";}();a.D4a=new function(){this.getValue=function(a,b,f){return this.o="HN"===f.za||null;};this.type="cat";}();a.E4a=new function(){this.getValue=function(a,b,f){return this.o="HR"===f.za||null;};this.type="cat";}();a.F4a=new function(){this.getValue=function(a,b,f){return this.o="HU"===f.za||null;};this.type="cat";}();a.G4a=new function(){this.getValue=function(a,b,f){return this.o="ID"===f.za||null;};this.type="cat";}();a.H4a=new function(){this.getValue=function(a,b,f){return this.o="IE"===f.za||null;};this.type="cat";}();a.I4a=new function(){this.getValue=function(a,b,f){return this.o="IL"===f.za||null;};this.type="cat";}();a.J4a=new function(){this.getValue=function(a,b,f){return this.o="IN"===f.za||null;};this.type="cat";}();a.K4a=new function(){this.getValue=function(a,b,f){return this.o="IT"===f.za||null;};this.type="cat";}();a.L4a=new function(){this.getValue=function(a,b,f){return this.o="JE"===f.za||null;};this.type="cat";}();a.M4a=new function(){this.getValue=function(a,b,f){return this.o="JM"===f.za||null;};this.type="cat";}();a.N4a=new function(){this.getValue=function(a,b,f){return this.o="JP"===f.za||null;};this.type="cat";}();a.O4a=new function(){this.getValue=function(a,b,f){return this.o="KE"===f.za||null;};this.type="cat";}();a.P4a=new function(){this.getValue=function(a,b,f){return this.o="KN"===f.za||null;};this.type="cat";}();a.Q4a=new function(){this.getValue=function(a,b,f){return this.o="KR"===f.za||null;};this.type="cat";}();a.R4a=new function(){this.getValue=function(a,b,f){return this.o="LU"===f.za||null;};this.type="cat";}();a.S4a=new function(){this.getValue=function(a,b,f){return this.o="MK"===f.za||null;};this.type="cat";}();a.T4a=new function(){this.getValue=function(a,b,f){return this.o="MU"===f.za||null;};this.type="cat";}();a.U4a=new function(){this.getValue=function(a,b,f){return this.o="MX"===f.za||null;};this.type="cat";}();a.V4a=new function(){this.getValue=function(a,b,f){return this.o="MY"===f.za||null;};this.type="cat";}();a.W4a=new function(){this.getValue=function(a,b,f){return this.o="NI"===f.za||null;};this.type="cat";}();a.X4a=new function(){this.getValue=function(a,b,f){return this.o="NL"===f.za||null;};this.type="cat";}();a.Y4a=new function(){this.getValue=function(a,b,f){return this.o="NO"===f.za||null;};this.type="cat";}();a.Z4a=new function(){this.getValue=function(a,b,f){return this.o="NZ"===f.za||null;};this.type="cat";}();a.$4a=new function(){this.getValue=function(a,b,f){return this.o="OM"===f.za||null;};this.type="cat";}();a.a5a=new function(){this.getValue=function(a,b,f){return this.o="PA"===f.za||null;};this.type="cat";}();a.b5a=new function(){this.getValue=function(a,b,f){return this.o="PE"===f.za||null;};this.type="cat";}();a.c5a=new function(){this.getValue=function(a,b,f){return this.o="PF"===f.za||null;};this.type="cat";}();a.d5a=new function(){this.getValue=function(a,b,f){return this.o="PH"===f.za||null;};this.type="cat";}();a.e5a=new function(){this.getValue=function(a,b,f){return this.o="PK"===f.za||null;};this.type="cat";}();a.f5a=new function(){this.getValue=function(a,b,f){return this.o="PL"===f.za||null;};this.type="cat";}();a.g5a=new function(){this.getValue=function(a,b,f){return this.o="PT"===f.za||null;};this.type="cat";}();a.h5a=new function(){this.getValue=function(a,b,f){return this.o="PY"===f.za||null;};this.type="cat";}();a.i5a=new function(){this.getValue=function(a,b,f){return this.o="QA"===f.za||null;};this.type="cat";}();a.j5a=new function(){this.getValue=function(a,b,f){return this.o="RO"===f.za||null;};this.type="cat";}();a.k5a=new function(){this.getValue=function(a,b,f){return this.o="RS"===f.za||null;};this.type="cat";}();a.l5a=new function(){this.getValue=function(a,b,f){return this.o="RU"===f.za||null;};this.type="cat";}();a.m5a=new function(){this.getValue=function(a,b,f){return this.o="SA"===f.za||null;};this.type="cat";}();a.n5a=new function(){this.getValue=function(a,b,f){return this.o="SE"===f.za||null;};this.type="cat";}();a.o5a=new function(){this.getValue=function(a,b,f){return this.o="SG"===f.za||null;};this.type="cat";}();a.p5a=new function(){this.getValue=function(a,b,f){return this.o="SV"===f.za||null;};this.type="cat";}();a.q5a=new function(){this.getValue=function(a,b,f){return this.o="SX"===f.za||null;};this.type="cat";}();a.r5a=new function(){this.getValue=function(a,b,f){return this.o="TH"===f.za||null;};this.type="cat";}();a.s5a=new function(){this.getValue=function(a,b,f){return this.o="TR"===f.za||null;};this.type="cat";}();a.t5a=new function(){this.getValue=function(a,b,f){return this.o="TT"===f.za||null;};this.type="cat";}();a.u5a=new function(){this.getValue=function(a,b,f){return this.o="TW"===f.za||null;};this.type="cat";}();a.v5a=new function(){this.getValue=function(a,b,f){return this.o="US"===f.za||null;};this.type="cat";}();a.w5a=new function(){this.getValue=function(a,b,f){return this.o="UY"===f.za||null;};this.type="cat";}();a.x5a=new function(){this.getValue=function(a,b,f){return this.o="VE"===f.za||null;};this.type="cat";}();a.y5a=new function(){this.getValue=function(a,b,f){return this.o="ZA"===f.za||null;};this.type="cat";}();a.ppb=new function(){this.getValue=function(a,b,f){return this.o=1===f.qg||null;};this.type="cat";}();a.qpb=new function(){this.getValue=function(a,b,f){return this.o=10===f.qg||null;};this.type="cat";}();a.rpb=new function(){this.getValue=function(a,b,f){return this.o=11===f.qg||null;};this.type="cat";}();a.spb=new function(){this.getValue=function(a,b,f){return this.o=12===f.qg||null;};this.type="cat";}();a.tpb=new function(){this.getValue=function(a,b,f){return this.o=13===f.qg||null;};this.type="cat";}();a.upb=new function(){this.getValue=function(a,b,f){return this.o=14===f.qg||null;};this.type="cat";}();a.vpb=new function(){this.getValue=function(a,b,f){return this.o=15===f.qg||null;};this.type="cat";}();a.wpb=new function(){this.getValue=function(a,b,f){return this.o=16===f.qg||null;};this.type="cat";}();a.xpb=new function(){this.getValue=function(a,b,f){return this.o=17===f.qg||null;};this.type="cat";}();a.ypb=new function(){this.getValue=function(a,b,f){return this.o=18===f.qg||null;};this.type="cat";}();a.zpb=new function(){this.getValue=function(a,b,f){return this.o=19===f.qg||null;};this.type="cat";}();a.Apb=new function(){this.getValue=function(a,b,f){return this.o=2===f.qg||null;};this.type="cat";}();a.Bpb=new function(){this.getValue=function(a,b,f){return this.o=20===f.qg||null;};this.type="cat";}();a.Cpb=new function(){this.getValue=function(a,b,f){return this.o=21===f.qg||null;};this.type="cat";}();a.Dpb=new function(){this.getValue=function(a,b,f){return this.o=22===f.qg||null;};this.type="cat";}();a.Epb=new function(){this.getValue=function(a,b,f){return this.o=23===f.qg||null;};this.type="cat";}();a.Fpb=new function(){this.getValue=function(a,b,f){return this.o=3===f.qg||null;};this.type="cat";}();a.Gpb=new function(){this.getValue=function(a,b,f){return this.o=4===f.qg||null;};this.type="cat";}();a.Hpb=new function(){this.getValue=function(a,b,f){return this.o=5===f.qg||null;};this.type="cat";}();a.Ipb=new function(){this.getValue=function(a,b,f){return this.o=6===f.qg||null;};this.type="cat";}();a.Jpb=new function(){this.getValue=function(a,b,f){return this.o=7===f.qg||null;};this.type="cat";}();a.Kpb=new function(){this.getValue=function(a,b,f){return this.o=8===f.qg||null;};this.type="cat";}();a.Lpb=new function(){this.getValue=function(a,b,f){return this.o=9===f.qg||null;};this.type="cat";}();a.aub=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.cub=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bub=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.dub=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bjb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.ejb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.o4);};this.getValue=function(){return this.o;};this.type="num";}();a.ljb=new function(){this.yH=this.o=0;this.update=function(a){this.yH++;this.o=1*(this.o+a.rowIndex)/this.yH;};this.getValue=function(){return this.o;};this.type="num";}();a.mjb=new function(){this.yH=this.o=0;this.update=function(a){this.yH++;return this.o=1*(this.o+a.o4)/this.yH;};this.getValue=function(){return this.o;};this.type="num";}();a.eob=new function(){this.getValue=function(a,b,f){return this.o=f.o4+b;};this.type="num";}();a.fob=new function(){this.getValue=function(a,b,f){return this.o=f.rowIndex+a;};this.type="num";}();f.prototype.Yw=function(a){return this.Pna(this.H["0"].TCa(a),a);};f.prototype.Pna=function(a,b){return"string"==typeof a?this.Pna(this.H[a].TCa(b),b):a;};b.prototype.TCa=function(a){switch(this.Jgb){case 0:switch(a.kd[this.xN].type){case"cat":return null===a.kd[this.xN].value?this.rza:"missing"==a.kd[this.xN].value?this.I$:this.lGa;case"num":return null===a.kd[this.xN].value?this.I$:a.kd[this.xN].value<this.split?this.lGa:this.rza;default:return this.I$;}case 1:return this.Yw;default:return this.Yw;}};d.declare({oL:["modelSelector","modelone"],h3a:["colEpisodeList",5],$eb:["holdDuration",15E3],FCa:["rowFirst",2],zqa:["colFirst",5],HCa:["rowScroll",2],Aqa:["colScroll",6],Nqb:["rowScrollHorizontal",6],grb:["searchTop",3],tra:["cwFirst",2],qK:["horizontalItemsFocusedMode",3],Kgb:["itemsPerRank",1],Yib:["maxNumberPayloadsStored",10],pya:["maxNumberTitlesScheduled",5],YHb:["enableDetailedLogging",!0],KLb:["rowStep",20],ZGb:["colStep",15],TKb:["pageRows",100],SKb:["pageColumns",75],h$:["maskParamsList",new function(){var a,b;this.h$=[];this.Wi={};this.PW=20;this.HR=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.PW)+"_"+Math.floor(b/this.HR)in this.Wi||(this.Wi[Math.floor(a/this.PW)+"_"+Math.floor(b/this.HR)]=1,this.h$.push(new p(0,0,0,0,Math.floor(a/this.PW),Math.floor(b/this.HR))));}().h$],H:["nodes",new f().H],mapping:["mapping",{ejb:"0",mjb:"1",bjb:"2",ljb:"3",G0a:"4",dub:"5",bub:"6",cub:"7",aub:"8",fob:"9",eob:"10",phb:"11",qhb:"12",shb:"13",thb:"14",rhb:"15",uhb:"16",vhb:"17",whb:"18",xhb:"19",yhb:"20",zhb:"21",Ahb:"22",Bhb:"23",Chb:"24",Dhb:"25",Ehb:"26",ppb:"27",qpb:"28",rpb:"29",spb:"30",tpb:"31",upb:"32",vpb:"33",wpb:"34",xpb:"35",ypb:"36",zpb:"37",Apb:"38",Bpb:"39",Cpb:"40",Dpb:"41",Epb:"42",Fpb:"43",Gpb:"44",Hpb:"45",Ipb:"46",Jpb:"47",Kpb:"48",Lpb:"49",$3a:"50",a4a:"51",b4a:"52",c4a:"53",d4a:"54",e4a:"55",f4a:"56",g4a:"57",h4a:"58",i4a:"59",j4a:"60",k4a:"61",l4a:"62",m4a:"63",n4a:"64",o4a:"65",p4a:"66",q4a:"67",r4a:"68",s4a:"69",t4a:"70",u4a:"71",v4a:"72",w4a:"73",x4a:"74",y4a:"75",z4a:"76",A4a:"77",B4a:"78",C4a:"79",D4a:"80",E4a:"81",F4a:"82",G4a:"83",H4a:"84",I4a:"85",J4a:"86",K4a:"87",L4a:"88",M4a:"89",N4a:"90",O4a:"91",P4a:"92",Q4a:"93",R4a:"94",S4a:"95",T4a:"96",U4a:"97",V4a:"98",W4a:"99",X4a:"100",Y4a:"101",Z4a:"102",$4a:"103",a5a:"104",b5a:"105",c5a:"106",d5a:"107",e5a:"108",f5a:"109",g5a:"110",h5a:"111",i5a:"112",j5a:"113",k5a:"114",l5a:"115",m5a:"116",n5a:"117",o5a:"118",p5a:"119",q5a:"120",r5a:"121",s5a:"122",t5a:"123",u5a:"124",v5a:"125",w5a:"126",x5a:"127",y5a:"128",$wb:"129",npb:"130",atb:"131",fh:"132",P3a:"133",Cab:"134",mvb:"135",Wub:"136",t1a:"137",Dkb:"138",zvb:"139",Gnb:"140",p1a:"141",s1a:"142",q1a:"143",zkb:"144"}],kd:["features",a],TFb:["_modelName","tree"],KFb:["_format","xgboost"],SFb:["_itemsToKeep",5],RFb:["_itemsThreshold",null],HGb:["cacheLimit",20]});g.T={config:d,bKb:p,sHb:b};},function(g,d,a){var f;function b(a){for(var b="",c=0;c<a.length;c++)b+=a[c].nb+"|";return b;}f=a(175);g.T={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},qJb:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},nbb:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===f.HG.wIa){b=a[c].list;break;}return b;},Yab:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===f.HG.qHa){b=a[c].list;break;}return b;},E7a:function(a,f){for(var c=0,d,k,g,r=0,q=a.length-1;r<q;r++){d=b(a[r].list||[]);g=!1;for(var p=0,h=f.length;p<h;p++)if(k=b(f[p].list||[]),k==d){g=!0;break;}if(!1===g){c=r;break;}}return c;},ulb:function(a,b,c){for(var f=[],d,g=0;g<Math.min(b,a.length);g++)d=a[g].list||[],f=f.concat(d.slice(0,c));return f;},tlb:function(a,b){for(var c=[],f,d=0;d<a.length&&(f=a[d].list||[],f=f.slice(0,Math.min(f.length,b)),b-=f.length,c=c.concat(f),0!==b);d++);return c;},slb:function(a,b,c){var f;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(f=a[c]));return f;},pta:function(a){for(var b={},c=a.length,d,k=0;k<c;k++){d=a[k].list||[];for(var g=0;g<d.length;g++)if(d[g].property===f.uB.XG||d[g].property===f.uB.pfa){b.Rh=k;b.uj=g;break;}}void 0===b.Rh&&void 0===b.uj&&(b.Rh=0,b.uj=0);return b;}};},function(g,d,a){var b,f,p,q,c,m,k,u,r,y,A,h,F;Object.defineProperty(d,"__esModule",{value:!0});b=a(67);f=a(9);p=a(13);q=a(28);c=a(26);m=a(34);k=a(4);u=a(2);r=a(18);y=a(115);A=a(8);h=a(88);F=a(22);d.$ub=function(){var g,I,l,n;function a(a){var b,c,f;b="info";c="";f=k.V.get(y.Wx).Nua();a.W||(b="error",c+="&errorcode="+(a.errorCode||""),c+="&errorsubcode="+(a.Z||""));c="type=startup&sev="+b+c+"&"+q.yL(r.Za({},f,{prefix:"m_"}));d("startup",c,g);}function d(a,d,k){k&&I&&p.config.dFa[a]&&(a=l+"&jsoffms="+c.Cg()+"&do="+A.Kk.onLine+"&"+d+"&"+q.yL(r.Za({},n.Fc,{prefix:"im_"})),b.Qd.download({url:k,Qaa:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},AD:"track"},f.Qe));}l="cat=cadplayback&dev="+encodeURIComponent(m.EJa)+"&ep="+encodeURIComponent(m.Sg.gZ)+"&ver="+encodeURIComponent("6.0020.273.011")+"&jssid="+c.nha;k.Uf("TrackingLog");n=k.V.get(F.bf);l=l+("&browserua="+A.$j);n.register(u.J.Wga,function(b){var c,d;g=k.V.get(h.lu).host+p.config.Hda;if(I=p.config.cFa&&!!p.config.Hda){p.config.aw&&(l+="&groupname="+encodeURIComponent(p.config.aw));p.config.VA&&(l+="&uigroupname="+encodeURIComponent(p.config.VA));c=l;d="";m.xo&&(d=r.Za({},m.xo,{prefix:"pi_"}),d="&"+q.yL(d));l=c+d;n.WK(a);}b(f.Tc);});return d;}();},function(g,d,a){var q;function b(a,b,d){b=b||0;d=d||a.length;for(var c,k=b,m,g,q,p={};k<b+d;){c=a[k];m=c&7;g=c>>3;q=f(a,k);if(!q.count)throw Error("Parsing error. bytes length is 0 for the tag "+c);k+=q.count+1;2==m&&(k+=q.value);p[g]={nIb:g,YMb:m,value:q.value,count:q.count,start:q.start};}return p;}function f(a,b){var c,f,d,m,g,p,h,D;c=b+1;f=a.length;d=c;m=0;g={};p=[];D=0;if(c>=f)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+f);for(;d<f;){m++;c=a[d];h=c&127;p.push(h);if(!(c&128))break;d++;}q.Ea(p.length);for(a=p.length-1;0<=a;a--)D<<=7,D|=p[a];g.count=m;g.value=D;g.start=b+m+1;return g;}function p(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(d,"__esModule",{value:!0});q=a(15);d.tgb=function(a){a=b(a);if(1==p(a,1)&&a[5]&&a[5].value)return!0;};d.EJb=function(a){var c;c=b(a);if(2==p(c,1)&&(a=b(a,c[2].start,c[2].value),p(a,5)))return!0;};d.mIb=b;d.OIb=f;d.PIb=p;},function(g){function d(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}g.T=function(a){var q,c,m;function b(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function f(a,f,d){var k;k=c[a];"undefined"!==typeof k?k(f)||b(a,f,d):a!==typeof f&&b(a,f,d);}function g(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===m.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===m.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var d;d=c[b];if("string"===typeof a)f(a,d,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){f(a[b],d[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}q="number boolean string object function symbol".split(" ");c={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!d(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof c[b]||-1<q.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);c[b]=a[b];});}m=Object.keys(c).concat(q);return g(["array","function"],g);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.KLa=function(a){var d,g,c,m;function b(){if(c)for(var a;a=d.pop();)a(m);}function f(a){c=!0;m=a;b();}d=[];return function(c){d.push(c);g||(g=!0,a(f));b();};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ija="PlaygraphMapEncoderSymbol";},function(g,d,a){var f;function b(a,b){var c;c=this;this.Bl=a;this.Kf=b;this.addEventListener=function(a,b,f){return c.Kf.addListener(a,c.Era(a,b),f);};this.removeEventListener=function(a,b){return c.Kf.removeListener(a,c.Era(a,b));};this.getReady=function(){return c.Kf.BT();};this.getXid=function(){return c.gb().Y7();};this.getMovieId=function(){return c.gb().Fcb();};this.getElement=function(){return c.Kf.Zo();};this.isPlaying=function(){return c.gb().zz();};this.isPaused=function(){return c.gb().mgb();};this.isMuted=function(){return c.gb().lgb();};this.isReady=function(){return c.gb().isReady();};this.isBackground=function(){return c.gb().Yfb();};this.setBackground=function(a){return c.gb().qDa(a);};this.startInactivityMonitor=function(){return c.gb().JM();};this.setTransitionTime=function(a){return c.gb().GDa(a);};this.getDiagnostics=function(){return c.gb().Abb();};this.getTextTrackList=function(a){return c.gb().sva(a);};this.getTextTrack=function(){return c.gb().rva();};this.setTextTrack=function(a){return c.gb().EDa(a);};this.getVolume=function(){return c.gb().deb();};this.isEnded=function(){return c.gb().bgb();};this.getBusy=function(){return c.gb().Aj();};this.getError=function(){return c.gb().getError();};this.getCurrentTime=function(){return c.gb().j.Zb.value;};this.getBufferedTime=function(){return c.gb().abb();};this.getSegmentTime=function(){return c.gb().YJ();};this.getDuration=function(){return c.gb().c7();};this.getVideoSize=function(){return c.gb().aeb();};this.getAudioTrackList=function(){return c.gb().Mab();};this.getAudioTrack=function(){return c.gb().Lab();};this.getTimedTextTrackList=function(a){return c.gb().sva(a);};this.getTimedTextTrack=function(){return c.gb().rva();};this.getAdditionalLogInfo=function(){return c.gb().Fab();};this.getTrickPlayFrame=function(a){return c.gb().Rdb(a);};this.getSessionSummary=function(){return c.gb().lva();};this.getTimedTextSettings=function(){return c.gb().HT();};this.setMuted=function(a){return c.gb().lsb(a);};this.setVolume=function(a){return c.gb().Bsb(a);};this.setPlaybackRate=function(a){return c.gb().qsb(a);};this.setAudioTrack=function(a){return c.gb().Xrb(a);};this.setTimedTextTrack=function(a){return c.gb().EDa(a);};this.setTimedTextSettings=function(a){return c.gb().BM(a);};this.prepare=function(){return c.gb().Tw();};this.load=function(){return c.gb().load();};this.close=function(a){return c.apa(c.Kf.close(),a);};this.play=function(){return c.gb().play();};this.pause=function(){return c.gb().pause();};this.seek=function(a){return c.gb().seek(a);};this.engage=function(a,b){return c.apa(c.gb().HJ(a),b);};this.induceError=function(a){return c.gb().Bfb(a);};this.loadCustomTimedTextTrack=function(a,b,f){return c.gb().Ihb(a,b,f);};this.tryRecoverFromStall=function(){return c.gb().mN();};this.addEpisode=function(a){var b,f;c.log.info("Next episode added",a);b=c.cya(a.playbackParams);f="startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.S;if(void 0===f||0>f)f=0;return c.Kf.Q2({id:b.Ih?void 0:c.Kf.NL.iT(a.movieId,f),I:a.movieId,S:f,ul:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.ul,$a:b,TU:a.manifestData,Bl:c.Bl});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=c.cya(a);c.log.info("Playing the next episode",a);return c.Kf.transition(a);};this.playSegment=function(a){return c.gb().onb(a);};this.queueSegment=function(a){return c.gb().Tob(a);};this.updateNextSegmentWeights=function(a,b){return c.gb().lo(a,b);};this.getCropAspectRatio=function(){return c.gb().pbb();};this.getCurrentSegmentId=function(){return c.Kf.tbb();};this.getPlaygraphMap=function(){return c.Kf.AT();};this.setNextSegment=function(a){for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];b=b.map(function(a){return{Db:a.segmentId,sL:a.nextSegmentId};});c.Kf.zM.apply(c.Kf,[].concat(ea(b)));};this.clearNextSegment=function(a){for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];return c.Kf.Z2a.apply(c.Kf,[].concat(ea(b)));};this.updatePlaygraphMap=function(a){return c.Kf.Uvb(a);};this.goToNextSegment=function(a,b){return c.Kf.zva(a,b);};this.getPlaying=function(){return c.isPlaying();};this.getPaused=function(){return c.isPaused();};this.getMuted=function(){return c.isMuted();};this.getEnded=function(){return c.isEnded();};this.getTimedTextVisibility=function(){return c.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!c.gb().HT().visibility;};this.setTimedTextVisibility=function(a){return c.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return c.gb().BM({size:a});};this.setTimedTextBounds=function(a){return c.gb().BM({bounds:a});};this.setTimedTextMargins=function(a){return c.gb().BM({margins:a});};this.setTimedTextVisible=function(a){return c.gb().BM({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.e6=new Map();this.log=f.Uf("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);a(87);b.prototype.gb=function(){return this.Kf.Hh();};b.prototype.Era=function(a,b){var c;this.e6.has(a)||this.e6.set(a,new Map());c=this.e6.get(a);c.has(b)||c.set(b,this.c7a(a,b));return c.get(b);};b.prototype.c7a=function(a,b){var c;c=this;return function(f){return b(Object.assign({},f,{type:a,target:c}));};};b.prototype.apa=function(a,b){return b?a.then(b,b):a;};b.prototype.cya=function(a){a=void 0===a?{}:a;return{mh:a.trackingId,AI:a.authParams,Km:a.sessionParams,De:a.uiLabel,B5:a.disableTrackStickiness,SX:a.uiPlayStartTime,ZS:a.forceAudioTrackId,$S:a.forceTimedTextTrackId,Ih:a.isBranching,cea:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,MD:a.enableTrickPlay,m8:a.heartbeatCooldown,xU:a.isPlaygraph,MU:a.loadImmediately||!1,Eaa:a.pin,PL:a.preciseSeeking,S:a.startPts,ka:a.endPts,ul:a.logicalEnd,Sn:a.packageId,AW:a.renderTimedText,Ysa:a.extraManifestParams};};d.kUa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kja="PlaygraphVideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.yo||(d.yo={});g[g.UG=0]="No";g[g.B0=1]="Yes";g[g.uha=2]="Later";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.zo||(d.zo={});g[g.wia=0]="None";g[g.nga=1]="Fetching";g[g.aZ=2]="Done";g[g.Error=3]="Error";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jja={uBb:"lazy",QAb:"immediate",AJa:"delayedSeamless",Gia:"pauseAtStart",YCb:"pauseAtEnd"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hja="PlaygraphManagerFactorySymbol";},function(g,d,a){var f,p,q,c,m,k;function b(a,b,c){this.re=a;this.wb=b;this.j=c;this.RK=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);p=a(1);q=a(16);c=a(19);m=a(4);k=a(14);b.prototype.u6=function(){this.RK.forEach(function(a){return a();});};b.prototype.xd=function(a,b,c){this.j.xd(this.re(a,b,c));};b.prototype.MT=function(a){this.j.fireEvent(k.R.N$,{pq:a});};b.prototype.r_a=function(a){-1===this.RK.indexOf(a)&&this.RK.push(a);};b.prototype.Upb=function(a){a=this.RK.indexOf(a);0<=a&&this.RK.splice(a,1);};b.prototype.wva=function(a){var b,d;b={};q.Ub(a.code)?b.Z=f.gga(a.code):b.Z=f.u.qh;try{d=a.message.match(/\((\d*)\)/)[1];b.Kc=m.ypa(d,4);}catch(A){}b.Sa=c.ne(a);return b;};a=b;a=g.__decorate([p.N()],a);d.SN=a;},function(g,d,a){var b,f,p,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);f=a(54);p=a(18);q=a(2);c=a(55);m=a(4);k=a(14);d.wLa=function(a,d,g){function r(f){var d,k;d=f.error||f;k=p.ne(d);g.error("uncaught exception",d,k);(d=(d=d&&d.stack)&&b.config.tFa&&b.config.Dvb?0<=d.indexOf(b.config.tFa):void 0)&&(f&&f.stopImmediatePropagation&&f.stopImmediatePropagation(),f=m.V.get(c.Mk),a.xd(f(q.J.aUa)));}function u(){f.Le.removeListener(f.a8,r);a.removeEventListener(k.R.gf,u);a.removeEventListener(k.R.Lj,u);}try{f.Le.addListener(f.a8,r);a.addEventListener(k.R.gf,u);b.config.qfb&&a.addEventListener(k.R.Lj,u);}catch(F){g.error("exception in exception handler ",F);}};},function(g,d,a){var b,f,p,q,c,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);f=a(9);p=a(26);g=a(2);q=a(8);c=a(16);m=a(4);a=a(22);m.V.get(a.bf).register(g.J.Qga,function(a){var m,g,A,h,F;function k(){var a;a=q.Kx(p.Cg()/A);if(a!=F){for(var b=q.wo(a-F,30);b--;)h.push(0);(b=q.Um(h.length-31,0))&&h.splice(0,b);F=a;}h[h.length-1]++;}m=b.config.rib;g=-6/(m-2-2);A=f.Yj;h=[];F=q.Kx(p.Cg()/A);c.Lwa(m)&&(setInterval(k,1E3/m),d.Uxa={ecb:function(){var c;for(var a=[],b=h.length-1;b--;){c=h[b];a.unshift(0>=c?9:1>=c?8:c>=m-1?0:q.ai((c-2)*g+7));}return a;}});a(f.Tc);});},function(g,d,a){var b,f,p,q,c,m,k,u,r,y,A,h,F,D,O,l,N;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(103);p=a(274);q=a(57);c=a(54);m=a(19);k=a(104);u=a(4);r=a(114);y=a(181);A=a(18);h=a(8);F=a(16);D=a(14);O=a(105);l=a(3);N=a(96);d.rRa=function(a){var fa,ma,U,P,ra,ka,Ba,Fa,Ea,Qa,B,G,L,R,S;function d(){if(!ra){Ea=setInterval(ba,1E3);a.rf.appendChild(ma);for(var b=ka.length;b--;)ka[b].addListener(t);for(b=Ba.length;b--;)a.addEventListener(Ba[b],t);ra=!0;}n();}function g(){if(ra){clearInterval(Ea);B=Qa=void 0;a.rf.removeChild(ma);for(var b=ka.length;b--;)ka[b].removeListener(t);for(b=Ba.length;b--;)a.removeEventListener(Ba[b],t);fa.Nb();ra=!1;}}function I(){ra?g():d();}function aa(){var c,d,m,g,I,D,O,aa,N,n,ba,z,Q,M,P,fa,ja,t,ra,V,ka,U,T,X,Y;c=[];c.push({Version:"6.0020.273.011",Esn:f.Fh?f.Fh.Zg:"UNKNOWN",PBCID:a.kD,UserAgent:h.$j});try{m={MovieId:a.I,TrackingId:a.mh,Xid:a.ia+" ("+q.Tp.map(function(a){return a.ia;}).join(", ")+")",Position:k.th(a.Zb.value),Duration:k.th(a.rq.ba(l.ha)),Volume:h.ai(100*a.volume.value)+"%"+(a.muted.value?" (Muted)":"")};if(a.Wa.Ih||a.Wa.xU)m["Segment Position"]=k.th(a.iz()),m.Segment=a.C7();c.push(m);}catch(Fb){}try{g=a.wk?a.wk.bfb():void 0;c.push({"Player state":G[a.state.value],"Buffering state":L[a.un.value]+(F.na(g)?", ETA:"+k.th(g):""),"Rendering state":R[a.Mb.value]});}catch(Fb){}try{I=a.aea()+a.n3();D=a.Lf.value;O=D&&D.stream;aa=a.Ze.value;N=aa&&aa.stream;n=N?N.Ac:"";ba=a.Ee.value?a.Ee.value.Ac:"";z=a.sj.value?a.sj.value.O:"";Q=a.Ee.value?a.Ee.value.O:"";M=a.Wb[b.wc.Da.VIDEO].value;P=a.Wb[b.wc.Da.AUDIO].value;c.push({"Playing bitrate (a/v)":O&&N?O.O+" / "+N.O+" ("+N.width+"x"+N.height+")":"?","Playing/Buffering vmaf":n+"/"+ba,"Buffering bitrate (a/v)":z+" / "+Q,"Buffer size in Bytes (a/v)":a.n3()+" / "+a.aea(),"Buffer size in Bytes":""+I,"Buffer size in Seconds (a/v)":k.th(a.xI())+" / "+k.th(a.AN()),"Current CDN (a/v)":(P?P.name+", Id: "+P.id:"")+" / "+(M?M.name+", Id: "+M.id:"")});}catch(Fb){}try{if(a.Lf.value&&a.Ze.value){fa=a.Lf.value.stream.track;ja=a.Ze.value.stream;t=a.Mi.value;ra=a.Of.value?a.Of.value.uc:[];V=u.V.get(r.MB);ka=V.jJ(ra);U=V.eJ(fa.uc);T=ja.uf;X=/hevc/.test(T)?"hevc":/vp9/.test(T)?"vp9":/h264hpl/.test(T)?"avchigh":"avc";/hdr/.test(T)&&(X+=", hdr");/dv/.test(T)&&(X+=", dv");/prk/.test(T)&&(X+=", prk");c.push({"Audio Track":fa.kk+", Id: "+fa.cb+", Channels: "+fa.fl+", Codec: "+U,"Video Track":"Codec: "+ka+" ("+X+")","Timed Text Track":t?t.kk+", Profile: "+t.profile+", Id: "+t.cb:"none"});}}catch(Fb){}try{Y=a.Ig;c.push({Framerate:(a.Ee.value?a.Ee.value.fT:0).toFixed(3),"Current Dropped Frames":F.na(Qa)?Qa:"","Total Frames":Y.vT(),"Total Dropped Frames":Y.hz(),"Total Corrupted Frames":Y.ZJ(),"Total Frame Delay":Y.wT(),"Main Thread stall/sec":p.Uxa?p.Uxa.ecb().join(" "):"DISABLED",VideoDiag:y.Vxa(a.JT())});}catch(Fb){}try{c.push({Throughput:a.Ba+" kbps"});}catch(Fb){}try{A.Xc(Fa,function(a,b){d=d||{};d[a]=JSON.stringify(b);});d&&c.push(d);}catch(Fb){}return c;}function n(){var a;if(U.selectionStart==U.selectionEnd){a="";aa().forEach(function(b){a=a?a+"\n":"";A.Xc(b,function(c){a+=c+": "+b[c]+"\n";});});U.style.fontSize=k.Rr(h.Kx(ma.clientHeight/60),8,18)+"px";U.value=a;}}function ba(){var b;if(a.Ig){b=a.Ig.hz();b&&(Qa=b-B,B=b,t());}}function t(){fa.Nb(n);}function M(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==O.Nr.eJa||a.keyCode==O.Nr.Q)&&I();}fa=u.V.get(N.NB)(l.ih(1));ma=m.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});U=m.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");P=m.createElement("DIV","position:absolute;top:2px;right:2px");Ba=[D.R.eV,D.R.n1a];Fa={};ka=[a.Zb,a.Wb[b.wc.Da.AUDIO],a.Wb[b.wc.Da.VIDEO],a.Lf,a.Ze,a.sj,a.Ee,a.Mi,a.state,a.un,a.Mb,a.volume,a.muted];this.bsb=function(a){Fa.DFR=a;};G={};G[D.ib.CB]="Not Loaded";G[D.ib.LOADING]="Loading";G[D.ib.cd]="Normal";G[D.ib.CLOSING]="Closing";G[D.ib.CLOSED]="Closed";L={};L[D.Df.cd]="Normal";L[D.Df.Bi]="Pre-buffering";L[D.Df.gka]="Network stalled";R={};R[D.fb.cg]="Waiting for decoder";R[D.fb.dd]="Playing";R[D.fb.Ci]="Paused";R[D.fb.Kr]="Media ended";U.setAttribute("readonly","readonly");ma.appendChild(U);ma.appendChild(P);S=m.createElement("BUTTON",null,"X");S.addEventListener("click",g,!1);P.appendChild(S);c.Le.addListener(c.nz,M);a.addEventListener(D.R.gf,function(){c.Le.removeListener(c.nz,M);g();});A.Za(this,{toggle:I,show:d,mE:g,Zbb:aa});};},function(g,d,a){var f,p,q,c,m,k,u,r,y,A,h,F,D,O,l,N,n,Q,ja,z,t,T,Y,V;function b(a){var b;b=this;this.j=a;this.wb=this.j.wb;this.jb=h.mg(this.j,"MediaPresenterASE");this.Xma=this.Xla=this.Wl=0;this.vd=this.wb.Ja;this.sna=this.ona=this.p2=this.W1=this.VQ=this.rP=this.Y1=!1;this.Ql={type:y.vg.audio,tD:[],mp:[]};this.Ho={type:y.vg.video,tD:[],mp:[]};this.sy={};this.Sma=m.config.Xjb;this.kna=m.z3a(!!this.j.Wa.Ih).oaa;this.F1=m.config.VU;this.pZa=h.V.get(Y.NB)(T.Bb(z.h0));this.tf={};this.Pma={};this.CH={};this.j.tj=!1;this.sy[f.wc.$h.AUDIO]=this.Ql;this.sy[f.wc.$h.VIDEO]=this.Ho;O.Ea(this.F1>this.Sma,"bad config");O.Ea(this.F1>this.kna,"bad config");this.wb.addEventListener(t.bi.WDa,function(){b.jb.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.HH();}catch(ma){b.jb.error("Exception while initializing",ma);b.Tl(F.J.eQa);}});}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);p=a(144);q=a(55);c=a(9);m=a(13);k=a(57);u=a(54);r=a(28);y=a(74);A=a(26);h=a(4);a(87);F=a(2);D=a(437);O=a(15);l=a(104);N=a(19);n=a(44);Q=a(14);ja=a(16);z=a(224);t=a(180);T=a(3);Y=a(96);V=a(133);b.prototype.yua=function(){return this.wb.gz(!1);};b.prototype.vT=function(){return this.wb.vT();};b.prototype.hz=function(){return this.wb.hz();};b.prototype.ZJ=function(){return this.wb.ZJ();};b.prototype.wT=function(){return this.wb.wT();};b.prototype.HH=function(){var a;a=this;this.jb.trace("Video element initializing");this.wb.sourceBuffers.forEach(function(b){return a.TYa(b);});a.yWa(a.j.jw);};b.prototype.yWa=function(a){var d;function b(){function a(){var a,b;b=d.j.mb&&d.j.mb.dw();d.j.Mb.value==Q.fb.cg&&d.j.state.value==Q.ib.cd&&d.j.un.value==Q.Df.cd&&d.j.Rj.value==Q.Df.cd&&!d.j.tj&&b?(d.$0.jt(),a="ensureTimer"):(d.$0.jh(),a="stopTimer");d.jb.trace("Timer update: "+a,{presentingState:d.j.Mb.value,playbackState:d.j.state.value,avBufferingState:d.j.un.value,textBufferingState:d.j.Rj.value,autoplayWasBlocked:d.j.tj,hasLicense:b});}m.config.Dra&&(O.Ea(!d.$0),d.$0=h.V.get(V.OB)(m.config.Dra,function(){var a;a=h.V.get(D.Ffa).J7a(d.j);d.Tl(a.code,a);}),d.j.Mb.addListener(a),d.j.un.addListener(a),d.j.Rj.addListener(a),d.j.state.addListener(a),d.j.addEventListener(Q.R.oxa,a),d.j.addEventListener(Q.R.tj,a),d.j.addEventListener(Q.R.t3,a),a());}function f(){d.by||(f=O.pHa,d.wb.addEventListener(t.bi.pM,d.tf[t.bi.pM]=function(){return d.S1();}),d.wb.addEventListener(t.bi.Bn,d.tf[t.bi.Bn]=function(){return d.NXa();}),d.vd.addEventListener("ended",d.tf.ended=function(){return d.OXa();}),d.vd.addEventListener("play",d.tf.play=function(){return d.SXa();}),d.vd.addEventListener("pause",d.tf.pause=function(){return d.RXa();}),d.vd.addEventListener("playing",d.tf.playing=function(){return d.TXa();}),d.IH=!0,1===d.j.pp.length&&(d.PQ(),d.jb.trace("Video element initialization complete"),d.j.Qc("vi"),m.config.Qra?setTimeout(function(){d.R1=!0;d.rj();},m.config.Qra):d.R1=!0,b(),n.Ab(function(){return d.rj();})));}d=this;a?this.jb.trace("Waiting for needkey"):this.jb.warn("Movie is not DRM protected",{MovieId:this.j.I});this.jb.trace("Waiting for loadedmetadata");a?this.wb.addEventListener(t.bi.txa,function(){d.j.Qc("ld");d.j.mb.sS(""+d.j.I);d.j.fireEvent(Q.R.oxa);}):this.j.mb.sS(""+this.j.I);r.C_a(this.vd,function(){d.jb.trace("Video element event: loadedmetadata");d.j.Qc("md");});u.Le.addListener(u.pl,this.CH[u.pl]=function(){return d.Kla();},c.FB);this.j.addEventListener(Q.R.gf,function(){return d.Kla();},c.FB);this.j.addEventListener(Q.R.KCa,function(){return d.h2();});this.j.addEventListener(Q.R.wl,function(){return d.PXa();});this.j.paused.addListener(function(){return d.rj();});this.j.muted.addListener(function(){return d.x2();});this.j.volume.addListener(function(){return d.x2();});this.j.playbackRate.addListener(function(){return d.HZa();});this.j.un.addListener(function(){return d.rj();});this.j.Rj.addListener(function(){return d.rj();});this.x2();this.Ql.Fk.rDa(function(){return d.fQ();});this.Ho.Fk.rDa(function(){return d.fQ();});this.fQ();n.Ab(function(){f();});};b.prototype.dR=function(a){var b,c;b=this;c=this.sy[a.M];c?c.mp.push(a):O.Ea(!1);this.jVa(a).then(function(){b.fQ();b.j.fireEvent(Q.R.eV);})["catch"](function(a){b.Tl(F.J.jQa,{Sa:N.ne(a)});});};b.prototype.f3=function(a,b,c){c=void 0===c?{}:c;b={M:a.type,yz:!1,response:b,Si:function(){return"header";},get Yb(){return!this.yz;},profile:c.profile};(c=this.sy[a.type])?c.mp.push(b):O.Ea(!1);this.ona||a.type!==f.wc.$h.VIDEO||(this.Ji||this.seek(this.j.S,Q.bg.FG),this.ona=!0);};b.prototype.TYa=function(a){var b;b=this.sy[a.type];if(b)try{b.Fk=a;}catch(ma){this.Tl(F.J.P_,{Z:z.i7(a.type),Sa:N.ne(ma)});}};b.prototype.fQ=function(){this.IH?this.rj():m.config.$_a&&this.PQ();};b.prototype.blb=function(){var a;a=this.j.iz()||0;this.j.Wa.Ih?m.config.D1a&&(a=Math.max(a-(this.wb.bca+1)-m.config.aca,this.j.mb.G7().gd)):(a-=m.config.orb,a=Math.max(a,this.Gma));this.seek(a,Q.bg.ZO);};b.prototype.vL=function(a){var b;b=this;a.mediaType===f.wc.$h.AUDIO?this.rP=!0:a.mediaType===f.wc.$h.VIDEO&&(this.VQ=!0);n.Ab(function(){return b.rj();});};b.prototype.kcb=function(){return{b7a:this.Xla,Bkb:this.Xma};};b.prototype.l5=function(){return this.ama(this.Ql,this.k5())&&this.ama(this.Ho,this.k5());};b.prototype.jVa=function(a){var b;b=this.wb&&this.wb.Sua();return void 0===this.V1&&b&&Infinity!==a.$Ca&&(a=a.$Ca+a.Gm,a>this.j.LL.eW(T.ha)&&(this.j.LL=T.Bb(a)),a>b.eW(T.ha))?(this.V1=b.scale(2),this.oYa()):Promise.resolve();};b.prototype.oYa=function(){var a;a=this;return new Promise(function(b,c){function f(){return d().then(function(a){if(!1===a)return f();});}function d(){return new Promise(function(b){setTimeout(function(){if(!a.Ql.Fk.Aj()&&!a.Ho.Fk.Aj())try{a.wb.ksb(a.V1);a.p2=!1;a.V1=void 0;b(!0);}catch(ka){b(!1);}b(!1);},0);});}a.p2=!0;f().then(function(){b();})["catch"](function(b){a.jb.error("Unable to change the duration",b);c(b);});});};b.prototype.Vmb=function(){var a;a=this;return this.Ji&&this.L3()&&this.l5()?(this.wb.seek(this.Wl),this.Ji=!1,p.EO||this.e2(),n.Ab(function(){return a.rj();}),!0):!1;};b.prototype.Rvb=function(a){var b;if(a<this.Wl){b=this.Wl-a;m.config.Wmb&&a&&b>z.h0&&(a={ElementTime:l.th(a),MediaTime:l.th(this.Wl)},b>z.bSa?(this.jb.error("VIDEO.currentTime became much smaller",a),this.Tl(F.J.uQa)):this.jb.warn("VIDEO.currentTime became smaller",a));}else this.Wl=l.Rr(a,0,this.j.LL.ba(T.ha));};b.prototype.k5=function(){return this.j.Mb.value===Q.fb.cg?this.kna:this.Sma;};b.prototype.L3=function(){return this.j.un.value===Q.Df.cd&&this.j.Rj.value===Q.Df.cd;};b.prototype.rj=function(){var a,b,c;this.j.ZM=A.Cg();if(!this.Re()&&this.IH){a=this.wb.pdb();a||this.PQ();p.EO||this.PQ();this.j.paused.value||!this.l5()||!this.L3()||a||this.Ji?this.g2():this.Y1||this.h2();if(!(a||this.Ji&&this.Vmb()||this.Re())){a=this.wb.gz(!0);b=this.j.Mb.value;c=this.w3a();c===Q.fb.Kr?(this.Wl=this.j.LL.ba(T.ha),this.g2()):c!==Q.fb.cg&&this.Rvb(a);this.hoa();this.xP();this.j.Mb.set(c);c!==Q.fb.cg||b!==Q.fb.dd&&b!==Q.fb.Ci||this.Mlb();}}};b.prototype.w3a=function(){var a,b,c;a=this;b=this.j.Mb.value;c=b;this.Ji?c=Q.fb.cg:this.vd&&this.vd.ended?b===Q.fb.dd&&(c=Q.fb.Kr):this.L3()&&this.l5()?this.wb.K7a()?c=this.vd&&this.vd.paused?Q.fb.Ci:Q.fb.dd:this.pZa.Nb(function(){return a.oZa();}):c=Q.fb.cg;return c;};b.prototype.Mlb=function(){var a;if(this.j.Mb.value===Q.fb.cg){a=this.uZa()>this.k5();this.j.Rj.value!==Q.Df.cd?this.j.Mi.value?(this.j.fireEvent(Q.R.Lo,{cause:k.mRa}),this.jb.warn("rebuffer due to timed text",this.j.Mi.value.og)):this.j.fireEvent(Q.R.SF):a?(this.Xla++,this.j.fireEvent(Q.R.Lo,{cause:k.vja})):(this.Xma++,this.j.fireEvent(Q.R.Lo,{cause:k.wja}));}};b.prototype.uZa=function(){var a,b;a=this.Ho.mp.filter(function(a){return!a.Yb;}).reduce(function(a,b){return a+b.dt;},0);b=this.Ql.mp.filter(function(a){return!a.Yb;}).reduce(function(a,b){return a+b.dt;},0);return Math.min(a,b);};b.prototype.oZa=function(){this.Re()||(m.config.clb&&(this.Ql.Fk.Aj()||this.Ql.Fk.Zoa(new Uint8Array([0,0,0,8,102,114,101,101]))),this.rj());};b.prototype.ama=function(a,b){var c;c=a.ZR;c=c&&c.hL;return 0===a.mp.length&&(a.type===y.vg.audio&&this.rP||a.type===y.vg.video&&this.VQ)?!0:c&&c.gF-this.Wl>=b||!1;};b.prototype.S1=function(){this.rj();};b.prototype.NXa=function(){this.rj();this.j.fireEvent(Q.R.Bn);};b.prototype.OXa=function(){this.jb.trace("Video element event: ended");this.rj();};b.prototype.SXa=function(){this.jb.trace("Video element event: play");this.rj();};b.prototype.RXa=function(){this.jb.trace("Video element event: pause");this.rj();};b.prototype.TXa=function(){this.jb.trace("Video element event: playing");this.rj();};b.prototype.x2=function(){this.Re()||(this.vd&&this.vd.volume!==this.j.volume.value&&(this.vd.volume=this.j.volume.value),this.vd&&this.vd.muted!==this.j.muted.value&&(this.vd.muted=this.j.muted.value));};b.prototype.HZa=function(){!this.Re()&&this.vd&&(this.vd.playbackRate=this.j.playbackRate.value);};b.prototype.PQ=function(){this.p2||(this.doa(this.Ql),this.doa(this.Ho));this.Re()||!this.rP&&!this.VQ||this.Ql.Fk.Aj()||this.Ho.Fk.Aj()||this.g1||(this.g1=!0,this.wb.endOfStream());};b.prototype.doa=function(a){var b,c,f;if(!this.Re()&&a.Fk){b=a.Fk;c=a.tD;!b.Aj()&&0<c.length&&(a.ZR=c[c.length-1]);if(a.Gca){if(b.Aj())return;a.Gca=!1;f=this.wb.Sua().eW(T.Ym);0<f&&b.remove(0,f);}for(f=a.mp[0];f&&f.response&&(f.Yb||f.Wt-this.Wl<=this.F1);)if(this.g1=!1,this.BZa(f))a.mp.shift(),f=a.mp[0];else break;!b.Aj()&&0<c.length&&(a.ZR=c[c.length-1]);}};b.prototype.BZa=function(a){var b,c,f;O.Ea(a&&a.response);b=a.response;c=a.M;f=this.sy[c];if(!this.Re()&&f.Fk&&!f.Fk.Aj()){try{a.Yb&&a.profile&&f.Fk.D2a(a.profile);this.jb.trace("Feeding media segment to decoder",{Bytes:b.byteLength});f.Fk.Zoa(b,a);a.Yb||f.tD.push(this.rVa(a));m.config.R7a&&!a.Yb&&(this.Ji&&!p.EO||a.mqa());}catch(P){"QuotaExceededError"!=P.name?(this.jb.error("Exception while appending media",a,P),this.Tl(F.J.sQa,z.i7(c))):this.j.$R=this.j.$R?this.j.$R+1:1;return;}return!0;}};b.prototype.qVa=function(a){var b;b=this.j.Ceb(a.xb);b||(this.jb.error("Could not find CDN",{cdnId:a.xb}),b={id:a.xb,E9:a.location});return b;};b.prototype.wVa=function(a){var b,c;c=a.pa;a.M===f.wc.$h.AUDIO?b=this.j.Gva(c):a.M===f.wc.$h.VIDEO&&(b=this.j.Nva(c));b||this.jb.error("Could not find stream",{stream:c});return b;};b.prototype.rVa=function(a){var b;b=this.wVa(a);return{hL:a,stream:b,yn:{startTime:Math.floor(a.Wt),endTime:Math.floor(a.gF)},Wb:this.qVa(a)};};b.prototype.h2=function(){var a;a=this;this.Re()||!ja.Ub(this.vd)||this.vd.ended||!this.R1||!this.IC&&void 0!==this.IC||(this.jb.trace("Calling play on element"),Promise.resolve(this.vd.play()).then(function(){a.IC=!1;a.Y1=!1;a.vd.style.display=null;a.j.tj=!1;a.j.fireEvent(Q.R.t3,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.jb.warn("Playback is blocked by the browser settings",b),a.j.tj=!0,a.Y1=!0,a.vd.style.display="none",a.j.fireEvent(Q.R.tj,{player:{play:function(){return a.h2();}}})):(a.IC=!1,a.sna||(a.sna=!0,a.jb.error("Play promise rejected",b)));}));};b.prototype.PXa=function(){this.Gma=this.j.iz()||0;};b.prototype.g2=function(){this.Re()||!ja.Ub(this.vd)||this.vd.ended||!this.R1||this.IC&&void 0!==this.IC||(this.jb.trace("Calling pause on element"),this.vd.pause(),this.IC=!0);};b.prototype.xP=function(a){if(ja.Ub(a)){for(var b=this.sy[a],c=b.tD,d,k=!1;(d=c[0])&&d.hL.Wt<=this.Wl;)if(this.Wl<d.hL.gF){a=a===f.wc.$h.AUDIO?this.j.Lf:this.j.Ze;r.Dqa(d,a.value)||(k=!0,a.set(d));break;}else c.shift();!k&&!this.W1||this.g1||(d=d&&d.hL.Wt-d.hL.dt-1,0<d&&((b=b.Fk)&&!b.Aj()?(b.remove(0,d/N.Yj),this.W1=!1):this.W1=!0));}else this.xP(f.wc.$h.AUDIO),this.xP(f.wc.$h.VIDEO);};b.prototype.hoa=function(a){this.j.Zb.set(this.Wl);a&&this.j.$$a();};b.prototype.$C=function(a,b){return b===Q.bg.LB||this.j.Wa.Ih&&this.Ji?!1:(b=this.j.mb)&&b.$C(a)||!1;};b.prototype.h2a=function(a,b,c,f){a=this.GWa()||b?Math.round(a):this.iWa(a,c,f);m.config.aca&&(a+=m.config.aca);return a;};b.prototype.V2a=function(a,b){a=a.ba(T.ha)-m.config.jxb;return l.Rr(b,0,a);};b.prototype.seek=function(a,b,c,f){var d,k,m,r,g;b=void 0===b?Q.bg.Ku:b;c=void 0===c?this.j.Db:c;f=void 0===f?!1:f;if(!this.Re()&&this.j.mb){d=b===Q.bg.LB;k=this.j.Xv(c);m=k.rq;k=k.I;r=this.j.t7(c);f=this.h2a(d?a:this.V2a(m,a),f,c,r);d?(m=f,c=this.j.mb.My(r,f,c)):(m=this.j.mb.D4(r,f,c),c=f);b===Q.bg.FG&&(this.j.Hpa=c);r=this.$C(m,b);g=(b===Q.bg.Ku||b===Q.bg.ZO)&&1<this.j.pp.length;d=d||r||g?m:c;this.xP();g=this.Wl;a=l.th(a);this.j.Io("SEEKING: Requested: ("+k+":"+b+":"+a+") - Actual: (contentPts: "+c+","+("playerPts: "+m+", newMediaTime: "+d+")"));this.jb.info("Seeking",{Requested:a,Actual:l.th(f),Cause:b,Skip:r});this.j.fireEvent(Q.R.uA,{HV:g,S$:d,cause:b,skip:r});this.j.Mb.set(Q.fb.cg);b!==Q.bg.FG&&(this.e2(),this.Ql.Gca=!0,this.Ho.Gca=!0);this.Wl=d;this.Gma=c;a=this.j.Lf.value;f=this.j.Ze.value;this.j.Lf.set(null);this.j.Ze.set(null);this.hoa(!0);this.j.fireEvent(Q.R.Yn,{HV:g,S$:d,wj:c,cause:b,skip:r,Lf:a,Ze:f,I:k});this.Ji=!0;this.rj();}};b.prototype.GWa=function(){return this.j.Wa.Ih?!0:"boolean"===typeof this.j.Wa.PL?this.j.Wa.PL:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?m.config.PL&&m.config.Pnb:m.config.PL;};b.prototype.e2=function(){this.Ql.tD=[];this.Ql.ZR=void 0;this.Ql.mp=[];this.Ho.tD=[];this.Ho.ZR=void 0;this.Ho.mp=[];this.VQ=this.rP=!1;this.j.fireEvent(Q.R.eV);};b.prototype.iWa=function(a,b,c){return this.j.mb.k2a(a,c,this.j.Wa.Ih?m.config.ysa:m.config.et,b);};b.prototype.Tl=function(a,b,c){var f;if(!this.by){f=h.V.get(q.Mk);this.j.xd(f(a,b,c));}};b.prototype.Kla=function(){if(!this.by){this.jb.info("Closing.");this.wb.removeEventListener(t.bi.pM,this.Pma[t.bi.pM]);this.wb.removeEventListener(t.bi.Bn,this.Pma[t.bi.Bn]);this.vd.removeEventListener("ended",this.tf.ended);this.vd.removeEventListener("play",this.tf.play);this.vd.removeEventListener("pause",this.tf.pause);this.vd.removeEventListener("playing",this.tf.playing);u.Le.removeListener(u.pl,this.CH[u.pl]);this.by=!0;try{m.config.skb&&(this.vd.volume=0,this.vd.muted=!0);this.g2();this.wb.close();}catch(M){}this.vd=void 0;this.e2();}};b.prototype.Re=function(){return this.by?!0:ja.Ub(this.vd)?!1:(this.jb.error("MediaPresenter not closed and _videoElement is not defined"),!0);};d.POa=b;},function(g,d,a){var b,f,p,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(13);p=a(26);q=a(104);c=a(8);m=a(44);k=a(16);u=a(14);d.oRa=function(a){var h,D,O,l,N,n;function d(){return a.state.value===u.ib.LOADING||a.state.value===u.ib.cd&&a.Mb.value===u.fb.cg;}function r(){d()?n||(n=setInterval(g,100)):n&&(clearInterval(n),n=void 0,m.Ab(g));}function g(){var b,m,r,g,y,A,I,F;b=p.Cg();m=h.value;r=m?m.Qh:0;y=a.state.value==u.ib.LOADING||d()&&b-D>f.config.P1a;y&&a.state.value==u.ib.cd?(a.qR.value===u.Df.gka?(I=r,A=!0):(g=b+(a.wk&&a.wk.bfb()||0),O=O||b,l=l||O+f.config.Sjb+1,k.na(g)&&(g=c.Um(g,l),I=a.wk?a.wk.HIb():.99,I=c.ai(1E3*q.Rr((b-O)/(g-O),0,I))/1E3)),I<r&&(r-I<f.config.Aob/100?(I=r,N=void 0):N?b-N>f.config.zob?(F=!0,N=void 0):I=r:(N=b,I=r))):N=l=O=void 0;b=y?{wX:A,Qh:I,Bob:F}:null;(!b||!h||!m||k.na(b.Qh)&&!k.na(m.Qh)||k.na(b.Qh)&&k.na(m.Qh)&&.01<c.NG(b.Qh-m.Qh)||b.wX!==m.wX)&&h.set(b);}h=a.N3;D=0;a.state.addListener(function(){r();g();},b.I_);a.Mb.addListener(function(a){if(a.oldValue!==u.fb.cg||a.newValue!==u.fb.cg)D=p.Cg();r();});a.qR.addListener(function(){r();});a.un.addListener(function(){r();});a.Rj.addListener(function(){r();});n||(n=setInterval(g,100));};},function(g,d,a){var m,k,u,r;function b(a,b,c,f,d){var k;k={};"right"==a.horizontalAlignment?k.right=100*(c-b.left-b.width-d)/c+"%":k.left=100*(b.left-d)/c+"%";"bottom"==a.verticalAlignment?k.bottom=100*(f-b.top-b.height-d)/f+"%":k.top=100*(b.top-d)/f+"%";return k;}function f(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function p(a,b,c,f,d){var k,m;k=a.style;m=u.x8(a.text);for(a=a.lineBreaks;a--;)m="<br />"+m;return q(m,k,b,c,f,d);}function q(a,b,d,g,u,q){var p;p=b.characterStyle;u=u[p];g=b.characterSize*g.height/((0<=p.indexOf("MONOSPACE")?f(u,b.cellResolution)||u.lineHeight:u.lineHeight)||1);g=0<q?r.Kx(g*q):r.ai(g);q={"font-size":g+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(q["font-style"]="italic");b.characterUnderline&&(q["text-decoration"]="underline");b.characterColor&&(q.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(q["background-color"]=c(b.backgroundColor,b.backgroundOpacity));g=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case k.saa:q["text-shadow"]=g+" 0px 0px 7px";break;case k.qAa:q["text-shadow"]="-1px 0px "+g+",0px 1px "+g+",1px 0px "+g+",0px -1px "+g;break;case k.omb:q["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case k.mmb:q["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}q=m.fJ(q);(d=d[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(q+=";"+d);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+q+'">'+a+"</span>";}function c(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(d,"__esModule",{value:!0});m=a(28);k=a(200);u=a(18);r=a(8);d.Qsa=function(a,b,c,f,d){var k;k="";a.textNodes.forEach(function(a){k+=p(a,c,b,f,d);});return k;};d.Q9a=function(a,c,f,d,k){var m,g,p,y,h;m="";g=k.width;k=k.height;for(var q=c.length;q--;){p=c[q];y=a[q];y=y&&y.region;h="position:absolute;background:"+d+";width:"+r.ai(p.width+2*f)+"px;height:"+r.ai(p.height+2*f)+"px;";u.Xc(b(y,p,g,k,f),function(a,b){h+=a+":"+b+";";});m+='<div style="'+h+'"></div>';}return m;};d.P9a=b;d.bIb=f;d.dIb=p;d.aIb=q;d.cIb=c;d.O9a=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return m.fJ(b);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);d.Avb=function(a,d){function f(a,f,d){var q,p,h,l;if(a&&1<a.length){for(var k=[],m=[],r=0;r<a.length;r++)k[r]=0,m[r]=0;for(var g=!1,r=0;r<a.length;r++)for(var u=r+1;u<a.length;u++){p=a[r];h=a[u];if(0>p.width||0>h.width||h.left>p.left+p.width||h.left+h.width<p.left||h.top>p.top+p.height?0:h.top+h.height>=p.top){q=b.Um(p.left,h.left);l=b.Um(p.top,h.top);q={width:b.Um(b.wo(p.left+p.width,h.left+h.width)-q,0),height:b.Um(b.wo(p.top+p.height,h.top+h.height)-l,0),x:q,y:l};}else q=void 0;if(q&&1<q.width&&1<q.height)if(l=q.width<=q.height,p=c(a[r]),h=c(a[u]),l&&f||!l&&!f)q=b.Um(q.width/2,.25),p.x<=h.x?(m[r]-=q,m[u]+=q):(m[u]-=q,m[r]+=q);else if(l&&!f||!l&&f)p=b.Um(q.height/2,.25),k[r]-=p,k[u]+=p;}for(r=0;r<a.length;r++){if(-.25>m[r]&&0<=a[r].left+m[r]||.25<m[r]&&a[r].left+a[r].width+m[r]<=d.width)a[r].left+=m[r],g=!0;if(-.25>k[r]&&0<=a[r].top+k[r]||.25<k[r]&&a[r].top+a[r].height+k[r]<=d.height)a[r].top+=k[r],g=!0;}return g;}}function c(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,c){a.forEach(function(a){0>a.left&&a.left+a.width<c.width?a.left+=b.wo(-a.left,c.width-(a.left+a.width)):a.left+a.width>c.width&&0<a.left&&(a.left-=b.wo(a.left+a.width-c.width,a.left));0>a.top&&a.top+a.height<c.height?a.top+=b.wo(-a.top,c.height-(a.top+a.height)):a.top+a.height>c.height&&0<a.top&&(a.top-=b.wo(a.top+a.height-c.height,a.top));});}(a,d));for(var m=0;50>m&&f(a,!0,d);m++);for(m=0;50>m&&f(a,!1,d);m++);return a;};},function(g,d,a){var f,p,q,c,m;function b(a,b){this.D6=a;this.Wy={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.uDa(b);this.Bta=this.Vbb(this.D6);}Object.defineProperty(d,"__esModule",{value:!0});f=a(19);p=a(279);q=a(278);c=a(8);m=a(18);b.prototype.Zo=function(){return this.element;};b.prototype.Wrb=function(a){this.m3=a;};b.prototype.dsb=function(a){this.me=a;this.lF();};b.prototype.isb=function(a){this.uDa(a);this.lF();};b.prototype.lF=function(){var a,c,d,m,g,h,F,D,O,l,N,Q,t,z;a=this;c=this.Zo();d=c.parentElement;m=d&&d.clientWidth||0;g=d&&d.clientHeight||0;h=d=0;F={width:m,height:g};if(0<m&&0<g&&this.me){this.m3&&(F=f.XS(m,g,this.m3),d=Math.round((m-F.width)/2),h=Math.round((g-F.height)/2));D=this.i2a(F);l=f.XS(D.width,D.height,this.m3);D=(O=this.me.blocks)&&O.map(function(c){var d;d=q.Qsa(c,l,a.D6,a.Bta);c=q.O9a(c)+";position:absolute";return f.createElement("div",c,d,b.SY);});}Object.assign(this.Wy,{left:d+"px",right:d+"px",top:h+"px",bottom:h+"px"});c.style.display="none";c.style.direction=this.Wy.direction;c.innerHTML="";if(D&&D.length){m=F.width;d=F.height;N=F;this.II&&(N=this.$Za(F,this.II,g,h));this.Wy.margin=this.On?this.wR(F,"top")+"px "+this.wR(F,"right")+"px "+this.wR(F,"bottom")+"px "+this.wR(F,"left")+"px ":void 0;D.forEach(function(a){return c.appendChild(a);});g=f.fJ(this.Wy);c.style.cssText=g+";visibility:hidden;z-index:-1";for(var h=[],n=D.length-1;0<=n;n--){Q=D[n];t=O[n];z=this.tza(Q,t,m,d);z.width>m&&(Q.innerHTML=q.Qsa(t,F,this.D6,this.Bta,m/z.width),z=this.tza(Q,t,m,d));h[n]=z;}h=p.Avb(h,N);if(n=O&&O[0]&&O[0].textNodes&&O[0].textNodes[0]&&O[0].textNodes[0].style)N=n.windowColor,n=n.windowOpacity,N&&0<n&&(F=q.Q9a(O,h,Math.round(d/50),N,F),F=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+n,F,b.SY),c.insertBefore(F,c.firstChild));c.style.display="none";for(F=h.length-1;0<=F;F--)N=D[F].style,n=q.P9a(O[F].region,h[F],m,d,0),Object.assign(N,n);c.style.cssText=g;}};b.prototype.Bca=function(a){this.II=a;this.lF();};b.prototype.U7=function(){return this.II;};b.prototype.Cca=function(a){this.On=a;this.lF();};b.prototype.V7=function(){return this.On;};b.prototype.W7=function(){return"block"===this.Wy.display;};b.prototype.Dca=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.Wy.display=b;a&&this.lF();};b.prototype.Vbb=function(a){var b,c;b=this;c={};m.Xc(a,function(a,f){c[a]=b.njb(f);});return c;};b.prototype.uDa=function(a){this.Wy.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.wR=function(a,b){if(this.On){if("left"===b||"right"===b)return a.width*(this.On[b]||0);if("top"===b||"bottom"===b)return a.height*(this.On[b]||0);}return 0;};b.prototype.i2a=function(a){return this.On?{height:a.height*(1-(this.On.top||0)-(this.On.bottom||0)),width:a.width*(1-(this.On.left||0)-(this.On.right||0))}:a;};b.prototype.njb=function(a){var d;a=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.SY);c.Wd.body.appendChild(a);d={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};c.Wd.body.removeChild(a);return d;};b.prototype.tza=function(a,b,c,f){var d,k,m,r,g;d=b.region;k=(d.marginTop||0)*f;m=(d.marginBottom||0)*f;r=(d.marginLeft||0)*c;g=(d.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(d.verticalAlignment){case"top":f=k;break;case"center":f=(k+f-m-a)/2;break;default:f=f-m-a;}switch(d.horizontalAlignment){case"left":c=r;break;case"right":c=c-g-b;break;default:c=(r+c-g-b)/2;}return{top:f,left:c,width:b,height:a};};b.prototype.$Za=function(a,b,c,f){return{height:c-Math.max(f,b.bottom||0)-Math.max(f,b.top||0),width:a.width};};d.ETa=b;b.SY={"class":"player-timedtext-text-container"};},function(g,d,a){var b,f,p,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(54);p=a(19);q=a(18);c=a(4);m=a(52);k=a(105);u=a(14);d.vRa=function(a){var t,z,X,T,Y,V,M,fa,ma,U;function d(){M||(O(),a.rf.appendChild(t),M=!0);}function g(){M&&(a.rf.removeChild(t),M=!1);}function r(){M?g():d();}function h(){var f,d,k;function b(a,b,c){var f,d,k;k=[];b.filter(function(b){return b.uf===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===f?f=a.O:d=a.O,void 0===d&&(d=a.O)):void 0!==f&&void 0!==d&&(k.push({min:f,max:d}),f=d=void 0);});void 0!==f&&void 0!==d&&(k.push({min:f,max:d}),f=d=void 0);return k;}function c(a,b,c){var f;f=[];b.filter(function(b){return b.uf===a;}).forEach(function(a){-1===c.indexOf(a)&&f.push({stream:{bitrate:a.O},disallowedBy:["manual"]});});return f;}f=a.Po();d=a.mz().sort(function(a,b){return a.O-b.O;});k=d.reduce(function(a,b){0>a.indexOf(b.uf)&&a.push(b.uf);return a;},[]).map(function(a){return{profile:a,ranges:b(a,d,f),disallowed:c(a,d,f)};});a.mb.iX(k,this.j.t7(a.Db),a.Db);}function D(){return a.mz().filter(function(a){return fa[a.O];});}function O(){var c,f,d;c=a.Pc.value;f=a.Of.value;d=a.Ni;c&&(d=d.slice(),d.sort(function(a,b){return a.se-b.se;}),n(T,c.uc.map(function(b){return{value:b.O,caption:b.O,selected:b==a.sj.value};})));f&&(n(Y,f.uc.map(function(b){var c,f;c=a.iL.bu(b);b=b.O;f=""+b;c&&(f+=" ("+c.join("|")+")");return{value:b,caption:f,selected:a.Po!=D?!c:fa[b]};})),Y.removeAttribute("disabled"));d&&(n(V,d.map(function(c){return{value:c.id,caption:"["+c.id+"] "+c.name,selected:c==a.Wb[b.wc.Da.VIDEO].value};})),V.removeAttribute("disabled"));}function l(){M&&O();}function N(a){var b,c;b=p.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=p.createElement("DIV",void 0,a);c=p.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);z.appendChild(b);return c;}function n(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=p.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});}function Q(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==k.Nr.oSa&&ma.e9&&r();}t=p.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});z=p.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");X=p.createElement("DIV","width:100%;text-align:center");T=N("Audio Bitrate");Y=N("Video Bitrate");V=N("CDN");fa={};ma=c.V.get(m.Sm);t.appendChild(z);z.appendChild(X);U=p.createElement("BUTTON",void 0,"Override");U.addEventListener("click",function(){var d,k,c,f;fa={};for(var c=Y.options,f=c.length;f--;){d=c[f];d.selected&&(fa[d.value]=1);}a.Po=D;h();if(c=a.Ni){k=V.value;c=c.filter(function(a){return a.id==k;})[0];f=a.Wb[b.wc.Da.VIDEO].value;c&&c!=f&&(c.NGb={testreason:"streammanager",selreason:"userselection"},a.Wb[b.wc.Da.VIDEO].set(c));}g();},!1);X.appendChild(U);U=p.createElement("BUTTON",void 0,"Reset");U.addEventListener("click",function(){delete a.Po;h();g();},!1);X.appendChild(U);f.Le.addListener(f.nz,Q);a.addEventListener(u.R.wl,function(){fa={};});a.addEventListener(u.R.gf,function(){f.Le.removeListener(f.nz,Q);});a.Wb.forEach(function(a){a.addListener(l);});a.Pc.addListener(l);a.Of.addListener(l);q.Za(this,{toggle:r,show:d,mE:g});};},function(g,d,a){var b,f,p,q,c,m,k,u,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);f=a(26);p=a(2);q=a(179);c=a(8);m=a(16);k=a(14);u=a(4);r=a(133);d.iNa=function(a){var g,y,h,O;function d(){a.state.value!==k.ib.cd||a.Mb.value!==k.fb.Ci&&a.Mb.value!==k.fb.Kr?y.jh():y.jt();}g=b.config.Jmb;if(!a.wE()&&g){y=u.V.get(r.OB)(g,function(){a.fireEvent(k.R.pE,p.J.OO);});a.Mb.addListener(d);a.state.addListener(d);if(b.config.H8){O=f.Cg();h=new q.$ja(b.config.H8,function(){var d,m;d=f.Cg();m=d-O;m>g&&(a.fireEvent(k.R.pE,p.J.zO),h.i4());m>2*b.config.H8&&(a.I8=c.Um(m,a.I8||0));O=d;});h.Eca();}a.addEventListener(k.R.gf,function(){y.jh();m.Ub(h)&&h.i4();});}};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);f=a(67);d.jMa=function(a){function d(c){a.fireEvent(b.R.Hv,{response:c,I:a.da.I});}return{download:function(b,m){b.j=a;b=f.Qd.download(b,m);b.roa(d);return b;}};};},function(g,d,a){var f;function b(a,b){var c;c=this;this.Tua=a;this.Rza=b;this.Bda=!1;this.Pt=function(){c.Kl=void 0;c.update();};}Object.defineProperty(d,"__esModule",{value:!0});f=a(19);b.prototype.update=function(a){var b,c,d;b=this.Tua();if(this.HFa!==b){f.Ub(b)&&f.Ub(this.duration)&&b<this.duration&&this.entries&&(d=this.nza||this.entries[Math.floor(b*this.Kub)]||this.entries[0]);if(d){for(;d&&d.endTime<b;)d=d.next;for(;d&&d.previous&&d.previous.endTime>=b;)d=d.previous;}d&&(d.startTime<=b&&b<=d.endTime?(c=d,this.DFa(d.endTime-b)):this.DFa(d.startTime-b));this.nza=d;this.HFa=b;this.J2!==c&&(this.J2=c,!a&&this.Rza&&this.Rza());}};b.prototype.start=function(){this.Bda=!0;this.update();};b.prototype.vDa=function(a){this.nza=this.J2=this.HFa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(ea(a.map(function(a){return a.endTime;}))))||0;this.Kub=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.Bda=!1;this.jh();};b.prototype.Dab=function(){this.update(!0);return this.J2;};b.prototype.DFa=function(a){this.jh();this.Bda&&0<a&&(this.Kl=setTimeout(this.Pt,a+b.lPa));};b.prototype.jh=function(){this.Kl&&(clearTimeout(this.Kl),this.Kl=void 0);};d.JTa=b;b.lPa=10;},function(g,d,a){var b,f,p;Object.defineProperty(d,"__esModule",{value:!0});a(67);b=a(66);a(26);f=a(15);p=a(44);a(16);a(14);d.xRa=function(){var d,k,g,r,y;function a(){y=!1;for(var a=d.length,b;a--;)b=d[a],r[b]&&(r[b]=!1,g.Kb(b+"changed",{getModel:k[b]}));}function c(b){r[b]=!0;y||(y=!0,p.Ab(a));}d=[];k={};g=new b.Wj();r={};y=!1;return{register:function(a,b){f.Ea(!(0<=d.indexOf(a)),"panel already registered");k[a]=b;d.push(a);},DKb:c,KIb:function(a){return(a=k[a])?a():void 0;},addEventListener:function(a,b){g.addListener(a,b);k[a]&&c(a);},removeEventListener:function(a,b){g.removeListener(a,b);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wha="LicenseBrokerFactorySymbol";},function(g,d,a){var b,f,p,q,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(13);g=a(2);p=a(4);q=a(19);c=a(8);a=a(22);p.V.get(a.bf).register(g.J.Lga,function(a){var m,g,y;function k(){y&&clearTimeout(y);a(b.Tc);k=q.Qe;}m=p.Uf("BatteryManager");d.Os={fIa:"chargingchange",Jua:function(){return g?g.level:null;},a7:function(){return g?g.charging:null;},addEventListener:function(a,b){g&&g.addEventListener(a,b);},removeEventListener:function(a,b){g&&g.removeEventListener(a,b);}};if(f.config.WI){y=setTimeout(k,f.config.Wab);try{c.Kk.getBattery().then(function(a){g=a;k();})["catch"](function(a){m.error("getBattery promise rejected",a);k();});}catch(A){m.error("exception on getBattery api call",A);k();}}else k();});},function(g,d,a){var k,u,r,y,h,I,F,D;function b(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function f(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function p(a,c,d){var m;if("string"===typeof a)return p.call(this,b(a),c,d);m=0;Object.keys(a).forEach(function(b){var g,r,u;g=h[b];r=a[b];if(g){if(u=I[b]||D[typeof k[g]])try{r=u(r);}catch(T){d&&d.error("Failed to convert value '"+r+"' for config '"+b+"' : "+T.toString());return;}u=y[g];this[g]=r;y[g]!==u&&(d&&d.debug("Config changed for '"+b+"' from "+f(u)+" ("+typeof u+") to "+f(r)+" ("+typeof r+")"),++m);}else c?(g=(g=F[b])?g.filter(function(a){return a[0]!==this;},this):[],g.push([this,r]),F[b]=g):d&&d.error("Attempt to change undeclared config option '"+b+"'");},this);m&&y.emit("changed");return m;}function q(){return Object.keys(h).reduce(function(a,b){var c,f;c=h[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function c(a,b){return a.hasOwnProperty(b)?f(a[b]):void 0;}function m(a,b){return"undefined"===typeof a?b:a;}d=a(48);a=a(108).EventEmitter;k={};u=Object.create(k);r=Object.create(u);y=Object.create(r);h={};I={};F={};y.declare=function(a){Object.keys(a).forEach(function(b){var c,f,d,m;c=a[b];f=c[0];d=c[1];m=c[2];if(k.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof f&&(f=[f]);f.forEach(function(a){var c;if(h.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");k.hasOwnProperty(b)||("function"===typeof d&&(d=d()),k[b]=d);h[a]=b;"function"===typeof m&&(I[a]=m);if(c=F[a])c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];p.call(c,f,!1);}),delete F[a];});});return y;};D={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};y.set=p.bind(u);y.UE=p.bind(r);y.dump=function(a,b){var g,p,A,I;function d(){I&&a&&a.log("===========================================");}g=Object.keys(F).sort();p={};A=q();b=m(b,!0);Object.keys(h).sort().forEach(function(g){var q,D,F;g=h[g];!p[g]&&(p[g]=!0,D=c(u,g),F=c(r,g),b||"undefined"!==typeof D||"undefined"!==typeof F)&&(q=A[g].join(","),q+=" = "+f(y[g])+" ("+typeof y[g]+") [",q+=m(F,"<unset>")+",",q+=m(D,"<unset>")+",",q+=c(k,g)+"]",I||(I=!0,a&&a.log("Current config values"),d()),a&&a.log(q));});(b||g.length)&&a&&a.log("<undeclared> :",g);d();};y.fm=function(a){var b,c;b={};c={};Object.keys(h).forEach(function(a){a=h[a];c[a]||(c[a]=!0,b[a]=y[a]);});a&&p.call(b,a);return b;};y.zAa=function(){var a;a=q();return Object.getOwnPropertyNames(u).reduce(function(b,c){b[a[c][0]]=u[c];return b;},{});};y.reset=function(){Object.keys(u).forEach(function(a){delete u[a];});};y.Vl={};d(a,y);g.T=Object.freeze(y);},function(g,d,a){var f,p,q,c,m;function b(a){var b,d;b=c.platform;f.Uf("MediaSourceASE").trace("Inside MediaSourceASE");d=a.y7();this.readyState=m.ac.CLOSED;this.sourceBuffers=d.sourceBuffers;this.addSourceBuffer=function(a){return d.addSourceBuffer(a);};this.R2=function(a){return d.R2(a);};this.removeSourceBuffer=function(a){return d.removeSourceBuffer(a);};this.ll=function(a){return d.ll(a);};this.sourceId=b.fK();b.xK();this.duration=void 0;d.Vrb(this.sourceId);this.readyState=m.ac.OPEN;this.vc=p.V.get(q.df).yk(m.vc,{});}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);p=a(4);q=a(23);c=a(50);Object.defineProperty(b.prototype,"duration",{get:function(){return this.Zp;},set:function(a){var b;this.Zp=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.Zp=b;});}});m={ac:{CLOSED:0,OPEN:1,Kr:2,name:["CLOSED","OPEN","ENDED"]},vc:{wqa:!0,eza:!0}};d.SOa=Object.assign(b,m);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jja="PboPairCommandSymbol";},function(g,d,a){var b,f,p,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(346);p=a(21);q=a(19);c=a(184);m=a(290);k=a(82);u=a(2);d.YIa=function(a){var l,N,n,Q,t;function d(a,b,c){return new Promise(function(f,d){l.send(a,b,!1,void 0).then(function(a){c?f(c(a)):f({W:!0});})["catch"](function(c){var f,k;try{f=JSON.stringify(c.kt);}catch(U){}k={method:a.method,success:c.W};N.hm(f)&&(k.errorData=f);N.hm(c.Z)&&(k.errorSubCode=c.Z);N.hm(c.Kc)&&(k.errorExternalCode=c.Kc);N.hm(c.Sa)&&(k.errorDetails=c.Sa);N.hm(c.En)&&(k.errorDisplayMessage=c.En);b.log.error("Processing EDGE response failed",k);c.__logs&&b.log.error(c.__logs);d(c);});});}function g(b){return t.yya?n.lf(a,{},b).then(function(a){return{r6a:a.customerGUID,W:!0};}):d({method:"bind",isExclusive:!0},b,function(a){return{r6a:a.customerGUID,W:!0};});}function r(b,c){var f;f={method:"pair",targetuuid:b.yEa,cticket:b.p6a,nonce:b.Ikb,controlleruuid:b.Sqa,pairdatahmac:b.UKb};return t.u$?Q.lf(a,f).then(function(a){return{W:!0,heb:{nonce:a.nonce,controlleruuid:b.Sqa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.yEa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},ieb:a.grantDataHmac};})["catch"](function(a){var b;switch(a&&a.Vy){case"MDX_CONTROLLER_CTICKET_INVALID":b=u.u_.JPa;break;default:b=u.u_.KPa;}return{W:!1,KJ:b,En:a.data};}):d(f,c,function(a){return{W:!0,heb:{nonce:a.nonce,controlleruuid:b.Sqa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.yEa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},ieb:a.grantDataHmac};});}function h(a,b){g(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function D(b,c,f){r(b,c).then(function(a){f(a);})["catch"](function(b){var c,d;if(!t.u$){d="";if(b.kt)try{c=JSON.parse(b.kt);c.error_message?d=c.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):c.implementingClass&&(d=c.implementingClass);}catch(fa){a.error("Failed to parse Pairing errorData",{kt:c});}q.Za(b,O(d));}f(b);});}function O(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{ES:5,KJ:21,HS:void 0,En:void 0,FS:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{ES:2,KJ:20,HS:void 0,En:void 0,FS:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{ES:2,KJ:10,HS:void 0,En:void 0,FS:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{ES:2,KJ:13,HS:void 0,En:void 0,FS:void 0};default:return{ES:4,KJ:30,HS:void 0,En:void 0,FS:void 0};}}l=b.V.get(f.lia);N=b.V.get(p.Fe);n=b.V.get(c.R_);Q=b.V.get(m.jja);t=b.V.get(k.Iu);q.Za(this,{B3:g,RHb:function(a,b){a=Object.assign({},a);a.profile=void 0;h(a,b);},Xz:h,ALb:function(a,b,c,f){h(Object.assign({Xz:b,WW:c},a),f);},zLb:function(a,b,c,f){h(Object.assign({wS:b,password:c},a),f);},dKb:D,eKb:function(a,c,f){var m;function d(b){D(a,c,function(a){a.W?(a.Xz=b.Xz,a.WW=b.WW,a.xkb=b.xkb,a.irb=b.irb,f(a)):f(b);});}function k(a){g(m).then(function(a){a&&a.W?d(a):f(a);})["catch"](function(b){a?k(!1):f(b);});}m=Object.assign({zya:a.p6a,jjb:a.Eaa,ijb:a.Ikb,hjb:a.nHb,kjb:b.$k(a.BLb)},c);k(!0);},iMb:function(a,b,c,f){N.jI(c)&&!q.Ub(f)&&(f=c,c=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){h(Object.assign({ojb:"GOOGLE_JWT",$Ea:b,nA:c},a),f);});}});};},function(g,d,a){var b,f,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(293);f=a(4);p=a(409);q=a(23);d.Gtb=function(a){a({W:!0,storage:new b.vha(f.V.get(p.xha),f.V.get(q.df))});};},function(g,d){function a(a,f){this.kq=a;this.ge=f;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.load=function(b,f){var d;d=this;this.kq.load(b).then(function(b){f&&f(a.qEa(b));})["catch"](function(a){f&&f(d.PD(b,a));});};a.prototype.save=function(b,f,d,g){var c;c=this;this.kq.save(b,f,d).then(function(){g&&g(a.qEa({key:b,value:f}));})["catch"](function(a){g&&g(c.PD(b,a));});};a.prototype.remove=function(a,f){var b;b=this;this.kq.remove(a).then(function(){f&&f({W:!0,CX:a});})["catch"](function(d){f&&f(b.PD(a,d));});};a.qEa=function(a){return{W:!0,data:a.value,CX:a.key};};a.prototype.PD=function(a,f){return{W:!1,CX:a,Z:f.Z,Sa:f.cause?this.ge.ne(f.cause):void 0};};d.vha=a;},function(g,d,a){var b,f,p,q,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(70);p=a(23);q=a(293);c=a(407);d.Ftb=function(a){b.V.get(f.Er).create().then(function(f){a({W:!0,storage:new q.vha(f,b.V.get(p.df)),Uo:b.V.get(c.Jfa)});})["catch"](function(b){a(b);});};},function(g,d,a){var b,f,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(4);p=a(2);a(18);d.Htb=function(a){var c;f.Uf("Storage");c={};a({W:!0,storage:{load:function(a,b){c.hasOwnProperty(a)?b({W:!0,data:c[a],CX:a}):b({Z:p.u.Mu});},save:function(a,b,f,d){f&&c.hasOwnProperty(a)?d({W:!1}):(c[a]=b,d&&d({W:!0,CX:a}));},remove:function(a,f){delete c[a];f&&f(b.Tc);}}});};},function(g,d,a){var f,p,q,c,m,k,u,r,h,A,I,F,D,O,l,N,n,Q,t,z,X,T,Y,V,M,fa,ma,U,P,ra,ka,Ba,Fa,Ea,B,G,Sb,Sa,Ra,S,Z,da,ea,ec,ta,bc,ga,ha,ia,na,la,oa,pa,sa,Ge,nf,Wa,Mc,qf;function b(a,b,c,d,k){var p,h,y,l;function m(a){a.newValue!==ta.fb.cg&&a.newValue!==ta.fb.Ci&&(p.Mb.removeListener(m),p.rE=p.Ta.pca,p.Jb.Kb(ta.R.Lj));}function g(a){a.newValue!==ta.fb.cg&&(p.Mb.removeListener(g),p.MAa=p.Ta.kf.ba(M.ha));}p=this;this.nE=k;this.PAa=[];this.KL={};this.Pc=new F.Nc(null);this.Of=new F.Nc(null);this.zc=new F.Nc(null);this.Mi=new F.Nc(null);this.pr=new F.Nc(void 0);this.Ee=new F.Nc(null);this.sj=new F.Nc(null);this.Zb=new F.Nc(void 0);this.Sda=function(a){return p.Pc.set(a.newValue);};this.fwb=function(a){return p.Of.set(a.newValue);};this.cwb=function(a){return p.zc.set(a.newValue);};this.Hvb=function(a){return p.Mi.set(a.newValue);};this.bwb=function(a){return p.pr.set(a.newValue);};this.ewb=function(a){return p.Ee.set(a.newValue);};this.Ivb=function(a){return p.sj.set(a.newValue);};this.Wvb=function(a){return p.Ze.set(a.newValue);};this.Vvb=function(a){return p.Lf.set(a.newValue);};this.Qvb=function(a){return p.Zb.set(a.newValue);};this.wm={};this.Iba=this.Fda=0;this.Jb=new O.Wj();this.BN={};this.Qma=0;this.gR=void 0;this.Bib=Y.V.get(Wa.Xha);this.Mxa=Y.V.get(Sa.Fha);this.Mc=Y.V.get(qf.PB);this.re=Y.V.get(r.Mk);this.zX=!1;this.state=new F.Nc(ta.ib.CB);this.Vn=new F.Nc(!1);this.paused=new F.Nc(!1);this.muted=new F.Nc(!1);this.volume=new F.Nc(D.config.i7a/100);this.playbackRate=new F.Nc(1);this.Mb=new F.Nc(ta.fb.cg);this.qR=new F.Nc(ta.Df.Bi);this.un=new F.Nc(ta.Df.Bi);this.Rj=new F.Nc(ta.Df.Bi);this.Lf=new F.Nc(null);this.Ze=new F.Nc(null);this.N3=new F.Nc(null);this.sK=A.jMa(this);this.dV=[];this.Wb=[];this.z3={};this.AR=0<=Fa.sfa.indexOf("cast")?Y.V.get(V.$ea):void 0;this.xS=this.Csa=!1;this.Mtb=this.Ba=this.Ng=-1;this.M7=function(a,b){a=void 0===a?null:a;return B.na(a)?p.mb?p.mb.My(void 0,a,b):a:null;};this.Sza=function(){p.Wca();};this.Oob=this.nE.Oy();this.oD=a;this.addEventListener=this.Jb.addListener;this.removeEventListener=this.Jb.removeListener;this.fireEvent=this.Jb.Kb;k=D.config.Xn&&this.Mc()?this.Mc().Y7(a):void 0;this.O2({nb:a,Db:d,Wa:c||{}},k,b);this.jR=Y.V.get(Mc.bf);this.log=Y.mg(this);this.ta=Y.V.get(oa.Ne);this.Ta=Y.V.get(ea.Vj);this.m1a=Y.V.get(T.Kea)(this);this.rf=Z.createElement("DIV",I.Yja,void 0,{id:this.I});this.Hfb();h=Y.V.get(sa.NB)(M.ih(1));this.TWa=Y.V.get(bc.Wha);this.$d=this.log.P4("Playback");this.lnb=q.iRa(this);this.x5=u.xRa();n.cH.lkb=this;n.cH.A6||(n.cH.A6=this);this.$d.info("Playback created",this.og);this.L9?this.$d.info("Playback selected for trace playback info logging"):this.$d.trace("Playback not selected for trace playback info logging");D.config.Xn&&this.Mc()&&(this.Mc().veb(this.I),this.addEventListener(ta.R.Lj,function(){p.Mc().web(p.I);p.zc.addListener(function(){p.Mc().Eva();});p.Pc.addListener(function(){p.Mc().Eva();});}),this.addEventListener(ta.R.gf,function(){p.Mc().ueb(p.I);}));this.state.addListener(function(a){p.$d.info("Playback state changed",{From:a.oldValue,To:a.newValue});ra.Ea(a.newValue>a.oldValue);});N.Le.addListener(N.pl,this.Sza,I.I_);this.Zb.addListener(function(){h.Nb(function(){return p.sta();});});l=!1;this.paused.addListener(function(a){var b;b=p.mb;!a.$$&&b&&(!0===a.newValue?b.paused&&b.paused():b.TX&&b.TX());a.newValue||(l=!1);p.$d.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.th(p.Zb.value)});});this.addEventListener(ta.R.uA,function(a){p.da.Al.$kb(a.HV,a.S$);});this.Mb.addListener(function(a){p.$d.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.th(p.Zb.value)},p.GE());});this.Mb.addListener(function(){p.Vn.set(p.Mb.value===ta.fb.dd);});this.qR.addListener(function(a){p.$d.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.th(p.Zb.value)},p.GE());});this.un.addListener(function(a){p.$d.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.th(p.Zb.value)},p.GE());});this.Rj.addListener(function(a){p.$d.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.th(p.Zb.value)},p.GE());});this.Pc.addListener(function(a){ra.Ea(a.newValue);p.$d.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.kk,To:a.newValue.cb},a.oldValue&&{FromBcp47:a.oldValue.kk,From:a.oldValue.cb},{MediaTime:ka.th(p.Zb.value)});});this.Of.addListener(function(){for(var a=p.mz(),b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].Ueb=a[c+1];});this.zc.addListener(function(a){p.$d.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.kk,To:a.newValue.cb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.kk,From:a.oldValue.cb}:{From:"none"},{MediaTime:ka.th(p.Zb.value)});});this.Wb[f.wc.Da.AUDIO]=new F.Nc(null);this.Wb[f.wc.Da.VIDEO]=new F.Nc(null);this.Mb.addListener(g,I.FB);this.Mb.addListener(m);this.addEventListener(ta.R.Lj,function(){var a,b,c,f;p.zX=!0;p.Qc("start");a=p.Ze.value;b=L._cad_global.prefetchEvents;if(b){c=M.Bb(p.qm?p.qm.audio:0);f=M.Bb(p.qm?p.qm.video:0);b.Cl(p.I,p.ia,"notcached"!==p.wv,"notcached"!==p.vv,!!p.qm,c,f);}p.kU=a.stream.O;});X.oRa(this);n.Tp.push(this);D.config.fM&&(this.$V=new da.rRa(this),this.wnb=new t.vRa(this));n.Aja.forEach(function(a){a(p);});this.B_a=function(a){p.addEventListener(ta.R.uA,function(b){b=b.cause;b!==ta.bg.FG&&b!==ta.bg.LB&&a.stop();});p.addEventListener(ta.R.Yn,function(b){var c,f,d,k,m,g,r;c=b.cause;f=b.skip;d=b.S$;k=b.HV;m=b.I;b=b.wj;if(c!==ta.bg.LB&&(D.config.Y$a&&c===ta.bg.ZO&&p.Jl.RI(),c!==ta.bg.FG))if(f)if(a.$C(d)){p.$d.trace("Repositioned. Skipping from "+k+" to "+d);c=function(a){p.log.error("streamingSession.skipped threw an exception",a);a=pa.Sc.gT(fa.J.xGa,a);p.Em(a.code,a);};try{g=a.Yi(d);g?g.then(function(){a.play();})["catch"](c):a.play();}catch(Oc){c(Oc);}}else p.log.error("can skip returned false");else{p.$d.trace("Repositioned. Seeking from "+k+" to "+d);try{r=p.Eq(m).Db;a.vF(b,p.t7(r),r);}catch(Oc){p.log.error("streamingSession.seekByContentPts threw an exception",Oc);d=pa.Sc.gT(fa.J.vGa,Oc);p.Em(d.code,d);}}});a.addEventListener("maxPosition",function(a){var b;b=M.Bb(a.maxPts);if(a=p.pp[a.index])a.rq=b;p.LL||(p.LL=b);});a.addEventListener("segmentStarting",function(a){p.fireEvent(ta.R.urb,a);});a.addEventListener("lastSegmentPts",function(a){p.fireEvent(ta.R.rrb,a);});a.addEventListener("segmentPresenting",function(a){p.fireEvent(ta.R.ZW,a);});a.addEventListener("segmentAborted",function(a){p.fireEvent(ta.R.prb,a);});a.addEventListener("manifestPresenting",function(a){p.aya({I:parseInt(a.movieId),hW:a.previousMovieId?parseInt(a.previousMovieId):void 0,xz:!1});});a.addEventListener("skip",function(a){p.fireEvent(ta.R.Yi,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(p.$d.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),p.$d.trace("StreamingFailure, buffer status:"+JSON.stringify(p.GE())),D.config.p$a&&!p.zX&&Ea.Ab(function(){p.xd(p.re(fa.J.wGa,{Z:a.nativeCode,Sa:a.errormsg,mi:a.httpCode,zV:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){p.dV.push(a);});a.addEventListener("bufferingStarted",function(){p.un.set(ta.Df.Bi);});a.addEventListener("locationSelected",function(a){p.fireEvent(ta.R.Mq,a);});a.addEventListener("serverSwitch",function(a){var b;p.fireEvent(ta.R.CF,a);"video"===a.mediatype?b=f.wc.Da.VIDEO:"audio"===a.mediatype&&(b=f.wc.Da.AUDIO);B.Ub(b)&&p.Zrb(a.server,b);});a.addEventListener("bufferingComplete",function(b){p.$d.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},p.GE());p.xn=b;p.un.set(ta.Df.cd);y||(y=!0,p.Qc("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.zlb();D.config.Hmb&&!p.paused.value&&(l=!0,p.paused.set(!0,{$$:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){p.paused.value&&l&&(l=!1,p.paused.set(!1,{$$:!0}));p.Ig.blb();});a.addEventListener("endOfStream",function(a){p.Io("EndOfStream");p.Ig.vL(a);});a.addEventListener("asereportenabled",function(){p.xS=!0;});a.addEventListener("asereport",function(a){p.fireEvent(ta.R.RC,a);});a.addEventListener("aseexception",function(a){p.fireEvent(ta.R.QC,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=B.na(p.nf)?0:p.nf;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});p.s8={jqb:c,cfb:a.hptwbr,cwa:a.htwbr,VV:a.pbtwbr};a.rr&&(p.s8.ICa=a.rr);a.ra&&(p.s8.Wob=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;p.Ba=a.location.bandwidth;p.Ng=a.location.httpResponseTime;p.Mtb=a.stat.streamingBitrate;b&&(void 0===p.Iy&&(p.Iy={interval:D.config.XC,startTime:b.startTime,Ls:[],ku:[]}),p.Iy.Ls=p.Iy.Ls.concat(b.Ls),p.Iy.ku=p.Iy.ku.concat(b.ku));a.psdConservCount&&(p.qBa=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+p.I&&(p.qm=a);});a.addEventListener("startEvent",function(a){L._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&L._cad_global.prefetchEvents.QI(ma.He.fj.MEDIA,p.I);});a.addEventListener("requestComplete",function(a){var b;b=(a=a&&a.mediaRequest)&&a.hD&&a.hD.cadmiumResponse;b&&p.fireEvent(ta.R.Hv,{response:b,I:p.Xv(a.Db).I});});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===f.wc.Da.VIDEO?(c=p.Nva(a.streamId),b=p.Ee):a.mediaType===f.wc.Da.AUDIO&&(c=p.Gva(a.streamId),b=p.sj);c&&b?b.set(c,{lqa:a.movieTime,i1a:a.bandwidth}):p.$d.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=p.wm[a.target];c=B.na(p.nf)?p.nf:0;b||(b=p.wm[a.target]={});Object.keys(a.fields).forEach(function(f){var d,k,m,g;d=a.fields[f];if("object"!==typeof d||null===d)b[f]=d;else{k=d.type;if("count"===k)void 0===b[f]&&(b[f]=0),++b[f];else if(void 0!==d.value)if("array"===k){k=b[f];m=d.adjust;g=d.value;k||(k=b[f]=[]);m&&0<m.length&&m.forEach(function(a){g[a]-=c||0;});k.push(g);}else"sum"===k?(void 0===b[f]&&(b[f]=0),b[f]+=d.value):b[f]=d.value;else b[f]=d;}});}});};this.Pc.addListener(function(a){var b;if(p.mb)if(a.Ev&&a.Ev.reset)p.$d.trace("ASE previously rejected the audio track switch, resetted!");else{b=a.newValue;p.mb.nub({TC:b.vz,toJSON:function(){return b.og;}})?p.$d.trace("ASE accepted the audio track switch"):(p.$d.trace("ASE rejected the audio track switch"),a.oldValue.vz!==b.vz&&p.Pc.set(a.oldValue,{reset:!0}));}});this.addEventListener(ta.R.Lo,function(a){a.cause==n.wja&&(p.qR.set(ta.Df.Bi),p.mb.Cvb(p.Ig.yua()));});}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);p=a(188);q=a(187);c=a(123);m=a(287);k=a(574);u=a(285);r=a(55);h=a(573);A=a(283);I=a(9);F=a(182);D=a(13);O=a(66);l=a(282);N=a(54);n=a(57);Q=a(92);t=a(281);z=a(570);X=a(277);T=a(297);Y=a(4);V=a(232);M=a(3);fa=a(2);ma=a(113);U=a(23);P=a(231);ra=a(15);ka=a(104);Ba=a(18);Fa=a(34);Ea=a(44);B=a(16);G=a(103);Sb=a(276);Sa=a(334);Ra=a(130);S=a(180);Z=a(19);da=a(275);ea=a(40);ec=a(38);ta=a(14);bc=a(403);ga=a(183);ha=a(195);ia=a(60);na=a(124);la=a(299);oa=a(24);pa=a(56);sa=a(96);Ge=a(186);nf=a(273);a(87);Wa=a(389);Mc=a(22);qf=a(106);b.prototype.Qc=function(a){this.da.Qc(a);};b.prototype.ew=function(a){this.da.ew(a);};b.prototype.Hfb=function(){var a;a=this;this.Pc.addListener(function(b){return a.da.Pc.set(b.newValue);});this.Of.addListener(function(b){return a.da.Of.set(b.newValue);});this.zc.addListener(function(b){return a.da.zc.set(b.newValue);});this.Mi.addListener(function(b){return a.da.Mi.set(b.newValue);});this.pr.addListener(function(b){return a.da.pr.set(b.newValue);});this.Ee.addListener(function(b){return a.da.Ee.set(b.newValue);});this.sj.addListener(function(b){return a.da.sj.set(b.newValue);});this.Ze.addListener(function(b){return a.da.Ze.set(b.newValue);});this.Lf.addListener(function(b){return a.da.Lf.set(b.newValue);});this.Zb.addListener(function(b){return a.da.Zb.set(b.newValue);});this.ECa();};b.prototype.ECa=function(){this.da!==this.eca&&(this.da.Zb.set(this.Zb.value),this.yr(function(a){return a.Pc;},this.Sda),this.yr(function(a){return a.Of;},this.fwb),this.yr(function(a){return a.pr;},this.bwb),this.yr(function(a){return a.zc;},this.cwb),this.yr(function(a){return a.Mi;},this.Hvb),this.yr(function(a){return a.Ee;},this.ewb),this.yr(function(a){return a.sj;},this.Ivb),this.yr(function(a){return a.Lf;},this.Vvb),this.yr(function(a){return a.Ze;},this.Wvb),this.yr(function(a){return a.Zb;},this.Qvb),this.zc.set(this.da.zc.value),this.Pc.set(this.da.Pc.value),this.Of.set(this.da.Of.value),this.Mi.set(this.da.Mi.value),this.pr.set(this.da.pr.value),this.Ee.set(this.da.Ee.value),this.sj.set(this.da.sj.value),this.eca=this.da);};b.prototype.yr=function(a,b){this.eca&&a(this.eca).removeListener(b);a(this.da).addListener(b);};b.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.RAa=a;if(this.state.value==ta.ib.CB){this.$d.info("Playback loading",this);this.Ukb();this.Qc("asl_load_start");a=this.jR;c=a.endTime;B.Ub(a.startTime)?B.Ub(c)?this.Qc("asl_ended"):this.Qc("asl_in_progress"):this.Qc("asl_not_started");this.jR.WK(function(a){b.Qc("asl_load_complete");a.W?b.H5a():b.Em(a.errorCode||fa.J.Jga,a);});}};b.prototype.Hnb=function(){var a;try{if(this.state.value===ta.ib.LOADING){a={width:1,height:1};this.mz().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.eG=a;this.Hy=Y.V.get(P.IY).Moa({XA:M.Bb(this.S),I:this.I,IL:this.rq,Wa:this.Wa}).ba(M.ha);this.epa();this.m6a();}}catch(tf){this.Em(fa.J.RMa,{Z:fa.u.qh,Sa:Ba.ne(tf)});}};b.prototype.O2=function(a,b,c){var f,d,k;b=void 0===b?this.nE.Oy():b;c=void 0===c?this.ta.Tb():c;f=!!D.config.VFa&&!(b%D.config.VFa);d=a.nb;k=a.Db;a=a.Wa;b=Y.V.get(ga.Z_)(n.cH.index++,d,k,a,b,c,f,this.da,this.M7);this.KL[d]=b;1<this.pp.length&&(b.Et=this.Mxa.create(this,b,!1));b.iL=new Q.VOa(this,b);return d;};b.prototype.t7=function(a){return a?void 0:0;};b.prototype.Eq=function(a){return this.KL[a];};b.prototype.Xv=function(a){return this.pp.find(function(b){return b.Db===a;})||this.pp[0];};b.prototype.Zcb=function(a){return this.pp.find(function(b){b=b.wf;return!!b&&!!b.gxa&&b.gxa.sessionId===a;})||this;};b.prototype.Rob=function(a,b){var c,f;b=void 0===b?!0:b;c=this;f=this.Eq(a);return this.dDa(f).then(function(a){var d;if(!c.mb)throw new pa.Sc(fa.J.PO,fa.u.iea);c.jBa(a,f);a=[f.$b.Hra,f.$b.Mra];d=!1;try{d=!!c.mb.LC(f.ya,{Yub:a,replace:!1,S:f.Wa.S,ka:f.Wa.ka,Naa:!0,ji:!f.jw,Ey:b,Ps:c.T4(f.Db)},f.Db);}catch(Fb){throw pa.Sc.gT(fa.J.PO,Fb);}if(!d)throw new pa.Sc(fa.J.PO,fa.u.nGa);return c.wb.Dj.kCa(f).then(function(){if(!c.mb)throw new pa.Sc(fa.J.PO,fa.u.iea);c.mb.sS(""+f.I);});})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.re(a.code,a);});};b.prototype.Oab=function(){if(B.na(this.Fc.ats)&&B.na(this.Fc.at))return this.Fc.at-this.Fc.ats;};b.prototype.eua=function(){var a,b;a=this.AN();b=this.xI();return Math.min(a,b);};b.prototype.jcb=function(){if(B.na(this.Fc.shs)&&B.na(this.Fc.sh))return this.Fc.sh-this.Fc.shs;};b.prototype.JM=function(){this.background||(this.$d.info("Starting inactivity monitor for movie "+this.I),new l.iNa(this));};b.prototype.close=function(a){a&&(this.state.value==ta.ib.CLOSED?a():this.addEventListener(ta.R.closed,function(){a();}));this.Wca();};b.prototype.xd=function(a,b){var c,f,d;c=this;if(this.state.value==ta.ib.CB)this.ni||(this.ni=a,this.load());else{b&&(this.state.value==ta.ib.CLOSED?b():this.addEventListener(ta.R.closed,function(){b();}));f=function(){c.Wca(a);};d=D.config.Pra&&a&&D.config.Pra[a.errorCode];B.Cz(d)&&(d=Ba.de(d));this.$d.error("Fatal playback error",{Error:""+a,HandleDelay:""+d});0<=d?setTimeout(f,d):f();}};b.prototype.mN=function(){this.Jb.Kb(ta.R.mN);};b.prototype.Io=function(a,b){b=void 0===b?this.Db:b;this.PAa.push(this.ta.Tb().ba(M.ha)+"-"+b+"-"+a);};b.prototype.$$a=function(){this.sta();};b.prototype.C7=function(){var a;a=this.mb;return a&&(a=a.ma.zk.wa.id,void 0!==a)?a:null;};b.prototype.iz=function(){return void 0!==this.da.MR&&void 0===this.mb?this.da.MR:this.M7(this.Zb.value);};b.prototype.B7=function(){var a;a=this.M7(this.Ig.yua());return null===a||0>a||a>this.rq.ba(M.ha)?null:a;};b.prototype.qT=function(){var a;a=this.ya.choiceMap;if(a)return a.segments;};b.prototype.Tvb=function(a){this.Wa=Ra.zjb(function(a,b){return void 0!==b?b:a;},this.Wa,a);this.epa();};b.prototype.mz=function(a){a=void 0===a?this.Db:a;return(a=this.Xv(a).Of)&&a.value?a.value.uc:[];};b.prototype.Ceb=function(a){for(var b=R(this.pp),c=b.next();!c.done;c=b.next())if(c=(c=c.value.Ni)&&c.find(function(b){return b.id===a;}))return c;};b.prototype.Gva=function(a){for(var b=R(this.pp),c=b.next();!c.done;c=b.next())if(c=(c=c.value.Pc.value)&&c.uc.find(function(b){return b.Uc===a;}))return c;};b.prototype.Nva=function(a){for(var b=R(this.pp),c=b.next();!c.done;c=b.next())if(c=(c=c.value.Of.value)&&c.uc.find(function(b){return b.Uc===a;}))return c;};b.prototype.Po=function(a){var b,c;b=this.$qa(a);if(this.mb&&void 0!==a){c=this.T4(a,b);this.mb.iX(c,void 0,a);}return b.gc;};b.prototype.Bgb=function(){return"trailer"===this.De;};b.prototype.ywa=function(){return!!this.De&&0<=this.De.indexOf("billboard");};b.prototype.Hgb=function(){return!!this.De&&0<=this.De.indexOf("video-merch");};b.prototype.wE=function(){return this.Bgb()||this.ywa()||this.Hgb();};b.prototype.ldb=function(){return{tr:this.Fda,rt:this.Iba};};b.prototype.qt=function(a){return this.wm[a];};b.prototype.a2a=function(){return this.Nm?this.ta.Tb().ba(M.ha)-this.Nm:this.Ta.kf.ba(M.ha)-this.kT();};b.prototype.Zpa=function(){var a;if(this.Nm)return this.ta.Tb().ba(M.ha)-this.Nm;a=Y.V.get(oa.Ne).Hz;return this.MAa-(this.Bl.ba(M.ha)+a.ba(M.ha));};b.prototype.f2a=function(){return this.Nm?this.ta.Tb().ba(M.ha)-this.Nm:this.MAa-this.kT();};b.prototype.Mkb=function(a){var b,c;b=this.nf;c={};Ba.Xc(a,function(a,f){c[a]=f.map(function(a){return a-b;});});return c;};b.prototype.Xab=function(){var a,b;a=this.nf;b={};Ba.Xc(this.z3,function(c,f){b[c]=f.map(function(b){return b-a;});});return m.Os?{level:m.Os.Jua(),charging:m.Os.a7(),statuses:b}:null;};b.prototype.JT=function(){this.rta();return this.BN;};b.prototype.kT=function(){var a;a=this.Wa.SX;a=B.na(a)?a:this.Bl.ba(M.ha)+this.ta.Hz.ba(M.ha);ra.Ea(B.iw(a));return a;};b.prototype.I7=function(){return this.ta.Tb().ba(M.ha)-this.Bl.ba(M.ha);};b.prototype.ysb=function(){this.BN.HasRA=!0;};b.prototype.Xwb=function(){this.Vsb=!0;};b.prototype.FV=function(){this.WBa();};b.prototype.AN=function(){var a;a=this.hR();return a&&a.vbuflmsec||0;};b.prototype.xI=function(){var a;a=this.hR();return a&&a.abuflmsec||0;};b.prototype.aea=function(){var a;a=this.hR();return a&&a.vbuflbytes||0;};b.prototype.n3=function(){var a;a=this.hR();return a&&a.abuflbytes||0;};b.prototype.dDa=function(a){var b,c;a=void 0===a?this:a;b=Y.V.get(ha.r_);c=D.config.oW.enabled?ia.bd.Wm.Tja:this.wE()?ia.bd.Wm.j0:ia.bd.Wm.Xm;a={ia:a.ia,Wa:a.Wa,nb:a.I,UD:c};c=Y.V.get(na.$G)();return b.cE(a,c);};b.prototype.jBa=function(a,b){b=void 0===b?this:b;b.ya=a;a=this.TWa.create(this).xmb(a);b.$b=a;b.Of.set(a.q5);b.Pc.set(a.m5);b.zc.set(a.p5);};b.prototype.Fta=function(a,b){this.aya({I:a,hW:this.oD,xz:void 0===b?!1:b});};b.prototype.feb=function(a,b){this.Eq(a.nb)||this.O2(a);this.Fta(a.nb,!0);this.xd(b);};b.prototype.aya=function(a){var b,c;if(a.hW){if(a.I===this.oD)return;this.fireEvent(ta.R.EE,{I:this.oD});this.oD=a.I;a.xz||this.ECa();this.rE=this.Ta.pca;this.da.Nm||(this.da.Nm=this.ta.Tb().ba(M.ha));}b="boolean"===typeof this.Wa.MD?this.Wa.MD:D.config.MD;c=Y.V.get(la.Pka);b&&!a.xz&&c.MD(this);this.fireEvent(ta.R.wl,a);};b.prototype.H5a=function(){try{this.zn=new Ge.ZIa(this);this.Et=this.Mxa.create(this,this.da,!0);D.config.s2a&&new nf.wLa(this,Y.V.get(ec.Xj),this.log);D.config.WI&&this.WI(this);this.Hwb();}catch(Nc){this.Em(fa.J.QMa,{Z:fa.u.qh,Sa:Ba.ne(Nc)});}};b.prototype.Hwb=function(){this.ni?this.xd(this.ni):B.Lwa(this.I)?this.L2a():this.Em(fa.J.FMa,{Sa:""+this.I});};b.prototype.L2a=function(){var a;a=p.LF.pDa;a?a.W?this.m4():this.Em(fa.J.dha,a):(ra.Ea(!D.config.CS),this.H2());};b.prototype.m4=function(){var a;a=this;!this.background&&D.config.m4?n.zja(function(){a.H2();},this):this.H2();};b.prototype.H2=function(){var a;a=this;this.state.value==ta.ib.LOADING&&(D.config.a6&&!this.wE()?p.LF.wy(n.nRa,function(b){b.W?(a.PU=b.PU,D.config.aX?a.CI():a.kca()):a.Em(fa.J.cha);},!0):D.config.aX?this.CI():this.kca());};b.prototype.kca=function(){var a;a=this;this.state.value==ta.ib.LOADING&&(this.Qc("ic"),this.lnb.Brb(function(b){b.error&&a.log.error("Error sending persisted playdata",fa.uo(b));try{a.CI();}catch(Pc){a.log.error("playback.authorize threw an exception",Pc);a.Em(fa.J.HGa,{Z:fa.u.qh,Sa:Ba.ne(Pc)});}}));};b.prototype.CI=function(){var a,b;a=this;if(this.state.value==ta.ib.LOADING){this.log.info("Authorizing",this);b=this.ta.Tb().ba(M.ha);this.Qc("ats");this.zn.CI(function(c){var f;if(a.state.value==ta.ib.LOADING){a.Qc("at");f=a.ya;a.ew({pr_ats:f&&B.Ub(f.yA)?f.yA:b,pr_at:f&&B.Ub(f.mF)?f.mF:a.ta.Tb().ba(M.ha)});c.W?0<a.$b.Ni.length&&a.$b.m5&&a.$b.q5&&a.$b.p5?a.vob():a.Em(fa.J.XNa,a.Bib(a.$b)):a.Em(fa.J.MANIFEST,c);}});}};b.prototype.vob=function(){var a;a=this;this.RAa?(this.log.info("Processing post-authorize",this),this.RAa(this,function(b){b.W?a.zFa():a.Em(fa.J.VMa,b);})):this.zFa();};b.prototype.zFa=function(){var b,d,k,m;b=this;if(this.state.value==ta.ib.LOADING){d={};this.Jl=c.Zk;D.config.X$a&&this.Jl.RI();c.Dc.set(a(153)(D.config),!0,Y.Uf("ASE"));c.Dc.set({maxNumberTitlesScheduled:D.config.VAa?D.config.VAa.maxNumberTitlesScheduled:1},!0,this.$d);D.config.Z3a&&3E5>this.ya.duration?c.Dc.UE({expandDownloadTime:!1},!0,this.$d):c.Dc.UE({expandDownloadTime:c.Dc.zAa().expandDownloadTime},!0,this.$d);this.background||D.config.Inb&&"postplay"===this.De?c.Dc.UE({initBitrateSelectorAlgorithm:"historical"},!0,this.$d):c.Dc.UE({initBitrateSelectorAlgorithm:c.Dc.zAa().initBitrateSelectorAlgorithm},!0,this.$d);m=this.Of&&this.Of.value&&this.Of.value.uc;m&&m.length&&(k=m[0].uf);c.Dc.UE(D.Lqa(this.Wa.Ih,this.Wa.xU,k),!0,this.$d);d=Y.V.get(U.df).yk(d,D.Mqa(this.De));this.Ntb=c.Dc.fm(d);f.platform.events.emit("networkchange",this.$b.Urb);this.Jl.WX({Po:function(a,c){return b.Po(c);},fK:function(){return b.fK();},xK:function(){return b.xK();}});this.Hnb();}};b.prototype.m6a=function(){var a,b,c,f,d;a=this;try{this.wb=new k.LOa(this);this.wb.open();b=new Promise(function(b){a.wb.addEventListener(S.bi.XDa,b);});this.Ig=new Sb.POa(this);c={Zd:!1,bG:D.config.bG,aY:D.config.zS,$K:!1,ji:!this.jw,Naa:!!this.Wa.xU,ka:this.Wa.ka};f={iA:this.log,wk:this.wk,sessionId:this.I+"-"+this.ia,ia:this.ia,WE:this.kD,Zg:G.Fh?G.Fh.Zg:void 0,FD:0===D.config.wJ||0!==this.ia%D.config.wJ?!1:!0};this.Csa=f.FD;d=this.Eq(this.I).Db;this.mb=this.Jl.Qo(this.ya,[this.$b.Hra,this.$b.Mra],this.S,c,f,void 0,{oe:function(){return a.Zb.value;},y7:function(){return a.wb;}},this.Ntb,this.T4(d),d);this.B_a(this.mb);b.then(function(){a.state.value!==ta.ib.CLOSING&&a.state.value!==ta.ib.CLOSED&&a.mb.open();});this.Zb.set(this.S);this.ko=new h.FTa(this);if("boolean"===typeof this.Wa.AW?this.Wa.AW:D.config.AW)this.gN=new z.GTa(this);this.JM();n.Bja.forEach(function(b){b(a);});this.Tkb();}catch(uf){this.Em(fa.J.SMa,{Z:fa.u.qh,Sa:Ba.ne(uf)});}};b.prototype.Ukb=function(){ra.Ea(this.state.value==ta.ib.CB);this.nf=this.ta.Tb().ba(M.ha);this.state.set(ta.ib.LOADING);L._cad_global.prefetchEvents&&L._cad_global.prefetchEvents.tnb(this.I);};b.prototype.Em=function(a,b){this.done||(this.done=!0,b instanceof pa.Sc?this.xd(this.re(b.code,b)):this.xd(this.re(a,b)));};b.prototype.WI=function(a){var c,f;function b(){var b,f;b=m.Os.a7()+"";f=a.z3[b];f||(f=a.z3[b]=[]);f.push(c.ta.Tb().ba(M.ha));c.log.trace("charging change event",{level:m.Os.Jua(),charging:m.Os.a7()});}c=this;f=m.Os.fIa;m.Os.addEventListener(f,b);a.addEventListener(ta.R.gf,function(){m.Os.removeEventListener(f,b);});};b.prototype.Wca=function(a){var b;b=this;if(this.state.value==ta.ib.CB||this.state.value==ta.ib.LOADING||this.state.value==ta.ib.cd){this.$d.info("Playback closing",this,a?{ErrorCode:a.lS}:void 0);this.Io("Closing");N.Le.removeListener(N.pl,this.Sza);this.ni=a;this.rta();this.mb&&this.mb.flush();try{this.Jb.Kb(ta.R.gf,{movieId:this.oD});}catch(Pc){this.$d.error("Unable to fire playback closing event",Pc);}this.state.set(ta.ib.CLOSING);this.da.MR=this.iz();this.sGa();this.Vsb||Ea.Ab(function(){return b.WBa();});}};b.prototype.sta=function(){var a;a=this.Zb.value;this.fhb!=a&&(this.fhb=a,this.Jb.Kb(ta.R.uda));};b.prototype.WBa=function(){var a,b;a=this;ra.Ea(this.state.value==ta.ib.CLOSING);b=this.PU;this.PU=void 0;b?p.LF.release(b,function(b){ra.Ea(b.W);a.t4();}):this.t4();};b.prototype.sGa=function(){this.mb&&(this.mb.close(),this.mb.oc());this.Jl&&this.ni&&this.Jl.RI();delete this.mb;delete this.Jl;};b.prototype.t4=function(){var a;this.t4=I.Qe;ra.Ea(this.state.value==ta.ib.CLOSING);a=n.Tp.indexOf(this);ra.Ea(0<=a);n.Tp.splice(a,1);this.state.set(ta.ib.CLOSED);this.Jb.Kb(ta.R.closed,void 0,!0);this.Jb.Fg();delete this.wf;this.da.FV();};b.prototype.epa=function(){this.Wa.playbackState&&("number"===typeof this.Wa.playbackState.volume&&this.volume.set(this.Wa.playbackState.volume),"boolean"===typeof this.Wa.playbackState.muted&&this.muted.set(this.Wa.playbackState.muted));};b.prototype.rta=function(){this.Jb.Kb(ta.R.MDa,{BN:this.BN});};b.prototype.Zrb=function(a,b){var c;c=this.Ni.filter(function(b){return b.id===a;})[0];c&&this.Wb[b].set(c);};b.prototype.GE=function(){return{AudioBufferLength:this.xI(),VideoBufferLength:this.AN()};};b.prototype.hR=function(){if(this.mb)return this.mb.V8(!1);};b.prototype.fK=function(){return this.Qma;};b.prototype.xK=function(){this.Qma++;};b.prototype.Tkb=function(){this.state.value==ta.ib.LOADING&&this.state.set(ta.ib.cd);};b.prototype.$qa=function(a){var b,c;a=void 0===a?this.Db:a;b=void 0;c=this.Xv(a);a=this.mz(a).filter(function(a){var f;f=c.iL.bu(a);f&&(b=b||[],b.push({stream:a,BD:f}));return!f;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var f=0;f<a.length;f++)a[f].lower=a[f-1],a[f].Ueb=a[f+1];return{gc:a,P7a:b};};b.prototype.T4=function(a,b){var c,f,d,k,m,g;a=void 0===a?this.Db:a;b=void 0===b?this.$qa(a):b;c=b.gc;f=b.P7a;d=[];this.mz(a).forEach(function(a){-1==d.indexOf(a.uf)&&d.push(a.uf);});k=null;m=null;c.forEach(function(a){null===k?m=k=a.O:m<a.O?m=a.O:k>a.O&&(k=a.O);});g=[];d.forEach(function(a){var b;b={ranges:[],profile:a};k&&m&&(b.ranges.push({min:k,max:m}),f&&(b.disallowed=f.filter(function(b){return b.stream.uf===a;})),g.push(b));});return g;};qa.Object.defineProperties(b.prototype,{pp:{configurable:!0,enumerable:!0,get:function(){var a;a=this;return Object.keys(this.KL).map(function(b){return a.KL[b];});}},da:{configurable:!0,enumerable:!0,get:function(){return this.KL[this.oD];}},S:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.Hy?this.Hy:this.pp[0].Wa.S||0;}},$b:{configurable:!0,enumerable:!0,get:function(){return this.da.$b;},set:function(a){this.da.$b=a;}},ZS:{configurable:!0,enumerable:!0,get:function(){return this.da.Wa.ZS;}},$S:{configurable:!0,enumerable:!0,get:function(){return this.da.Wa.$S;}},index:{configurable:!0,enumerable:!0,get:function(){return this.da.index;}},Db:{configurable:!0,enumerable:!0,get:function(){return this.da.Db;}},wf:{configurable:!0,enumerable:!0,get:function(){return this.da.wf;},set:function(a){this.da.wf=a;}},Nm:{configurable:!0,enumerable:!0,get:function(){return this.da.Nm;},set:function(a){this.da.Nm=a;}},wv:{configurable:!0,enumerable:!0,get:function(){return this.da.wv;},set:function(a){this.da.wv=a;}},vv:{configurable:!0,enumerable:!0,get:function(){return this.da.vv;},set:function(a){this.da.vv=a;}},kU:{configurable:!0,enumerable:!0,get:function(){return this.da.kU;},set:function(a){this.da.kU=a;}},ya:{configurable:!0,enumerable:!0,get:function(){return this.da.ya;},set:function(a){this.da.ya=a;}},Hy:{configurable:!0,enumerable:!0,get:function(){return this.da.Hy;},set:function(a){this.da.Hy=a;}},ZM:{configurable:!0,enumerable:!0,get:function(){return this.da.ZM;},set:function(a){this.da.ZM=a;}},Wa:{configurable:!0,enumerable:!0,get:function(){return this.da.Wa;},set:function(a){this.da.Wa=a;}},Et:{configurable:!0,enumerable:!0,get:function(){return this.da.Et;},set:function(a){this.da.Et=a;}},Al:{configurable:!0,enumerable:!0,get:function(){return this.da.Al;}},I:{configurable:!0,enumerable:!0,get:function(){return this.da.I;}},De:{configurable:!0,enumerable:!0,get:function(){return this.da.De;}},tn:{configurable:!0,enumerable:!0,get:function(){return this.da.tn;}},wr:{configurable:!0,enumerable:!0,get:function(){return this.da.wr;}},ju:{configurable:!0,enumerable:!0,get:function(){return this.da.ju;}},Sj:{configurable:!0,enumerable:!0,get:function(){return this.da.Sj;}},Xf:{configurable:!0,enumerable:!0,get:function(){return this.da.Xf;}},jw:{configurable:!0,enumerable:!0,get:function(){return this.da.jw;}},vp:{configurable:!0,enumerable:!0,get:function(){return this.da.vp;}},nk:{configurable:!0,enumerable:!0,get:function(){return this.da.nk;}},Ni:{configurable:!0,enumerable:!0,get:function(){return this.da.Ni;}},fW:{configurable:!0,enumerable:!0,get:function(){return this.da.fW;}},rq:{configurable:!0,enumerable:!0,get:function(){return this.da.rq;},set:function(a){this.da.rq=a;}},ia:{configurable:!0,enumerable:!0,get:function(){return this.da.ia;}},mh:{configurable:!0,enumerable:!0,get:function(){return this.da.mh;}},Bl:{configurable:!0,enumerable:!0,get:function(){return this.da.Bl;}},rE:{configurable:!0,enumerable:!0,get:function(){return this.da.rE;},set:function(a){this.da.rE=a;}},kD:{configurable:!0,enumerable:!0,get:function(){return this.da.kD;}},FA:{configurable:!0,enumerable:!0,get:function(){return this.da.FA;}},background:{configurable:!0,enumerable:!0,get:function(){return this.da.background;},set:function(a){this.da.background=a;}},Y4:{configurable:!0,enumerable:!0,get:function(){return this.da.Y4;}},Fc:{configurable:!0,enumerable:!0,get:function(){return this.da.Fc;}},wn:{configurable:!0,enumerable:!0,get:function(){return this.da.wn;}},L5:{configurable:!0,enumerable:!0,get:function(){return this.da.L5;}},iL:{configurable:!0,enumerable:!0,get:function(){return this.da.iL;}},og:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.I,TrackingId:this.mh,Xid:this.ia};}}});d.qRa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kea="BandwidthMeterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.$m||(d.$m={});g[g.LO=0]="NOT_LOADED";g[g.LOADING=1]="LOADING";g[g.LOADED=2]="LOADED";g[g.IG=3]="LOAD_FAILED";g[g.Fia=4]="PARSE_FAILED";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pka="TrickPlayManagerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Y_="PlaybackMilestoneStoreSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pja="PboRequestFactorySymbol";},function(g,d,a){var k,u;function b(a){return!(!a||!a.gA&&!a.pboc||!a.code&&!a.code);}function f(a){return!(!a||!a.Lc);}function p(a){return!!(a instanceof Error);}function q(a){switch(a){case"ACCOUNT_ON_HOLD":return u.u.MPa;case"STREAM_QUOTA_EXCEEDED":return u.u.QPa;case"INSUFFICICENT_MATURITY":return u.u.SPa;case"TITLE_OUT_OF_WINDOW":return u.u.YPa;case"CHOICE_MAP_ERROR":return u.u.PPa;case"BadRequest":return u.u.UPa;case"Invalid_SemVer_Format":return u.u.TPa;case"RESTRICTED_TO_TESTERS":return u.u.XPa;case"AGE_VERIFICATION_REQUIRED":return u.u.NPa;case"BLACKLISTED_IP":return u.u.OPa;case"DEVICE_EOL_WARNING":return u.u.L_;case"DEVICE_EOL_FINAL":return u.u.Hia;case"INCORRECT_PIN":return u.u.Iia;case"MOBILE_ONLY":return u.u.WPa;case"MDX_CONTROLLER_CTICKET_INVALID":return u.u.VPa;case"VIEWABLE_RESTRICTED_BY_PROFILE":return u.u.ZPa;default:return u.u.uga;}}function c(a,b){return new k.Sc(a,q(b.code),"BadRequest"===b.code?u.b_.FHa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function m(a,b){return new k.Sc(a,b.Lc,b.Gg,void 0,b.Vq,b.message,b.yD,b.data);}Object.defineProperty(d,"__esModule",{value:!0});k=a(56);u=a(2);d.ngb=b;d.wJb=f;d.qU=p;d.vIb=q;d.Hn=function(a,d){return f(d)?m(a,d):b(d)?c(a,d):p(d)?k.Sc.gT(a,d):new k.Sc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,d);};d.wIb=c;d.uIb=m;d.N1a=function(a,b,c,f){var d,k;a=a.Ocb(f);d=b.nDa[c];if(void 0===d)throw{gA:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};f=d.version;if(void 0===f)throw{gA:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};k=b.tE&&d.serviceNonMember?d.serviceNonMember:d.service;if(void 0===k)throw{gA:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};d=d.orgOverride;if(void 0===d&&(d=b.gAa,void 0===d))throw{gA:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return a+"/"+d+"/"+k+"/"+f+"/router";};d.EGb=function(){return{"Content-Type":"text/plain"};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nka="TransportFactorySymbol";d.mia="MslTransportSymbol";d.ska="SslTransportSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cja="PboDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dia="MediaRequestConstructorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dia="OpenConnectSideChannelSymbol";d.eia="MediaRequestDownloaderSymbol";},function(g,d,a){var A,I,F;function b(a,b,c){this.type=a;this.size=b;this.Dv=c;}function f(a){var c,f,d,k,m;a:{c=a.position;if(8<=a.Bj()){f=a.Oa();d=a.dr(4);if(!I.test(d))throw a.seek(c),Error("mp4-badtype");if(1==f){if(8>a.Bj()){a.seek(c);c=void 0;break a;}f=a.Zf();}if(!(8<=f))throw a.seek(c),Error("mp4-badsize");if("uuid"==d){if(16>a.Bj()){a.seek(c);c=void 0;break a;}d=a.Ww();}c={type:d,offset:c,size:f,Dv:c+f-a.position};}else c=void 0;}if(c&&c.Dv<=a.Bj()){k=c.type;f=c.size;m=c.Dv;d=new b(k,f,m);k=F[k];if(a.Bj()<m)throw Error("mp4-shortcontent");k?(m=new A(a.Bd(m)),k(d,m)):a.skip(m);a.seek(c.offset);d.raw=a.Bd(f);return d;}}function p(a,b){for(var c=[],d={},k,m;0<b.Bj();){k=f(b);if(!k)throw Error("mp4-badchildren");m=k.type;c.push(k);d[m]||(d[m]=k);}a.children=c;a.x6=d;}function q(a,b){a.version=b.tc(1);a.Ue=b.tc(3);}function c(a,b){b.skip(6);a.t6a=b.Cb();b.skip(8);a.channelCount=b.Cb();a.CA=b.Cb();b.skip(4);a.sampleRate=b.Cb();b.skip(2);p(a,b);}function m(a,b){var c;b.skip(6);a.t6a=b.Cb();b.skip(16);a.width=b.Cb();a.height=b.Cb();a.bJb=b.Oa();a.RMb=b.Oa();b.skip(4);a.lab=b.Cb();c=b.ue();a.v3a=b.dr(c);b.skip(31-c);a.depth=b.Cb();b.skip(2);p(a,b);}function k(a,b){q(a,b);a.NHb=b.tc(3);a.OHb=b.ue();a.nw=b.Bd(16);}function u(a,b){for(var c=[],f;b--;)f=a.Cb(),c.push(a.Bd(f));return c;}function r(a){var b;b=a.Bd(2);a={VLb:b[1]>>1&7,ULb:!!(b[1]&1),NLb:a.Cb()};h(a,(b[0]<<8|b[1])>>4);return a;}function h(a,b){a.OLb=b>>4&3;a.TLb=b>>2&3;a.RLb=b&3;return a;}A=a(594);I=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.Tv=function(a){var b,c,f,d,k;b=this;a=a.split("/");for(d=0;d<a.length&&b;d++){f=a[d].split("|");c=void 0;for(k=0;k<f.length&&!c;k++)c=f[k],c=b.x6&&b.x6[c];b=c;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};F={ftyp:function(a,b){a.XJb=b.dr(4);a.qKb=b.Oa();for(a.n3a=[];4<=b.Bj();)a.n3a.push(b.dr(4));},moov:p,sidx:function(a,b){q(a,b);a.xLb=b.Oa();a.xda=b.Oa();a.O5=1<=a.version?b.Zf():b.Oa();a.z6=1<=a.version?b.Zf():b.Oa();b.skip(2);for(var c=b.Cb(),f=[],d,k;c--;){d=b.Oa();k=d>>31;if(0!==k)throw Error("mp4-badsdix");d&=2147483647;k=b.Oa();b.skip(4);f.push({size:d,duration:k});}a.yLb=f;},moof:p,mvhd:function(a,b){var c;q(a,b);c=1<=a.version?8:4;a.Wg=b.tc(c);a.modificationTime=b.tc(c);a.xda=b.Oa();a.duration=b.tc(c);a.uLb=b.$L();a.volume=b.tW();b.skip(70);a.AKb=b.Oa();},pssh:function(a,b){var c;q(a,b);a.p8a=b.Ww();c=b.Oa();a.data=b.Bd(c);},trak:p,mdia:p,minf:p,stbl:p,stsd:function(a,b){q(a,b);b.Oa();p(a,b);},encv:m,avc1:m,hvcC:m,hev1:m,mp4a:c,enca:c,"ec-3":c,avcC:function(a,b){a.version=b.ue();a.nGb=b.ue();a.rLb=b.ue();a.mGb=b.ue();a.NJb=(b.ue()&3)+1;a.cMb=u(b,b.ue()&31);a.dLb=u(b,b.ue());},pasp:function(a,b){a.YIb=b.Oa();a.PMb=b.Oa();},sinf:p,frma:function(a,b){a.vHb=b.dr(4);},schm:function(a,b){q(a,b);a.arb=b.dr(4);a.YLb=b.Oa();a.Ue&1&&(a.XLb=b.nba());},schi:p,tenc:k,mvex:p,trex:function(a,b){q(a,b);a.cb=b.Oa();a.g7a=b.Oa();a.uD=b.Oa();a.Kra=b.Oa();a.Jra=r(b);},traf:p,tfhd:function(a,b){var c;q(a,b);a.cb=b.Oa();c=a.Ue;c&1&&(a.rGb=b.Zf());c&2&&(a.QLb=b.Oa());c&8&&(a.uD=b.Oa());c&16&&(a.Kra=b.Oa());c&32&&(a.Jra=r(b));},saio:function(a,b){q(a,b);a.Ue&1&&(a.Y0a=b.Oa(),a.Z0a=b.Oa());for(var c=1<=a.version?8:4,f=b.Oa(),d=[];f--;)d.push(b.tc(c));a.LCa=d;},mdat:function(a,b){a.data=b.Bd(b.Bj());},tkhd:function(a,b){var c;q(a,b);c=1<=a.version?8:4;a.Wg=b.tc(c);a.modificationTime=b.tc(c);a.cb=b.Oa();b.skip(4);a.duration=b.tc(c);b.skip(8);a.ihb=b.Cb();a.W_a=b.Cb();a.volume=b.tW();b.skip(2);b.skip(36);a.width=b.$L();a.height=b.$L();},mdhd:function(a,b){var c;q(a,b);c=1<=a.version?8:4;a.Wg=b.tc(c);a.modificationTime=b.tc(c);a.xda=b.Oa();a.duration=b.tc(c);c=b.Cb();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){q(a,b);a.bMb=b.Oa();},tfdt:function(a,b){q(a,b);a.FI=b.tc(1<=a.version?8:4);8==b.Bj()&&b.skip(8);},saiz:function(a,b){q(a,b);a.Ue&1&&(a.Y0a=b.Oa(),a.Z0a=b.Oa());for(var c=b.ue(),f=b.Oa(),d=[];f--;)d.push(c||b.ue());a.SLb=d;},trun:function(a,b){var c,f;q(a,b);c=b.Oa();f=a.Ue;f&1&&(a.xHb=b.Oa());f&4&&(a.pIb=r(b));for(var d=[],k;c--;)k={},f&256&&(k.duration=b.Oa()),f&512&&(k.size=b.Oa()),f&1024&&(k.Ue=b.Oa()),f&2048&&(k.aHb=b.Oa()),d.push(k);a.bo=d;},sdtp:function(a,b){q(a,b);for(var c=[];0<b.Bj();)c.push(h({},b.ue()));a.bo=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){q(a,b);a.fileSize=b.Zf();a.xda=b.Zf();a.duration=b.Zf();a.Pza=b.Zf();a.fMb=b.Zf();1<=a.version&&(a.wKb=b.Zf(),a.xKb=b.Oa(),a.Qza=b.Zf(),a.vta=b.Oa(),a.gta=b.Ww());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){q(a,b);a.Ue&1&&(a.dGb=b.tc(3),a.HJb=b.ue(),a.Sgb=b.Ww());a.MLb=b.Oa();a.X0a=b.Bd(b.Bj());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){q(a,b);a.GV=b.Oa();a.tJ=b.Cb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":k,"636F6D2E-6E65-7466-6C69-782E6974726B":p,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){q(a,b);a.lpa=b.Ww();a.Wg=b.Zf();a.I=b.Zf();a.Sn=b.Zf();a.NW=b.Cb();a.OW=b.Cb();a.Ugb=b.Bd(16);a.$tb=b.Bd(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){q(a,b);a.FGb=b.Bd(b.Bj());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;q(a,b);a.trb=b.Zf();c=b.Oa();a.Rc=[];for(var f=0;f<c;f++)a.Rc.push({duration:b.Oa(),size:b.Cb()});},"636F6D2E-6E65-7466-6C69-782E69736567":p,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;q(a,b);a.lpa=b.Ww();a.duration=b.Oa();c=b.Oa();a.bo=[];for(var f=0;f<c;f++)a.bo.push({Oi:b.Oa(),duration:b.Oa(),NV:b.Cb(),OV:b.Cb(),rX:b.Cb(),sX:b.Cb(),Iq:b.Zf(),oE:b.Oa()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,f,k,m;q(a,b);c=b.Oa();f=b.ue();a.bo=[];for(var d=0;d<c;d++){k=b.ue();m=k>>6;k=k&63;0!=m&&0===k&&(k=f);a.bo.push({Ksa:m,lw:b.Bd(k)});}}};g.T={vLb:function(a,b){a=new A(a);b&&a.seek(b);return f(a);},lba:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new A(a);c=[];for(b&&a.seek(b);b=f(a);)c.push(b);return c;}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cfa="ChunkMediaSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cia="MediaHttpSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lja="PrefetchEventsConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fla="WindowUtilsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tia="NfCryptoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aha="LogDisplayConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sfa="DxManagerSymbol";d.Rfa="DxManagerProviderSymbol";},function(g,d,a){var f,p,q,c,m;function b(a,b,f){this.Sb=a;this.is=b;this.prefix=f;this.RL=this.vm=!1;this.Qpa=new c.RTa(b);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);p=a(23);q=a(21);c=a(617);m=a(8);d.xIa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";d.yIa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.zIa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.qG="";b.prototype.show=function(){this.vm||(this.G3a(),this.jD&&m.Wd.body.appendChild(this.jD),this.rf&&m.Wd.body.appendChild(this.rf),this.HI&&m.Wd.body.appendChild(this.HI),this.KA&&m.Wd.getElementsByTagName("head")[0].appendChild(this.KA),this.vm=!0,this.refresh());};b.prototype.mE=function(){this.vm&&(this.rf&&m.Wd.body.removeChild(this.rf),this.HI&&m.Wd.body.removeChild(this.HI),this.jD&&m.Wd.body.removeChild(this.jD),this.KA&&m.Wd.getElementsByTagName("head")[0].removeChild(this.KA),this.KA=this.aN=this.jD=this.HI=this.rf=void 0,this.vm=!1);};b.prototype.toggle=function(){this.vm?this.mE():this.show();};b.prototype.Vub=function(){(this.RL=!this.RL)||this.refresh();};b.prototype.dbb=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.G3a=function(){var a;a=this;this.KA=m.Wd.createElement("style");this.KA.type="text/css";this.KA.innerHTML=this.dbb(this.prefix);this.HI=this.Sb.createElement("div",d.xIa,void 0,{"class":this.prefix+"-display-blur"});this.rf=this.Sb.createElement("div",d.yIa,void 0,{"class":this.prefix+"-display"});this.jD=this.Sb.createElement("div",d.zIa,void 0,{"class":this.prefix+"-display"});this.oua().forEach(function(b){return a.jD.appendChild(b);});};b.prototype.I3a=function(a){a=this.Sb.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(F){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return!this.vm||this.RL?Promise.resolve():this.UBa().then(function(b){if(b&&(b=a.I3a(b),a.rf)){a.aN&&(a.rf.removeChild(a.aN),a.aN=void 0);a.aN=b;a.rf.appendChild(a.aN);b=a.rf.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.GCa);(b=a.rf.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(p.df)),g.__param(1,f.l(q.Fe)),g.__param(2,f.oh())],a);d.$O=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qfa="DxDisplaySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.S_={LK:"keepAlive",splice:"splice"};d.dja="PboEventSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fja="PlaydataConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bja="PboCachedPlaydataSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fja="PboLicenseResponseTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eja="PboLicenseRequestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oja="PboReleaseLicenseCommandSymbol";},function(g,d,a){var c,m,k,u,r,h;function b(a){var b;a=new k.jB(a);if(1481462272!=a.Oa())throw Error("Invalid header");b={XMR:{Version:a.Oa(),RightsID:a.qf(16)}};f(a,b.XMR,a.buffer.length);return b;}function f(a,b,c){var d,k,m,g,r;for(;a.position<c;){d=a.Cb();k=a.Oa();k=k-8;switch(d){case 1:m="OuterContainer";break;case 2:m="GlobalPolicy";break;case 3:m="MinimumEnvironment";break;case 4:m="PlaybackPolicy";break;case 5:m="OutputProtection";break;case 6:m="UplinkKID";break;case 7:m="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:m="AnalogVideoOutputConfiguration";break;case 9:m="KeyMaterial";break;case 10:m="ContentKey";break;case 11:m="Signature";break;case 12:m="DeviceIdentification";break;case 13:m="Settings";break;case 18:m="ExpirationRestriction";break;case 42:m="ECCKey";break;case 48:m="ExpirationAfterFirstPlayRestriction";break;case 50:m="PlayReadyRevocationInformationVersion";break;case 51:m="EmbeddedLicenseSettings";break;case 52:m="SecurityLevel";break;case 54:m="PlayEnabler";break;case 57:m="PlayEnablerType";break;case 85:m="RealTimeExpirationRestriction";break;default:m="Other";}g={Type:p(d)};r=b[m];r?h.isArray(r)?r.push(g):(b[m]=[],b[m].push(r),b[m].push(g)):b[m]=g;switch(d){case 1:case 2:case 4:case 7:case 9:case 54:f(a,g,a.position+k);break;case 5:g.Reserved1=a.Cb();g.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Cb();g.MinimumAnalogVideoOutputProtectionLevel=a.Cb();g.Reserved2=a.Cb();g.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Cb();break;case 10:g.Reserved=a.qf(16);g.SymmetricCipherType=a.Cb();g.AsymmetricCipherType=a.Cb();k=a.Cb();g.EncryptedKeyLength=k;d=a.qf(k);g.EncryptedKeyData=10>=k?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 11:g.SignatureType=a.qf(2);k=a.Cb();d=a.qf(k);g.SignatureData=10>=k?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 13:g.Reserved=a.Cb();break;case 18:g.BeginDate=a.Oa();g.EndDate=a.Oa();break;case 42:g.CurveType=a.qf(2);k=a.Cb();d=a.qf(k);g.Key=10>=k?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 48:g.ExpireAfterFirstPlay=a.Oa();break;case 50:g.Sequence=a.Oa();break;case 51:g.LicenseProcessingIndicator=a.Cb();break;case 52:g.MinimumSecurityLevel=a.Cb();break;case 57:g.PlayEnablerType=q(a.qf(16));break;case 85:break;default:g.OtherData=a.qf(k);}}}function p(a){return"0x"+a.toString(16);}function q(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(d,"__esModule",{value:!0});c=a(9);m=a(4);k=a(134);u=a(125);r=a(199);h=a(16);d.IHb=function(a,f,d){switch(f){case c.dZ:a&&(a=m.o1a(a),r.kGa(a,function(a){a.W&&(a=a.object)&&(a=u.zbb(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=u.Cmb(a))&&(a=m.$k(a))&&(a=b(a))&&d(a);}));}};d.JHb=b;d.KHb=f;d.MHb=p;d.LHb=q;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$ia="PboAcquireLicenseCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ija="PboManifestCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ega="HttpRequesterSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qga="FtlDataParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sia="NetworkMonitorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gla="XhrFactorySymbol";},function(g,d,a){var f,p,q,c,m,k,u,r,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(151);p=a(74);q=a(18);c=a(2);m=a(15);k=a(8);u=a(16);r=a(1);a=a(17);b.prototype.construct=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b]||(f[b]=[]);f[b].push(a);});d=[];q.Xc(f,function(a,f){d.push(c.Ydb(f,b));});return{urls:d};};b.prototype.Ydb=function(a,b){var c,f,d,k;c=this;f=a[0];d={url:f.url,bitrate:f.O,cdnid:u.Xe(f.Wb)?f.Wb.id:f.Wb,dltype:f.X7a,id:f.Uc};k={};a.forEach(function(a){var b;b=c.cgb(a)?"fail":"success";k[b]||(k[b]=[]);k[b].push(a);});q.Xc(k,function(a,f){"fail"===a?d.failures=c.Sbb(f,b):"success"===a&&(d.downloads=c.Ibb(f,b));});return d;};b.prototype.Ibb=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.b3a;f[b]||(f[b]=[]);f[b].push(a);});d=[];q.Xc(f,function(a,f){var k;k=[];f.forEach(function(f){k.push(f);c.Xfb(f)&&(d.push(c.sua(k,b,a)),k=[]);});0<k.length&&d.push(c.sua(k,b,a));});return d;};b.prototype.sua=function(a,b,c){var r;for(var f=a.sort(function(a,b){return a.Fj.rg<b.Fj.rg?-1:a.Fj.rg>b.Fj.rg?1:0;}),d=f[0].Fj,k=d.requestTime,m=d.rg,d=d.Hl,g=1;g<a.length;g++){r=a[g].Fj;r.requestTime<k&&(k=r.requestTime);r.rg<m&&(m=r.rg);r.Hl>d&&(d=r.Hl);}g=this.ddb(f);r=f[f.length-1];return{time:k-b,tcpid:c?parseInt(c):-1,tresp:m-k,first:g,ranges:this.edb(f,g),dur:d-m,trace:this.Qdb(a),status:this.DT(r)};};b.prototype.ddb=function(a){var b;b=0;a.forEach(function(a){a.cr&&(b=k.wo(b,a.cr[0]));});return b;};b.prototype.edb=function(a,b){var c;c=[];a.forEach(function(a){a.cr?c.push([a.cr[0]-b,a.cr[1]-b]):c.push([0,-1]);});return c;};b.prototype.Qdb=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.Fj;if(c){f=a.requestTime-c.Hl;0<f&&b.push([f,-2]);f=k.Um(c.Hl,a.requestTime);f=a.rg-f;0<f&&b.push([f,-3]);}b.push([a.Hl-a.rg,a.Dv||0]);c=a;});return b;};b.prototype.Xfb=function(a){if(a.Z===c.u.yu||a.Z===c.u.Ex)return!0;};b.prototype.DT=function(a){if(a.W)return"complete";if(a.Z===c.u.yu)return"abort";if(a.Z===c.u.Ex)return"stall";m.Ea(!1,"download status should never be: other");return"other";};b.prototype.Sbb=function(a,b){var c,d;c=this;d=[];a.forEach(function(a){var k;k=a.Fj;a={time:k.rg-b,tresp:k.rg-k.requestTime,dur:k.Hl-k.rg,range:a.cr,reason:c.fdb(a),httpcode:a.mi,nwerr:f.Yua(a.Z)};d.push(a);});return d;};b.prototype.fdb=function(a){return a.mi||a.Z===c.u.DG?"http":a.Z===c.u.EG?"timeout":"network";};b.prototype.cgb=function(a){return a.W||void 0===a.W||a.Z===c.u.yu||a.Z===c.u.Ex?!1:!0;};b.prototype.V3a=function(a){var b,c,f,d,k,m;b=a.request;c=b.stream;f=b.track;d=b.url;k=this.Fbb(f,d);switch(k){case p.vg.audio:case p.vg.video:m=b.stream.Uc;break;case p.vg.MX:case p.vg.Mda:m=f.Uc;}a={O:c&&c.O,X7a:k,Uc:m,Fj:a.Fj,Wb:b.Wb,url:d,Kc:a.Kc,mi:a.mi,Z:a.Z,W:a.W,b3a:this.i$a(a)};void 0!==b.offset&&void 0!=b.length&&(a.cr=[b.offset,b.offset+b.length-1]);return a;};b.prototype.Fbb=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};b.prototype.i$a=function(a){if(a.headers&&(a=a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]))return(a=a.split(";").filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?q.de(a):a;};h=b;h=g.__decorate([r.N(),g.__param(0,r.l(a.pd))],h);d.CKa=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kfa="DownloadReportBuilderSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(41);d.bZ=function(a,d){this.d8a=a;this.size=d.Hwa()?b.sf:d;};},function(g,d,a){var f,p,q,c,m,k,u,r,h,A,I,F,D,O,l,n,ba,Q,t,z,X,T,Y,V;function b(a,b,c,f,d,g,u,y,A,aa,N,z,ja,X,B,G,R,S,Z){var M;M=this;this.j=a;this.gr=b;this.JEa=f;this.BR=d;this.Mh=g;this.x$=u;this.k6=y;this.Jj=A;this.ge=aa;this.pS=N;this.Qd=z;this.config=ja;this.Mc=X;this.Ta=B;this.ta=G;this.platform=R;this.YK=S;this.Un=Z;this.fN=[];this.Mjb=this.oU=this.iCa=0;this.GD=[];this.P2=!1;this.Dt=function(a,b){return function(c){var f;f=b(c);if("number"!==typeof f)throw Error("Event "+JSON.stringify(c)+" does not have movie Id");f===M.I&&a(c);};};this.wl=this.Dt(function(a){M.aEa(a.xz);},function(a){return a.I;});this.EE=this.Dt(function(){M.f3a();},function(a){return a.I;});this.SF=function(){M.yc(T.Pe.HTa,!1,V.rh|V.tg,{track:M.j.zc.value.og});};this.REa=function(a){a.newValue&&M.Cl&&(a={track:a.newValue.og},M.pz(a,M.j.Ze.value&&M.j.Ze.value.stream,M.j.Lf.value&&M.j.Lf.value.stream),M.yc(T.Pe.ITa,!1,V.rh|V.tg,a));};this.wn=function(a){M.yc(T.Pe.LHa,!1,V.rh|V.tg,a.newValue);};this.csa=function(){var a,b,c;if(M.j.Ni)try{a=!1;M.ia%M.config().wJ&&!M.j.xS&&(a=!0,M.GD=M.GD.filter(function(a){return!a.W;}));if(0<M.GD.length){b=M.pS.construct(M.GD,M.j.Bl.ba(h.ha));M.GD=[];b.erroronly=a;c={};r.Xc(b,function(a,b){c[a]=JSON.stringify(b);});M.yc(T.Pe.AKa,!1,V.tg,c);}}catch(hf){M.log.error("Exception in dlreport.",hf);}};this.Lya=function(){var a,b;if(M.j.state.value==t.ib.cd){a=M.LAa();M.config().Aba&&(a.avtp=M.QA.ol().PA,M.j.Jl&&M.cU(a));a.midplayseq=M.Mjb++;b=M.j.Mb.value;a.prstate=b===t.fb.dd?"playing":b===t.fb.Ci?"paused":b===t.fb.Kr?"ended":"waiting";M.config().Hrb&&M.oEa("midplay");M.config().Xn&&M.Mc()&&M.N8(a);M.L8(a);M.M8(a);M.yc(T.Pe.$Oa,!1,V.rh|V.tg|V.ou|V.UO,a);}};this.cla=/-?l(\d\d)/i;this.msa=this.Dt(function(a){M.GD.push(M.pS.V3a(a.response));},function(a){return a.I;});this.dsa=this.Dt(function(a){var b,c,f,d,k,g;a=a.response;b=a.request;c=a.request.lp;f=b.track;if(f){d=!a.W&&a.Z!=I.u.yu;k=f.type;g=a.Fj;if(d||M.gr.L9){c={dltype:k,url1:b.url,url2:a.url||"",cdnid:b.Wb&&b.Wb.id,tresp:r.pm(g.rg-g.requestTime),brecv:r.iab(g.Dv),trecv:r.pm(g.Hl-g.rg),sbr:c&&c.O};a.cr&&(c.range=a.cr);switch(k){case m.vg.audio:c.adlid=b.stream.Uc;break;case m.vg.video:c.vdlid=b.stream.Uc;break;case m.vg.MX:c.ttdlid=f.Uc;}(b=Y.Yua(a.Z))&&(c.nwerr=b);a.mi&&(c.httperr=a.mi);M.yc(T.Pe.BKa,d,V.tg,c);}}},function(a){return a.I;});this.tj=function(){M.yc(T.Pe.MHa,!1,V.rh|V.ou,{browserua:ba.$j});};this.Bqa=this.Dt(function(a){var b,c,f;a=a.response;b=a.Fj;c=h.Bb(b.rg);f=h.Bb(b.Hl);b=D.aa(b.Dv||0);b.Zwa()||b.Hwa()||(c=new O.Zja(c,f),M.QA.YQ(new l.bZ(c,b)),a&&a.request&&a.request.lp&&a.request.lp.xb&&M.BR.YQ(new n.GIa(c,b,a.request.lp.xb)));},function(a){return a.I;});this.uAa=function(a){var b;b=a.newValue;a.Ev&&a.Ev.$$&&b||b==M.s9||(M.utb(M.s9,b),M.s9=b);};this.Lo=function(a){function b(a){var b;if(M.j.wb&&M.j.wb.sourceBuffers){b=M.j.wb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.Aj(),updating:b.updating(),ranges:b.pT()};}}M.rF="rebuffer";a={cause:a.cause};a.cause&&a.cause===q.vja&&(a.mediaTime=M.j.Zb.value,a.buf_audio=b(p.o_),a.buf_video=b(p.LG));M.Tfb(M.fN[t.fb.dd]||0,M.fN[t.fb.Ci]||0,a);M.hG=M.getTime();Q.Ab(M.DR);};this.bFa=function(a){var b;a=a.oldValue;b=M.getTime();a===t.fb.cg?M.fN=[]:M.fN[a]=(M.fN[a]||0)+(b-M.chb);M.chb=b;};this.Yn=function(a){switch(a.cause){case t.bg.Ku:case t.bg.ZO:M.rF&&M.hG?M.qnb(M.getTime()-M.hG,M.rF):M.Cl||M.JAa(),M.rF="repos",M.kqb(a.HV,a.Lf,a.Ze),M.hG=M.getTime(),Q.Ab(M.DR);}};this.DR=function(){var a;if(M.hG&&M.j.Mb.value!==t.fb.cg){a=M.getTime()-M.hG;M.Gqb(a,M.Yi);M.o9&&M.o9!=M.j.Pc.value&&M.L0a();M.hG=void 0;M.rF=void 0;M.Yi=void 0;}};this.Z3=this.Dt(function(){M.j.Mb.value===t.fb.dd&&(M.j.Mb.removeListener(M.Z3),M.Lj());},function(){return M.j.I;});this.zI=function(a){M.Xgb=M.getTime();M.o9=a.oldValue;};this.Lj=function(){M.Cl||(M.Cl=!0,M.fEa(!1),M.Gfb(),M.config().qwa&&(M.jU=L.setTimeout(function(){M.Mh.flush(!1)["catch"](function(){return M.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});M.jU=void 0;},M.config().qwa)));};this.gf=function(){M.jU&&(L.clearTimeout(M.jU),M.jU=void 0);if(M.config().wJ||M.config().vI)M.H5&&(L.clearInterval(M.H5),M.H5=void 0),M.csa();M.vFa&&M.vFa();M.Cl?M.M9a(!!M.j.ni):M.j.ni?M.fEa(!0):M.gr.background||M.JAa();M.krb||(M.yc=p.Qe);};this.vqa=this.Dt(function(){M.gf();},function(a){return a.movieId;});this.YFa=function(a){a.oldValue&&a.Ev&&a.Ev.lqa&&M.O2a(a.oldValue,a.newValue,a.Ev.lqa,a.Ev.i1a);};this.dBa=function(a){var b;if(a.newValue){b=a.newValue.stream;M.t9!=b&&(M.t9&&M.aqb(M.t9,b,a.newValue.yn.startTime),M.t9=b);}};this.Mq=this.Dt(function(a){function b(a,b){var c;if(!a||a.H9!==b.location){c={H9:b.location,Exa:b.locationlv,Srb:b.serverid,EA:b.servername};M.A2a(a,b);return c;}}if("audio"===a.mediaType){if(a=b(M.Wgb,a))M.Wgb=a;}else if(a=b(M.MK,a))M.MK=a;},function(a){return M.j.Xv(a.segmentId).I;});this.CF=this.Dt(function(a){var b,c;b=a.mediatype;c=a.reason;"video"===b?"serverswitchaway"===c?(M.kh.summary.cGa++,M.kh.HU=M.Ta.kf.ba(h.ha)):"serverswitchback"===c&&(M.kh.summary.dGa++,M.kh.HU&&(M.kh.summary.eGa.push(M.Ta.kf.ba(h.ha)-M.kh.HU),M.kh.HU=void 0)):"audio"===b&&("serverswitchaway"===c?(M.kh.summary.hpa++,M.kh.CU=M.Ta.kf.ba(h.ha)):"serverswitchback"===c&&(M.kh.summary.ipa++,M.kh.CU&&(M.kh.summary.jpa.push(M.Ta.kf.ba(h.ha)-M.kh.CU),M.kh.CU=void 0)));M.yc(T.Pe.WSa,!1,V.rh|V.tg,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return M.j.Xv(a.segmentId).I;});this.RC=function(a){M.yc(T.Pe.uGa,!1,V.tg,{strmsel:a.strmsel});};this.QC=function(a){M.yc(T.Pe.tGa,!1,V.tg,{msg:a.msg});};this.OF=function(a){a=F.CM(a);a.details&&(a.details=JSON.stringify(a.details));M.yc(T.Pe.oTa,!0,V.rh|V.HB|V.XN,a);};this.Ilb=function(){M.Mh.flush(!0)["catch"](function(){return M.log.warn("failed to flush logbatcher on midplay interval");});};this.P2=Z.cY||Z.dY;this.QA=f();this.log=k.mg(a,"LogblobBuilder");this.s9=a.paused.value;this.I=b.I;this.ia=this.gr.ia;this.kh={summary:{cGa:0,dGa:0,eGa:[],hpa:0,ipa:0,jpa:[]},HU:void 0,CU:void 0};this.xc();c&&this.aEa();}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);p=a(9);q=a(57);c=a(28);m=a(74);k=a(4);u=a(15);r=a(18);h=a(3);A=a(60);I=a(2);F=a(19);D=a(41);O=a(344);l=a(332);n=a(651);ba=a(8);Q=a(44);t=a(14);z=a(16);X=a(650);T=a(649);Y=a(151);b.prototype.xc=function(){this.j.addEventListener(t.R.wl,this.wl);this.j.addEventListener(t.R.EE,this.EE);this.j.addEventListener(t.R.Mq,this.Mq);this.j.addEventListener(t.R.CF,this.CF);this.j.addEventListener(t.R.gf,this.vqa);this.j.addEventListener(t.R.Hv,this.dsa,p.I_);if(this.config().wJ||this.config().vI)this.j.addEventListener(t.R.Hv,this.msa),this.H5=L.setInterval(this.csa,this.config().c8a);this.config().Aba&&this.j.addEventListener(t.R.Hv,this.Bqa);};b.prototype.aEa=function(a){var b;b=this;this.Wya||(this.j.Mb.value!==t.fb.dd||(void 0===a?0:a)?this.j.Mb.addListener(this.Z3):this.Lj(),this.j.Mi.addListener(this.REa),this.j.Pc.addListener(this.zI),this.j.paused.addListener(this.uAa),this.j.Ze.addListener(this.dBa),this.j.Mb.addListener(this.DR),this.j.Mb.addListener(this.bFa),this.j.Ee.addListener(this.YFa),this.j.addEventListener(t.R.tj,this.tj),this.j.addEventListener(t.R.QC,this.QC),this.j.addEventListener(t.R.RC,this.RC),this.j.addEventListener(t.R.OF,this.OF),this.j.addEventListener(t.R.Lo,this.Lo),this.j.addEventListener(t.R.Yn,this.Yn),this.j.addEventListener(t.R.SF,this.SF),this.j.addEventListener(t.R.Yi,function(){b.Yi=!0;}),this.gr.wn&&this.gr.wn.addListener(this.wn),this.config().xi&&(this.krb=!0),this.Wya=!0);};b.prototype.f3a=function(){this.gf();this.Wya&&(this.j.removeEventListener(t.R.wl,this.wl),this.j.removeEventListener(t.R.EE,this.EE),this.j.removeEventListener(t.R.Mq,this.Mq),this.j.removeEventListener(t.R.CF,this.CF),this.j.Mi.removeListener(this.REa),this.j.Pc.removeListener(this.zI),this.j.paused.removeListener(this.uAa),this.j.Ze.removeListener(this.dBa),this.j.Mb.removeListener(this.DR),this.j.Mb.removeListener(this.Z3),this.j.Mb.removeListener(this.bFa),this.j.Ee.removeListener(this.YFa),this.j.removeEventListener(t.R.Hv,this.dsa),this.j.removeEventListener(t.R.gf,this.vqa),this.j.removeEventListener(t.R.tj,this.tj),this.j.removeEventListener(t.R.QC,this.QC),this.j.removeEventListener(t.R.RC,this.RC),this.j.removeEventListener(t.R.OF,this.OF),this.j.removeEventListener(t.R.Lo,this.Lo),this.j.removeEventListener(t.R.Yn,this.Yn),this.j.removeEventListener(t.R.SF,this.SF),this.gr.wn&&this.gr.wn.removeListener(this.wn),this.j.removeEventListener(t.R.Hv,this.msa),this.j.removeEventListener(t.R.Hv,this.Bqa));};b.prototype.fEa=function(a){var b,f,u,p,q,y,I,F,D,O,l,n,aa,N,M,Q,ja,Y,B,G,R,S,Z;b={};try{b={browserua:ba.$j,browserhref:location.href,playdelaysdk:r.pm(this.j.Zpa()),applicationPlaydelay:r.pm(this.j.a2a()),playdelay:r.pm(this.j.f2a()),trackid:this.j.mh,bookmark:r.pm(this.j.Hy||0),pbnum:this.j.index,endianness:c.Nbb()};this.config().c9a&&(b.transitiontime=this.j.Nm,b.uiplaystarttime=this.j.Wa.SX,b.playbackrequestedat=this.j.Bl.ba(h.ha),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Ta.kf.ba(h.ha),b.clockgetpreciseappepoch=this.ta.Hz.ba(h.ha),b.absolutestarttime=this.j.kT(),b.relativetime=this.j.I7());this.R6(b,"startplay");}catch(ib){this.log.error("error in startplay log fields",ib);}this.j.tj&&(b.blocked=this.j.tj);this.config().endpoint||(b.configendpoint="error");this.j.Xf&&(b.playbackcontextid=this.j.Xf);this.iwa(b);if(this.config().nY&&this.j.Wa.cea){for(var d={},k=Object.keys(this.j.Wa.cea),m,g=k.length;g--;)m=k[g],d[m.toLowerCase()]=this.j.Wa.cea[m];b.vui=d;}z.na(this.j.Hpa)&&(b.bookmarkact=r.pm(this.j.Hpa));(d=this.j.Fc.at&&this.j.Fc.ats?this.j.Fc.at-this.j.Fc.ats:void 0)&&(b.nccpat=d);(d=this.j.Fc.lr&&this.j.Fc.lc?this.j.Fc.lr-this.j.Fc.lc:void 0)&&(b.nccplt=d);(d=this.h8a())&&(b.downloadables=d);L._cad_global.device&&z.Ub(L._cad_global.device.b6)&&(b.esnSource=L._cad_global.device.b6);(d=L._cad_global.platformExtraInfo)&&r.Za(b,d,{prefix:"pi_"});(d=ba.Kk&&ba.Kk.connection&&ba.Kk.connection.type)&&(b.nettype=d);this.j.xn&&this.j.xn.initBitrate&&(b.initvbitrate=this.j.xn.initBitrate);this.j.xn&&this.j.xn.selector&&(b.selector=this.j.xn.selector);b.fullDlreports=this.j.Csa;if(this.j.state.value>=t.ib.cd)try{u=this.j.Po();u&&(this.Pn=c.yea(u.map(function(a){return a.O;})),this.sya=c.yea(u.map(function(a){return a.height;})),f=0<u.length?X.Nib(u,function(a){return a.O;}):void 0,b.maxbitrate=this.Pn,b.maxresheight=this.sya);}catch(ib){this.log.error("Exception computing max bitrate",ib);}try{p=c.zT();p&&(b.pdltime=p);}catch(ib){}try{r.Za(b,this.j.Fc,{prefix:"sm_"});r.Za(b,this.j.JT(),{prefix:"vd_"});}catch(ib){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.vp&&(b.pssh=this.j.vp);this.j.wf&&this.j.wf.xk&&this.j.wf.xk.keySystem&&(b.keysys=this.j.wf.xk.keySystem);if(this.config().Xn&&this.Mc())try{u={};q=this.Mc().getStats(void 0,void 0,this.j.I);y=this.j.kT();I=q.jx.u3a;u.attempts=q.ZAa||0;u.num_completed_tasks=I.length;F=this.ge.z$a;p={};D=A.bd.Ge.oka;O=A.bd.Ge.wu;l=A.bd.Ge.WN;n=A.bd.Ge.oG;aa=A.bd.Ge.VN;q.Pi&&(p.scheduled=q.Pi-y);N=this.j.ya;N&&z.Ub(N.yA)&&(p.preauthsent=N.yA-this.j.nf,p.preauthreceived=N.mF-this.j.nf);M=I.filter(F("type","manifest"));u.mf_succ=M.filter(F("status",D)).length;u.mf_fail=M.filter(F("status",O)).length;Q=this.j.Fc;z.Ub(Q.lg)&&0>Q.lg&&this.j.nf&&(p.ldlsent=Q.lc,p.ldlreceived=Q.lr);ja=I.filter(F("type","ldl"));u.ldl_succ=ja.filter(F("status",D)).length;u.ldl_fail=ja.filter(F("status",O)).length;q=!0;if(!p.preauthreceived||0<=p.preauthreceived)q=!1;this.config().V5||(q=!1);Y=ja.filter(F("status",l)).length;B=ja.filter(F("status",n)).length;G=ja.filter(F("status",aa)).length;this.config().V5&&0===Y+B+G&&(!p.ldlreceived||0<=p.ldlreceived)&&(q=!1);if(this.config().zS){R=this.j.qm&&this.j.qm.stats;if(R){if(R.WS&&(p.headersent=R.WS-this.j.nf),R.JU&&(p.headerreceived=R.JU-this.j.nf),R.dF&&(p.prebuffstarted=R.dF-this.j.nf),R.dW&&(p.prebuffcomplete=R.dW-this.j.nf),!p.prebuffcomplete||0<=p.prebuffcomplete)q=!1;}else q=!1;}S=I.filter(F("type","getHeadersAndMedia"));u.hm_succ=S.filter(F("status",D)).length;u.hm_fail=S.filter(F("status",O)).length;r.Za(b,u,{prefix:"pr_"});b.eventlist=JSON.stringify(p);b.prefetchCompleted=q;this.N8(b);}catch(ib){this.log.warn("error in collecting video prepare data",ib);}b.avtp=this.QA.ol().PA;this.j.Jl&&this.cU(b);if(this.j.zc.value)try{b.ttTrackFields=this.j.zc.value.og;}catch(ib){}if(I=this.j.Pc&&this.j.Pc.value&&this.j.Pc.value.uc){Z={};I.forEach(function(a){Z[a.uf]=void 0;});b.audioProfiles=Object.keys(Z);}this.O8(b);this.j.ya&&"boolean"===typeof this.j.ya.isSupplemental&&(b.isSupplemental=this.j.ya.isSupplemental);b.headerCacheHit=!!this.j.qm;this.j.qm&&(b.headerCacheDataAudio=this.j.qm.audio,b.headerCacheDataAudioFromMediaCache=this.j.qm.audioFromMediaCache,b.headerCacheDataVideo=this.j.qm.video,b.headerCacheDataVideoFromMediaCache=this.j.qm.videoFromMediaCache);this.j.ya&&(b.packageId=this.j.ya.packageId);this.j.ya&&this.j.ya.choiceMap&&(b.hasChoiceMap=!0);this.config().Eta&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.Jj.tE;this.Rgb(f);this.Qgb();this.gwa(this.j,b);this.hwa(this.j,b);this.rz(this.j,b);this.qz(this.j,b,this.P2);this.L8(b);this.M8(b);this.lwa(b);this.fwa(b);this.mwa(b);this.yc(T.Pe.fTa,a,V.rh|V.HB|V.tg|V.UO|V.ou|V.XN|V.lZ,b);};b.prototype.Gqb=function(a,b){b={playdelay:r.pm(a),reason:this.rF,intrplayseq:this.oU-1,skipped:b};this.rz(this.j,b);this.yc(T.Pe.nSa,!1,V.rh|V.HB|V.tg,b);"rebuffer"==this.rF&&this.j.Al.p_a(Number(r.pm(a)));};b.prototype.O2a=function(a,b,c,f){a={moff:r.bz(c),vbitrate:b.O,vbitrateold:a.O,vdlid:b.Uc,vdlidold:a.Uc,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.rz(this.j,a);this.qz(this.j,a);this.yc(T.Pe.KIa,!1,V.tg,a);};b.prototype.aqb=function(a,b,c){a={moff:r.bz(c),vdlidold:a.Uc,vbitrateold:a.O};this.rz(this.j,a);this.qz(this.j,a);this.pz(a,b,this.j.Lf.value&&this.j.Lf.value.stream);this.yc(T.Pe.eSa,!1,V.tg,a);};b.prototype.JAa=function(){var a,b;a={waittime:r.pm(this.j.I7()),abortedevent:"startplay",browserua:ba.$j,browserhref:location.href,trackid:this.j.mh};this.j.Xf&&(a.playbackcontextid=this.j.Xf);this.j.xn&&this.j.xn.initBitrate&&(a.initvbitrate=this.j.xn.initBitrate);try{b=c.zT();b&&(a.pdltime=b);r.Za(a,this.j.Fc,{prefix:"sm_"});}catch(ma){}this.J8(a,!0);this.mwa(a);this.O8(a);this.jwa(a);this.pz(a,this.j.Ee.value,this.j.sj.value);this.yc(T.Pe.Dja,!1,V.rh|V.tg|V.ou,a);};b.prototype.qnb=function(a,b){a={waittime:r.pm(a),abortedevent:"resumeplay",browserua:ba.$j,resumeplayreason:b};this.j.Xf&&(a.playbackcontextid=this.j.Xf);this.j.xn&&this.j.xn.initBitrate&&(a.initvbitrate=this.j.xn.initBitrate);this.pz(a,this.j.Ee.value,this.j.sj.value);this.yc(T.Pe.Dja,!1,V.rh|V.tg,a);};b.prototype.utb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.rz(this.j,a);this.qz(this.j,a);this.pz(a,this.j.Ze.value&&this.j.Ze.value.stream,this.j.Lf.value&&this.j.Lf.value.stream);this.yc(T.Pe.gTa,!1,V.rh|V.tg,a);};b.prototype.Tfb=function(a,b,c){a=r.Za({vdlid:this.j.Ee.value.Uc,playingms:a,pausedms:b,intrplayseq:this.oU++},c);this.R6(a,"intrplay");b=this.j.Wb[f.wc.Da.VIDEO].value;c=this.j.Wb[f.wc.Da.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=c&&c.id;a.locid=this.MK&&this.MK.H9;a.loclv=this.MK&&this.MK.Exa;a.avtp=this.QA.ol().PA;this.j.Jl&&(this.J8(a,!0),this.cU(a),this.kwa(a));try{r.Za(a,this.j.JT(),{prefix:"vd_"});}catch(U){}this.rz(this.j,a);this.qz(this.j,a);this.pz(a,this.j.Ze.value&&this.j.Ze.value.stream,this.j.Lf.value&&this.j.Lf.value.stream);this.yc(T.Pe.qNa,!1,V.rh|V.tg,a);};b.prototype.kqb=function(a,b,c){a={moffold:r.bz(a),reposseq:this.iCa++};this.qz(this.j,a);this.pz(a,c&&c.stream,b&&b.stream);this.yc(T.Pe.iSa,!1,V.rh|V.tg,a);};b.prototype.L0a=function(){this.yc(T.Pe.nHa,!1,V.rh|V.tg,{switchdelay:r.pm(this.getTime()-this.Xgb),newtrackinfo:this.j.Pc.value.cb,oldtrackinfo:this.o9.cb});};b.prototype.A2a=function(a,b){var c,f,d,k;c=b.serverid;f=b.serverrtt;d=b.serverbw;k={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};k.mediatype=b.mediatype;k.selcdnrtt=f;k.selcdnbw=d;k.selreason=b.selreason||"unknown";k.testreason=b.testreason;k.fastselthreshold=b.fastselthreshold;k.seldetail=b.seldetail;k.cdnbwdata=JSON.stringify([{id:c,rtt:f,bw:d}]);a&&(k.oldlocid=a.H9,k.oldloclv=a.Exa,k.oldocaid=a.Srb,k.oldocaname=a.EA);this.yc(T.Pe.IIa,!1,V.XN,k);};b.prototype.oEa=function(a){var b,c;b={};b.trigger=a;try{c=this.j.B7();b.subtitleqoescore=this.j.ko.Ddb(c);b.metrics=JSON.stringify(this.j.ko.R7(c));}catch(U){this.log.error("error getting subtitle qoe data",U);}this.yc(T.Pe.qTa,!1,V.rh|V.ou|V.HB,b,"info");};b.prototype.transition=function(a){this.yc(T.Pe.OTa,!1,0,a);};b.prototype.tdb=function(a,b){if(a=a.qT())if(b=a[b])return b.Gk;};b.prototype.gwa=function(a,b){a.Wa.Ih&&(b.isBranching=!0);};b.prototype.hwa=function(a,b){b.cachedManifest=a.wv;b.cachedLicense=a.vv;b.usedldl="videopreparer"===a.vv;};b.prototype.rz=function(a,b){var c,f;if(this.config().yfb){c=a.C7();f=a.da.ya;c&&f&&(b.segment=c,f=a.iz(),b.segmenttime=f,a=this.tdb(a,c),null!==f&&void 0!==a&&(b.segmentoffset=f-a));}};b.prototype.qz=function(a,b,c){b.pxid=a.Oob;(void 0===c?0:c)&&(b.playgraph_trace=a.PAa);};b.prototype.kwa=function(a){var b,c;b=this.j.s8;c=b&&b.jqb;b&&b.cwa&&(a.htwbr=b.cwa,a.pbtwbr=b.VV,a.hptwbr=b.cfb);b&&b.ICa&&(a.rr=b.ICa,a.ra=b.Wob);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));};b.prototype.O8=function(a){var b,c,f,d,k;b=this;c=this.j.Of&&this.j.Of.value&&this.j.Of.value.uc;if(c){f=new Set();d=new Set();k=new Set();c.forEach(function(a){a=a.uf;f.add(a);d.add(a.replace(b.cla,""));(a=a.match(b.cla))&&0<a.length&&k.add(a[1]);});a.videoProfiles=[].concat(ea(f));a.videoProfile=0===d.size?"none":[].concat(ea(d))[0];a.videoProfileLevels=[].concat(ea(k));}};b.prototype.jwa=function(a){var b,c,f;try{b=this.ge.createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f&&(a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(P){}};b.prototype.zfb=function(a){a.switchAwaySummary={vsa:this.kh.summary.cGa,vsb:this.kh.summary.dGa,vsbt:this.kh.summary.eGa,asa:this.kh.summary.hpa,asb:this.kh.summary.ipa,asbt:this.kh.summary.jpa};};b.prototype.M9a=function(a){var b,c,f,d,y;b=this;c=this.LAa();this.R6(c,"endplay");c.browserua=ba.$j;this.j.iu&&"downloaded"===this.j.iu.DT()&&(c.trickplay_ms=this.j.lN.offset,c.trickplay_res=this.j.lN.pCa);this.config().RFa&&(c.rtinfo=this.j.ldb());if(this.config().Aba){f=this.QA.ol().PA;void 0!==c.avtp?c.avtp_retired=f:c.avtp=f;f=this.BR.ibb().map(function(a){return{cdnid:a.yv,avtp:a.PA,tm:a.I5};});void 0!=c.cdnavtp?c.cdnavtp_retired=f:c.cdnavtp=f;this.j.Jl&&this.cU(c);}this.iwa(c);c.endreason=a?"error":this.j.Mb.value===t.fb.Kr?"ended":"stopped";f=L._cad_global.platformExtraInfo;this.tfb(f);f&&r.Za(c,f,{prefix:"pi_"});f=this.j.ni;a&&f&&I.pLa(f.errorCode)&&(d="info");try{r.Za(c,this.j.Fc,{prefix:"sm_"});}catch(Sa){}this.j.I8&&(c.inactivityTime=this.j.I8);this.J8(c,"info"!==d&&a);this.kwa(c);if(this.j.Iy){for(var f=this.j.Iy,k=this.config().XC,m=this.j.nf,g={iv:k,seg:[]},u=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},p=f.Ls.map(u),u=f.ku.map(u),q,h=0;h<p.length;h++){if(p[h]||u[h])q?(q.ams.push(p[h]),q.vms.push(u[h])):q={ams:[f.Ls[h]],vms:[f.ku[h]],soffms:f.startTime+h*k-m};h!==p.length-1&&p[h]&&u[h]||!q||(g.seg.push(q),q=void 0);}c.bt=JSON.stringify(g);}if(this.j.dV&&0<this.j.dV.length){y=[];this.j.dV.forEach(function(a){y.push({soffms:a.time-b.j.nf,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});c.maxvbevents=y;}this.j.qBa&&(c.psdConservCount=this.j.qBa);a&&this.jwa(c);this.oEa("endplay");this.config().Xn&&this.Mc()&&this.N8(c);c.isNonMember=this.Jj.tE;this.O8(c);this.gwa(this.j,c);this.hwa(this.j,c);this.rz(this.j,c);this.qz(this.j,c,this.P2);this.L8(c);this.M8(c);this.lwa(c);this.ufb(c);this.fwa(c);this.wfb(c);this.vfb(c);this.zfb(c);this.yc(T.Pe.mLa,a,V.rh|V.HB|V.tg|V.ou|V.UO|V.lZ,c,d);};b.prototype.VVa=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};b.prototype.h8a=function(){var a,b;a=this;if(this.j.wr&&this.j.tn){b=[];this.j.wr.concat(this.j.tn).forEach(function(c){c.uc.forEach(function(c){b.push({dlid:c.Uc,type:c.type,bitrate:c.O,vmaf:c.Ac,cdn_ids:a.VVa(c.sq)});});});return JSON.stringify(b);}};b.prototype.y2a=function(){var b,c,f;function a(a,b){var d,k,m;d=a.cdnId;k=f[d];m=a.vmaf;k||(k={cdnid:d,dls:[]},f[d]=k,c.push(k));u.nJ(a.bitrate);u.nJ(a.duration);d={bitrate:a.bitrate,tm:ba.ai(a.duration)};m&&(u.nJ(a.vmaf),d.vf=m);d[b]=r.de(a.downloadableId);k.dls.push(d);}b=this.j.Al.Nab();c=[];f={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};b.prototype.LAa=function(){var a,b,c,f,d,k,m,g,p,y,A;a=this.j.Al;b={totaltime:r.bz(a.jK()),cdndldist:this.y2a(),reposcount:this.iCa,intrplaycount:this.oU};try{c={numskip:0,numlowqual:0};f=this.j.Ig;d=f.vT();z.na(d)&&(b.totfr=d,c.numren=d);d=f.hz();z.na(d)&&(b.totdfr=d,c.numrendrop=d);d=f.ZJ();z.na(d)&&(b.totcfr=d,c.numrenerr=d);d=f.wT();z.na(d)&&(b.totfdl=d);b.playqualvideo=JSON.stringify(c);k=this.j.Ee.value;k&&(b.videofr=k.fT.toFixed(3));m=a.aua();m&&(b.abrdel=m);g=a.Keb()&&a.Rab();g&&(b.tw_vmaf=g);p=a.Qab();p&&r.Za(b,p);b.rbfrs=this.oU;b.maxbitrate=this.Pn;b.maxresheight=this.sya;for(var q=this.j.mz(),h,a=0;a<q.length;a++){y=q[a];A=this.gr.iL.bu(y);if(A){u.Ea(h);b.maxbitrate=h?h.O:0;b.maxresheight=h?h.height:0;b.bitratefilters=A.join("|");break;}h=y;}this.j.iu&&(b.trickplay=this.j.iu.DT());null!==this.j.ko.xpa&&(b.avg_subt_delay=this.j.ko.xpa);}catch(Sa){this.log.error("Exception reading some of the endplay fields",Sa);}r.Za(b,this.j.JT(),{prefix:"vd_"});return b;};b.prototype.getTime=function(){return this.ta.Tb().ba(h.ha);};b.prototype.XW=function(a){a.browserua=ba.$j;this.yc(T.Pe.QSa,!a.success,V.rh|V.ou,a);this.yc=p.Qe;};b.prototype.Gfb=function(){var a,b,c,f;a=this;c=[];if(this.config().Kjb){f={Hya:function(){},jDa:function(){a.Lya();}};this.Mh.addListener(f);this.config().Ljb.forEach(function(b){c.push(L.setTimeout(a.Lya,b));});this.config().Mya&&(b=L.setInterval(this.Ilb,this.config().Mya));this.vFa=function(){a.Mh.removeListener(f);c.forEach(function(a){L.clearTimeout(a);});b&&L.clearInterval(b);};}};b.prototype.N8=function(a){var b;try{b=this.Mc().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.Sta);}catch(ma){}};b.prototype.L8=function(a){this.log.debug("httpstats",this.Qd.Pb);r.Za(a,this.Qd.Pb,{prefix:"http_"});};b.prototype.J8=function(a,b){this.config().xra&&!(this.ia%this.config().xra)&&this.j.mb&&this.j.mb.V8&&(a.ASEstats=JSON.stringify(this.j.mb.V8(b)));};b.prototype.cU=function(a){Object.assign(a,this.j.Jl.Gc.Mdb());};b.prototype.M8=function(a){var b;try{b=ba.Pr.memory;z.Ggb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(ma){}};b.prototype.lwa=function(a){var b;b=this.j.wf;this.config().r2a&&b&&!this.config().Kp&&(a.keystatuses=this.j.Mkb(b.FIb()),this.log.trace("keystatuses",a.keystatuses));};b.prototype.fwa=function(a){try{this.config().WI&&(a.battery=this.j.Xab(),this.log.trace("batterystatuses",a.battery));}catch(fa){}};b.prototype.ufb=function(a){this.j.$R&&(a.dqec=this.j.$R);};b.prototype.tfb=function(a){this.j.AR&&r.Za(a,{cast_interaction_counts:this.j.AR.s2});};b.prototype.mwa=function(a){var b;b=this.j.Wa.Km;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};b.prototype.vfb=function(a){this.j6&&(a.externaldisplay=this.j6.MJ);};b.prototype.wfb=function(a){this.rx&&this.rx.vc&&(a.media_capabilities_smooth=this.rx.vc.ftb,a.media_capabilities_efficient=this.rx.vc.Jnb,a.media_capabilities_bitrate=this.rx.vc.O,a.media_capabilities_height=this.rx.vc.height,a.media_capabilities_width=this.rx.vc.width);};b.prototype.pz=function(a,b,c){c&&(a.adlid=c.Uc,a.abitrate=c.O);b&&(a.vdlid=b.Uc,a.vbitrate=b.O);};b.prototype.iwa=function(a){var b,c;if(this.j.cJ){b=this.j.cJ;b.NR&&(a.controllerESN=b.NR);b.R3a&&(a.controllerUiVer=b.R3a);if(b.Q3a)try{c=JSON.parse(b.Q3a);a.controllerGroupNames=c;}catch(U){this.log.error("Exception parsing controller group names",U);}}};b.prototype.Qgb=function(){void 0===this.j6&&(this.j6=this.k6.v$a());};b.prototype.Rgb=function(a){void 0===this.rx&&void 0!==a&&(this.rx=this.x$.q6(a));};b.prototype.R6=function(a,b){var c;c=this.j.qt(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});};b.prototype.yc=function(a,b,c,f,d){this.i_a(f,this.j,b,c);a=this.YK.gm(a,d||(b?"error":"info"),f,this.gr);this.Mh.yc(a);};b.prototype.i_a=function(a,b,c,d){var k,m,g,p,q;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.kD&&(a.pbcid=b.kD);d&V.rh&&(u.Ea(!a||void 0===a.moff),0<=b.Zb.value&&(a.moff=r.bz(b.Zb.value)));if(d&V.HB){k=b.Wb[f.wc.Da.VIDEO].value;m=b.Wb[f.wc.Da.AUDIO].value;g=b.Lf.value;p=b.Ze.value;k&&(a.cdnid=k.id,a.cdnname=k.name);m&&(a.acdnid=m.id,a.acdnname=m.name);g&&(a.adlid=g.stream.Uc,a.abitrate=g.stream.O);p&&(a.vdlid=p.stream.Uc,a.vbitrate=p.stream.O,a.vheight=p.stream.height,a.vwidth=p.stream.width);}d&V.tg&&b.mb&&(a.abuflbytes=b.n3(),a.abuflmsec=b.xI(),a.vbuflbytes=b.aea(),a.vbuflmsec=b.AN());if(d&V.UO){Object.assign(a,Y.iva());try{q=b.rf.getBoundingClientRect();a.rendersize=q.width+"x"+q.height;a.renderpos=q.left+"x"+q.top;}catch(Ea){}}d&V.ou&&(k=ba.Kk.hardwareConcurrency,0<=k&&(a.numcores=k),k=this.gr.L5)&&(m=k.Sab(),a.droppedFrames=JSON.stringify(m),k=k.hK(this.config().y8a),r.Xc(k,function(b,c){a["droppedFramesP"+b]=JSON.stringify(c);}));if(d&V.XN)try{b.Ni&&(a.cdninfo=JSON.stringify(b.Ni.map(function(a){return{id:a.id,nm:a.name,rk:a.se,wt:a.location.weight,lv:a.location.level};})));}catch(Ea){}c&&d&V.lZ&&(u.Ea(b.ni),(c=b.ni)?a=Object.assign(a,Y.cva(this.platform.OD,c)):a.errorcode=I.J.lj,a.errorcode===this.platform.OD+I.J.Nia&&(a.lastSyncWithVideoElement=this.getTime()-b.ZM));};d.RNa=b;(function(a){a[a.rh=1]="MOFF";a[a.HB=2]="PRESENTEDSTREAMS";a[a.tg=4]="BUFFER";a[a.UO=8]="SCREEN";a[a.ou=16]="CPU";a[a.XN=32]="CDN";a[a.lZ=64]="FATALERROR";}(V||(V={})));},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fha="LogblobBuilderFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wea="AppLogSinkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uka="UuidProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hja="PboLogblobCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hia="MessageQueueSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gha="LogblobSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aja="PboBindDeviceCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nfa="CryptoKeysSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mfa="CryptoDeviceIdSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ifa="DeviceProviderSymbol";},function(g,d){function a(b,f,d){if(null!=d){if(0<d(b,f))throw a.era(b,f);}else if(b.il&&0<b.il(f))throw a.era(b,f);this.start=b;this.end=f;}Object.defineProperty(d,"__esModule",{value:!0});a.era=function(a,f){return new RangeError("end ["+f+"] must be >= start ["+a+"]");};d.Zja=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hfa="DeviceIdGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lia="MslDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kia="MslClientSendStrategySymbol";},function(g,d,a){var b,f,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);f=a(18);p=a(16);q=a(74);d.BIa=function(a,b,d,g,r,q,h,I,F,D){var c,k;c=this;k={Type:b,Bitrate:g,DownloadableId:d};f.Za(c,{track:a,type:b,Uc:d,O:g,Ac:r,uf:I,size:q,sq:h,Hq:null,Csb:function(a,b){if(p.Ub(a)||p.Ub(b))c.width=a,c.height=b,k.Resolution=(c.width||"")+":"+(c.height||"");},$rb:function(a,b,f,d){p.Ub(a)&&p.Ub(b)&&p.Ub(f)&&p.Ub(d)&&(c.n6a=a,c.lra=b,c.kra=f,c.jra=d);},fT:F,hp:D,og:k,toJSON:function(){return k;}});};d.Oyb=function(a,f,d,g,r){if(a==b.o_||a===q.vg.audio)return f;if(a==b.LG||a===q.vg.video)return d;if(a==q.vg.MX)return g;if(a==q.vg.Mda)return r;};},function(g,d,a){var f;function b(a){var g,c,m,k,u,r,p;m={};m[f.uY]=a.localName;k={};m[f.ej]=k;u=[];m[f.tY]=u;r=a.attributes;g=r.length;for(c=0;c<g;c++){p=r[c];k[p.localName]=p.value;}a=a.childNodes;g=a.length;k={};for(c=0;c<g;c++)switch(r=a[c],r.nodeType){case d.rxb:r=b(r);p=r[f.uY];r[f.jGa]=m;u.push(r);m[p]?k[p][f.jG]=r:m[p]=r;k[p]=r;break;case d.sxb:case d.pxb:r=r.text||r.nodeValue,u.push(r),m[f.Cr]||(m[f.Cr]=r);}return m;}Object.defineProperty(d,"__esModule",{value:!0});f=a(125);d.oxb=function(a){return b(a.nodeType==d.qxb?a.documentElement:a);};d.$Mb=b;d.rxb=1;d.ZMb=2;d.sxb=3;d.pxb=4;d.qxb=9;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(16);d.nxb=function(a){var d,c;if(f.Cz(a)){d=new DOMParser().parseFromString(a,"text/xml");c=d.getElementsByTagName("parsererror");if(c&&c[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(c[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(m){}throw Error("xml parser error");}return d;}throw Error("bad xml text");};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(200);f=a(199);d.smb=function(a,d,c,m){return new Promise(function(k,g){f.kGa(a,function(a){a.W?b.jmb(a.object,d,c,m,function(a){a.W?k(a.entries):g(a);}):g(a);});});};},function(g,d,a){var f,p,q,c,m,k;function b(a){return a.xe(k.sb.WD(Math.floor(a.Ad)));}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);g=a(49);p=a(6);q=a(12);c=a(5);m=a(685);k=a(33);d.$ya=b;a=function(a){function d(b,c,f,d,k,m){var g;g=a.call(this)||this;g.la=b;g.L=c;g.dg=f;g.Te=d;g.Oc=k;g.G=m;g.Jd=g.L.error.bind(g.L);g.Ga=g.L.warn.bind(g.L);g.Yl=g.L.trace.bind(g.L);g.reset();return g;}f.__extends(d,a);Object.defineProperties(d.prototype,{pR:{get:function(){return this.Oc?this.Oc.pR:-1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ywb:{get:function(){return this.Go.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Vgb:{get:function(){return this.hy;},enumerable:!0,configurable:!0}});d.prototype.reset=function(a){this.rs=!1;a||(this.Go=[]);this.bQ=this.hy=this.m1=this.qC=void 0;this.WH=k.sb.sf;this.jy=void 0;this.UCa=new m.PSa(this.G,this.L);this.f1=!1;this.m2(k.sb.sf);};d.prototype.dab=function(){this.m1=!0;};d.prototype.pause=function(){this.rs=!0;};d.prototype.resume=function(){this.rs=!1;this.$x();};d.prototype.qcb=function(){return this.hy&&this.hy.pe;};d.prototype.D0a=function(a){var b;if(this.G.Dsa){b=a.Ua.cc;if(a.gd>=b.ka)return;a.Gm!==b.Md&&a.zDa(new k.sb(b.Md,1E3));}this.Go.push(a);this.$x();};d.prototype.Jp=function(){this.$x();};d.prototype.EW=function(a){a=this.Go.indexOf(a);-1!==a&&this.Go.splice(a,1);};d.prototype.Rkb=function(a,b){this.G.e3&&b&&p.U(this.hy)&&this.sla(a,0);this.$x();};d.prototype.vL=function(){this.f1||(this.f1=!0,this.$x(),this.Oc.endOfStream());};d.prototype.cX=function(){return JSON.stringify(this.Go);};d.prototype.m2=function(a){this.tZa=a;this.Oc.xsb(a.Vd,a.ca);};d.prototype.$x=function(){var a,b,f,d,k,m,g,r;a=this.G;if(this.Go.length)if(this.Oc){b=this.Go[0];if(this.rs)this.xC("@"+c.time.ea()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(b));else if(!b.complete&&b.wwa())this.Ga("aborted MediaRequest should not appear in the toAppend list"),this.xC("@"+c.time.ea()+", append: removing aborted request from toAppend: "+b.toString()),this.Go.shift();else{f=this.la.pc.P;d=f.pi(this.dg,b.pa);if(d&&d.tk)if(this.Nsb(d,b.index))this.m1=!1,this.sla(d,b.index);else{k=this.la.fa;d=k.dw(f.I)||f.ji||this.sfb(d);if(!a.oY||d){m=b.ec-k.oe();if(!(this.dg===q.Da.AUDIO&&b.Kq&&b.Ra&&!a.Zn&&!this.f1&&1===this.Go.length&&m>a.Uya)){if(a.Dsa||a.R8a)if(k=b.Ua.cc,d=this.F7a()){g=k.Eg;r=b.hg>=d;m=m>a.Uya;if(d<k.ka&&r&&m&&!g)return;}a.Imb&&(a=this.la.ri(f.Ha))&&!a.By?this.pause():(this.Go.shift(),this.JUa(b));}}}}}else this.xC("@"+c.time.ea()+", append: not appending, sourceBuffer not ready");};d.prototype.Nsb=function(a,b){var c;if(this.m1||void 0===this.qC||a.stream.pa!==this.qC.pa)return!0;a=a.tk;c=this.qC.Dwa;return c===a.length-1?!1:b>=a[c+1].ez;};d.prototype.sfb=function(a){return void 0===this.qC?!1:!1===a.tk[this.qC.Dwa].li;};d.prototype.F7a=function(){throw Error("not supported");};d.prototype.FUa=function(a){this.G.Cy&&this.G.Dn&&a.stream.Mj&&(this.WH=a.stream.Mj);};d.prototype.sla=function(a,b){var f;f=a.tk.reduce(function(a,c,f){return c.ez<=b?f:a;},0);if(this.Oc.appendBuffer(a.tk[f].data,{Yb:!0,profile:a.stream.profile}))this.xC("@"+c.time.ea()+", header appended, streamId: "+a.pa),this.qC={pa:a.pa,Dwa:f},this.zYa(a.P.Ha||0,a.pa,f),this.FUa(a),this.$x();else throw this.Ga("appendHeader error: "+this.Oc.error),this.xC("@"+c.time.ea()+", appendHeader error: "+this.Oc.error),Error("appendHeaderError");};d.prototype.JUa=function(a){var b,f,d;b=a.Iob||k.sb.sf;f=a.Ua.cc.wa;f.ka&&Infinity!==f.ka&&(f=new k.sb(f.ka,1E3).add(b).ih,Infinity===this.Te.duration||this.Te.duration<f)&&(this.Te.duration=f);if(void 0===this.bQ||b&&!b.equal(this.bQ))f=this.WH.add(this.UCa.Ou).add(b),this.m2(f),this.bQ=b;f=this.UCa.Wba(this.dg,a,this.jy,this.WH,this.bQ,this.hy,this.JWa,this.m2.bind(this),this.BYa.bind(this));b=f.N0a;d=a.OC(this.Oc,this.Te.vc,this.hy,this.Go[0],f.Wba,f.r8a);f=d.W;(d=d.wm)&&this.emit(d.type,d);if(f)void 0===this.jy||this.dg!==q.Da.AUDIO||a.Laa.equal(this.jy.add(b))||(this.uYa(a,this.jy.add(b)),this.jy=void 0),this.xC("@"+c.time.ea()+", request appended, type: "+a.M+", streamId: "+a.pa+", pts: "+a.ec+"-"+a.pe),this.hy=a,a.Kq?(this.jy=a.znb,this.JWa=this.aVa(a,this.tZa||k.sb.sf)):this.jy=void 0,this.AYa(a),this.$x();else{if(void 0!==this.Oc.error){if("done"===this.Oc.error)return;this.Jd("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Oc.error);throw this.Oc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.Oc.error);this.Jd(a.message);throw a;}};d.prototype.aVa=function(a,c){var f,d;f=a.stream.La;d=a.K3a;this.G.Jo&&a.stream.Mj&&(d=d.xe(a.stream.Mj));return b(d.xe(f)).add(b(f)).add(b(c));};d.prototype.zYa=function(a,b,c){a={type:"headerAppended",mediaType:this.dg,manifestIndex:a,streamId:b,isIndex:c};this.emit(a.type,a);};d.prototype.AYa=function(a){a={type:"requestAppended",mediaType:this.dg,request:a};this.emit(a.type,a);};d.prototype.xC=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};d.prototype.uYa=function(a,b){var c;c=a.gd;a=a.Laa.xe(b).Ad;c={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[c,a]}}};this.emit(c.type,c);};d.prototype.BYa=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.Ad,minavsyncerror:b.Ad}};this.emit(a.type,a);};return d;}(g.EventEmitter);d.XHa=a;},function(g,d,a){var q;function b(){}function f(a,b,f){void 0===f&&(f=!1);q(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");q(1E-8<p(a),"bitrate zero, won't be able to send anything.");this.rv=a;this.tsa=b;this.repeat=f;this.xj=this.kl=0;}function p(a){return a.reduce(function(a,b){return a+b;},0);}q=a(11).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.fm=function(){var a;a=new f(this.rv,this.tsa,this.repeat);a.kl=this.kl;a.xj=this.xj;return a;};f.prototype.Z7=function(){return this.rv[this.kl%this.rv.length];};f.prototype.$v=function(){return this.tsa[this.kl%this.rv.length];};f.prototype.f8a=function(a){q(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.kl&&this.kl<this.rv.length))throw new b();q(this.xj<this.$v(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c;;){c=this.$v()-this.xj;c=a<c?a:c;a-=c;this.xj+=c;if(this.xj<this.$v())break;this.xj-=this.$v();this.kl+=1;if(!this.repeat&&this.kl>=this.rv.length){if(0<a)throw new b();break;}}};f.prototype.tAa=function(a){this.f8a(a);};f.prototype.g8a=function(a){q(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.kl&&this.kl<this.rv.length))throw new b();q(this.xj<this.$v(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c,f=0;;){c=this.$v()-this.xj;c=a<c*this.Z7()?a/this.Z7():c;a-=this.Z7()*c;f+=c;this.xj+=c;if(this.xj<this.$v())return f;this.xj-=this.$v();this.kl+=1;if(!this.repeat&&this.kl>=this.rv.length){if(0<a)throw new b();return f;}}};g.T={BTa:f,CTa:b};},function(g,d,a){var p;function b(a,b,f){this.aa=a;this.co=b;this.VL=f;}function f(a,b){this.d$=b;void 0===b&&(this.d$=!0);this.ii=a;this.NUa();}p=a(11).assert;b.prototype.constructor=b;b.prototype.tt=function(){return 8*this.aa/1E3/this.co;};f.prototype.constructor=f;f.prototype.fm=function(a,b,d,k,g){void 0===b&&(b=0);void 0===d&&(d=a.kE());void 0===k&&(k=0);void 0===g&&(g=a.ii.length);for(var c=[],m,u=k;u<g;u++){k=[];for(var p=b;p<d;p++)m=a.ii[u][p],k.push(m);c.push(k);}return new f(c,a.d$);};f.prototype.NUa=function(){var a,b;a=this.ii[0].length;for(b in this.ii.slice(1))p(this.ii[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.ii[b].length+" and "+a);this.d$&&this.OUa();this.PUa();};f.prototype.kE=function(){return this.ii[0].length;};f.prototype.OUa=function(){for(var a=0;a<this.ii.length-1;a++)for(var b=0;b<this.kE();b++)p(this.ii[a][b].aa<=this.ii[a+1][b].aa,"Chunk size for epoch "+b+" is not monotonic");};f.prototype.PUa=function(){for(var a=0;a<this.ii.length-1;a++)for(var b=0;b<this.kE();b++)p(1E-8>Math.abs(this.ii[a][b].co-this.ii[a+1][b].co),"Chunk duration for epoch "+b+" is not consistent");};f.prototype.eeb=function(){var a;a=[];this.ii[0].forEach(function(b){a.push(b.co);});return a;};g.T={NIa:b,OIa:f};},function(g,d,a){var q,c,m;function b(a,b,c){this.Wn=b;this.cm=c;this.du=this.yK=this.VV=this.wAa=this.vAa=this.QE=this.gc=this.ynb=this.cm=this.Rg=this.bb=this.S=this.yN=this.zN=this.X=this.rwa=this.ov=void 0;}function f(a,b,c){this.ka=b;this.Pwa=c;this.fpa=this.bGa=this.G2=this.zN=this.Qq=this.pk=void 0;}function p(a,c,f,d,g,p){var k;k=new b(0,c,a.cm);a.forEach(function(a){var b,f;b=a.buffer;f=b.X;a.M===q.Da.AUDIO?k.ov=f.length?f[0].O:void 0:a.M===q.Da.VIDEO&&(k.rwa=f.length?f[0].O:void 0,k.X=f,k.zN=b.jl-b.hf,k.yN=b.Uh,k.S=b.hf,k.bb=b.bb,k.Rg=a.dx,k.cm=a.cm,k.ynb=c-a.cm,k.gc=a.gc.filter(function(a){return m(a);}),k.QE=f.filter(function(a){return k.S<=a.gF;}).length);});this.Qg=k;this.ml=void 0;this.yra=d;this.E3=g;this.qba=this.wW=this.bAa=this.Ep=this.NC=this.ita=this.Ik=this.gc=this.ml=void 0;this.R_a=p;}q=a(12);d=a(43);c=d.assert;m=d.Bz;b.prototype.constructor=b;f.prototype.constructor=f;p.prototype.constructor=p;p.prototype.TD=function(a,b){var c,d,k,m,g,u,p,h,l,n,Q,t,z,X,T,V,M,fa,ma,U,P;c=this.Qg;d=[];m=a[q.Da.VIDEO];g=a[q.Da.AUDIO];if(void 0===m||void 0===g)return!1;u=m.buffer;p=g.buffer;h=c.gc.filter(function(a){return(a=a.P.pi(a.M,a.pa))&&a.X;});if(void 0===u||void 0===p||void 0===h||0===h.length)return!1;k=new f(0,m.hf,b===q.Fa.Up);l=0;n=0;Q=0;t=0;X=c.S;a=a[q.Da.VIDEO].hf;T=c.X;z=c.QE;for(var Y=0;Y<z;Y++){V=T[Y];M=V.offset;fa=V.offset+V.aa-1;U=V.dt;ma=V.Wt;P=ma+U;V&&ma<=a&&P>X&&(U=V.dt,ma=Math.min(U,Math.min(a,P)-Math.max(ma,X)+1),t+=ma,l+=ma/U*(fa-M+1),n+=V.O*ma,Q+=V.Ac*ma);}c.vAa=l;c.wAa=t;c.VV=0<t?n/t:0;c.Qmb=0<t?Q/t:0;c.yK||(c.yK=0,h.some(function(a,b){if(a.O===c.rwa)return c.yK=b,!0;}));h.forEach(function(a){var b,f;a=a.P.pi(a.M,a.pa).X;b=[];c.du||(c.du=a.nl(c.S,void 0,!0));k.pk||(k.pk=a.nl(k.ka,void 0,!0),k.Qq=a.length-1);c.Rg!==c.du+c.QE&&(c.Rg=c.du+c.QE);z=Math.min(k.Qq,k.pk+1);for(var m=c.du;m<=z;m++)f=a.get(m),b[m]=f;d.push(b);});b===q.Fa.Up&&(k.zN=u.jl-u.hf,k.G2=p.jl-p.hf,k.bGa=m.KBa,k.fpa=g.KBa);this.ml=k;this.gc=h;this.Ik=d;return this.ita=!0;};p.prototype.qt=function(){var a,b,f,d,m,g,p,q,h,l,n,ba,t,z,X;if(this.wm)return this.wm;b=this.Ep;a=this.Qg;d=this.ml;m=this.gc;g=this.bAa;ba=this.R_a;c(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)d.Pwa?(h=!1,p=!0):d.pk-a.du+1<=a.QE?p=h=!0:(h=!0,p=!1),q=!0;if(g){l=g.Mn;n=g.IS;for(var Q=0;Q<ba.length;Q++)f=ba[Q],(b=g[f])&&b.Kw&&(p=!0);}a={bst:a.cm,pst:a.Wn,s:a.du,e:d.pk,prebuf:a.QE,brsi:a.Rg,pbdlbytes:a.vAa,pbdur:a.wAa,pbtwbr:a.VV,pbvmaf:a.Qmb};q&&(a.nt=q);p&&(a.nd=p);l&&(a.invalid=l);n&&(a.exception=n);this.qba&&(a.rr=this.qba);this.wW&&(a.ra=this.wW);if(!p&&!l&&!n&&this.yra){a.bitrate=m.map(function(a){return a.O;});b=this.Ep;f=b.trace;t=[];z=0;f.forEach(function(a){a=Number(a).toFixed(0);t.push(a-z);z=a;});a.tput={ts:b.timestamp,trace:t,bkms:b.bl};}if(p||q||l||n)a.feasible=h;else for(a.sols={},a.elapsed=g.vS,Q=0;Q<ba.length;Q++){f=ba[Q];b=g[f];p={};if(b&&b.nr&&(p.algelapsed=b.Q_a,p.f=b&&b.Jh||!1,p.dltwbr=b.W7a,p.dlvmaf=b.esa,p.dlvdur=b.F5,p.dlvbytes=b.E5,p.dlabytes=b.D5,this.yra)){z=0;X=[];b.nr.filter(function(a){return a;}).map(function(a){return a.Cd;}).forEach(function(a){X.push(a-z);z=a;});p.strmsel=X;}a.sols[f]=p;}return this.wm=a;};g.T=p;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oe=!1;},function(g,d,a){var b,f,p,q,c,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(711);g=a(86);p=a(710);q=a(359);c=a(20);m=a(5);a=function(a){function d(b,d,k,g,u,h,O,l,n,ba){var r;b=a.call(this,b)||this;b.G=d;b.ed=h;b.Ki=O;b.AWa=l;b.noa=!0;b.L=c.yw(m,k,"["+b.M+"]");b.Jd=b.L.error.bind(b.L);b.Ga=b.L.warn.bind(b.L);b.Yl=b.L.trace.bind(b.L);b.noa=!0;b.dZa=l;b.oVa=l;b.Xna=l.Ad;ba&&(r=ba.FQ);b.iZa=new p.kTa(O,ba?ba.eu:void 0);b.FQ=new q.o0(n,d,r);b.UH=new f.gRa(b,g,b.G,b.L,b.M);return b;}b.__extends(d,a);Object.defineProperties(d.prototype,{M:{get:function(){return this.Ki.M;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{MF:{get:function(){return this.FQ;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{eu:{get:function(){return this.iZa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Vn:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{waiting:{get:function(){return this.noa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{weight:{get:function(){return this.ed.wa.weight;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{al:{get:function(){return this.oVa.xe(this.dZa);},enumerable:!0,configurable:!0}});return d;}(g.Fr);d.rja=a;},function(g,d,a){var p,q,c,m,k,u;function b(a,b,c,f){m(!p.U(f),"Must have at least one selected stream");return new u(f);}function f(a,b,c,f){m(!p.U(f),"Must have at least one selected stream");return new u(f);}p=a(6);d=a(43);q=d.console;c=d.debug;m=d.assert;k=d.Bz;u=d.Vp;g.T={STARTING:function(a,b,f){var m,g,r,p;function d(f,d){var k,m,g,u;k=f.id;m=f.O;g=f.Ba||0;u=!!g;c&&q.log("Checking feasibility of ["+d+"] "+k+" ("+m+" Kbps)");if(!f.xf)return c&&q.log("  Not available"),!1;if(!f.inRange)return c&&q.log("  Not in range"),!1;if(f.$g)return c&&q.log("  Failed"),!1;if(m>a.bL)return c&&q.log("  Above maxInitAudioBitrate ("+a.bL+" Kbps)"),!1;if(!(m*a.oV/8<b.buffer.Ts))return c&&q.log("  audio buffer too small to handle this stream"),!1;if(u){c&&q.log("  Have throughput history = "+u+" : available throughput = "+g+" Kbps");if(m<g/r)return c&&q.log(" +FEASIBLE: bitrate less than available throughput"),!0;c&&q.log(" bitrate requires more than available throughput");return!1;}f=a.nL;b.Z8&&(f=Math.max(f,a.mL));if(m<=f)return c&&q.log("  Bitrate is less than max of minInitAudioBitrate ("+a.nL+" Kbps) "+(b.Z8?" and also minHCInitAudioBitrate ("+a.mL+" Kbps)":"")),c&&q.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;c&&q.log("  No throughput history");return!1;}m=new u();r=a.jGb||1;for(p=f.length-1;0<=p;--p){g=f[p];if(d(g,p)){m.Cd=p;break;}k(g)&&(m.Cd=p);}return m;},BUFFERING:b,REBUFFERING:b,PLAYING:f,PAUSED:f};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(726),d);},function(g,d,a){(function(){var x1Q,m,k,u,r,h,A,I,O2M,p2M,s2M;function c(a,b){var b1Q;b1Q=2;while(b1Q!==7){switch(b1Q){case 2:d.call(this,a,b);Array.isArray(a.vn.curves)?(this.Vla=r(a.vn.curves[0],0,0,1),this.Ula=r(a.vn.curves[1],0,0,1)):this.Tla=r(a.vn.curves,0,0,1);this.SUa=u(a.vn.threshold||6E3,1,1E5);b1Q=4;break;case 4:this.RUa=u(a.vn.gamma||1,.1,10);this.hma=a.vn.filter;this.YYa=!!a.vn.simpleScaling;a.vn.niqrfilter&&a.vn.niqrcurve&&(this.O1=a.vn.niqrfilter,this.jXa=r(a.vn.niqrcurve,1,0,4));b1Q=7;break;}}}function q(a,b){var W1Q;W1Q=2;while(W1Q!==1){switch(W1Q){case 4:d.call(this,a,b);W1Q=5;break;W1Q=1;break;case 2:d.call(this,a,b);W1Q=1;break;}}}x1Q=2;function d(a,b){var k1Q;k1Q=2;while(k1Q!==9){switch(k1Q){case 2:this.qH=null;this.G=a;this.Kma=b;this.WAa=function(a,b){var o1Q;o1Q=2;while(o1Q!==1){switch(o1Q){case 2:return this.una(a,b);break;case 4:return this.una(a,b);break;o1Q=1;break;}}}.bind(this);this.XAa=function(a,b){var N1Q;N1Q=2;while(N1Q!==1){switch(N1Q){case 4:return this.vna(a,b);break;N1Q=1;break;case 2:return this.vna(a,b);break;}}}.bind(this);k1Q=9;break;}}}function f(a,b,c){var K1Q;K1Q=2;while(K1Q!==5){switch(K1Q){case 2:b=b.Ba?b.Ba.Qa:0;return a.l1a?(a=h(a.k1a,c.jl-c.hf,1),b*(1-a)):b*a.KX/100;break;}}}while(x1Q!==23){O2M="1SIYbZr";O2M+="NJCp";O2M+="9";p2M="me";p2M+="d";p2M+="ia";p2M+="|ase";p2M+="js";s2M="ASEJS_P";s2M+="REDICT";s2M+="OR";switch(x1Q){case 4:new(a(5)).Console(s2M,p2M);k=a(65);u=k.dD;x1Q=8;break;case 8:r=k.U2a;h=k.V9a;A=k.W9a;I=k.Yqb;d.prototype.DF=function(a){var Q1Q;Q1Q=2;while(Q1Q!==1){switch(Q1Q){case 2:this.qH=a;Q1Q=1;break;case 4:this.qH=a;Q1Q=3;break;Q1Q=1;break;}}};d.prototype.Uda=function(a){var j1Q;j1Q=2;while(j1Q!==1){switch(j1Q){case 2:this.G=a;j1Q=1;break;case 4:this.G=a;j1Q=7;break;j1Q=1;break;}}};x1Q=11;break;case 2:m=a(6);a(12);x1Q=4;break;case 11:d.prototype.b1=function(a){var A1Q,b,c;A1Q=2;while(A1Q!==9){switch(A1Q){case 2:b=this.G;m.Ma(this.qH)?c=a*(100-b.KX)/100:(c=this.qH,c=a<2*c?a/2:a-c);b.C9&&this.Kma?(b=this.Kma,a=Math.max(a<2*b?a/2:a-b,c)):a=c;return a;break;}}};q.prototype=Object.create(d.prototype);q.prototype.$Va=function(a,c){var J1Q,f,d;J1Q=2;while(J1Q!==8){switch(J1Q){case 3:m.isArray(c)&&(d=b(c,a.jl-a.hf,f.w3));return d;break;case 4:c=c?f.z4:f.x3;J1Q=3;break;case 2:f=this.G;d=c?f.y4:f.v3;J1Q=4;break;}}};q.prototype.una=function(a,b){var P1Q;P1Q=2;while(P1Q!==1){switch(P1Q){case 2:return f(this.G,a,b);break;case 4:return f(this.G,a,b);break;P1Q=1;break;}}};q.prototype.vna=function(a,b){var i1Q,c;i1Q=2;while(i1Q!==3){switch(i1Q){case 2:c=this.XYa(a,this.G);a=a.Ba?a.Ba.Qa*(100-this.$Va(b,c))/100|0:0;return this.b1(a);break;}}};q.prototype.XYa=function(a,b){var S1Q,c,f;S1Q=2;while(S1Q!==9){switch(S1Q){case 2:c=!1;f=b.bJ;a.ip?c=!0:b.nda&&a.Ba&&a.Ba.Qa<f&&(c=!0);return c;break;}}};x1Q=16;break;case 16:Object.create(q.prototype);c.prototype=Object.create(d.prototype);c.prototype.una=function(a,b){var u1Q;u1Q=2;while(u1Q!==1){switch(u1Q){case 2:return f(this.G,a,b);break;case 4:return f(this.G,a,b);break;u1Q=1;break;}}};c.prototype.vna=function(a,b){var R1Q,c,f,d;R1Q=2;while(R1Q!==13){switch(R1Q){case 5:f=Math.pow(Math.max(1-(a[this.hma]&&a[this.hma].Qa||c)/this.SUa,0),this.RUa);d=b.jl-b.hf;R1Q=3;break;case 2:c=a.Ba&&a.Ba.Qa||0;R1Q=5;break;case 3:R1Q=a.Nnb?9:8;break;case 9:return this.b1((1-a.Nnb)*c);break;case 6:void 0!==a&&(a=A(this.jXa,a),f=Math.min(f*a,1));V5ii.n2M(0);return this.b1(V5ii.d2M(1,f,c));break;case 8:this.Tla?f*=h(this.Tla,d,f):this.YYa?(b=h(this.Vla,d,1),d=h(this.Ula,d,1),f=b*f+d*(1-f)):f=h(I(this.Vla,this.Ula,f),d,1);a=this.O1&&a[this.O1]&&a[this.O1].tL;R1Q=6;break;}}};g.T=function(a,b){var U1Q,h1Q,y2M;U1Q=2;while(U1Q!==5){y2M="m";y2M+="an";y2M+="ifold";switch(U1Q){case 1:return new c(a,b);break;case 4:return new q(a,b);break;case 7:return new c(a,b);break;U1Q=5;break;case 2:h1Q=a.g$;U1Q=h1Q===y2M?1:4;break;}}};O2M;x1Q=23;break;}}function b(a,b,c){var c1Q,f,d,k;c1Q=2;while(c1Q!==3){switch(c1Q){case 4:return f;break;case 2:c1Q=1;break;case 9:a.some(function(a){var V1Q;V1Q=2;while(V1Q!==5){switch(V1Q){case 2:f=a.m;return b<=a.b;break;case 3:f=a.m;return b<a.b;break;V1Q=5;break;}}});c1Q=4;break;case 5:a.some(function(a){var G1Q,c;G1Q=2;while(G1Q!==6){switch(G1Q){case 4:G1Q=b<=c?3:9;break;case 3:return f=k&&c!==d?k+(a-k)/(c-d)*(b-d):a,!0;break;case 2:c=a.b;a=a.m;G1Q=4;break;case 9:d=c;f=k=a;return!1;break;}}});c1Q=4;break;case 1:c1Q=c?5:9;break;}}}}());},function(g,d,a){var q,c;function b(a,b,c,f,d,g){return new p(a,b,c,f,d,g);}function f(a){return a&&0<=a.indexOf(".__metadata__");}function p(a,b,c,f,d,g){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=f;this.creationTime=d;this.lastRefresh=g;return this.aFa();}q=a(6);c=a(110);a(109);new c.Console("MEDIACACHE","media|asejs");p.prototype.refresh=function(){this.lastRefresh=c.time.now();return this.aFa();};p.prototype.CDa=function(a){this.size=a;};p.prototype.Iqa=function(){var a;a=c.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};p.prototype.aFa=function(){this.lastMetadataUpdate=c.time.now();return this;};p.prototype.constructor=p;g.T={create:b,N6:function(a){var c;c=a;"string"===typeof a&&(c=JSON.parse(a));if(c&&c.partition&&!q.U(c.lifespan)&&c.resourceIndex&&c.creationTime&&c.lastRefresh)return a=b(c.partition,c.resourceIndex,c.lifespan,-1,c.creationTime,c.lastRefresh),c.lastMetadataUpdate&&(a.lastMetadataUpdate=c.lastMetadataUpdate),!q.U(c.size)&&0<=c.size&&a.CDa(c.size),a.Iqa(),a.convertToBinaryData=c.convertToBinaryData,a;},K4:function(a){return a+".__metadata__";},KS:function(a){return f(a)?a.slice(0,a.length-13):a;},sE:f};},function(g,d,a){var I,F,D,l,n,N,ba,Q,t,z,X,T,Y;function b(){}function f(a,c){var f,d,m,g;f=I.Gb(c)?c:b;this.G=a||{};(function(a,b,c){this.Ah[a].ud[b]=c;}.bind(this));(function(a,b){return this.Ah[a].ud?this.Ah[a].ud[b]:void 0;}.bind(this));this.on=this.addEventListener=T.addEventListener;this.removeEventListener=T.removeEventListener;this.emit=this.Ka=a.ZHb?T.Ka:b;d=l.L5a(a);m=this.G.dailyDiskCacheWriteLimit;if(d){this.Yp=d;g=r(a.v$||Y,l.Cbb());this.Es=function(a){return I.U(g)||null===g||void 0===this.Ah[a]?!1:!I.U(g[a]);};g?(this.Ah={},c=F.Promise.all(Object.keys(g).map(function(b){return new F.Promise(function(c,f){var k;k=g[b];k.PFa=a.PFa;new n(b,d,k,function(a,b){a?f(a):c(b);},m);});})).then(function(a){a.map(function(a){var b;b=a.bv;this.Ah[b]=a;g[b].mab=g[b].Ts-a.Ds;this.Ah[b].on(n.Fd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ka("mediacache",a);}.bind(this));this.Ah[b].on(n.Fd.dla,function(a){a=a||{};a.partition=b;a.type="save";this.Ka("mediacache",a);}.bind(this));this.Ah[b].on(n.Fd.ERROR,function(a){a=a||{};a.partition=b;a.type=n.Fd.ERROR;this.Ka("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){k(d,F.storage.DB,Object.keys(g));return a;}.bind(this)).then(function(a){Object.keys(a.Ah).map(function(b){a.Ah[b].k7().map(function(c){a["delete"](b,c);});});a.Ln=!0;f(null,a);}.bind(this))["catch"](function(a){D.error("Failed to initialize media cache ",a);this.uz=z.tfa;f(this.uz,this);}.bind(this)),X.ar(c)):(this.uz=z.bNa,f(this.uz,this));}else this.uz=z.tfa,f(this.uz,this);}function p(a,b,c,f,d,k){var m;m=k?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:F.time.now()};k&&(b.error=k);d&&(I.na(d.duration)&&(b.duration=d.duration),I.na(d.Rs)&&(b.bytesRead=d.Rs));try{a.Ka(m,b);}catch(ka){D.warn("caught exception while emitting basic event",ka);}}function q(a,b,c,f,d){var k;k=d?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:F.time.now()};d&&(b.error=d);try{a.Ka(k,b);}catch(ra){D.warn("caught exception while emitting basic event",ra);}}function c(a){return!I.U(a)&&!I.Ma(a)&&I.na(a.lifespan);}function m(a){return!N.sE(a)&&!Q.hgb(a);}function k(a,c,f){a.query(c,"",function(d,k){d||Object.keys(k).filter(function(a){return 0>f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(c,f,b);});});}function u(a,b,c){var d,k;function f(b){a["delete"](d,function(f){f?c(f):(delete a.ud[k],f=Object.keys(b.resourceIndex),f=F.Promise.all(f.map(function(b){return new F.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),X.ar(f));});}N.sE(b)?(d=b,k=N.KS(b)):(d=N.K4(b),k=b);(b=a.ud[k])?f(b):a.read(d,function(a,b){a?c(a):f(b);});}function r(a,b){var c,f,d;c={};f=a.partitions.reduce(function(a,b){return a+b.capacity;},0);d=b/f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Ts=Math.floor(d*a.capacity);c[b].s6a=a.dailyWriteFactor||1;c[b].RKb=a.owner;c[b].Z9a=a.evictionPolicy;});return c;}function h(a,b,c){if(c)return Q.S7a(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function A(a,b,c,f,d,k,m,g,r,u,p){return function(q,h){q?I.isArray(q)?(h=q.map(function(a){return a.error;}),h.some(function(a){return a.code===z.hB.code;})&&!h.some(function(a){return a.code===z.jP.code;})?p(u,q,function(){r.save(b,c,f,d,k,m);}):(u["delete"](g),delete u.ud[c],k({error:q[0].error,Rt:q[0].Rt,type:q[0].type,Ooa:q}))):k({error:q,Rt:b,type:"save"}):(q=h.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.AU;},0),u.ud[c].CDa(q),q={mab:h.Qi,tHb:h.rD,hi:0,items:h},0<h.hi&&(q.hi=h.hi),0<h.duration&&(q.duration=h.duration),k(null,q));};}I=a(6);F=a(110);D=new F.Console("MEDIACACHE","media|asejs");l=a(738);n=a(737);N=a(361);ba=a(109);Q=a(730);t=a(729);z=a(205);X=a(204);T=a(108).EventEmitter;Y={$Kb:[]};f.prototype.pA=function(a,c,f){var d;d=I.Gb(f)?f:b;this.Es(a)?this.Ah[a].query(c,function(a,b){a?(D.error("Failed to query resources",a),d([])):d(b.filter(m));}):d([]);};f.prototype.read=function(a,c,f){var d,k,m,g;d=I.Gb(f)?f:b;if(this.Es(a)){k=this.Ah[a];m=k.ud[c];if(!N.sE(c)&&this.G.qjb){g=function(b){k.uW(Object.keys(b),function(b,f,k){b?d(z.KB.Qm("Failed to read "+c,b)):(p(this,"read",a,c,k),d(null,Q.Pfb(f)));}.bind(this),b);}.bind(this);m?g(m.resourceIndex):this.bpb(a,c,function(a,b){a?d(z.KB.Qm("Failed to read "+c,a)):g(b.resourceIndex);});}else k.read(c,function(b,f,k){b?d(z.KB.Qm("Failed to read "+c,b)):(m&&m.convertToBinaryData&&(f=t.S3a(f)),p(this,"read",a,c,k),d(null,f));}.bind(this));}else d(z.Au);};f.prototype.uW=function(a,c,f){var d,k;d=I.Gb(f)?f:b;if(this.Es(a)){k={};c=F.Promise.all(c.map(function(b){return new F.Promise(function(c,f){this.read(a,b,function(a,d){a?(d={},d[b]=a,f(d)):(k[b]=d,c());});}.bind(this));}.bind(this))).then(function(){d(null,k);},function(a){d(a);});X.ar(c);}else d(z.Au);};f.prototype.OCa=function(a,c,f){var d;d=I.Gb(f)?f:b;this.Es(a)?"[object Object]"!==Object.prototype.toString.call(c)?d(z.iP.Qm("items must be a map of keys to objects")):(f=new F.Promise(function(b){var f,d;f=this.Ah[a].k7();d=Object.keys(c);(f=f.filter(function(a){return-1===d.indexOf(a);}))&&0<f.length?this.Rra(a,f,function(){b();}):b();}.bind(this)).then(function(){return F.Promise.all(Object.keys(c).map(function(b){return new F.Promise(function(f,d){this.save(a,b,c[b].Im,c[b].od,function(a,c){a?(D.error("Received an error saving",b,a),d(a)):f(c);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var f,k,m;try{f=Number.MAX_VALUE;k=Number.MAX_VALUE;m=b.reduce(function(a,b){b.Qi&&b.Qi<f&&(f=b.Qi);b.rD&&b.rD<k&&(k=b.rD);f<Number.MAX_VALUE&&(a.freeSize=f);k<Number.MAX_VALUE&&(a.dailyBytesRemaining=k);I.na(b.hi)&&(a.bytesWritten+=b.hi);I.na(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(c),time:F.time.now(),bytesWritten:0,duration:0});this.Ka("mediacache",m);d(null,m);}catch(Ba){d(err);}}.bind(this),function(b){I.isArray(b.Ooa)?b.Ooa.forEach(function(b){this.Ka("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.kM});}.bind(this)):this.Ka("mediacache-error",{partition:a,type:"saveMultiple",error:b});d(b);}.bind(this)),X.ar(f)):(I.Gb(f)?f:b)(z.Au);};f.prototype.save=function(a,f,d,k,m,g){var r,u,y,l,O,n,aa,Q,M;r=I.Gb(m)?m:b;if(this.Es(a)){u=this.Ah[a];y=N.K4(f);m=u.k7();m=m.filter(function(a){return a!==f;});if(c(k)){l=h(f,d,this.G.qjb);O=u.ud[f]||{};n=O.resourceIndex;n&&Object.keys(n).map(function(a){I.U(l[a])&&u["delete"](a);});k.convertToBinaryData&&(d=t.T3a(l),l=h(f,d,!1));n=F.time.now();aa={};aa.partition=a;aa.resourceIndex=Object.keys(l).reduce(function(a,b){a[b]=ba.X7(l[b]);return a;},{});aa.creationTime=O.creationTime||n;aa.lastRefresh=n;aa.lifespan=k.lifespan;aa.lastMetadataUpdate=n;aa.size=O.size;aa.convertToBinaryData=k.convertToBinaryData;Q=function(a,b,c){a.r7a(function(d,k){d&&D.error("Evicting","Failed to delete some orphaned records",d);k.uba?c():(d=a.Pbb())?this["delete"](a.getName(),d,function(d){d?(g||(I.isArray(b)?b.forEach(function(b){q(this,"save",a.getName,b.kM,b.error);}.bind(this)):p(this,"save",a.getName(),f,void 0,b)),r(b)):c();}.bind(this)):r(z.hB);}.bind(this));}.bind(this);M=function(){var a,b,c;a=this.Ah;b=0;c=F.time.now();if(!I.U(a))for(var f in a)b+=a[f].cbb(c);return b;}.bind(this);this.Rra(a,m,function(){u.replace(y,aa,function(b,c){c?(u.ud[f]=N.N6(aa),u.dqb(l,A(l,a,f,d,k,r,g,y,this,u,Q),g,M)):b.code===z.hB.code?Q(u,b,function(){this.save(a,f,d,k,r,g);}.bind(this)):r(b);}.bind(this),g,M);}.bind(this));}else r(z.dOa);}else r(z.Au);};f.prototype["delete"]=function(a,c,f){var d;d=I.Gb(f)?f:b;this.Es(a)?u(this.Ah[a],c,function(b){p(this,"delete",a,c,void 0,b);d(b);}.bind(this)):d(z.Au);};f.prototype.Rra=function(a,c,f){var d,k;d=I.Gb(f)?f:b;if(this.Es(a)){k=this.Ah[a];f=F.Promise.all(c.map(function(a){return new F.Promise(function(b){u(k,a,function(c){b({W:I.U(c),error:c,Im:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var g,r;for(var c=[],f=[],k=[],m=0;m<b.length;m++){g=b[m];g.W?c.push(g.Im):g.error&&f.push(g);}0<c.length&&q(this,"delete",a,c);0<f.length&&(k=f.map(function(a){return a.Im;}),b=X.Ava(f),r=b[0],b.forEach(function(b){D.error("Failed to delete resources ",b.error,b.kM);q(this,"delete",a,b.kM,b.error);}.bind(this)));b={};b.HLb=c;0<k.length&&(b.ILb=k);r?d(r,b):d(void 0,b);}.bind(this),function(b){q(this,"delete",a,c,b);d(b);}.bind(this));X.ar(f);}else d(z.Au);};f.prototype.clear=function(a,c){var f;f=I.Gb(c)?c:b;this.Es(a)?this.Ah[a].clear(function(a){f(a.filter(m));}):f(z.Au);};f.prototype.bpb=function(a,c,f){var d,k;d=I.Gb(f)?f:b;if(this.Es(a)){f=N.K4(c);k=this.Ah[a];k.read(f,function(a,b){var f;if(a)d(z.eOa);else{f=N.N6(b)||{};k.bva(Object.keys(f.Hba),function(a){f.size=a;(a=k.ud[c])&&(f.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=f.lastMetadataUpdate?k.ud[c]=f:a.lastMetadataUpdate&&(a.lastMetadataUpdate>f.lastMetadataUpdate||I.U(f.lastMetadataUpdate))&&(f=a));d(null,f);});}});}else d(z.Au);};f.prototype.WX=function(a){F.wK(a);};f.prototype.constructor=f;g.T=f;},function(g,d,a){var b,f,p,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(5);p=a(741);q=f.kB;g=function(){function a(){this.Gp=[];this.console=new f.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(a,{ah:{get:function(){void 0===a.lC&&(a.lC=new a());return a.lC;},enumerable:!0,configurable:!0}});a.prototype.SR=function(a,b,c,f,d,g){var k,m,r;m=g.Jsb?this.K$a(c,b,a):-1;if(-1===m){k={track:this.N5a(c,f,a,d,g),Vn:c,I:b,vBa:a,jF:[],Ro:!1,Wra:!1};this.Gp.push(k);r=function(){k.Ro=!0;k.track.removeListener("created",r);};k.track.on("created",r);k.track.xc&&k.track.xc();}else k=this.Gp[m];a=new p.mSa(k.track,k.Ro);k.jF.push(a);return a;};a.prototype.w5=function(a){var b,c;a.ll();b=this.RS(function(b){return b.track===a.track;});if(-1!==b)if(b=this.Gp[b],1===b.jF.length)b.track.ll(),b.Wra=!0;else{c=b.jF.indexOf(a);0<=c&&b.jF.splice(c,1);}else a.track.ll();};a.prototype.lf=function(){a.ila.lf();};a.prototype.N5a=function(c,f,d,g,p){var k,m;k=this;c?1===d?(c=!1,f=1,p.Tn?(c=!0,f=p.FE):p.Pq&&2<p.Pq&&(c=!0,f=p.Pq),p={type:q.VIDEO,openRange:!c,pipeline:c,connections:f,socketBufferSize:p.fG,minRequestSize:p.ME}):0===d?(c=p.Tn&&f&&p.vwb,p={type:q.AUDIO,openRange:!c,pipeline:c,connections:1,socketBufferSize:p.mR,minRequestSize:p.ME}):p={type:q.XLa,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.l8,minRequestSize:p.ME}:p={type:0===d?b.Da.AUDIO:b.Da.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===d?p.mR:p.fG,minRequestSize:p.ME};m=new a.ila(p,g);m.on("transportreport",function(a){var b;b=k.RS(function(a){return a.track===m;});-1!==b&&(b=k.Gp[b],b.jF.length&&b.jF[0].emit("transportreport",a));});m.on("destroyed",function(){var a;a=k.RS(function(a){return a.track===m;});-1!==a&&k.Gp.splice(a,1);m.removeAllListeners();});return m;};a.prototype.K$a=function(a,b,c){return this.RS(function(f){return!f.Wra&&(a?f.Vn&&f.I===b&&f.vBa===c:!f.Vn&&f.vBa===c);});};a.prototype.RS=function(a){for(var b=0;b<this.Gp.length;++b)if(a(this.Gp[b]))return b;return-1;};a.ila=q;return a;}();d.qu=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pqa=function(a,b){var f;if(!Array.isArray(a.Oqa))return a;f=Object.create(a);a.Oqa.forEach(function(a){if(void 0!==a.dkb&&b.duration>=a.dkb&&a.config)for(var d in a.config)f[d]=a.config[d];});return f;};},function(g,d,a){var f;function b(a,b){a=b.indexOf(a);-1!==a&&b.splice(a,1);}Object.defineProperty(d,"__esModule",{value:!0});f=a(85);g=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.Hta=function(){return this.done;};a.prototype.jsa=function(a,b,f){return this.done=b+f>=this.endOffset;};return a;}();d.Gfa=g;g=function(){function a(a,b,f,d){void 0===b&&(b=[]);void 0===f&&(f=[]);void 0===d&&(d=!1);this.yp=a;this.hS=b;this.zEa=f;this.sAa=d;this.done=!1;this.Wi={};}a.prototype.Hta=function(b,c,f){-1!==a.Neb.indexOf(b)&&(this.Wi[b]={offset:c,size:f});if(-1!==this.zEa.indexOf(b))if(this.Wi[b]={offset:c,size:f},this.sAa)this.endOffset=c+f;else return this.endOffset=c,this.done=!0;else this.yp&&-1!==this.yp.indexOf(b)?(b=1<this.yp.length?4096:0,this.endOffset=Math.max(c+f+b,this.endOffset||0)):-1!==this.hS.indexOf(b)&&(b=this.yp?4096:0,this.endOffset=Math.max(c+f+b,this.endOffset||0));return this.done;};a.prototype.jsa=function(a,c,d,k){var m;m=this;if(-1!==this.zEa.indexOf(a))return this.done=!0;a===f.A_&&this.yDa(k.Wi);a===f.B_&&this.yDa(k.Wi);this.yp&&b(a,this.yp);b(a,this.hS);return this.yp&&0===this.yp.length&&!this.hS.some(function(a){return m.Wi[a];})?this.done=!0:this.done;};a.prototype.yDa=function(a){var b;b=this;this.Wi=a;this.endOffset=(this.yp||[]).concat(this.hS).reduce(function(a,c){return b.Wi[c]?(c=b.Wi[c],Math.max(c.offset+(c.size||4096),a)):a;},this.endOffset||0);};a.Neb=["moov","sidx"];return a;}();d.gMa=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){var b;b=null!==a&&a.apply(this,arguments)||this;b.eT=1536;return b;}b.__extends(f,a);f.Xb=!0;return f;}(a(155)["default"]);d["default"]=g;a=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Je="ac-3";return f;}(g);d.mGa=a;g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.Je="ec-3";return f;}(g);d.QKa=g;},function(g,d,a){var Y,V,M,fa,ma,U,P,ra,ka,Ba,Fa,Ea,B,G,L,R,S,Z,da,ea,ga,ia,ta,bc,ha,na,la,oa,pa,qa,sa,ua;function b(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function f(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function p(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function q(a,b,c,f,d){ma.call(this,a,b,c,f,d);this.nX=a.config.nX;this.Vc=this.sizes=void 0;}function c(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function m(){for(var a=new DataView(this),b="",c,f=0;f<this.byteLength;f++)c=a.getUint8(f),b+=("00"+c.toString(16)).slice(-2);return b;}function k(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function u(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function r(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function h(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function A(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function I(a){function b(b,c,f,d,k){ma.call(this,b,c,f,d,k);this.mza=a;}b.Xb=!1;b.prototype=new ma();b.prototype.constructor=b;Object.defineProperties(b.prototype,{vfa:{get:function(){return this.mza;}}});b.prototype.parse=function(){this.K.console.trace("renaming '"+this.type+"' to draft type '"+this.mza+"'");this.K.offset=this.startOffset+4;this.Ya.hGa(this.vfa);this.type=this.vfa;return!0;};return b;}function F(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function D(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function l(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function n(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function N(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function ba(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function Q(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function t(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function z(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function X(a,b,c,f,d){ma.call(this,a,b,c,f,d);}function T(a,b){a.forEach(function(a){b[a.Je]=a;});}Y=a(11).assert;d=a(85);a(5);V=a(33).sb;M=a(382);fa=a(128);a(59);a(59);a(59);ma=a(25).Cf;U=a(764)["default"];P=a(763)["default"];ra=a(762)["default"];ka=a(761)["default"];Ba=a(760)["default"];Fa=a(759)["default"];Ea=a(758)["default"];B=a(757)["default"];G=a(756)["default"];a(215);a(155);L=a(366).mGa;R=a(366).QKa;S=a(755)["default"];Z=a(754)["default"];da=a(84)["default"];ea=a(84).LGa;ga=a(84).MGa;ia=a(84).NGa;ta=a(84).OGa;bc=a(753)["default"];ha=a(752)["default"];na=a(84).dMa;la=a(84).ZLa;oa=a(751)["default"];pa=a(750)["default"];qa=a(749)["default"];sa=a(370)["default"];ua=a(369)["default"];a(126);a(212);a(211);a(213);a=a(748)["default"];b.Xb=!0;b.prototype=new ma();b.prototype.constructor=b;f.Xb=!0;f.prototype=new ma();f.prototype.constructor=f;p.Xb=!1;p.prototype=new ma();p.prototype.constructor=p;p.prototype.parse=function(){var a;this.Bf();1===this.version?(this.K.vi(),this.K.vi(),this.ca=this.K.rb(),this.duration=this.K.vi()):(this.K.rb(),this.K.rb(),this.ca=this.K.rb(),this.duration=this.K.rb());a=this.K.Yf()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};q.Xb=!1;q.prototype=new ma();q.prototype.constructor=q;q.prototype.$Xa=function(){this.Bf();this.K.rb();this.ca=this.K.rb();0===this.version?(this.O5=this.K.rb(),this.z6=this.K.rb()):(this.O5=this.K.vi(),this.z6=this.K.vi());this.rqb=this.K.Yf();this.dM=this.K.Yf();};q.prototype.tVa=function(a,b){var c,f,d;c=this.ca;a=a&&a.ca||c;f=a/c;c=this.K.rW(b,12,!1);d=1===f?this.K.rW(b,12,!1):M.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.K.rb()*f);this.K.offset+=8;return a;},this);this.goa(b,d,c,a);};q.prototype.Ola=function(a){var b,c,f,d,k;b=this.ca;a=a&&a.ca||b;c=a/b;b=this.dM;f=this.K.config.ZA&&fa.vva||fa.lz;d=f(this.oX,0,b,12,!1);k=4;f=1===c?f(this.oX,k,b,12,!1):M.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.oX.getUint32(k,!1)*c);k+=12;return a;},this);this.goa(b,f,d,a);this.oX=void 0;};q.prototype.goa=function(a,b,c,f){if(this.nX){f=this.nX*f/1E3;for(var d=0,k=1;k<a;k++)Math.abs(b[d]-f)>Math.abs(b[d]+b[k]-f)?(b[d]+=b[k],c[d]+=c[k]):(++d,d!==k&&(b[d]=b[k],c[d]=c[k]));++d;b=new Uint32Array(b.buffer.slice(0,4*d));c=new Uint32Array(c.buffer.slice(0,4*d));}this.sizes=c;this.Vc=b;};q.prototype.parse=function(a){var b,c,f,d,k;this.$Xa();this.La=a.La;b=this.ca;c=this.La&&this.La.ca||b;f=this.dM;d=this.startOffset+this.length+this.z6;b=new V(this.O5,b).Ll(c).Vd;this.X={ca:c,Zi:b,offset:d};c=this.K.config.s$;if(this.K.config.Iz&&this.dM<c){this.oX=this.K.ABa(12*this.dM);k=this;Object.defineProperty(this.X,"durations",{get:function(){void 0===k.Vc&&k.Ola(k.La);return k.Vc;}});Object.defineProperty(this.X,"sizes",{get:function(){void 0===k.sizes&&k.Ola(k.La);return k.sizes;}});}else this.tVa(this.La,f),this.X.Vc=this.Vc,this.X.sizes=this.sizes;a.kr=this;return!0;};c.Xb=!1;c.prototype=new ma();c.prototype.constructor=c;c.prototype.parse=function(){this.mo=[];for(var a=(this.length-8)/2,b=0;b<a;b++)this.mo.push(this.K.Yf()/100);return!0;};k.Xb=!1;k.prototype=new ma();k.prototype.constructor=k;k.prototype.parse=function(){this.Bf();this.K.offset+=4;this.fxa=this.K.offset;this.nw=this.K.ABa(16);this.nw.toString=m;return!0;};u.Xb=!1;u.prototype=new ma();u.prototype.constructor=u;u.prototype.parse=function(){this.Bf();this.lm=this.K.Yf();this.gjb=this.K.rW(this.lm,void 0,!0);return!0;};r.Xb=!1;r.prototype=new ma();r.prototype.constructor=r;r.prototype.parse=function(a){var b,c,f,d,k,m;d=a.kr;Y(d);a=a.La;b=d.ca;d=d.dM;Y(a);Y(b);Y(d);this.Bf();Y(2>this.version);this.lm=this.K.Yf();this.cF=new Uint16Array(d+1);c=a.Odb(b);k=c/b;m=a.Ll(c).Vd;if(0===this.version)for(this.tF=new Uint16Array(),this.pg=new Uint32Array(),a=b=0;a<=d;++a){if(this.cF[a]=b,a<this.lm&&(f=this.K.te(),0!==f))for(c=0;c<f;++c,++b)this.tF[b]=Math.floor((this.K.rb()+1)*k)/m,this.pg[b]=this.K.rb();}else if(1===this.version)for(c=this.K.Xob(this.lm),this.K.offset+=4,this.pg=this.K.rW(this.lm,10,!1),this.K.offset-=8,this.tF=M.from(Uint16Array,{length:this.lm},function(){var a;a=Math.floor((this.K.rb()+1)*k)/m;this.K.offset+=6;return a;},this),b=a=0;a<=d;++a){for(;b<c.length&&c[b]<a;)++b;this.cF[a]=b;}this.Ag={cF:this.cF,tF:this.tF,pg:this.pg};return!0;};h.Xb=!0;h.prototype=Object.create(b.prototype);h.prototype.constructor=h;A.Xb=!0;A.prototype=Object.create(b.prototype);A.prototype.constructor=A;A.prototype.TD=function(){var a;a=this.Hp("tfhd");a&&(this.Ns=a.zpa?a.Ns:this.parent.startOffset);return!0;};F.Xb=!1;F.prototype=new ma();F.prototype.constructor=F;F.prototype.parse=function(){var a,r,u,c,d;a=this.K.offset;this.Bf();if(1===this.version){this.K.console.trace("translating vpcC box to draft equivalent");this.K.offset+=2;for(var b=this.K.offset,c=this.K.te(),f=this.K.te(),d=this.K.te(),k=this.K.te(),m=this.K.Yf(),g=[],r=0;r<m;++r)g=this.K.te();r=(c&240)>>>4;u=(c&14)>>>1;c=c&1;d=16===d?1:0;f!=k&&this.K.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+f+" and matrixCoefficients "+k+" should be the same value!");k=2;switch(f){case 1:k=2;break;case 6:k=1;break;case 9:k=5;break;default:this.K.console.warn("VP9: Unknown colourPrimaries "+f+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Ya.sY(this.version,a);this.Ya.sY(r<<4|k,b++);this.Ya.sY(u<<4|d<<1|c,b++);m+=2;g.push(0,0);this.Ya.kxb(m);b+=2;g.forEach(function(a){this.Ya.sY(a,b++);});}return!0;};D.Xb=!1;D.prototype=new ma();D.prototype.constructor=D;D.Je="tfhd";Object.defineProperties(D.prototype,{zpa:{get:function(){return this.Ue&1;}},Sqb:{get:function(){return this.Ue&2;}},j7a:{get:function(){return this.Ue&8;}},m7a:{get:function(){return this.Ue&16;}},k7a:{get:function(){return this.Ue&32;}}});D.prototype.parse=function(){this.Bf();this.Gda=this.K.rb();this.Ns=this.zpa?this.K.vi():void 0;this.Sqb&&this.K.rb();this.bS=this.j7a?this.K.rb():void 0;this.dS=this.m7a?this.K.rb():void 0;this.cS=this.k7a?this.K.rb():void 0;return!0;};l.Xb=!1;l.prototype=new ma();l.prototype.constructor=l;l.prototype.parse=function(){this.Bf();this.FI=1===this.version?this.K.vi():this.K.rb();return!0;};l.prototype.Ra=function(a){var b;b=this.startOffset+12;this.FI+=a;1===this.version?this.Ya.lxb(this.FI,b):this.Ya.no(this.FI,b);};n.Xb=!1;n.prototype=new ma();n.prototype.constructor=n;Object.defineProperties(n.prototype,{ura:{get:function(){return this.Ue&1;}},C6:{get:function(){return this.Ue&4;}},QW:{get:function(){return this.Ue&256;}},RW:{get:function(){return this.Ue&512;}},MCa:{get:function(){return this.Ue&1024;}},Rba:{get:function(){return this.Ue&2048;}}});n.prototype.parse=function(){this.Bf();this.Ipa=this.K.offset;this.fe=this.K.rb();this.ct=this.ura?this.K.oba():0;this.C6&&this.K.rb();this.lM=(this.QW?4:0)+(this.RW?4:0)+(this.MCa?4:0)+(this.Rba?4:0);this.US=this.K.offset;Y(this.ura,"Expected data offset to be present in Track Run");Y(this.length-(this.K.offset-this.startOffset)===this.fe*this.lM,"Expected remaining data in box to be sample information");return!0;};n.prototype.XH=function(a,b,c){var f,d,k;f=this.QW?this.K.rb():a.bS;d=this.RW?this.K.rb():a.dS;a=this.MCa?this.K.rb():a.cS;k=0===this.version?this.Rba?this.K.rb():0:this.Rba?this.K.oba():0;return{Rqb:k,WLb:a,nLb:c+k-(void 0!==b?b:k),au:d,mM:f};};n.prototype.Ra=function(a,b,c,f,d,k,m){var g,r,u,p;g=0;r=0;this.Ya.offset=this.US;for(f=0;f<d;++f)p=this.XH(b,u,r),0==f&&(u=p.Rqb),g+=p.au,r+=p.mM;f=d;d=this.K.offset;p=this.XH(b,u,r);this.FF=f;this.ctb=r;if(m){if(this.kF=this.ct+g,this.Xt=0,f===this.fe)return!0;}else if(this.kF=this.ct,this.Xt=g,0===f)return!0;if(0===f||f===this.fe)return!1;this.uS=!0;if(m){this.Xt+=p.au;for(m=f+1;m<this.fe;++m)p=this.XH(b,u,r),this.Xt+=p.au;this.Ya.offset=this.Ipa;this.fe=f;this.Ya.no(this.fe);this.Ya.fea(k);this.C6&&(this.K.offset+=4);this.Oj(this.length-(d-this.startOffset),d);}else b=d-this.US,this.Ya.offset=this.Ipa,this.fe-=f,this.Ya.no(this.fe),this.ct+=g,this.Ya.fea(k,this.ct),this.C6&&(this.K.offset+=4),this.Oj(b,this.Ya.offset);c.Oj(this.Xt,a.Ns+this.kF);return!0;};n.prototype.eqb=function(a,b,c,f,d,k){var g;if(f){f=this.kF;for(var m=this.fe-1;0<=m&&this.fe-m<=d;--m){this.Ya.offset=this.US+m*this.lM;g=this.XH(b);if(g.mM!=k.duration){this.K.console.warn("Could not replace sample of duration "+g.mM+" with silence of duration "+k.duration);break;}if(this.RW)this.Ya.offset-=this.lM-(this.QW?4:0),this.Ya.no(k.cu.byteLength);else if(k.cu.byteLength!==g.au){this.K.console.warn("Cannot replace sample with default size with silence of different size");break;}f-=g.au;c.BW(g.au,k.cu,a.Ns+f);}}else for(f=this.kF+this.Xt,m=0;m<this.fe&&m<d;++m){this.Ya.offset=this.US+(m+this.FF)*this.lM;g=this.XH(b);if(g.mM!=k.duration){this.K.console.warn("Could not replace sample of duration "+g.mM+" with silence of duration "+k.duration);break;}if(this.RW)this.Ya.offset-=this.lM-(this.QW?4:0),this.Ya.no(k.cu.byteLength);else if(k.cu.byteLength!==g.au){this.K.console.warn("Cannot replace sample with default size with silence of different size");break;}c.BW(g.au,k.cu,a.Ns+f);f+=g.au;}};N.Xb=!1;N.prototype=Object.create(ma.prototype);N.prototype.constructor=N;Object.defineProperties(N.prototype,{Fy:{get:function(){return this.Ue&1;}}});N.prototype.parse=function(){this.Bf();this.Fy&&this.K.Vw();this.Fy&&this.K.rb();this.l7a=this.K.te();this.fe=this.K.rb();this.K.sW(this.fe);return!0;};N.prototype.Ra=function(a,b){if(a&&0===this.l7a){a=b?this.fe-a:a;this.Ya.offset=this.startOffset+13+(this.Fy?8:0);this.fe-=a;this.Ya.no(this.fe);this.Pba=0;if(b)this.Ya.offset+=this.fe;else{for(b=0;b<a;++b)this.Pba+=this.Ya.te();this.Ya.offset-=a;}this.Oj(a,this.K.offset);}return!0;};ba.Xb=!1;ba.prototype=Object.create(ma.prototype);ba.prototype.constructor=ba;Object.defineProperties(ba.prototype,{Fy:{get:function(){return this.Ue&1;}}});ba.prototype.parse=function(){this.Bf();this.Fy&&this.K.Vw();this.Fy&&this.K.rb();this.lm=this.K.rb();Y(1===this.lm,"Expected a single entry in Sample Auxiliary Information Offsets box");this.ct=0===this.version?this.K.oba():this.K.epb();return!0;};ba.prototype.Ra=function(a,b){this.ct+=a;this.Ya.offset=this.startOffset+16+(this.Fy?8:0)+(0===this.version?0:4);this.Ya.fea(b,this.ct);return!0;};Q.Xb=!1;Q.prototype=Object.create(ma.prototype);Q.prototype.constructor=Q;Object.defineProperties(Q.prototype,{mAa:{get:function(){return this.Ue&1;}},zwb:{get:function(){return this.Ue&2;}}});Q.prototype.parse=function(){this.Bf();this.mAa&&(this.K.rb(),this.Sgb=this.K.sW(16));this.fe=this.K.rb();return!0;};Q.prototype.Ra=function(a,b){var c,f;c=b?this.fe-a:a;this.Ya.offset=this.startOffset+28+(this.mAa?20:0);this.fe-=c;this.Ya.no(this.fe);a=this.Ya.offset;if(this.zwb)for(c=b?this.fe:c;0<c;--c){this.Ya.offset+=8;f=this.Ya.Yf();this.Ya.offset+=6*f;}else this.Ya.offset+=8*(b?this.fe:c);b?this.Oj(this.length-(this.K.offset-this.startOffset),this.K.offset):this.Oj(this.K.offset-a,a);};t.Xb=!1;t.prototype=Object.create(ma.prototype);t.prototype.constructor=t;t.prototype.parse=function(){this.Bf();return!0;};t.prototype.Ra=function(a,b,c){c?this.Oj(b-a,this.startOffset+12+a):this.Oj(a,this.startOffset+12);return!0;};z.Xb=!1;z.prototype=Object.create(ma.prototype);z.prototype.constructor=z;z.prototype.parse=function(){this.Bf();this.K.Vw();1===this.version&&this.K.rb();this.lm=this.K.rb();this.nM=[];for(var a=0;a<this.lm;++a)for(var b=this.K.rb(),c=this.K.rb(),f=0;f<b;++f)this.nM.push(c);return!0;};z.prototype.Ra=function(a,b){this.nM=b?this.nM.slice(0,a):this.nM.slice(a);a=this.nM.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.Ya.offset=this.startOffset+16+(1===this.version?4:0);this.Ya.no(a.length);a.forEach(function(a){this.Ya.no(a.count);this.Ya.no(a.group);}.bind(this));this.lm>a.length&&this.Oj(8*(this.lm-a.length));this.lm=a.length;return!0;};X.Xb=!1;X.prototype=Object.create(ma.prototype);X.prototype.constructor=X;da={Ic:{moov:f,trak:b,mdia:b,mdhd:p,minf:b,encv:da,schi:b,sidx:q,sinf:b,stbl:b,tenc:k,mvex:b,moof:h,traf:A,tfhd:D,trun:n,sbgp:z,sdtp:t,saiz:N,saio:ba,tfdt:l,mdat:X,vmaf:c},jvb:{vpcC:F,SmDm:I("smdm"),CoLL:I("coll")},iFa:{schm:bc},Qba:{}};T([ha,Fa,Ea,B,na,la,U,ka,sa,ua,Ba,G,P,ra,a],da.Ic);T([L,S,ea,ga,ia,ta,R,Z,pa,oa],da.Qba);T([ha,bc],da.iFa);da.Ic[d.Kia]=k;da.Ic[d.JO]=u;da.Ic[d.IO]=r;da.Ic[d.Jia]=Q;da.Qba[d.z_]=qa;da.Cf=ma;g.T={pL:da};},function(g,d,a){var b,f,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(25);p=a(59);g=function(a){function c(b,c,f,d,g){f=a.call(this,f,d,g)||this;f.C1a=b;f.KF=c;f.Ic={};return f;}b.__extends(c,a);c.prototype.parse=function(a){var b,c,f,d,m,g;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){c=this.offset;f=this.rb();if(0===f)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};d=p.xH(this.rb());if(null===d)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===d){if(16>this.view.byteLength-this.offset)break;d=this.vW();}if(0===b.length&&this.KF.Hta(d,c,f))break;if(c+f>this.view.byteLength)break;m=this.C1a[d];g=void 0;if(m)if(g=new m(this,d,c,f,b[0]),(b[0]||this).oI(g),g.parse(a))this.config.vaa&&m.Xb?b.unshift(g):this.offset=c+f;else return{done:!1,offset:this.offset,error:"parse error in "+d+" box"};else this.offset=c+f;for(;b.length&&this.offset>b[0].byteOffset+b[0].fA-8;){g=b.shift();if(!g.TD(a))return{done:!1,offset:this.offset,error:"finalize error in "+g.type+" box"};this.offset=g.byteOffset+g.fA;}if(0===b.length&&this.KF.jsa(d,c,f,g))break;}return!this.KF.done&&(a=this.KF.endOffset?this.KF.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,iza:a}:{done:!0,offset:Math.min(this.KF.endOffset||Infinity,this.offset)};};c.prototype.oI=function(a){f.Cf.oI(this,a);};return c;}(a(766).pUa);d.JY=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(85);a=a(25);f=g.B_;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a,d,g;this.Bf();1<=this.version&&(this.gta=this.K.vW());a=this.K.rb();this.Wi={};for(var b=this.startOffset+this.length,f=0;f<a;++f){d=this.K.Vw();"uuid"===d&&(d=this.K.vW());g=this.K.vi();this.Wi[d]={offset:b,size:g};b+=g;}return!0;};d.Je=f;d.Xb=!1;return d;}(a.Cf);d["default"]=a;},function(g,d,a){var b,f,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(85);g=a(25);p=f.A_;g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Bf();this.fileSize=this.K.vi();this.ca=this.K.vi();this.duration=this.K.vi(!1,!0);this.Pza=this.K.vi();this.K.vi();this.xlb=this.K.vi();this.Hkb=this.K.rb();this.Qza=this.K.vi();this.vta=this.K.rb();this.gta=this.K.vW();this.Wi={moof:{offset:this.Pza},sidx:{offset:this.Qza,size:this.vta}};this.Wi[f.oia]={offset:this.xlb,size:this.Hkb};this.K.offset-this.startOffset<=this.length-24&&(this.wlb=this.K.vi(),this.ykb=this.K.rb(),this.vlb=this.K.vi(),this.wkb=this.K.rb(),this.Wi[f.JO]={offset:this.wlb,size:this.ykb},this.Wi[f.IO]={offset:this.vlb,size:this.wkb});return!0;};c.Je=p;c.Xb=!1;return c;}(g.Cf);d["default"]=g;},function(g){(function(){var k2M,t2M;k2M=2;while(k2M!==8){t2M="1SI";t2M+="YbZr";t2M+="NJCp";t2M+="9";switch(k2M){case 3:g.T=d;t2M;k2M=8;break;case 2:d.prototype.start=function(a){var J2M;J2M=2;while(J2M!==1){switch(J2M){case 2:this.Xd?a<this.Xd?(this.cv+=this.Xd-a,this.Xd=a):a>this.Pa&&(this.Pa=this.Xd=a):this.Pa=this.Xd=a;J2M=1;break;}}};d.prototype.stop=function(a){var G2M;G2M=2;while(G2M!==1){switch(G2M){case 2:this.Pa&&a>this.Pa&&(this.cv+=a-this.Pa,this.Pa=a);G2M=1;break;}}};d.prototype.add=function(a,b,f){var o2M;o2M=2;while(o2M!==4){switch(o2M){case 2:this.start(b);this.stop(f);this.Cc+=a;o2M=4;break;}}};d.prototype.get=function(){var B2M;B2M=2;while(B2M!==1){switch(B2M){case 2:return{Qa:this.cv?Math.floor(8*this.Cc/this.cv):null,C5:this.cv?this.cv:0};break;}}};k2M=3;break;}}function d(){var e2M;e2M=2;while(e2M!==5){switch(e2M){case 2:this.cv=this.Cc=0;this.Pa=this.Xd=void 0;e2M=5;break;}}}}());},function(g,d,a){var f,p;function b(a){this.G={cL:a.maxc||25,v4:a.c||.5,mpb:a.rc||"none",leb:a.hl||7200};this.aI();this.sYa=this.G.mpb;this.EH=this.G.leb;this.J0=Math.exp(Math.log(2)/this.EH);this.J0=Math.max(this.J0,1);this.DP=1;}f=a(6);p=a(217).TDigest;new(a(5)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.Ec=function(){var a;if(0===this.je.size())return null;a=this.je.Lg([.25,.75]);if(a[0]===a[1])return null;this.je.size()>this.G.cL&&this.je.Ys();a=this.je.nx(!1).reduce(function(a,b){f.na(b.Ye)&&f.na(b.n)&&a.push({mean:b.Ye,n:b.n/this.DP});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Ud=function(a){var b;if(f.Ma(a)||!f.has(a,"tdigest")||!f.ae(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(m){return!1;}b.forEach(function(a){f.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{Ye:a.mean,n:a.n};});this.DP=1;this.je.gba(a);void 0===this.je.Lg(0)&&this.aI();};b.prototype.get=function(){var a,b;a=this.je;b=a.Lg([0,.1,.25,.5,.75,.9,1]);return{min:b[0],qaa:b[1],Hj:b[2],ti:b[3],Ij:b[4],raa:b[5],max:b[6],Bg:a.nx(!1)};};b.Vcb=function(a){var c;c=new b({});f.Ma(a)||f.U(a)||!f.isArray(a.Bg)||(c.je.gba(a.Bg),void 0===c.je.Lg(0)&&c.aI());a=c.je.Lg([.25,.75]);return a[0]===a[1]?null:function(a){return c.je.Lg(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.sYa&&(this.DP=b=this.DP*this.J0);this.je.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.je.summary()+")";};b.prototype.aI=function(){this.je=new p(this.G.v4,this.G.cL);};g.T=b;},function(g,d,a){var f,p;function b(a){this.G={cL:a.maxc||25,v4:a.c||.5,exb:a.w||15E3,bl:a.b||5E3};f.call(this,this.G.exb,this.G.bl);this.aI();}f=a(156);p=a(217).TDigest;b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.XE(0);f.prototype.shift.call(this);null!==a&&(this.je.push(a,1),this.rn=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.je.push(a,1);this.rn=!0;f.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.qva();};b.prototype.qt=function(){var a;a=this.qva();return{min:a.min,p10:a.qaa,p25:a.Hj,p50:a.ti,p75:a.Ij,p90:a.raa,max:a.max,centroidSize:a.B2a,sampleSize:a.CA,centroids:a.Bg};};b.prototype.qva=function(){var a;if(0===this.je.size())return null;a=this.je.Lg([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.rn||!this.he)this.rn=!1,this.he={min:a[0],qaa:a[1],Hj:a[2],ti:a[3],Ij:a[4],raa:a[5],max:a[6],Lg:this.je.Lg.bind(this.je),B2a:this.je.size(),CA:this.je.n,Bg:this.jbb(),qt:this.qt.bind(this)};return this.he;};b.prototype.jbb=function(){var a;if(0===this.je.size())return null;if(!this.rn&&this.he)return this.he.centroids;a=this.je.Lg([.25,.75]);if(a[0]===a[1])return null;this.je.size()>this.G.cL&&this.je.Ys();a=this.je.nx(!1).map(function(a){return{mean:a.Ye,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.je.size();};b.prototype.toString=function(){return"btdtput("+this.JC+","+this.Bc+","+this.Dh+"): "+this.je.summary();};b.prototype.aI=function(){this.je=new p(this.G.v4,this.G.cL);};g.T=b;},function(g,d,a){var f,p;function b(a,b,d,k){f.call(this,d,k);this.bq=new p(a);this.aXa=b;}f=a(156);p=a(222);b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.XE(0);f.prototype.shift.call(this);null!==a&&this.bq.qI(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.bq.qI(a);f.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.hK();return{CA:this.jz(),XV:a,tL:a.ti?(a.Ij-a.Hj)/a.ti:void 0};};b.prototype.jz=function(){return this.bq.jz();};b.prototype.hK=function(){return this.bq.jz()<this.aXa?{Hj:void 0,ti:void 0,Ij:void 0,CA:void 0,Lg:void 0}:{Hj:this.bq.dm(25),ti:this.bq.dm(50),Ij:this.bq.dm(75),CA:this.bq.jz(),Lg:this.bq.dm.bind(this.bq)};};b.prototype.toString=function(){return"biqr("+this.JC+","+this.Bc+","+this.Dh+")";};g.T=b;},function(g,d,a){var p;function b(a){this.A2=a;this.reset();}function f(a){this.Dh=new b(a);this.Kd=0;this.Fb=null;}p=a(6);b.prototype.Ena=function(a,b){this.Pa+=a;this.Zp+=a;this.Cc+=b;this.Sk.push({d:a,g1a:b});};b.prototype.Bna=function(){var a;for(;this.Zp>this.A2;){a=this.Sk.shift();this.Cc-=a.g1a;this.Zp-=a.d;}};b.prototype.reset=function(){this.Sk=[];this.Pa=null;this.Zp=this.Cc=0;};b.prototype.setInterval=function(a){this.A2=a;this.Bna();};b.prototype.start=function(a){p.Ma(this.Pa)&&(this.Pa=a);};b.prototype.add=function(a,b,f){p.Ma(this.Pa)&&(this.Pa=b);b>this.Pa&&this.Ena(b-this.Pa,0);this.Ena(f>this.Pa?f-this.Pa:0,a);this.Bna();};b.prototype.get=function(){return{Qa:Math.floor(8*this.Cc/this.Zp),ph:0};};f.prototype.reset=function(){this.Dh.reset();this.Kd=0;this.Fb=null;};f.prototype.add=function(a,b,f){!p.Ma(this.Fb)&&f>this.Fb&&(b>this.Fb&&(this.Kd+=b-this.Fb),this.Fb=null);this.Dh.add(a,b-this.Kd,f-this.Kd);};f.prototype.start=function(a){!p.Ma(this.Fb)&&a>this.Fb&&(this.Kd+=a-this.Fb,this.Fb=null);this.Dh.start(a-this.Kd);};f.prototype.stop=function(a){this.Fb=p.Ma(this.Fb)?a:Math.min(a,this.Fb);};f.prototype.get=function(){return this.Dh.get();};f.prototype.setInterval=function(a){this.Dh.setInterval(a);};g.T={Yyb:b,xKa:f};},function(g,d,a){var h;function b(a){this.reset();this.osb(a);}function f(a){this.setInterval(a);this.reset();}function p(a){this.Vu=new f(a);this.Kd=0;this.Fb=null;}h=a(6);b.prototype.osb=function(a){this.TB=Math.pow(.5,1/a);this.EH=a;};b.prototype.reset=function(a){a&&a.Qa&&h.na(a.Qa)?a.ph&&h.na(a.ph)?(this.Xp=this.zWa,this.Rl=a.Qa,this.Pu=a.ph+a.Qa*a.Qa):(this.Xp=this.zWa,this.Rl=a.Qa,this.Pu=a.Qa*a.Qa):this.Pu=this.Rl=this.Xp=0;};b.prototype.add=function(a){var b;if(h.na(a)){this.Xp++;b=this.TB;this.Rl=b*this.Rl+(1-b)*a;this.Pu=b*this.Pu+(1-b)*a*a;}};b.prototype.get=function(){var a,b,f;if(0===this.Xp)return{Qa:0,ph:0};a=this.Rl;b=this.Pu;f=1-Math.pow(this.TB,this.Xp);a=a/f;b=b/f;f=a*a;return{Qa:Math.floor(a),ph:Math.floor(b>f?b-f:0)};};b.prototype.Ec=function(){return 0===this.Xp?null:{a:Math.round(this.Rl),s:Math.round(this.Pu),n:this.Xp};};b.prototype.Ud=function(a){if(h.Ma(a)||!h.has(a,"a")||!h.has(a,"s")||!h.isFinite(a.a)||!h.isFinite(a.s))return this.Pu=this.Rl=this.Xp=0,!1;this.Rl=a.a;this.Pu=a.s;h.has(a,"n")&&h.na(a.n)?this.Xp=a.n:this.Xp=16*this.EH;return!0;};f.prototype.setInterval=function(a){this.EH=a;this.TB=-Math.log(.5)/a;};f.prototype.reset=function(a){this.Pa=this.Xd=null;a&&h.isFinite(a.Qa)?this.Rl=a.Qa:this.Rl=0;};f.prototype.start=function(a){h.Ma(this.Xd)&&(this.Pa=this.Xd=a);};f.prototype.add=function(a,b,f){var c,d;h.Ma(this.Xd)&&(this.Pa=this.Xd=b);this.Xd=Math.min(this.Xd,b);b=Math.max(f-b,1);c=this.TB;d=f>this.Pa?f:this.Pa;this.Rl=this.Rl*(d>this.Pa?Math.exp(-c*(d-this.Pa)):1)+8*a/b*(1-Math.exp(-c*b))*(f>d?Math.exp(-c*(d-f)):1);this.Pa=d;};f.prototype.get=function(a){var b;a=Math.max(a,this.Pa);b=this.Rl*Math.exp(-this.TB*(a-this.Pa));a=1-Math.exp(-this.TB*(a-this.Xd));0<a&&(b/=a);return{Qa:Math.floor(b)};};f.prototype.toString=function(){return"ewmav("+this.EH+")";};p.prototype.setInterval=function(a){this.Vu.setInterval(a);};p.prototype.reset=function(a){this.Vu.reset(a);this.Kd=0;this.Fb=null;};p.prototype.start=function(a){!h.Ma(this.Fb)&&a>this.Fb&&(this.Kd+=a-this.Fb,this.Fb=null);this.Vu.start(a-this.Kd);};p.prototype.add=function(a,b,f){!h.Ma(this.Fb)&&f>this.Fb&&(this.Kd+=b>this.Fb?b-this.Fb:0,this.Fb=null);this.Vu.add(a,b-this.Kd,f-this.Kd);};p.prototype.stop=function(a){this.Fb=Math.max(h.Ma(this.Vu.Pa)?0:this.Vu.Pa+this.Kd,h.Ma(this.Fb)?a:Math.min(this.Fb,a));};p.prototype.get=function(a){return this.Vu.get((h.Ma(this.Fb)?a:this.Fb)-this.Kd);};p.prototype.toString=function(){return this.Vu.toString();};g.T={yKa:b,Zyb:f,wKa:p};},function(g,d,a){g.T={iIb:a(376),gMb:a(375),Cyb:a(776),Byb:a(374),Dyb:a(373),oga:a(773)};},function(g){function d(){}function a(a){this.aoa=a;this.Pl=[];this.ef=null;}d.prototype.clear=function(){this.Ld=null;this.size=0;};d.prototype.find=function(a){var d;for(var b=this.Ld;null!==b;){d=this.ck(a,b.data);if(0===d)return b.data;b=b.Gf(0<d);}return null;};d.prototype.lowerBound=function(a){var c;for(var b=this.Ld,d=this.iterator(),g=this.ck;null!==b;){c=g(a,b.data);if(0===c)return d.ef=b,d;d.Pl.push(b);b=b.Gf(0<c);}for(c=d.Pl.length-1;0<=c;--c)if(b=d.Pl[c],0>g(a,b.data))return d.ef=b,d.Pl.length=c,d;d.Pl.length=0;return d;};d.prototype.upperBound=function(a){for(var b=this.lowerBound(a),d=this.ck;null!==b.data()&&0===d(b.data(),a);)b.next();return b;};d.prototype.min=function(){var a;a=this.Ld;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};d.prototype.max=function(){var a;a=this.Ld;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};d.prototype.iterator=function(){return new a(this);};d.prototype.jd=function(a){for(var b=this.iterator(),d;null!==(d=b.next());)a(d);};a.prototype.data=function(){return null!==this.ef?this.ef.data:null;};a.prototype.next=function(){var a;if(null===this.ef){a=this.aoa.Ld;null!==a&&this.Tma(a);}else if(null===this.ef.right){do if(a=this.ef,this.Pl.length)this.ef=this.Pl.pop();else{this.ef=null;break;}while(this.ef.right===a);}else this.Pl.push(this.ef),this.Tma(this.ef.right);return null!==this.ef?this.ef.data:null;};a.prototype.lA=function(){var a;if(null===this.ef){a=this.aoa.Ld;null!==a&&this.Oma(a);}else if(null===this.ef.left){do if(a=this.ef,this.Pl.length)this.ef=this.Pl.pop();else{this.ef=null;break;}while(this.ef.left===a);}else this.Pl.push(this.ef),this.Oma(this.ef.left);return null!==this.ef?this.ef.data:null;};a.prototype.Tma=function(a){for(;null!==a.left;)this.Pl.push(a),a=a.left;this.ef=a;};a.prototype.Oma=function(a){for(;null!==a.right;)this.Pl.push(a),a=a.right;this.ef=a;};g.T=d;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);g=function(a){function d(b,f,d){b=a.call(this,b,f)||this;b.HF=!1;b.yq=!1;b.PE=!1;b.Iv=!1;b.fh=void 0;b.Bma=f.tk;b.Ul=f.xaa;b.gma=f.li;b.L=d;return b;}b.__extends(d,a);Object.defineProperties(d.prototype,{Yb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{tk:{get:function(){return this.Bma;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{xaa:{get:function(){return this.Ul;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{X:{get:function(){return this.stream.X;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{mo:{get:function(){return this.X&&this.X.mo;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{li:{get:function(){return this.gma;},enumerable:!0,configurable:!0}});d.prototype.oc=function(){};d.prototype.$X=function(){};d.prototype.O_a=function(a){f.assert(this.fd.pa===a.pa);!a.md&&this.fd.md&&a.PR(this.fd);!a.location&&this.fd.location&&(a.location=this.fd.location,a.Vb=this.fd.Vb,a.EA=this.fd.EA,a.url=this.fd.url,a.Xa=this.fd.Xa);this.fd=a;};d.prototype.toJSON=function(){return b.__assign(b.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.X});};return d;}(a(161).ux);d.AY=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(5);f=a(159);g=function(a){function d(b,f,d,g,r){b=a.call(this,b,f,d,g,r)||this;b.oa=[];b.T1=!1;b.IH=!1;b.sd=!1;b.Ug=!1;b.jc=!1;b.QB=!1;b.oma=!1;b.nma=!1;b.pC=void 0;b.$p=void 0;return b;}b.__extends(d,a);Object.defineProperties(d.prototype,{active:{get:function(){return this.sd;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{QBa:{get:function(){return this.Ug;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return this.jc||(this.jc=this.oa.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zl:{get:function(){return this.QB;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Uh:{get:function(){return this.oa.reduce(function(a,b){return a+b.Uh;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Be:{get:function(){return this.oa.reduce(function(a,b){return a+b.Be;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{zd:{get:function(){return this.pC||0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return this.oa[0]&&this.oa[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){return this.Ff||this.oa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return this.$p&&this.$p.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gh:{get:function(){return this.$p&&this.$p.Gh;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{RD:{get:function(){return this.$p&&this.$p.RD;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gj:{get:function(){return this.$p&&this.$p.Gj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{rl:{get:function(){return!!this.oa.length&&this.oa[0].rl;},enumerable:!0,configurable:!0}});d.prototype.push=function(a){this.IH&&a.xc(this.Ua);this.oa.push(a);this.T1&&a.Mw();};d.prototype.xc=function(a){f.tx.prototype.xc.call(this,a);this.oa.forEach(function(b){return b.xc(a);});this.IH=!0;};d.prototype.wwa=function(){return 7===this.Ff;};d.prototype.Mw=function(){return this.T1=this.oa.every(function(a){return a.Mw();});};d.prototype.oc=function(){this.oa.forEach(function(a){return a.oc();});};d.prototype.XM=function(a){this.Ff=this.$p=void 0;return this.oa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.XM(a):!0;});};d.prototype.abort=function(){var a,b;a=this.active;this.Ff=7;this.QB=!0;this.Ug=this.sd=!1;b=this.oa.map(function(a){return a.abort();}).every(function(a){return a;});this.bT(this,a);return b;};d.prototype.getResponseHeader=function(a){var b;b=null;this.oa.some(function(c){return!!(b=c.getResponseHeader(a));});return b;};d.prototype.getAllResponseHeaders=function(){var a;a=null;this.oa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};d.prototype.cA=function(a){this.sd||(this.sd=!0);this.oma||(this.oma=!0,this.Bk=0,this.pC=this.El=a.zd,this.dz(this));};d.prototype.bA=function(a){this.Ug||(this.Ug=!0);this.nma||(this.nma=!0,this.pC=a.zd,this.cz(this));};d.prototype.DL=function(a){this.pC=a.zd;this.VD(this);this.Bk=this.Be;this.El=a.zd;};d.prototype.Ph=function(a){this.pC=a.zd;this.complete?(this.jc=!0,this.Ff=5,this.Ug=this.sd=!1,this.zq(this)):this.VD(this);this.Bk=this.Be;this.El=a.zd;};d.prototype.CL=function(a){this.pC=a.zd;this.$p=a;this.Ff=6;this.cT(this);};d.prototype.MV=function(){};d.prototype.Si=function(){return this.oa[0].Si()+"-"+this.oa[this.oa.length-1].Si();};d.prototype.toString=function(){return"Compound["+this.oa.map(function(a){return a.toString();}).join(",")+"]";};d.prototype.toJSON=function(){return{requests:this.oa};};return d;}(f.tx);d.NN=g;},function(g,d,a){var b,f,p,h,c,m,k,u,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(12);p=a(5);h=a(380);c=a(379);m=a(219);g=a(49);k=a(216);u=a(20);a=a(47);r=p.MediaSource;p=function(a){function d(b,f,d,k,g,m,r){f=a.call(this,b,k,g,f,r)||this;c.AY.call(f,b,k,r);f.fh=d;f.track=d.track;f.yq=!!k.yq;f.PE=!!k.PE;f.Iv=!!k.Iv;f.Zlb=k.aa;f.HF=!!k.HF;f.v1=(m?"(cache)":"")+f.pa+" header";f.CC(b.url||k.url,k.offset,k.aa);return f;}b.__extends(d,a);Object.defineProperties(d.prototype,{Yb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{UV:{get:function(){return this.aYa;},enumerable:!0,configurable:!0}});d.prototype.oc=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.oc.call(this);};d.prototype.Ph=function(b){this.Ul=this.Ul?u.vj(this.Ul,b.response):b.response;b.eM();this.YXa()?a.prototype.Ph.call(this,b):this.rla?(this.CC(b.url,b.offset+b.aa,this.rla),a.prototype.Ph.call(this,b)):this.cT(this);};d.prototype.CC=function(a,b,c){a=new m.ON(this.stream,this.track,this.v1+" ("+this.oa.length+")",{offset:b,aa:c,url:a,location:this.location,xb:this.xb,responseType:0},this,this.Dc,this.L);this.push(a);this.Cc=this.oa.reduce(function(a,b){return a+b.aa;},0);};d.prototype.YXa=function(){var a,b,c,d;a=this.Dc;c=a.Owb;d=a.H0a;this.M===f.Da.VIDEO&&c&&!a.et?b=c:this.M===f.Da.AUDIO&&d&&(b=d);b=new k.dPa(this.stream,this.Ul,["sidx"],this.M===f.Da.VIDEO&&a.et||this.M===f.Da.AUDIO&&a.Dn,{eMb:this.stream.track.K5,nX:b,rAa:void 0===this.La,hFa:!r.vc||!r.vc.wqa,Jda:a.Jda,Jo:a.Jo&&a.Dn,ZA:this.Dc.ZA,Iz:this.Dc.Iz,s$:this.Dc.s$,Iqb:!0,uX:!r.vc||!r.vc.eza});c=b.parse({La:this.La});this.Awb=a.ZA&&b.Heb;c.Nw?(this.Bma=c.tk,this.aYa=c.UV,this.gma=!!c.BS,void 0===this.La&&void 0===c.La&&this.L.error("No frame duration available for "+this.pa),void 0===this.La&&void 0===c.La&&this.L.error("No frame duration available for "+this.pa),this.stream.IV(c.ca,c.La||this.La,c.X,c.Hw,c.Ag,c.mo),this.Ul=void 0):this.rla=c.I_a||0;return!!c.Nw;};return d;}(h.NN);d.Cea=p;a.Tj(c.AY,p,!1,!1);a.Tj(g.EventEmitter,p);},function(g){var d;d=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),f*a.byteLength/a.length);}:function(a,b,f){a.set(b,f);};g.T={from:function(a,b,f,d){a=new a(b.length);for(var g="function"===typeof f,c=0;c<b.length;++c)a[c]=g?f.call(d,b[c],c,b):b[c];return a;},set:d};},function(g,d,a){var b,f,p,h,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);p=a(128);h=a(382);g=a(5);a=a(385);c=new g.Console("FRAGMENTS","media|asejs");try{m=!0;}catch(r){m=!1;}k=function(a){function c(b,c){c=a.call(this,b.Fp,c)||this;c.qy=b;return c;}b.__extends(c,a);Object.defineProperties(c.prototype,{aa:{get:function(){return this.qy.btb(this.Hi);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.qy.pg(this.Hi);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{K$:{get:function(){return this.qy.Hw&&this.qy.Hw[this.Hi];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ag:{get:function(){return this.qy.Gab(this.Hi);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ac:{get:function(){return this.qy.mo&&this.qy.mo[this.Hi];},enumerable:!0,configurable:!0}});c.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.ab,contentEndTicks:this.tb,durationTicks:this.im,timescale:this.ca,startPts:this.S,endPts:this.ka,duration:this.duration,additionalSAPs:this.Ag};};return c;}(a.NTa);d.OEb=k;u=function(){function a(a,b,c){this.ca=c;this.Vc=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Cc=void 0;}a.from=function(b){for(var c=new Uint32Array(b.length),f=new Uint32Array(b.length),d=0,k,g,m=0;m<b.length;++m)k=b[m],g=k.Cc,c[m]=k.Zr-k.cC,f[m]=g,d+=g;b=new a(c,f,b.length?b[0].ca:1E3);b.Cc=d;return b;};Object.defineProperties(a.prototype,{aa:{get:function(){return void 0!==this.Cc?this.Cc:this.Q0();},enumerable:!0,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.Vc.subarray(b,c),this.sizes.subarray(b,c),this.ca);};a.prototype.concat=function(){var c,b,f,d;for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];c=[this];b=c.concat.apply(c,b);c=b.reduce(function(a,b){return a+b.length;},0);f=new Uint32Array(c);d=new Uint32Array(c);c=b.reduce(function(a,b){return a||b.ca;},void 0);b.reduce(function(a,b){h.set(f,b.Vc,a);h.set(d,b.sizes,a);return a+b.length;},0);return new a(f,d,c);};a.prototype.Q0=function(){for(var a=this.sizes,b=this.length,c=0,f=0;f<b;++f)c+=a[f];return this.Cc=c;};return a;}();d.ZSa=u;g=function(){function a(a,b,f,d,k,g,m){this.vC=16;this.Qb=a;this.Kd=b.offset;m?(this.Tk=void 0,this.qa=b):this.Tk=b.sizes;this.ZB=this.vH=this.eg=this.$na=this.n2=void 0;this.gXa=f;this.G0=d&&d.pg;this.moa=k;this.av=this.Tk?Math.min(this.Qb.length,this.Tk.length):this.Qb.length;this.H1=m?void 0:this.Ypa();this.Tk&&this.Fp.dn.length!==this.Tk.length&&c.error("Mis-matched stream duration ("+this.Fp.dn.length+","+this.Tk.length+") for movie id "+g);this.Fp.bR&&!this.G0&&c.error("Mis-matched additional SAPs information for movie id "+g);}a.oHb=function(a,b){var c,f;b=b.ca;c=b/1E3;f=new DataView(a);a=Math.floor(a.byteLength/16);return{ca:b,Zi:f.getUint32(4)*c,offset:65536*f.getUint32(8)+f.getUint16(12),sizes:p.lz(f,0,a,16),Vc:h.from(Uint32Array,{length:a},function(a,b){return f.getUint16(16*b+14)*c;})};};Object.defineProperties(a.prototype,{M:{get:function(){return this.Qb.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.av;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Zi:{get:function(){return this.Qb.Zi;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lsa:{get:function(){return this.Qb.Lsa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Qb.S;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ka:{get:function(){return this.Qb.ka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pv:{get:function(){return this.Qb.pv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{m$:{get:function(){return this.Qb.m$;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aV:{get:function(){return this.H1||this.Ypa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.Qb.La;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.Qb.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Uh:{get:function(){return this.$na||this.Q0();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Hw:{get:function(){return this.gXa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Koa:{get:function(){return this.G0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mo:{get:function(){return this.moa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Fp:{get:function(){return this.Qb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{EF:{get:function(){return this.n2||this.vVa();},enumerable:!0,configurable:!0}});a.prototype.btb=function(a){void 0===this.Tk&&this.qa&&(this.Tk=this.qa.sizes,this.qa=void 0);if(this.Tk)return this.Tk[a];c.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.sizes=function(){void 0===this.Tk&&this.qa&&(this.Tk=this.qa.sizes,this.qa=void 0);if(this.Tk)return this.Tk;c.error("sizes _sizes is undefined");return new Uint32Array(1);};a.prototype.Pg=function(a){return this.Qb.Pg(a);};a.prototype.Z5=function(a){return this.Qb.Pg(a)+this.Qb.Vc(a);};a.prototype.pg=function(a){if(this.vH!==a||void 0===this.ZB){if(0===a)return this.Kd;if(this.vH===a-1&&void 0!==this.ZB)this.ZB+=this.sizes()[this.vH],++this.vH;else{for(var b=this.eg||this.cVa(),c=Math.floor(a/this.vC),f=c*this.vC,b=b[c];f<a;++f)b+=this.sizes()[f];this.vH=a;this.ZB=b;}}return this.ZB;};a.prototype.Vc=function(a){return this.Qb.Vc(a);};a.prototype.get=function(a){return new k(this,a);};a.prototype.Gab=function(a){var b,c,d;f.assert(0<=a);b=this.Fp.bR;c=this.Fp.Loa;d=this.G0;if(!d||!b||!c||a>=b.length)return[];for(var k=[],g=a===b.length-1?c.length:b[a+1],b=b[a];b<g;++b)k.push({Jm:c[b],Td:this.Pg(a)+this.La.M$(c[b]).Ad,offset:d[b]});return k;};a.prototype.Asb=function(a){this.moa=a;};a.prototype.nl=function(a,b,c){return this.Qb.nl(a,b,c);};a.prototype.OS=function(a,b,c){return this.Qb.OS(a,b,c);};a.prototype.H4=function(a,b){return this.Qb.H4(a,b);};a.prototype.zU=function(a,b,c){var f,d,k,g,m,r,u,p,h;f=!0;d=0;g=this.Qb.dn;m=this.sizes();r=Math.floor(a*this.ca/1E3);u=0;p=0;h=0;if(this.Qb.Rda&&this.Qb.Qda)for(d=this.Qb.Rda;d<=this.Qb.Qda;++d)u+=g[d],p+=m[d];if(p>b)f=!1;else for(;d<this.length&&(!c||d<c);){k=m[d];a=g[d];if(p+k>b&&u<r){f=!1;this.Qb.Rda=h;this.Qb.Qda=d;break;}for(;0<d-h&&p+k>b;)u-=g[h],p-=m[h],++h;u+=a;p+=k;++d;}return f;};a.prototype.subarray=function(b,c){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===c||c>b&&c<=this.length);return new a(this.Qb.subarray(b,c),{offset:this.pg(b),sizes:this.sizes().subarray(b,c)},this.Hw&&this.Hw.subarray(b,c),this.Koa&&{pg:this.Koa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.pv};};a.prototype.dump=function(){var b;c.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.pv+"ms");for(var a=0;a<this.length;++a){b=this.get(a);c.trace("StreamFragments: "+a+": ["+b.S+"-"+b.ka+"] @ "+b.offset+", "+b.aa+" bytes");}};a.prototype.Ypa=function(){var a,b,c,f,d;b=0;c=this.Qb.jya;f=this.Qb.dn;d=this.sizes();if(void 0===c||c>=this.length){for(var k=0;k<this.length;++k)a=d[k]/f[k],a>b&&(b=a,c=k);void 0===this.Qb.jya&&(this.Qb.jya=c);}else b=d[c]/f[c];return this.H1=Math.floor(b*this.ca/125);};a.prototype.Q0=function(){for(var a=0,b=0;b<this.length;++b)a+=this.sizes()[b];return this.$na=a;};a.prototype.vVa=function(){return this.n2=new u(this.Qb.dn,this.sizes(),this.Qb.ca);};a.prototype.cVa=function(){var a;if(!this.eg){a=m?new Float64Array(Math.ceil(this.length/this.vC)):Array(Math.ceil(this.length/this.vC));for(var b=this.Kd,c=0;c<a.length;++c){a[c]=b;for(var f=0;f<this.vC;++f)b+=this.sizes()[c*this.vC+f];}this.eg=a;}return this.eg;};return a;}();d.jTa=g;g.prototype.eEa=a.b$(g.prototype.Pg);},function(g,d,a){var f,p,h;function b(a){return void 0===a?!0:a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(383);p=a(33);h=a(94);a(11);g=function(){function a(a,c,f){this.G=c;this.L=f;this.Ki=a.track;this.fZa=a.sg;this.NH=a.Aib;this.EWa=-1===this.profile.indexOf("none");this.qa=this.gs=void 0;this.xf=b(a.xf);this.inRange=b(a.inRange);this.BD=a.BD;this.Wu=void 0;this.Nma=this.Xr=0;this.url=this.EA=this.Vb=this.fo=this.G9=this.location=this.Ba=this.Xa=void 0;this.$g=!1;this.h9=this.Yd=void 0;a=this.G&&"object"===typeof this.G.mBa&&this.G.mBa[this.profile];"object"===typeof a&&(a=a[this.O])&&(this.WH=new p.sb(a));}Object.defineProperties(a.prototype,{md:{get:function(){return!!this.qa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Ki.P;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.Ki.I;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Ki.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.Ki.La;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.Ki.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Iw:{get:function(){return this.Ki.Iw;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cb:{get:function(){return this.Ki.cb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Ki;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sg:{get:function(){return this.fZa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pa:{get:function(){return this.NH.downloadable_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.pa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hp:{get:function(){return this.EWa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.NH.bitrate;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ac:{get:function(){return this.NH.vmaf||null;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.NH.content_profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uf:{get:function(){return this.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kr:{get:function(){return this.NH.sidx;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Mj:{get:function(){return this.WH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.qa||this.cWa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aV:{get:function(){return this.qa&&this.qa.aV;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{L6:{get:function(){return this.Ki.L6;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{K6:{get:function(){return this.Ki.K6;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ODa:{get:function(){return this.Agb();},enumerable:!0,configurable:!0}});a.prototype.IV=function(a,b,c,f,d,g){this.G.Iz&&this.track.md?this.gs={Iw:a,La:b,X:c,Hw:f,Ag:d,mo:g}:this.Lla(c,a,b,d,f,g,this.G.Iz);};a.prototype.PR=function(a){this.md||(this.track.X3a(a.track),this.qa=a.X);};a.prototype.Hg=function(a){return new h.Jk(this,this.X.get(a));};a.prototype.Aua=function(a){var b;b=this.Hg(a.index);a.Ra&&(b.Qj(a.Ra),b.AM(a.ix));return b;};a.prototype.zU=function(){var a;if(!this.md)return!0;if(this.track.r8>=this.O)return this.Wu=!0;if(this.track.Sxa<=this.O)return this.Wu=!1;a=this.qa.zU(this.G.pV,this.Xr,this.Nma);if(a){if(!this.track.K5||this.hp)this.track.r8=this.O;}else this.track.Sxa=this.O;return this.Wu=a;};a.prototype.Agb=function(){return void 0!==this.Wu?!this.Wu:!this.zU();};a.prototype.yFa=function(a,b){this.Xr=a;this.Nma=b;};a.prototype.$2a=function(){this.Ba=this.Xa=this.Vb=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.I,mediaType:this.M,streamId:this.pa,bitrate:this.O};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.pa+":"+this.O;};Object.defineProperties(a.prototype,{Ov:{get:function(){return void 0!==this.Wu?this.Wu:this.zU();},set:function(a){this.Wu=a;},enumerable:!0,configurable:!0}});a.prototype.cWa=function(){if(!this.gs)return this.qa;this.Lla(this.gs.X,this.gs.Iw,this.gs.La,this.gs.Ag,this.gs.Hw,this.gs.mo,this.G.Iz);this.gs=void 0;return this.qa;};a.prototype.Lla=function(a,b,c,d,g,p,h){a&&void 0!==a.Zi&&(this.track.md||h||void 0!==a.Vc&&a.Vc.length)&&void 0!==a.offset&&(h||void 0!==a.sizes&&a.sizes.length)?(this.G.Jo&&this.Mj&&0===a.Zi&&(a.Zi+=this.Mj.Ll(a.ca).Vd),this.md||(this.track.IV(this,b,c,a,d),this.qa=new f.jTa(this.track.Fp,a,g,d,p,this.I,h))):a?this.L.error("AseStream._constructFragments with missing fragments data:"+(void 0!==a.Zi)+","+this.track.md+","+this.track.K5+","+(void 0!==a.Vc)+","+!(!a.Vc||!a.Vc.length)+","+(void 0!==a.offset)+","+(void 0!==a.sizes)+","+!(!a.sizes||!a.sizes.length)):this.L.error("AseStream._constructFragments fragments was undefined:");};return a;}();d.jHa=g;},function(g,d,a){var f,p,h;function b(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}Object.defineProperty(d,"__esModule",{value:!0});f=a(11);p=new(a(5)).Console("FRAGMENTS","media|asejs");h=function(){function a(a,b){this.Qb=a;this.Hi=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.Hi;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ab:{get:function(){return this.Qb.dI+this.Qb.ys[this.Hi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tb:{get:function(){return this.ab+this.Qb.dn[this.Hi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{im:{get:function(){return this.Qb.dn[this.Hi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.Qb.La;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.Qb.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return Math.floor(1E3*this.ab/this.ca);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ka:{get:function(){return Math.floor(1E3*(this.ab+this.im)/this.ca);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return Math.floor(1E3*this.im/this.ca);},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.ab/this.La.ca,endPts:1E3*this.tb/this.La.ca,duration:1E3*this.im/this.La.ca,index:this.index};};return a;}();d.NTa=h;g=function(){function a(a,b,c,f){this.M=a;this.length=c.Vc.length;this.Bs=c.ca;this.dn=c.Vc;this.bR=f&&f.cF;this.Loa=f&&f.tF;this.iC=b;this.Qda=this.Rda=this.Lma=void 0;this.dI=c.Zi;this.ys=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.ys[b]=a,a+=this.dn[b];this.ys[b]=a;this.ka=this.Pg(this.length);this.pv=Math.floor((this.ka-this.S)/this.length);}}Object.defineProperties(a.prototype,{Zi:{get:function(){return this.dI+this.ys[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lsa:{get:function(){return this.dI+this.ys[this.length];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Pg(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{m$:{get:function(){return this.Lma||this.$Ua();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.iC;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.Bs;},enumerable:!0,configurable:!0}});a.prototype.Pg=function(a){return Math.floor(1E3*(this.dI+this.ys[a])/this.ca);};a.prototype.Z5=function(a){return a<this.length-1?this.Pg(a+1):this.ka;};a.prototype.Vc=function(a){return this.Z5(a)-this.Pg(a);};a.prototype.get=function(a){return new h(this,a);};a.prototype.nl=function(a,b,c){if(0===this.length||a<this.Pg(0))return-1;a=Math.max(a,b||0);for(var f=0,d=this.length-1,k,g;d>=f;)if(k=f+(d-f>>1),g=this.Pg(k),a<g)d=k-1;else if(a>=g+this.Vc(k))f=k+1;else{for(;b&&k<this.length&&this.Pg(k)<b;)++k;return k<this.length?k:c?this.length-1:-1;}return c?this.length-1:-1;};a.prototype.OS=function(a,b,c){a=this.nl(a,b,c);return 0<=a?this.get(a):void 0;};a.prototype.H4=function(a,b){var c,f;c=Math.floor(b*this.ca/1E3);b=Math.min(a+Math.ceil(b/this.pv),this.length);f=this.ys[b]-this.ys[a];if(f>c){for(;f>=c;)--b,f-=this.dn[b];return b-a+1;}for(;f<c&&b<=this.length;)f+=this.dn[b],++b;return b-a;};a.prototype.subarray=function(b,c){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===c||c>b&&c<=this.length);return new a(this.M,this.La,{ca:this.ca,Zi:this.dI+this.ys[b],Vc:this.dn.subarray(b,c)},this.bR&&{cF:this.bR.subarray(b,c+1),tF:this.Loa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.pv};};a.prototype.dump=function(){var b;p.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.pv+"ms");for(var a=0;a<this.length;++a){b=this.get(a);p.trace("TrackFragments: "+a+": ["+b.S+"-"+b.ka+"]");}};a.prototype.$Ua=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.dn[b],a);return this.Lma=a;};return a;}();d.Kka=g;d.b$=b;g.prototype.eEa=b(g.prototype.Pg);d.iGb=function(a){return"["+Array(a.length).map(function(b,c){return a[c].toString();}).join(",")+"]";};},function(g,d,a){var b,f,p,h,c,m,k,u,r,y,A;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(788);g=a(86);p=a(784);h=a(783);c=a(780);m=a(210);k=a(746);u=a(5);r=a(11);y=a(209);A=function(){return function(a,b){this.eL=this.replace=a;this.Zd=b;};}();a=function(a){function d(d){var k,g,r,q,y,I,F,D,l,n,t,M,fa,ma,U,P,ra,ka,Ba,Fa,Ea,B,G,L,R,S,Z,da;k=d.Ha;g=d.ya;r=d.Dl;q=d.eb;y=d.Zd;I=d.gCa;F=d.ji;D=d.Ps;l=d.config;n=d.Uva;t=d.XJ;M=d.Gc;fa=d.Lh;ma=d.wL;d=d.Ssa;U=a.call(this)||this;U.Ama=[];U.yla=[];U.Mma=[];U.Re=!1;U.Ha=k;U.ya=g;U.Dl=r;U.eb=q;U.config=l;U.console=new u.Console("ASEJS","media|asejs",String(U.nb));n&&(U.mf=new c.fMa(n.Qeb,U,n.Ce,n.Xi,U.console,U.config,n.We,n.oz,n.Zkb,n.Qkb,n.Am));U.XJ=t;U.Gc=M;U.wL=ma;if(I)k=I.tl,P=I.zj,k.LC(g),U.pn=I.pn,U.vE=I.vE,U.ut=I.ut,U.jr=I.jr,U.$F=I.$F;else if(k=new m.m_(M,fa,!y,U.config,null===d||void 0===d?void 0:d.Am),k.LC(g),d){r=d.Zsb;ka=d.ut;Ba=d.tA;q=d.vE;Fa=d.um;Ea=d.jr;l=d.zm;B=d.$F;P=new h.qLa(k,U.config,function(a){var b,c,f;if(!U.Re){b=a.ogb;c=a.$lb;f=a.amb;a=a.bmb;U.console.warn("Streaming failure, isBuffering "+Fa()+" is permanent: "+b+", last error code: "+c+", last http code: "+f+", last native code: "+a);b?(U.console.warn(" > Permanent failure, done"),Ba("Permanent failure",void 0,"NFErr_MC_StreamingFailure",c,f,a)):Fa()?(U.console.warn(" > We are buffering, calling it!"),Ba("Temporary failure while buffering",void 0,"NFErr_MC_StreamingFailure",a,f,a)):(U.console.warn(" > Resetting failures"),P.jM());}},function(){U.Re||(Ea(!1),B(),ka());});U.config.tq&&(r&&r.WE&&r.ia&&P?(ra=new f.YSa(r.WE,{ia:String(r.ia),FD:r.FD,fjb:U.config.NO.mx,H1a:U.config.NO.lv},l),P.usb(ra)):l("SideChannel: pbcid/xid is missing."));U.pn=Ba;U.vE=q;U.ut=ka;U.jr=Ea;U.$F=B;}U.Ica=ra;U.tl=k;U.zj=P;U.Rd=new A(!!I,y);U.ji=F;G=[];L=[{},{}];R=[0,0];S=!1;Z=U.eb(0);da=U.eb(1);["audio_tracks","video_tracks"].forEach(function(a,c){var f;f=0===c;f&&!Z||1===c&&!da||g[a].forEach(function(a,d){a=new p.kHa({P:U,Lz:a,M:c,Zd:y,Ps:D,iN:d,lI:d+(f?g.video_tracks.length:0)},U.config,U.console);G.push(a);L[a.M]=b.__assign(b.__assign({},L[a.M]),a.hE());a.Pn>R[a.M]&&(R[a.M]=a.Pn);S=S||a.RT;});});U.kpa=G;U.Ltb=L;U.aL=R;U.RT=S;U.NVa=U.config&&U.config.U5&&U.config.C8&&!!U.config.C8.length&&-1!==U.config.C8.indexOf(String(U.I));return U;}b.__extends(d,a);Object.defineProperties(d.prototype,{yd:{get:function(){return this.Ama;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{d1a:{get:function(){return this.yla;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Uib:{get:function(){return this.Mma;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{nb:{get:function(){return Number(this.ya.movieId);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{I:{get:function(){return this.ya.movieId;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{XI:{get:function(){return this.ya.choiceMap;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.ya.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{tA:{get:function(){if(!this.pn)throw Error("Stream failure reporting can not be used on prefetch viewables.");return this.pn;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{fw:{get:function(){return this.Re;},enumerable:!0,configurable:!0}});d.prototype.close=function(){this.tl.close();this.Re=!0;};d.prototype.oc=function(){this.mf&&this.mf.oc();};d.prototype.gp=function(){return void 0!==this.XI;};d.prototype.x7=function(a,b){return y.t_.x7(this.ya,a,b);};d.prototype.getTracks=function(a){return this.kpa.filter(function(b){return b.M===a;});};d.prototype.iE=function(a){var b;this.kpa.some(function(c){return c.cb===a?(b=c,!0):!1;});return b;};d.prototype.Fq=function(a,b){return(a=this.hE(a))&&a[b];};d.prototype.hE=function(a){return this.Ltb[a];};d.prototype.Mvb=function(a,b){this.Ama[a]=b;b.X&&this.Cva(a,b.X);};d.prototype.Cva=function(a,b){this.yla[a]=b.pv;this.Mma[a]=b.m$;};d.prototype.KD=function(a){return void 0===a||1===a?this.NVa:!1;};d.prototype.Egb=function(a){var b,c;if(void 0===a.iW||void 0===a.Xaa){b=this.tl.w7().filter(function(b){return void 0!==b.uc[a.pa];})[0];c=b.children.filter(function(b){return b.ad.some(function(b){return b.stream.id===a.pa;});})[0];a.iW=b.id;a.Xaa=c.id;}return{h9:a.location===a.iW,Fgb:a.Vb===a.Xaa};};d.prototype.Aca=function(a,b,c){var f;if(!this.XJ)throw Error("Location cannot be set on prefetch viewables.");f=this.config.Q$;void 0!==b&&void 0!==c&&(a.location=b,a.xb=c,("location"===f||"video_location"===f&&1===a.M)&&this.Gc.hX(b),this.XJ().Jlb(a.M,b));};d.prototype.aA=function(){this.tl.aA();this.zj&&this.zj.aA();};d.prototype.iaa=function(){this.zj&&this.zj.iaa();};d.prototype.Xda=function(a,b){if(!this.mf)throw Error("Headers not available from prefetch viewables.");this.mf.Xda(a,b);};d.prototype.g4=function(){if(!this.mf)throw Error("Headers not available from prefetch viewables.");this.mf.g4();};d.prototype.uca=function(a,b){if(!this.mf)throw Error("Headers not available from prefetch viewables.");r.assert(a.P===this);this.mf.uca(a,b);};d.prototype.pi=function(a,b){if(!this.mf)throw Error("Headers not available from prefetch viewables.");return this.mf.pi(a,b);};d.prototype.c$=function(){if(!this.mf)throw Error("Headers not available from prefetch viewables.");this.mf.c$();};d.prototype.Ny=function(a,b,c){if(!this.mf)throw Error("Headers not available from prefetch viewables.");this.mf.Ny(a,b,c,!0);};d.prototype.$Q=function(a,b,c){if(!this.mf)throw Error("Headers not available from prefetch viewables.");return this.mf.$Q(a,b,!!c);};d.prototype.rN=function(){if(!this.mf)throw Error("Headers not available from prefetch viewables.");return this.mf.rN();};d.prototype.z7=function(a){if(!this.mf)throw Error("Headers not available from prefetch viewables.");return this.mf.z7(a);};d.prototype.E2=function(a,b){if(!this.mf)throw Error("Headers not available from prefetch viewables.");return this.mf.E2(a,b);};d.prototype.Jba=function(a){if(!this.mf)throw Error("Headers not available from prefetch viewables.");return this.mf.Jba(a);};d.prototype.nF=function(a,b){if(!this.mf)throw Error("Headers not available from prefetch viewables.");return this.mf.nF(a,b);};d.prototype.cA=function(a){this.fw?this.console.warn("requestError ignored, viewable cleaned up, mediaRequest:",a):this.Aca(a,a.location,a.xb);};d.prototype.DL=function(a){if(!this.zj)throw Error("Requests cannot be handled on prefetch viewables.");this.fw?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.zj.UX({timestamp:a.zd,url:a.url});};d.prototype.Ph=function(a){if(!this.zj||!this.vE||!this.wL)throw Error("Requests cannot be handled on prefetch viewables.");this.fw?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):(this.vE()&&this.zj.jM(!0),this.zj.UX({timestamp:a.zd,mediaRequest:a}),this.wL(a));};d.prototype.CL=function(a){var b;if(!this.zj||!this.$F||!this.pn)throw Error("Requests cannot be handled on prefetch viewables.");b=a.Gh;this.fw?this.console.warn("requestError ignored, viewable cleaned up, mediaRequest:",a):(this.config.keb&&b===k.Zj.tu.WZ&&0<a.Be&&(b=k.Zj.tu.KY),this.zj.Hm({url:a.url},a.status,b,a.Gj),this.$F()||this.tA(a.RD||"unknown",void 0,"NFErr_MC_StreamingFailure",a.Gh,a.status,a.Gj));};return d;}(g.Fr);d.Dea=a;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);d.g3=function(a,d,g){var c,f;c=!0;g.forEach(function(k){var g;if(c&&a===k.profile){g=k.ranges;c=b.U(g)?d>=k.min&&d<=k.max:g.some(function(a){return d>=a.min&&d<=a.max;});!c&&k.disallowed&&k.disallowed.some(function(a){if(a.stream.bitrate===d)return f=a.disallowedBy,!0;});}});return{inRange:c,BD:f};};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(0);g.__exportStar(a(223),d);g.__exportStar(a(387),d);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xha="ManifestVerifyErrorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oka="TrickPlayFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lka="TrackStreamFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gja="PlayerTextTrackFactorySymbol";},function(g,d){function a(a,f){this.log=a;this.QX=f;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.eFa=function(a,f){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+f.type+" track - "+f.cb),[];a=a.map(function(a){var c;c=b.QX(f,f.type,a.HD,a.O,a.Ac,a.size,b.Gbb(a.ad),a.iD,a.Qta/a.Pta,a.hp);c.Csb(a.rCa,a.qCa);c.$rb(a.ora,a.pra,a.nra,a.mra);f.nk&&(c.nk=f.nk);a.iD&&(c.uf=a.iD);return c;});a.sort(function(a,b){return a.O-b.O;});return a;};a.prototype.Gbb=function(a){return a.reduce(function(a,b){a[b.dqa]=b.url;return a;},{});};d.FO=a;},function(g,d,a){var b,f,p;b=a(227);f=a(111);d=a(51);p=a(810);a=d(function(a,c){return 1===a?f(c):b(a,p(a,[],c));});g.T=a;},function(g){g.T=function(d,a){for(var b=0,f=a.length,g=Array(f);b<f;)g[b]=d(a[b]),b+=1;return g;};},function(g,d,a){var b,f,p,h,c;d=a(111);b=a(229);f=a(813);p=!{toString:null}.propertyIsEnumerable("toString");h="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");c=function(){return arguments.propertyIsEnumerable("length");}();a=d("function"!==typeof Object.keys||c?function(a){var d,g,m,q;if(Object(a)!==a)return[];m=[];g=c&&f(a);for(d in a)!b(d,a)||g&&"length"===d||(m[m.length]=d);if(p)for(g=h.length-1;0<=g;){d=h[g];if(q=b(d,a)){a:{for(q=0;q<m.length;){if(m[q]===d){q=!0;break a;}q+=1;}q=!1;}q=!q;}q&&(m[m.length]=d);--g;}return m;}:function(a){return Object(a)!==a?[]:Object.keys(a);});g.T=a;},function(g){g.T={xc:function(){return this.JN["@@transducer/init"]();},result:function(d){return this.JN["@@transducer/result"](d);}};},function(g){g.T=Array.isArray||function(d){return null!=d&&0<=d.length&&"[object Array]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,f;b=a(398);f=a(820);g.T=function(a,d,c){return function(){var g,k;if(0===arguments.length)return c();g=Array.prototype.slice.call(arguments,0);k=g.pop();if(!b(k)){for(var u=0;u<a.length;){if("function"===typeof k[a[u]])return k[a[u]].apply(k,g);u+=1;}if(f(k))return d.apply(null,g)(k);}return c.apply(this,arguments);};};},function(g,d,a){var b,f,p,h,c,m;d=a(51);b=a(399);f=a(819);p=a(401);h=a(228);c=a(814);m=a(396);a=d(b(["filter"],c,function(a,b){return p(b)?h(function(c,f){a(b[f])&&(c[f]=b[f]);return c;},{},m(b)):f(a,b);}));g.T=a;},function(g){g.T=function(d){return"[object Object]"===Object.prototype.toString.call(d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vha="ManifestProviderConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wha="ManifestParserFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sea="CDMAttestedDescriptorStore";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nea="BookmarkConfigParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oea="BookmarkConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jfa="DiskStorageRegistrySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gia="MemoryStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xha="LocalStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lfa="CorruptedStorageValidatorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.n0="Storage";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.BO="IndexedDBConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oja="PresentationAPISymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zha="MediaCapabilitiesLogHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$ha="MediaCapabilitiesSymbol";},function(g,d,a){var f,p,h;function b(a,b){var c;c=p.YN.call(this,a,b,f.RG.Audio)||this;c.config=a;c.A$=b;c.type=f.vx.zx;return c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);p=a(418);h=a(63);a(132);new(a(97)).Ux();da(b,p.YN);b.prototype.QM=function(){return!1;};b.prototype.Py=function(){var a;a={};a[h.Ai.uO]="mp4a.40.2";a[h.Ai.ULa]="mp4a.40.2";a[h.Ai.BZ]="mp4a.40.5";a[h.Ai.vO]="mp4a.40.2";this.config().R5&&(a[h.Ai.$N]="ec-3");this.config().Q5&&(a[h.Ai.RY]="ec-3");this.config().CJ&&(a[h.Ai.aO]="ec-3");return a;};b.prototype.eva=function(){return this.config().yI;};d.YY=b;b.XF="audio/mp4;codecs={0};";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});d.gj=a;a.wga=/^hevc-main/;a.vga=/^hevc-hdr-|hevc-dv/;a.Lr=/^hevc-hdr-/;a.Ir=/^hevc-dv/;a.pB=/-h264mpl/;a.cB=/-h264hpl/;a.Nu=/^vp9-/;a.Vh=/^av1-/;a.vY=/^heaac-2-/;a.MAb=/^heaac-2hq-dash/;a.hJa=/ddplus-2/;a.iJa=/ddplus-5/;a.jJa=/ddplus-atmos/;},function(g,d,a){var f,p,h;function b(a,b,d){this.config=a;this.A$=b;this.M=d;this.B$={};this.B$[f.RG.Audio]="audio";this.B$[f.RG.ala]="video";}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);g=a(97);p=a(417);h=new g.Ux().format;b.prototype.pva=function(){return this.G7a(this.eva());};b.prototype.Ss=function(a){return this.A$.isTypeSupported(a);};b.prototype.R8=function(){this.Fm=[];this.$q=[];this.config().kAa&&this.$q.push(p.gj.wga);this.config().jAa&&this.$q.push(p.gj.vga);this.config().QV&&this.$q.push(p.gj.cB);this.config().lAa&&this.$q.push(p.gj.Nu);this.config().paa&&this.$q.push(p.gj.Vh);this.$q=this.$q.concat([p.gj.vY,p.gj.pB]);!this.config().R5&&this.Fm.push(p.gj.hJa);!this.config().Q5&&this.Fm.push(p.gj.iJa);!this.config().CJ&&this.Fm.push(p.gj.jJa);!this.config().X8a&&this.Fm.push(/prk$/);this.config().kAa||this.config().N8a||this.Fm.push(p.gj.wga);this.config().jAa||this.config().M8a||this.Fm.push(p.gj.vga);this.config().paa||this.config().yS||this.Fm.push(p.gj.cB);this.config().lAa||this.config().b9a||this.Fm.push(p.gj.Nu);this.config().paa||this.config().J8a||this.Fm.push(p.gj.Vh);};b.prototype.r6=function(a){var b;b=this;return a.filter(function(a){for(var c=R(b.$q),f=c.next();!f.done;f=c.next())if(f.value.test(a))return!0;c=R(b.Fm);for(f=c.next();!f.done;f=c.next())if(f.value.test(a))return!1;a=b.bba[a];f="";if(a)return Array.isArray(a)&&(f=1<a.length?" "+a[1]:"",a=a[0]),a=h("{0}/mp4;codecs={1};{2}",b.B$[b.M],a,f),b.Ss(a);});};b.prototype.G7a=function(a){var b;b={};this.R8();this.r6(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};qa.Object.defineProperties(b.prototype,{bba:{configurable:!0,enumerable:!0,get:function(){this.zna||(this.zna=this.Py());return this.zna;}}});d.YN=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fea={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zea="CapabilityDetectorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jga="ExtraPlatformInfoProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bfa="CdnThroughputTracker";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ika="ThroughputTrackerConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mka="TransitionLoggerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bla="VideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Eja="PlaybackFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qka="SegmentConfigFactorySymbol";},function(g,d,a){var f;function b(a,b,c,f,d,g){this.level=a;this.el=b;this.timestamp=c;this.message=f;this.ld=d;this.index=void 0===g?0:g;this.wNa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(d,"__esModule",{value:!0});f=a(3);b.prototype.NX=function(a,b){var c;c=""+this.message;this.ld.forEach(function(f){c+=f.TA(a,b);});return(this.timestamp.ba(f.ha)/1E3).toFixed(3)+"|"+this.index+"|"+(this.wNa[this.level]||this.level)+"|"+this.el+"| "+c;};d.Bha=b;},function(g,d,a){var f,p;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(440);a=a(1);b.prototype.create=function(){return new f.Wj();};p=b;p=g.__decorate([a.N()],p);d.vLa=p;d.lO="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lO="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ska="UserAgentUtilities";},function(g,d,a){var f,p,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);p=a(17);h=a(9);b.prototype.Aq=function(){return this.$fb()?h.MKa:/widevine/i.test(this.config().ce)?h.Pfa:/fps/i.test(this.config().ce)?"fairplay":h.dZ;};b.prototype.$fb=function(){return/clearkey/i.test(this.config().ce);};qa.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.G||(this.G=f.V.get(p.pd));return this.G;}}});d.aia=new b();},function(g,d,a){var f,p,h,c;function b(a,b,c,f,d,g,q){this.debug=a;this.config=b;this.platform=c;this.Dya=f;this.debug.assert(d&&d!=p.J.lj,"There should always be a specific error code");this.errorCode=d||p.J.lj;g&&h.Xe(g)?(this.Z=g.Z||g.Lc,this.Kc=g.Kc||g.Gg,this.GS=g.GS||g.Vy,this.Sa=g.Sa||g.yD,this.Ty=g.En,this.ND=g.ND||g.cza||g.Vq,this.kt=g.kt||g.data,g.gL&&(this.gL=g.gL),this.mi=g.mi,this.method=g.method,this.zV=g.zV,this.alert=g.alert,this.W2=g.W2,this.debug.assert(!this.mi||this.mi==this.Kc)):(this.Z=g,this.Kc=q);this.stack=[this.errorCode];this.Z?this.stack.push(this.Z):this.Kc&&this.stack.push(p.u.lj);this.Kc&&this.stack.push(this.Kc);this.lS=this.platform.OD+this.stack.join("-");}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);p=a(2);h=a(19);c=a(16);a(18);b.prototype.toString=function(){var a;a="[PlayerError #"+this.lS+"]";this.Sa&&(a+=" "+this.Sa);this.Ty&&(a+=" (CustomMessage: "+this.Ty+")");return a;};b.prototype.Dda=function(){var a,b;this.Ty&&(a=["streaming_error"]);a||this.Dya.Aq()!==f.dZ||("80080017"==this.Kc&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.Kc&&(a=["pause_timeout"]));a||this.Dya.Aq()!==f.Pfa||this.errorCode!==p.J.Vfa&&this.errorCode!==p.J.Ufa||(a=["no_cdm","platform_error","plugin_error"]);this.ygb()&&(a=["received_soad"]);b=this.gbb();b&&(a=[b],this.Ty=void 0);if(!a)switch(this.errorCode){case p.J.OO:case p.J.zO:case p.J.GGa:case p.J.Oia:a=["pause_timeout"];break;case p.J.cha:case p.J.dha:a=this.Z?["platform_error"]:["multiple_tabs"];break;case p.J.ANa:case p.J.JSa:case p.J.UMa:case p.J.TMa:case p.J.WMa:a=["should_signout_and_signin"];break;case p.J.d_:case p.J.Ria:case p.J.Qia:case p.J.P_:case p.J.fQa:a=["platform_error","plugin_error"];break;case p.J.pQa:a=["no_cdm","platform_error","plugin_error"];break;case p.J.N_:a=this.Z?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case p.J.kO:case p.J.QO:case p.J.Sia:switch(this.Kc){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case p.J.Pia:case p.J.M_:a=["unsupported_output"];}!a&&p.tLa(this.Z)&&(a=this.Z==p.u.qB?["geo"]:["internet_connection_problem"]);if(!a)switch(this.nEa(this.Z)){case p.u.z0:a=["should_upgrade"];break;case p.u.jPa:case p.u.Rha:a=["should_signout_and_signin"];break;case p.u.kPa:a=["internet_connection_problem"];break;case p.u.Via:case p.u.Tia:case p.u.Wia:case p.u.Uia:case p.u.rfa:a=["platform_error","plugin_error"];break;case p.u.TY:case p.u.Hga:case p.u.Iga:a=["private_mode"];}a=a||[];a.push(this.platform.OD+this.errorCode);if(this.Z)switch(this.nEa(this.Z)){case p.u.Iia:a.push("incorrect_pin");break;default:a.push(""+this.Z);}a={display:{code:this.lS,text:this.Ty},messageIdList:a,alert:this.alert,alertTag:this.W2};if(this.ND||this.cza)a.mslErrorCode=this.ND||this.cza||this.Vq;return a;};b.prototype.nEa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.ygb=function(){var a;a=c.na(this.Kc)?this.Kc.toString():c.ae(this.Kc)?this.Kc:"";return this.ND===p.y_.w0&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.gbb=function(){if(this.errorCode===p.J.Fx&&(this.Z===p.u.L_||this.Z===p.u.Hia))return this.hbb(this.Z===p.u.L_);};b.prototype.hbb=function(a){var b,c,f;b=(this.config().browserInfo||{}).os||{};c=b.name;f=(b.version||"").split(".");b=parseInt(f&&f[0]);f=parseInt(f&&f[1]);switch(c){case"Windows":return 6>b||6===b&&1>f?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>f?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};d.yRa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rka="UrlFactorySymbol";},function(g,d,a){var f;function b(a){this.HWa=void 0===a?!1:a;this.Ld={0:[]};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.Ld[b];c?this.HWa&&-1!==c.indexOf(a)||c.push(a):this.Ld[b]=[a];};b.prototype.remove=function(a,b){this.vs(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.vs(a);};b.prototype.yta=function(){var a;a=this;return Object.keys(this.Ld).sort().reduce(function(b,c){return b.concat(a.Ld[c]);},[]);};b.prototype.vs=function(a,b){var c;c=this;Object.keys(this.Ld).forEach(function(f){var d;if(void 0===b||b===parseInt(f)){f=c.Ld[f];-1<(d=f.indexOf(a))&&f.splice(d,1);}});};f=b;f=g.__decorate([a.N()],f);d.Pja=f;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.WBb=function(){};d.jia="MseConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ffa="DecoderTimeoutPathologistSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ofa="CsvEncoderSymbol";},function(g,d,a){(function(b){var V,M,fa,ma,U,P;function f(a,b){var c;c={cca:[],aj:q};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.eD=arguments[3]);F(b)?c.Hca=b:b&&d.UVa(c,b);n(c.Hca)&&(c.Hca=!1);n(c.depth)&&(c.depth=2);n(c.eD)&&(c.eD=!1);n(c.sra)&&(c.sra=!0);c.eD&&(c.aj=g);return m(c,a,c.depth);}function g(a,b){return(b=f.Utb[b])?"\u001b["+f.eD[b][0]+"m"+a+"\u001b["+f.eD[b][1]+"m":a;}function q(a){return a;}function c(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function m(a,b,f){var g,p,h,q,F;if(a.sra&&b&&z(b.DK)&&b.DK!==d.DK&&(!b.constructor||b.constructor.prototype!==b)){g=b.DK(f,a);l(g)||(g=m(a,g,f));return g;}if(g=k(a,b))return g;p=Object.keys(b);h=c(p);a.Hca&&(p=Object.getOwnPropertyNames(b));if(t(b)&&(0<=p.indexOf("message")||0<=p.indexOf("description")))return u(b);if(0===p.length){if(z(b))return a.aj("[Function"+(b.name?": "+b.name:"")+"]","special");if(N(b))return a.aj(RegExp.prototype.toString.call(b),"regexp");if(Q(b))return a.aj(Date.prototype.toString.call(b),"date");if(t(b))return u(b);}g="";q=!1;F=["{","}"];I(b)&&(q=!0,F=["[","]"]);z(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");N(b)&&(g=" "+RegExp.prototype.toString.call(b));Q(b)&&(g=" "+Date.prototype.toUTCString.call(b));t(b)&&(g=" "+u(b));if(0===p.length&&(!q||0==b.length))return F[0]+g+F[1];if(0>f)return N(b)?a.aj(RegExp.prototype.toString.call(b),"regexp"):a.aj("[Object]","special");a.cca.push(b);p=q?r(a,b,f,h,p):p.map(function(c){return y(a,b,f,h,c,q);});a.cca.pop();return A(p,g,F);}function k(a,b){if(n(b))return a.aj("undefined","undefined");if(l(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.aj(b,"string");if(D(b))return a.aj(""+b,"number");if(F(b))return a.aj(""+b,"boolean");if(null===b)return a.aj("null","null");}function u(a){return"["+Error.prototype.toString.call(a)+"]";}function r(a,b,c,f,d){for(var k=[],g=0,m=b.length;g<m;++g)Object.prototype.hasOwnProperty.call(b,String(g))?k.push(y(a,b,c,f,String(g),!0)):k.push("");d.forEach(function(d){d.match(/^\d+$/)||k.push(y(a,b,c,f,d,!0));});return k;}function y(a,b,c,f,d,k){var g,r;b=Object.getOwnPropertyDescriptor(b,d)||{value:b[d]};b.get?r=b.set?a.aj("[Getter/Setter]","special"):a.aj("[Getter]","special"):b.set&&(r=a.aj("[Setter]","special"));Object.prototype.hasOwnProperty.call(f,d)||(g="["+d+"]");r||(0>a.cca.indexOf(b.value)?(r=null===c?m(a,b.value,null):m(a,b.value,c-1),-1<r.indexOf("\n")&&(r=k?r.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+r.split("\n").map(function(a){return"   "+a;}).join("\n"))):r=a.aj("[Circular]","special"));if(n(g)){if(k&&d.match(/^\d+$/))return r;g=JSON.stringify(""+d);g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.aj(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.aj(g,"string"));}return g+": "+r;}function A(a,b,c){var f;f=0;return 60<a.reduce(function(a,b){f++;0<=b.indexOf("\n")&&f++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function I(a){return Array.isArray(a);}function F(a){return"boolean"===typeof a;}function D(a){return"number"===typeof a;}function l(a){return"string"===typeof a;}function n(a){return void 0===a;}function N(a){return ba(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function ba(a){return"object"===typeof a&&null!==a;}function Q(a){return ba(a)&&"[object Date]"===Object.prototype.toString.call(a);}function t(a){return ba(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function z(a){return"function"===typeof a;}function X(a){return 10>a?"0"+a.toString(10):a.toString(10);}function T(){var a,b;a=new Date();b=[X(a.getHours()),X(a.getMinutes()),X(a.getSeconds())].join(":");return[a.getDate(),U[a.getMonth()],b].join(" ");}function Y(a,b){var c;if(!a){c=Error("Promise was rejected with a falsy value");c.reason=a;a=c;}return b(a);}V=Object.NIb||function(a){for(var b=Object.keys(a),c={},f=0;f<b.length;f++)c[b[f]]=Object.getOwnPropertyDescriptor(a,b[f]);return c;};M=/%[sdj%]/g;d.format=function(a){if(!l(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(f(arguments[c]));return b.join(" ");}for(var c=1,d=arguments,k=d.length,b=String(a).replace(M,function(a){if("%%"===a)return"%";if(c>=k)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++]);}catch(Sb){return"[Circular]";}default:return a;}}),g=d[c];c<k;g=d[++c])b=null!==g&&ba(g)?b+(" "+f(g)):b+(" "+g);return b;};d.t7a=function(a,c){var f;if("undefined"!==typeof b&&!0===b.BKb)return a;if("undefined"===typeof b)return function(){return d.t7a(a,c).apply(this,arguments);};f=!1;return function(){if(!f){if(b.sMb)throw Error(c);b.wMb?console.trace(c):console.error(c);f=!0;}return a.apply(this,arguments);};};fa={};d.HHb=function(a){var c;n(ma)&&(ma=b.R9a.oCb||"");a=a.toUpperCase();if(!fa[a])if(new RegExp("\\b"+a+"\\b","i").test(ma)){c=b.eLb;fa[a]=function(){var b;b=d.format.apply(d,arguments);console.error("%s %d: %s",a,c,b);};}else fa[a]=function(){};return fa[a];};d.DK=f;f.eD={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.Utb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};d.isArray=I;d.Zfb=F;d.Ma=function(a){return null===a;};d.CJb=function(a){return null==a;};d.na=D;d.ae=l;d.FJb=function(a){return"symbol"===typeof a;};d.U=n;d.Qwa=N;d.Xe=ba;d.FK=Q;d.qU=t;d.Gb=z;d.Mwa=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};d.isBuffer=a(902);U="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.log=function(){console.log("%s - %s",T(),d.format.apply(d,arguments));};d.Cfb=a(901);d.UVa=function(a,b){if(b&&ba(b))for(var c=Object.keys(b),f=c.length;f--;)a[c[f]]=b[c[f]];};h();h();P="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;d.Cob=function(a){function b(){for(var b,c,f=new Promise(function(a,f){b=a;c=f;}),d=[],k=0;k<arguments.length;k++)d.push(arguments[k]);d.push(function(a,f){a?c(a):b(f);});try{a.apply(this,d);}catch(Sb){c(Sb);}return f;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(P&&a[P]){b=a[P];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,P,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));P&&Object.defineProperty(b,P,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,V(a));};d.Cob.qHb=P;d.MGb=function(a){function c(){var k,g;function c(){return k.apply(g,arguments);}for(var f=[],d=0;d<arguments.length;d++)f.push(arguments[d]);k=f.pop();if("function"!==typeof k)throw new TypeError("The last argument must be of type Function");g=this;a.apply(this,f).then(function(a){b.pza(c,null,a);},function(a){b.pza(Y,a,c);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(c,Object.getPrototypeOf(a));Object.defineProperties(c,V(a));return c;};}.call(this,a(243)));},function(g,d,a){var f,p;function b(){this.mm={};this.id="$es$"+f.dJ++;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.addListener=function(a,b,f){var c,d;c="$netflix$player$order"+this.id+"$"+a;if(this.mm){d=this.mm[a]?this.mm[a].slice():[];f&&(b[c]=f);0>d.indexOf(b)&&(d.push(b),d.sort(function(a,b){return(a[c]||0)-(b[c]||0);}));this.mm[a]=d;}};b.prototype.removeListener=function(a,b){if(this.mm&&this.mm[a]){for(var c=this.mm[a].slice(),f;0<=(f=c.indexOf(b));)c.splice(f,1);this.mm[a]=c;}};b.prototype.Kb=function(a,b,f){var c;if(this.mm){c=this.j7(a);for(a={Ti:0};a.Ti<c.length;a={Ti:a.Ti},a.Ti++)f?function(a){return function(){var f;f=c[a.Ti];setTimeout(function(){f(b);},0);};}(a)():c[a.Ti].call(this,b);}};b.prototype.Fg=function(){this.mm=void 0;};b.prototype.on=function(a,b,f){this.addListener(a,b,f);};b.prototype.j7=function(a){return this.mm&&(this.mm[a]||(this.mm[a]=[]));};p=f=b;p.dJ=0;p=f=g.__decorate([a.N()],p);d.Wj=p;},function(g,d,a){var f,p,h,c;function b(a,b){this.is=a;this.Eh=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a(2);p=a(21);h=a(99);c=a(8);b.prototype.yk=function(a,b,c){var f,d,k,g;f=this;if(b)if(c){d=c.DE;k=c.prefix;g=c.Xq;this.Kv(b,function(b,c){if(!g||f.is.Nd(c))a[(k||"")+(d?b.toLowerCase():b)]=c;});}else this.Kv(b,function(b,c){a[b]=c;});return a;};b.prototype.Kv=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};b.prototype.Bv=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};b.prototype.J3a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};b.prototype.ne=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}};b.prototype.usa=function(a,b){var c,f;a=a.target.keyStatuses.entries();for(c=a.next();!c.done;)f=c.value[0],c=c.value[1],b&&b(f,c),c=a.next();};b.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};b.prototype.nua=function(a){return this.getFunctionName(a.constructor);};b.prototype.Mza=function(a){var b,c;b=this;c="";this.is.Js(a)||this.is.Toa(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.Vk(a)?c=a:this.Kv(a,function(a,f){c+=(c?", ":"")+"{"+a+": "+(b.is.jI(f)?b.getFunctionName(f)||"function":f)+"}";});return"["+this.nua(a)+" "+c+"]";};b.prototype.createElement=function(a,b,f,d){var k;k=c.Wd.createElement(a);b&&(k.style.cssText=b);f&&(k.innerHTML=f);d&&this.Kv(d,function(a,b){k.setAttribute(a,b);});return k;};b.prototype.z$a=function(a,b){return function(c){return c[a]===b;};};b.prototype.TV=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(p.Fe)),g.__param(1,f.l(h.wx))],a);d.Tka=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cia="OneWayCounterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.efa="ClockConfigSymbol";},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.rxa=0]="licenseStarted";a[a.MBa=1]="receivedLicenseChallenge";a[a.LBa=2]="receivedLicense";a[a.NBa=3]="receivedRenewalChallengeComplete";a[a.OBa=4]="receivedRenewalLicenseComplete";a[a.PBa=5]="receivedRenewalLicenseFailed";a[a.kpb=6]="receivedIndivChallengeComplete";a[a.lpb=7]="receivedIndivLicenseComplete";a[a.Aoa=8]="addLicenseComplete";a[a.Doa=9]="addRenewalLicenseComplete";a[a.Eoa=10]="addRenewalLicenseFailed";}(a=d.Mp||(d.Mp={})));d.o8a=function(b){switch(b){case a.rxa:return"lg";case a.MBa:return"lc";case a.LBa:return"lr";case a.NBa:return"renew_lc";case a.OBa:return"renew_lr";case a.PBa:return"renew_lr_failed";case a.kpb:return"ilc";case a.lpb:return"ilr";case a.Aoa:return"ld";case a.Doa:return"renew_ld";case a.Eoa:return"renew_ld_failed";default:return"unknown";}};},function(g,d,a){var f,p,h,c,m,k,u;function b(a,b){this.yV=a;this.is=b;h.vl(this,"nav");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);p=a(1);h=a(46);c=a(2);m=a(36);k=a(21);u=a(90);b.prototype.Wv=function(){if(this.la)return this.la.sessionId;};b.prototype.jCa=function(a,b){return this.yV.requestMediaKeySystemAccess(a,b);};b.prototype.bra=function(a,b){return b.createMediaKeys();};b.prototype.Qo=function(a,b){this.la=a.createSession(b);};b.prototype.Swa=function(){return!!this.la;};b.prototype.BDa=function(a,b){return this.is.jI(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.Uta=function(a,b){return this.la?this.la.generateRequest(a,b):Promise.reject(new u.Pf(c.J.Wfa,c.u.uG,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.la?this.la.update(a):Promise.reject(new u.Pf(c.J.kO,c.u.uG,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.la?this.la.load(a):Promise.reject(new u.Pf(c.J.XKa,c.u.uG,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.la)return Promise.reject(new u.Pf(c.J.RKa,c.u.uG,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.Wv()&&(a=this.la.close());this.la=void 0;return a;};b.prototype.remove=function(){return this.la?this.la.remove():Promise.reject(new u.Pf(c.J.$fa,c.u.uG,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.Boa=function(a){if(!this.la)throw ReferenceError("Unable to add message handler, key session is not valid");this.la.addEventListener(f.nB,a);};b.prototype.yoa=function(a){if(!this.la)throw ReferenceError("Unable to add key status handler, key session is not valid");this.la.addEventListener(f.bga,a);};b.prototype.woa=function(a){if(!this.la)throw ReferenceError("Unable to add error handler, key session is not valid");this.la.addEventListener(f.mB,a);};b.prototype.aCa=function(a){if(!this.la)throw ReferenceError("Unable to remove message handler, key session is not valid");this.la.removeEventListener(f.nB,a);};b.prototype.ZBa=function(a){if(!this.la)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.la.removeEventListener(f.bga,a);};b.prototype.YBa=function(a){if(!this.la)throw ReferenceError("Unable to remove error handler, key session is not valid");this.la.removeEventListener(f.mB,a);};a=f=b;a.nB="message";a.bga="keystatuseschange";a.mB="error";a=f=g.__decorate([p.N(),g.__param(0,p.l(m.EB)),g.__param(1,p.l(k.Fe))],a);d.d0=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cga="EmeSessionFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nfa="DrmProviderSymbol";},function(g,d,a){var b;b=a(101);d.Jwa=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(g,d,a){var b,f,p,h,c,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(454);p=a(101);g=a(78);h=a(77);d.$z=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&p.isArray(a[0])&&(a=a[0]);return function(b){return b.ng(new c(a));};};d.Hlb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&p.isArray(a[0])&&(a=a[0]);b=a.shift();return new f.pga(b,null).ng(new c(a));};c=function(){function a(a){this.W$=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.W$));};return a;}();m=function(a){function c(b,c){a.call(this,b);this.destination=b;this.W$=c;}b(c,a);c.prototype.aaa=function(){this.HX();};c.prototype.zl=function(){this.HX();};c.prototype.Jd=function(){this.HX();};c.prototype.jc=function(){this.HX();};c.prototype.HX=function(){var a;a=this.W$.shift();a?this.add(h.fu(this,a)):this.destination.complete();};return c;}(g.Tr);},function(g,d){d.FK=function(a){return a instanceof Date&&!isNaN(+a);};},function(g,d,a){var b,f,p,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(77);g=a(78);d.IE=function(a,b,f){void 0===f&&(f=Number.POSITIVE_INFINITY);return function(c){"number"===typeof b&&(f=b,b=null);return c.ng(new p(a,b,f));};};p=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.Mg=a;this.Dk=b;this.w4=c;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Mg,this.Dk,this.w4));};return a;}();d.TBb=p;h=function(a){function c(b,c,f,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.Mg=c;this.Dk=f;this.w4=d;this.lE=!1;this.buffer=[];this.index=this.active=0;}b(c,a);c.prototype.zh=function(a){this.active<this.w4?this.yZa(a):this.buffer.push(a);};c.prototype.yZa=function(a){var b,c;c=this.index++;try{b=this.Mg(a,c);}catch(y){this.destination.error(y);return;}this.active++;this.r1(b,a,c);};c.prototype.r1=function(a,b,c){this.add(f.fu(this,a,b,c));};c.prototype.jc=function(){this.lE=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};c.prototype.Yz=function(a,b,c,f){this.Dk?this.AXa(a,b,c,f):this.destination.next(b);};c.prototype.AXa=function(a,b,c,f){var d;try{d=this.Dk(a,b,c,f);}catch(I){this.destination.error(I);return;}this.destination.next(d);};c.prototype.zl=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.zh(b.shift()):0===this.active&&this.lE&&this.destination.complete();};return c;}(g.Tr);d.UBb=h;},function(g,d,a){var b;b=a(246);d.aJ=function(){return b.Fw(1);};},function(g,d,a){var p,h;function b(a){var b;b=a.value;a=a.Mf;a.closed||(a.next(b),a.complete());}function f(a){var b;b=a.Zy;a=a.Mf;a.closed||a.error(b);}p=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(79);g=function(a){function c(b,c){a.call(this);this.Vt=b;this.ga=c;}p(c,a);c.create=function(a,b){return new c(a,b);};c.prototype.fg=function(a){var c,d,k;c=this;d=this.Vt;k=this.ga;if(null==k)this.ks?a.closed||(a.next(this.value),a.complete()):d.then(function(b){c.value=b;c.ks=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){h.root.setTimeout(function(){throw a;});});else if(this.ks){if(!a.closed)return k.Nb(b,0,{value:this.value,Mf:a});}else d.then(function(f){c.value=f;c.ks=!0;a.closed||a.add(k.Nb(b,0,{value:f,Mf:a}));},function(b){a.closed||a.add(k.Nb(f,0,{Zy:b,Mf:a}));}).then(null,function(a){h.root.setTimeout(function(){throw a;});});};return c;}(a(10).Ca);d.Rja=g;},function(g,d,a){var b,f,p,h,c,m,k,u,r,y,A,I;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(101);p=a(458);h=a(457);c=a(453);m=a(1003);k=a(100);u=a(1002);r=a(170);y=a(10);A=a(463);I=a(251);g=function(a){function d(b,c){a.call(this,null);this.Igb=b;this.ga=c;}b(d,a);d.create=function(a,b){if(null!=a){if("function"===typeof a[I.observable])return a instanceof y.Ca&&!b?a:new d(a,b);if(f.isArray(a))return new k.sx(a,b);if(h.Nwa(a))return new c.Rja(a,b);if("function"===typeof a[r.iterator]||"string"===typeof a)return new m.tNa(a,b);if(p.xwa(a))return new u.ZGa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};d.prototype.fg=function(a){var b,c;b=this.Igb;c=this.ga;return null==c?b[I.observable]().subscribe(a):b[I.observable]().subscribe(new A.Bia(a,c,0));};return d;}(y.Ca);d.pga=g;},function(g,d,a){g=a(454);d.from=g.pga.create;},function(g,d,a){g=a(100);d.of=g.sx.of;},function(g,d){d.Nwa=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(g,d){d.xwa=function(a){return a&&"number"===typeof a.length;};},function(g,d){d.dpa=function(a,b){var u;for(var f=0,d=b.length;f<d;f++)for(var g=b[f],c=Object.getOwnPropertyNames(g.prototype),m=0,k=c.length;m<k;m++){u=c[m];a.prototype[u]=g.prototype[u];}};},function(g,d){d.fH=function(){return function(a){this.Ytb=a;};}();},function(g,d,a){var b;b=a(460);g=function(){function a(){this.PM=[];}a.prototype.Ixa=function(){this.PM.push(new b.fH(this.ga.now()));return this.PM.length-1;};a.prototype.Jxa=function(a){var f;f=this.PM;f[a]=new b.fH(f[a].Ytb,this.ga.now());};return a;}();d.xka=g;},function(g,d,a){var b,f,p,h,c,m,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(171);f=a(10);p=a(45);h=a(69);c=a(1015);a=function(a){function f(b,c){a.call(this);this.source=b;this.GX=c;this.dv=0;this.cq=!1;}b(f,a);f.prototype.fg=function(a){return this.FT().subscribe(a);};f.prototype.FT=function(){var a;a=this.IQ;if(!a||a.yf)this.IQ=this.GX();return this.IQ;};f.prototype.connect=function(){var a;a=this.Ru;a||(this.cq=!1,a=this.Ru=new h.Nk(),a.add(this.source.subscribe(new m(this.FT(),this))),a.closed?(this.Ru=null,a=h.Nk.EMPTY):this.Ru=a);return a;};f.prototype.yW=function(){return c.yW()(this);};return f;}(f.Ca);d.gfa=a;a=a.prototype;d.D3a={dA:{value:null},dv:{value:0,writable:!0},IQ:{value:null,writable:!0},Ru:{value:null,writable:!0},fg:{value:a.fg},cq:{value:a.cq,writable:!0},FT:{value:a.FT},connect:{value:a.connect},yW:{value:a.yW}};m=function(a){function c(b,c){a.call(this,b);this.em=c;}b(c,a);c.prototype.Jd=function(b){this.Cs();a.prototype.Jd.call(this,b);};c.prototype.jc=function(){this.em.cq=!0;this.Cs();a.prototype.jc.call(this);};c.prototype.Cs=function(){var a,b;a=this.em;if(a){this.em=null;b=a.Ru;a.dv=0;a.IQ=null;a.Ru=null;b&&b.unsubscribe();}};return c;}(g.nTa);(function(){function a(a){this.em=a;}a.prototype.call=function(a,b){var c;c=this.em;c.dv++;a=new k(a,c);b=b.subscribe(a);a.closed||(a.No=c.connect());return b;};return a;}());k=function(a){function c(b,c){a.call(this,b);this.em=c;}b(c,a);c.prototype.Cs=function(){var a,b;a=this.em;if(a){this.em=null;b=a.dv;0>=b?this.No=null:(a.dv=b-1,1<b?this.No=null:(b=this.No,a=a.Ru,this.No=null,!a||b&&a!==b||a.unsubscribe()));}else this.No=null;};return c;}(p.Ei);},function(g,d,a){var b,f,p,h,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(45);f=a(248);d.JKb=function(a,b){void 0===b&&(b=0);return function(c){return c.ng(new p(a,b));};};p=function(){function a(a,b){void 0===b&&(b=0);this.ga=a;this.Od=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.ga,this.Od));};return a;}();d.UCb=p;h=function(a){function d(b,c,f){void 0===f&&(f=0);a.call(this,b);this.ga=c;this.Od=f;}b(d,a);d.Ab=function(a){a.notification.observe(a.destination);this.unsubscribe();};d.prototype.Uba=function(a){this.add(this.ga.Nb(d.Ab,this.Od,new c(a,this.destination)));};d.prototype.zh=function(a){this.Uba(f.Notification.M4(a));};d.prototype.Jd=function(a){this.Uba(f.Notification.Zqa(a));};d.prototype.jc=function(){this.Uba(f.Notification.I4());};return d;}(g.Ei);d.Bia=h;c=function(){return function(a,b){this.notification=a;this.destination=b;};}();d.TCb=c;},function(g,d,a){var b,f,p,h,c,m,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(171);f=a(1020);p=a(69);h=a(463);c=a(466);m=a(465);a=function(a){function d(b,c,f){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.ga=f;this.wh=[];this.XUa=1>b?1:b;this.QZa=1>c?1:c;}b(d,a);d.prototype.next=function(b){var c;c=this.uma();this.wh.push(new k(c,b));this.boa();a.prototype.next.call(this,b);};d.prototype.fg=function(a){var b,f,d;b=this.boa();f=this.ga;if(this.closed)throw new c.GB();this.nK?d=p.Nk.EMPTY:this.yf?d=p.Nk.EMPTY:(this.Ot.push(a),d=new m.wka(this,a));f&&a.add(a=new h.Bia(a,f));for(var f=b.length,k=0;k<f&&!a.closed;k++)a.next(b[k].value);this.nK?a.error(this.wda):this.yf&&a.complete();return d;};d.prototype.uma=function(){return(this.ga||f.fh).now();};d.prototype.boa=function(){for(var a=this.uma(),b=this.XUa,c=this.QZa,f=this.wh,d=f.length,k=0;k<d&&!(a-f[k].time<c);)k++;d>b&&(k=Math.max(k,d-b));0<k&&f.splice(0,k);return f;};return d;}(g.kj);d.TO=a;k=function(){return function(a,b){this.time=a;this.value=b;};}();},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,c){a.call(this);this.OM=b;this.Mf=c;this.closed=!1;}b(f,a);f.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.OM;b=a.Ot;this.OM=null;!b||0===b.length||a.yf||a.closed||(a=b.indexOf(this.Mf),-1!==a&&b.splice(a,1));}};return f;}(a(69).Nk);d.wka=g;},function(g,d){var a;a=this&&this.__extends||function(a,f){function b(){this.constructor=a;}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b());};g=function(b){function f(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(f,b);return f;}(Error);d.GB=g;},function(g,d){d.Lv={e:{}};},function(g,d){d.Gb=function(a){return"function"===typeof a;};},function(g,d){d.Xe=function(a){return null!=a&&"object"===typeof a;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ria="NetworkMonitorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.e0="QueryStringDataProviderSymbol";},function(g,d,a){var f,p;function b(a,b,f,d,g){this.version=a;this.YE=b;this.jEa=f;this.$i=d;this.qr=g;this.oq=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);p=a(56);b.prototype.load=function(a){return this.Fhb(a);};b.prototype.add=function(a){this.oq.push(a);return this.Aaa();};b.prototype.remove=function(a,b){a=this.hua(this.Yo(a,b));return 0<=a?(this.oq.splice(a,1),this.Aaa()):Promise.resolve();};b.prototype.update=function(a,b){b=this.hua(this.Yo(a,b));return 0<=b?(this.oq[b]=a,this.Aaa()):Promise.resolve();};b.prototype.Fhb=function(a){var b;b=this;this.yxa||(this.yxa=new Promise(function(c,d){function k(a){b.p7a().then(function(){d(a);})["catch"](function(){d(a);});}b.Q7().then(function(a){b.storage=a;return b.storage.load(b.YE);}).then(function(f){var d;f=f.value;try{d=a(f);b.version=d.version;b.oq=d.data;c();}catch(A){k(A);}})["catch"](function(a){a.Z!==f.u.Mu?d(a):c();});}));return this.yxa;};b.prototype.Aaa=function(){var a,b,f,d,g;a=this;if(!this.jEa)return Promise.resolve();if(this.DX){d=new Promise(function(a,c){b=a;f=c;});g=function(){a.DX=d;a.iEa().then(function(){b();})["catch"](function(a){f(a);});};this.DX.then(g)["catch"](g);return d;}return this.DX=this.iEa();};b.prototype.iEa=function(){var a,c;a=this;c=this.qr();return new Promise(function(d,k){a.Q7().then(function(b){return b.save(a.YE,c,!1);}).then(function(){d();})["catch"](function(a){k(b.Rub(f.J.cQa,a));});});};b.prototype.p7a=function(){var a;a=this;return this.jEa?new Promise(function(b,f){a.Q7().then(function(b){return b.remove(a.YE);}).then(function(){b();})["catch"](function(a){f(a);});}):Promise.resolve();};b.prototype.Q7=function(){return this.storage?Promise.resolve(this.storage):this.$i.create();};b.prototype.Yo=function(a,b){for(var c=0;c<this.oq.length;++c)if(b(this.oq[c],a))return this.oq[c];};b.prototype.hua=function(a){return a?this.oq.indexOf(a):-1;};b.Rub=function(a,b){var c;if(b.Z&&b.cause)return new p.Sc(a,b.Z,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.Lc){c=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===c?void 0:c;return b;}return b instanceof Error?new p.Sc(a,f.u.qh,void 0,void 0,void 0,void 0,b.stack,b):new p.Sc(a,f.u.lj,void 0,void 0,void 0,void 0,void 0,b);};d.fha=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mfa="DrmDataFactorySymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});d.QN=a;a.HQa="PSK";a.fOa="MGK";a.IBb="MGK_WITH_FALLBACK";a.HBb="MGK_JWE";a.pBb="JWEJS_RSA";a.oha="JWK_RSA";a.qBb="JWK_RSAES";},function(g,d,a){var p;function b(a,b){this.af=b;this.Gt=Math.floor(a);this.display=this.Gt+" "+this.af.name;}function f(a,b,f){this.af=a;this.name=b;this.am=f?f:this;p.vl(this,"base");}Object.defineProperty(d,"__esModule",{value:!0});p=a(46);f.prototype.JJ=function(a){return this.af==a.af;};f.prototype.toJSON=function(){return this.name;};d.fP=f;b.prototype.ba=function(a){return this.af.JJ(a)?this.Gt:Math.floor(this.Gt*this.af.af/a.af);};b.prototype.eW=function(a){return this.af.JJ(a)?this.Gt:this.Gt*this.af.af/a.af;};b.prototype.to=function(a){return new b(this.ba(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.Gt,units:this.af.name};};b.prototype.add=function(a){return this.Cqa(a);};b.prototype.xe=function(a){return this.Cqa(a,function(a){return-a;});};b.prototype.scale=function(a){return new b(this.ba(this.af.am)*a,this.af.am);};b.prototype.il=function(a){return this.ba(this.af.am)-a.ba(this.af.am);};b.prototype.JJ=function(a){return 0==this.il(a);};b.prototype.Zwa=function(){return 0==this.Gt;};b.prototype.Hwa=function(){return 0>this.Gt;};b.prototype.rgb=function(){return 0<this.Gt;};b.prototype.Cqa=function(a,c){c=void 0===c?function(a){return a;}:c;return new b(this.ba(this.af.am)+c(a.ba(this.af.am)),this.af.am);};d.Qp=b;},function(g,d,a){var p;function b(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.i$(a)(b);}c.Kya=new p.Metadata(a,b);return c;};}function f(a,b){a=a.Qt;return null!==a?b(a)?!0:f(a,b):!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(31);p=a(64);d.kFa=f;d.xEa=b;d.hza=b(g.Gu);d.pFa=function(a){return function(b){var c;return null!==b?(c=b.GI[0],"string"===typeof a?c.$e===a:a===b.GI[0].Cj):!1;};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(258);f=a(257);g=function(){function a(a){this.yb=a;this.rH=new f.HY(this.yb);this.K0=new b.TN(this.yb);}a.prototype.when=function(a){return this.rH.when(a);};a.prototype.FN=function(){return this.rH.FN();};a.prototype.Wq=function(a){return this.K0.Wq(a);};return a;}();d.xx=g;},function(g,d,a){var b,f,p,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(102);p=a(64);h=a(1059);g=function(){function a(a,c,d,g){this.id=f.id();this.type=a;this.$e=d;this.name=new h.TRa(c||"");this.od=[];a=null;"string"===typeof g?a=new p.Metadata(b.Gu,g):g instanceof p.Metadata&&(a=g);null!==a&&this.od.push(a);}a.prototype.Mva=function(a){for(var b=0,c=this.od;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.Mva(b.Jx);};a.prototype.Fib=function(a){return this.i$(b.Jx)(a);};a.prototype.b9=function(){return this.Mva(b.Gu);};a.prototype.d9=function(){return this.od.some(function(a){return a.key!==b.GG&&a.key!==b.Jx&&a.key!==b.HO&&a.key!==b.hH&&a.key!==b.Gu;});};a.prototype.Kwa=function(){return this.i$(b.Aia)(!0);};a.prototype.Icb=function(){return this.b9()?this.od.filter(function(a){return a.key===b.Gu;})[0]:null;};a.prototype.vbb=function(){return this.d9()?this.od.filter(function(a){return a.key!==b.GG&&a.key!==b.Jx&&a.key!==b.HO&&a.key!==b.hH&&a.key!==b.Gu;}):null;};a.prototype.i$=function(a){var b;b=this;return function(c){var k;for(var f=0,d=b.od;f<d.length;f++){k=d[f];if(k.key===a&&k.value===c)return!0;}return!1;};};return a;}();d.aP=g;},function(g,d,a){var b,f,p,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);f=a(31);p=a(64);h=a(91);g=function(){function a(a){this.iVa=a;}a.prototype.Gvb=function(){return this.iVa();};return a;}();d.l_=g;d.l=function(a){return function(c,d,g){var k;if(void 0===a)throw Error(b.$Ta(c.name));k=new p.Metadata(f.GG,a);"number"===typeof g?h.OA(c,d,g,k):h.bN(c,d,k);};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);d.Twa=function(a){return a instanceof RangeError||a.message===b.CSa;};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);g=function(){function a(){}a.prototype.mua=function(a){var f;f=Reflect.getMetadata(b.K_,a);a=Reflect.getMetadata(b.zka,a);return{Eqa:f,Cwb:a||{}};};a.prototype.cdb=function(a){return Reflect.getMetadata(b.Aka,a)||[];};return a;}();d.w_=g;},function(g,d,a){var b,f,p,h,c,m;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(80);f=a(1040);p=a(256);h=a(1035);c=a(1027);m=a(912);a=a(523);d.Yc=new g.ZN({IA:!0});m.Ghb(d.Yc);d.Yc.load(f.platform);d.Yc.load(h.config);p.AJ.load(c.G8a);d.Yc.load(a.c3);d.Yc.load(a.profile);d.Yc.bind(b.hha).Th(d.Yc);},function(g,d,a){var b,f,p,h,c,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(123);f=a(9);g=a(2);p=a(4);h=a(113);c=a(60);a=a(22);p.V.get(a.bf).register(g.J.Sga,function(a){var d,k;d=L._cad_global.videoPreparer;k=L._cad_global.playerPredictionModel;d&&L._cad_global.playerPredictionModel&&(m=p.V.get(h.Mja).create(k,d.Vnb.bind(d)),L._cad_global.prefetchEvents=m,d.Vg.on("deletedCacheItem",function(a){m.QI(c.bd.ZG[a.type],parseInt(a.movieId,10),a.reason);}),b.Zk.addEventListener("cacheEvict",function(a){m.QI(h.He.fj.zG,a.movieId,"ase_cacheEvict");m.QI(h.He.fj.MEDIA,a.movieId,"ase_cacheEvict");}),b.Zk.addEventListener("flushedBytes",function(){b.Zk.SI().forEach(function(a){m.QI(h.He.fj.MEDIA,a.I,"ase_flushedBytes");},this);}),d.jo.addEventListener(d.jo.events.Dka,function(a){m.U1a(c.bd.ZG[a.type],a.I,a.reason);}),d.jo.addEventListener(d.jo.events.Bka,function(a){m.R1a(c.bd.ZG[a.type],a.I,a.reason);}),d.jo.addEventListener(d.jo.events.Cka,function(a){m.T1a(c.bd.ZG[a.type],a.I,a.reason);}),d.jo.addEventListener(d.jo.events.Eka,function(a){m.W1a(c.bd.ZG[a.type],a.I,a.reason);}));a(f.Tc);});},function(g,d,a){var p,h,c,m,k,u,r,y,A,I;function b(a,b){this.Rh=a;this.uj=b;}function f(a){this.L=a;this.reset();}p=a(176);h=a(175);d=a(260);c=a(259).config;m=d.nbb;k=d.Yab;u=d.E7a;r=d.ulb;y=d.tlb;A=d.slb;I=d.pta;f.prototype.constructor=f;f.prototype.reset=function(){this.wna=void 0;this.ei=[];this.ena=this.fna=!1;};f.prototype.update=function(a,b){var f;this.ei&&(this.ei=this.ei.filter(this.Qsb,this));if(!1===this.fna){f=m(a.xa).slice(0,c.tra);0<f.length&&(this.Sz(f,h.Hr.Di),this.fna=!0,this.ei=this.WA(f.concat(this.ei)));}!1===this.ena&&(f=k(a.xa).slice(0,c.tra),0<f.length&&(this.Sz(f,h.Hr.Di),this.ena=!0,this.ei=this.WA(f.concat(this.ei))));switch(b){case h.Dr.kga:b=this.oeb(a);break;case h.Dr.cka:b=this.xeb(a);break;case h.Dr.VO:b=this.yeb(a);break;case h.Dr.XG:b=this.teb(a);break;default:b=this.neb(a);}this.wna=a;return b;};f.prototype.oeb=function(a){a=r(a.xa,c.FCa,c.zqa);this.Sz(a,h.Hr.Di);return this.ei=this.WA(this.ei.concat(a));};f.prototype.xeb=function(a){var b,f;this.L.log("handleScrollHorizontal");b=a.xa;a=r(b,c.HCa,c.Aqa);f=u(b,this.wna.xa);b=b[f].list.slice(0,c.Nqb);b.concat(a);this.Sz(b,h.Hr.t0);return this.WA(b.concat(this.ei));};f.prototype.Sz=function(a,b){a.forEach(function(a){if(void 0===a.uv||a.uv<b)a.uv=b;void 0===a.RF&&(a.RF=p());void 0===a.Pi&&(a.Pi=p());});};f.prototype.yeb=function(a){this.L.log("handleSearch");a=y(a.xa,c.grb);this.Sz(a,h.Hr.eka);this.ei=a.concat(this.ei);return this.ei=this.WA(this.ei);};f.prototype.teb=function(a){var f,d,k,g,m;this.L.log("handlePlayFocus: ",c.qK);f=a.direction;d=a.xa;a=[];k=I(d);if(void 0!==k.Rh)switch(a.push(k),f){case h.Pp.Xja:for(f=1;f<c.qK;f++)a.push(new b(k.Rh,k.uj+f));a.push(new b(k.Rh-1,k.uj));a.push(new b(k.Rh+1,k.uj));break;case h.Pp.sha:for(f=1;f<c.qK;f++)a.push(new b(k.Rh,k.uj-f));a.push(new b(k.Rh-1,k.uj));a.push(new b(k.Rh+1,k.uj));break;case h.Pp.cUa:a.push(new b(k.Rh-1,k.uj));for(f=1;f<=c.qK/2;f++)a.push(new b(k.Rh,k.uj+f)),a.push(new b(k.Rh,k.uj-f));break;case h.Pp.fKa:for(a.push(new b(k.Rh+1,k.uj)),f=1;f<=c.qK/2;f++)a.push(new b(k.Rh,k.uj+f)),a.push(new b(k.Rh,k.uj-f));}g=[];a.forEach(function(a){m=A(d,a.Rh,a.uj);void 0!==m&&g.push(m);});this.Sz(g,h.Hr.t0);return this.WA(g.concat(this.ei));};f.prototype.neb=function(a){this.L.log("ModelOne: handleDefaultCase");a=r(a.xa,c.HCa,c.Aqa);this.Sz(a,h.Hr.t0);return this.WA(a.concat(this.ei));};f.prototype.Qsb=function(a){return a.uv==h.Hr.Di|a.uv==h.Hr.eka&p()-a.RF<c.$eb;};f.prototype.WA=function(a){var b,c,f,d,k,g,m;b=[];c={};g=0;m=a.length;for(k=0;k<m;k++)f=a[k].nb,d=a[k],!1===f in c?(b.push(d),c[f]=g,g++):(f=b[c[f]],d.Pi<f.Pi&&(f.Pi=d.Pi),d.uv>f.uv&&(f.uv=d.uv),d.RF>f.RF&&(f.RF=d.RF));return b;};g.T=f;},function(g,d,a){var h,c,m,k,u,r,y;function b(a,b,c,f,d,k){this.I=this.nb=a;this.ee=b;this.Td=c;k&&k.De&&(this.De=k.De);void 0!==f&&(this.hA=f);this.Pi=d;this.$a=k;}function f(a,b,c,f,d){m(void 0!==f,"video preparer is null");m(void 0!==d,"ui preparer is null");this.L=b||console;this.L=b;this.qb=c;this.LZa=f;this.CZa=d;this.tna=r.Saa;this.EC=[];this.z2=!1;this.cn=0;new y().on(r,"changed",p,this);this.reset();}function p(){this.L.log("config changed");r.Saa&&(this.tna=r.Saa);r.oL!==this.tC&&(this.reset(),this.fqb());}h=a(176);c=a(175);d=a(260);m=d.assert;k=d.pta;u=a(484);r=a(259).config;y=a(108).Cx;r.declare({Saa:["ppmConfig",{Ayb:{Kza:0,Jza:2,Hza:0,Iza:5,IDa:0},GEb:{Kza:0,Jza:1,Hza:0,Iza:3,IDa:1E3},Qyb:{Kza:0,Jza:1,Hza:0,Iza:3,IDa:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.l1=!0;this.tC=r.oL;this.L.log("create model: "+r.oL,r.FCa,r.zqa);switch(r.oL){case"modelone":this.tC=new u(this.L);break;default:this.tC=new u(this.L);}};f.prototype.fqb=function(){var b,c;if(!1===this.z2){this.z2=!0;for(var a=0;a<this.EC.length;a++){this.L.log("PlayPredictionModel replay: ",JSON.stringify(this.EC[a]));b=this.Uqa(this.EC[a]);c=this.Wta(b);this.tC.update(b,c);this.l1=!1;}this.EC=[];}};f.prototype.update=function(a){var b,c,f;this.L.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.xa&&a.xa[0]){!1===this.z2&&this.EC.length<r.Yib&&this.EC.push(a);b=this.Uqa(a);c=this.Wta(b);this.L.log("actionType",c);b="mlmodel"==r.oL?this.tC.update(a,c):this.tC.update(b,c);b=this.Aab(b,r.Kgb||1);this.L.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.cn&&(this.cn=h(),this.qb&&this.qb.hM&&this.qb.hM({iS:this.cn}));if(this.qb&&this.qb.hCa){f={iS:this.cn,offset:this.tT(),YAa:[]};b.forEach(function(a){f.YAa.push({Dp:a.nb});});f.TAa=JSON.stringify(a);f.UAa=JSON.stringify(b);this.qb.hCa(f);}this.LZa.Tw(b);this.CZa.Tw(b);this.l1=!1;}};f.prototype.sqb=function(){this.cn=0;};f.prototype.tT=function(){return h()-this.cn;};f.prototype.hM=function(){this.cn=h();this.qb&&this.qb.hM&&this.qb.hM({iS:this.cn});};f.prototype.Uqa=function(a){var b,f,d,k,g;b={};k=a.xa||[];g=function(a){var k,g;k={};f=c.HG.name.indexOf(a.context);k.context=0<=f?f:c.HG.Sr;k.rowIndex=a.rowIndex;k.requestId=a.requestId;k.list=[];d=a.list||[];d.forEach(function(a){g={nb:a.nb,Td:a.Td,index:a.index,hA:a.hA,fF:a.fF,list:a.list,$a:a.$a};void 0!==a.property&&(f=c.uB.name.indexOf(a.property),g.property=0<=f?f:c.uB.Sr);k.list.push(g);}.bind(this));b.xa.push(k);}.bind(this);void 0!==a.direction&&(f=c.Pp.name.indexOf(a.direction),b.direction=0<=f?f:c.Pp.Sr);void 0!==a.SJ&&(b.sIb=a.SJ.rowIndex,b.rIb=a.SJ.j3a);b.SJ=a.SJ;b.xa=[];k.forEach(g);return b;};f.prototype.Wta=function(a){var b,f,d;b=a.direction||c.Pp.Sr;f=a.SJ;d=a.xa||[];!0===this.l1?a=c.Dr.kga:!0===d.some(this.Jeb)?(a=c.Dr.XG,this.DW(d,b,f)):a=d[0].context===c.HG.VO?c.Dr.VO:b===c.Pp.Xja||b===c.Pp.sha?c.Dr.cka:c.Dr.Sr;return a;};f.prototype.Jeb=function(a){return(a.list||[]).some(function(a){return a.property===c.uB.XG||a.property===c.uB.pfa;});};f.prototype.DW=function(a,b,f){var d,g;this.L.log("reportPlayFocusEvent: ",b,f);d={};g=k(a);this.qb&&this.qb.DW&&(d.hIb=h(),d.direction=c.Pp.name[b],f&&(d.rowIndex=f.rowIndex,d.o4=f.j3a),void 0!==g.Rh&&(d.requestId=a[g.Rh].requestId),this.qb.DW&&this.qb.DW(d));};f.prototype.Aab=function(a,b){for(var c=a.length,f=[],d,k,g,m,p=0;p<c;p++){k=a[p];d=Math.floor(p/b)+1;if(void 0!==k.list){g=k.list;m=g.length;for(var h=0;h<Math.min(r.h3a,m)&&!(g[h].Pi=k.Pi,this.Coa(g[h],d,f),f.length>=r.pya);h++);}else this.Coa(k,d,f);if(f.length>=r.pya)break;}return f;};f.prototype.Coa=function(a,c,f){var k,g;function d(a){a.De&&(a.$a||(a.$a={}),a.$a.De=a.De);return a.$a;}k=a.fF;void 0!==k&&k instanceof Array?k.forEach(function(k){void 0!==k.nb&&(g=d(k),f.push(new b(k.nb,c,k.Td,k.hA,a.Pi,g)));}):void 0!==k&&void 0!==k.nb&&(k=a.fF,g=d(k),f.push(new b(k.nb,c,k.Td,k.hA,a.Pi,g)));void 0!==a.nb&&(g=d(a),f.push(new b(a.nb,c,a.Td,a.hA,a.Pi,g)));};f.prototype.Sv=function(a){var b;b=this.tna;return a?b[a]:b;};g.T=f;},function(g,d,a){var b,f,p,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);f=a(9);g=a(2);p=a(4);d=a(22);p.V.get(d.bf).register(g.J.Tga,function(c){var d,k;if(b.config.Anb){d=p.Uf("PlayerPredictionModel");L._cad_global.videoPreparer||(d.error("videoPreparer is not defined"),c(f.Tc));k=a(485);d.log=d.trace.bind(d);h=new k({},d,{hM:function(a){L._cad_global.prefetchEvents.D7a(a.iS);},hCa:function(a){L._cad_global.prefetchEvents.Wnb(a);}},L._cad_global.videoPreparer,{Tw:function(){}});L._cad_global.playerPredictionModel=h;d.info("ppm v2 initialized");}c(f.Tc);});},function(g){g.T={Mv:{ya:12E5,QK:9E5,od:12E5},tv:{ya:10,QK:10,od:10},sv:{ya:10240,QK:10240,od:10240}};},function(g){function d(a){var b;b=[];return function p(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&p(a[c]))return!0;}return!1;}(a);}g.T=function(a,b){var g;if(b&&d(a))return-1;b=[];a=[a];for(var f=0;a.length;){g=a.pop();if("boolean"===typeof g)f+=4;else if("string"===typeof g)f+=2*g.length;else if("number"===typeof g)f+=8;else if("object"===typeof g&&-1===b.indexOf(g)){b.push(g);for(var h in g)a.push(g[h]);}}return f;};},function(g,d,a){var c,m;function b(){return Object.create(null);}function f(a){this.log=a.log;this.Ta=a.Ta;this.Tz=b();this.Promise=a.Promise;this.Ys=a.Ys;this.Pda=a.Pda;this.bh=a.bh||!1;this.Mv=b();this.tv=b();this.sv=b();this.UYa(a);a.QD&&(this.QD=a.QD,c(this.QD,f.prototype));}function p(a){return"undefined"!==typeof a;}function h(a){var f;for(var b=0,c=arguments.length;b<c;){f=arguments[b++];if(p(f))return f;}}c=a(48);a(488);m=a(487);f.prototype.UYa=function(a){this.Mv.manifest=h(a.i6,m.Mv.ya);this.Mv.ldl=h(a.h6,m.Mv.QK);this.Mv.metadata=h(a.kIb,m.Mv.od);this.tv.manifest=h(a.R3,m.tv.ya);this.tv.ldl=h(a.Q3,m.tv.QK);this.tv.metadata=h(a.LGb,m.tv.od);this.sv.manifest=h(a.JGb,m.sv.ya);this.sv.ldl=h(a.IGb,m.sv.QK);this.sv.metadata=h(a.KGb,m.sv.od);};f.prototype.QT=function(a,b,c){this.Xg("undefined"!==typeof a);this.Xg("undefined"!==typeof b);return!!this.lma(a,b,c).value;};f.prototype.lma=function(a,b,c){var f,d;f={value:null,reason:"",log:""};d=this.Tz[b];if("undefined"===typeof d)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof d[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(c=d[a][c?c:"DEFAULTCAPS"])&&c.value?this.rU(b,c.Wg)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=c.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};f.prototype.getData=function(a,b,c){this.Xg("undefined"!==typeof a);this.Xg("undefined"!==typeof b);a=this.lma(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.Pda?JSON.parse(this.Pda(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};f.prototype.setData=function(a,c,f,d,g){var k;this.Xg("undefined"!==typeof a);this.Xg("undefined"!==typeof c);k=this.Tz;g=g?g:"DEFAULTCAPS";k[c]||(k[c]=b(),Object.defineProperty(k[c],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(k[c],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));f=this.Ys?this.Ys(JSON.stringify(f),"gzip",!0):f;k=k[c];this.SWa(a,c,g,k);c={Wg:this.Ta.getTime(),value:f,size:0,type:c,v5:d};k[a]=k[a]||b();k[a][g]=k[a][g]||b();k[a][g]=c;k.size+=0;k.numEntries++;this.QD&&this.emit("addedCacheItem",c);return c;};f.prototype.SWa=function(a,b,c,f){var d,k,g,m,r,p,h,u,q;d=this;k=f.numEntries;g=this.tv[b];p=f[a]&&f[a][c];if(p&&p.value)m=a,r="promise_or_expired";else if(k>=g){u=Number.POSITIVE_INFINITY;Object.keys(f).every(function(a){var k;k=f[a]&&f[a][c];k&&k.value&&d.rU(b,k.Wg)&&(q=a);k&&k.value&&k.Wg<u&&(u=k.Wg,h=a);return!0;});m=q||h;r="cache_full";}this.bh&&this.log.debug("makespace ",{maxCount:g,currentCount:f.numEntries,field:b,movieId:a,movieToBeRemoved:m});m&&(d.clearData(m,b,c,void 0,r),this.log.debug("removed from cache: ",m,b));};f.prototype.e4=function(a,b){var c,f;c=this;c.Xg("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=c.Tz[a];b&&Object.keys(b).forEach(function(b){b!=f&&c.clearData(b,a,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(a,b,c,f,d){var k;this.Xg("undefined"!==typeof a);this.Xg("undefined"!==typeof b);k=this.Tz[b];b=k?k[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){k.size-=b[c].size;k.numEntries--;if(k=b&&b[c])b[c]=void 0,!f&&k.v5&&k.v5();this.QD&&(a={creationTime:k.Wg,destroyFn:k.v5,size:k.size,type:k.type,value:k.value,reason:d,movieId:a},this.emit("deletedCacheItem",a));}};f.prototype.flush=function(a){var c;this.Xg("undefined"!==typeof a);c=this.Tz;c[a]=b();c[a].numEntries=0;c[a].size=0;};f.prototype.rU=function(a,b){return this.Ta.getTime()-b>this.Mv[a];};f.prototype.getStats=function(a,b,c){var f,d,k,g,m;f={};d=this;k=d.Tz;g=p(a)&&p(b);m=c||"DEFAULTCAPS";Object.keys(k).forEach(function(c){var r,h;r=Object.keys(k[c]);h=k[c];r.forEach(function(k){!(k=h&&h[k]&&h[k][m])||!p(k.value)||k.value instanceof this.Promise||(f[c]=(f[c]|0)+1,d.rU(k.type,k.Wg)&&(f[c+"_expired"]=(f[c+"_expired"]|0)+1),g&&k.Wg>=a&&k.Wg<b&&(f[c+"_delta"]=(f[c+"_delta"]|0)+1));});});return f;};f.prototype.Ec=function(a){var b,c,f,d;b=[];c=this;f=c.Tz;d=a||"DEFAULTCAPS";Object.keys(f).forEach(function(a){var k,g;k=Object.keys(f[a]);g=f[a];k.forEach(function(f){var k,m;k=g&&g[f]&&g[f][d];k&&p(k.value)&&(m=c.rU(k.type,k.Wg)?"expired":k.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:m,type:a,size:k.size}));});});return b;};f.prototype.xca=function(a,b){this.Xg("undefined"!==typeof a);this.Xg("undefined"!==typeof b);this.sv[a]=b;};f.prototype.Xg=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.bh))throw Error("Debug Assert Failed ");};g.T=f;},function(g,d,a){var f,p;function b(a,b,d,k,g,r,h){this.I=a;this.ee=b;this.type=d;this.id=++p;this.Ro=k;this.status=f.Ge.Xea;this.Zmb=void 0===g?!1:g;this.yza=h;}Object.defineProperty(d,"__esModule",{value:!0});f=a(60);p=0;b.prototype.Cq=function(){var a;a={id:this.id,type:this.type,created:this.Ro,status:this.status,movieId:this.I};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.zl=function(a){this.yza&&this.yza(a);};d.bP=b;},function(g,d,a){var h,c,m;function b(){}function f(a){this.log=a.log;this.Ta=a.Ta;this.UR=this.kJ=0;this.jx=[];this.paused=!1;this.AX=[];this.Gqa=[];this.CK=a.CK||b.jea;this.Yc=a.Yc;this.oj=this.Yc.get(c.mO);this.addEventListener=this.oj.addListener.bind(this.oj);this.events={Dka:"taskstart",Bka:"taskabort",Cka:"taskfail",Eka:"tasksuccess"};}function p(a){return a.Cq();}Object.defineProperty(d,"__esModule",{value:!0});g=a(143);h=a(60);c=a(68);b.DQa="prepend";b.jea="append";b.nMa="ignore";m=g.Bu;d.wTa=f;f.prototype.Hoa=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.jx=this.DWa(a);this.kJ=0;this.UR+=1;this.Ab();};f.prototype.DWa=function(a){var c,f;c=this.jx.filter(function(a){return a.Zmb&&a.status===h.Ge.Xea;});f=this.CK;if(f===b.nMa)return[].concat(a);if(f===b.DQa)return c.concat(a);if(f===b.jea)return a.concat(c);};f.prototype.pause=function(){this.paused=!0;};f.prototype.Ab=function(){var a,b;if(this.kJ===this.jx.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.kJ,numberOfTasks:this.jx.length});else{a=this.Lcb();b=this.UR;a.startTime=this.Ta.getTime();a.status=h.Ge.ika;this.oj.Kb(this.events.Dka,{I:a.I,type:a.type});this.AX.push(a);a.zf(function(c){a.endTime=this.Ta.getTime();c?0<=[h.Ge.gB,h.Ge.WN,h.Ge.oG,h.Ge.VN].indexOf(c.status)?(a.status=c.status,this.b2(a,this.events.Bka,"cancelled task")):(a.status=h.Ge.wu,this.b2(a,this.events.Cka,"task failed",c)):(a.status=h.Ge.oka,this.b2(a,this.events.Eka,"task succeeded"));this.Gqa.push(a);this.AX.splice(this.AX.indexOf(a),1);this.UR===b&&(this.kJ++,this.Ab());}.bind(this));}};f.prototype.Lcb=function(){return this.jx[this.kJ];};f.prototype.b2=function(a,b,c,f){var d;d=a.Cq();f?this.log.warn(c,d,f):this.log.trace(c,d);this.oj.Kb(b,{I:a.I,type:a.type,reason:a.status});a.zl(d);};f.prototype.getStats=function(a,b,c){var f,d,k,g;f=this.Gqa.map(p);d=this.AX.map(p);k=m.Nd(a)&&m.Nd(b);g={};if(m.Nd(c))return g.u3a=f.filter(function(a){return a.movieId===c;}),g;f.concat(d).forEach(function(c){var f;g[c.type+"_"+c.status]=(g[c.type+"_"+c.status]|0)+1;f=c.status==h.Ge.ika?c.startTime:c.endTime;k&&f>=a&&f<b&&(g[c.type+"_"+c.status+"_delta"]=(g[c.type+"_"+c.status+"_delta"]|0)+1);});return g;};},function(g,d,a){var f,p,h,c,m,k,u,r,y,A;function b(a){this.log=a.log;this.Ta=a.Ta;this.cE=a.cE;this.yT=a.yT;this.xT=a.xT;this.eE=a.eE;this.Ft=a.Ft;this.b4=a.b4;this.qJ=a.qJ;this.Yc=a.Yc;this.config=this.Yc.get(k.pd)();this.sJ=a.sJ;this.rJ=a.rJ;this.gea=a.gea;this.kaa=a.kaa;this.laa=a.laa;this.zL=a.zL;this.g7=a.g7;this.bh=a.bh||!1;this.B2={};this.gQ={};this.CQ={num_of_calls:0,num_of_movies:0};this.a4=a.a4;this.L$=a.L$;this.Jab=a.Jab;this.U6=a.U6;this.Vg=new u({log:this.log,Ta:this.Ta,Promise:Promise,bh:this.bh,R3:a.R3,Q3:a.Q3,i6:a.i6,h6:a.h6,QD:r});this.jo=new f.wTa({log:this.log,Ta:this.Ta,CK:a.CK,Yc:this.Yc});this.Yo=this.Vg.getData.bind(this.Vg);this.$w=this.Vg.setData.bind(this.Vg);this.OT=this.Vg.QT.bind(this.Vg);}Object.defineProperty(d,"__esModule",{value:!0});f=a(491);p=a(490);g=a(143);h=a(244);c=a(441);m=a(113);k=a(17);u=a(489);r=a(108).EventEmitter;y=g.Bu;A=new c.Tka(y,new h.FY());d.mUa=b;b.prototype.gua=function(a){var b;b=this.Vg.getData(a,"ldl");this.Vg.clearData(a,"ldl",void 0,!0);return b;};b.prototype.Tw=function(a,b){var c,f,d;c=this;a=a.map(function(a){a.$a=a.$a||{AI:{AAa:!1},mh:0};y.hm(a.$a.mh)||(a.$a.mh=0);y.hm(a.Td)&&(a.$a.S=a.Td);return a;});f=a.map(function(a){return c.Pla(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=f.map(function(a){return a.I+"-"+a.type;});this.log.trace("prepare tasks",d);this.jo.Hoa(f);this.CQ.num_of_calls++;this.CQ.num_of_movies+=a.length;};b.prototype.Rnb=function(a,b){var c,f,d;c=this;f=a.map(function(a){return a.I+"";});a=a.map(function(a){a.$a=a.$a||{AI:{AAa:!1},mh:0};a.$a.ve=!0;a.$a.Yya=f;return c.Pla(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=a.map(function(a){return a.I+"-"+a.type;});this.log.trace("predownload tasks",d);this.jo.Hoa(a);};b.prototype.Zvb=function(a,b){this.gQ[a]||(this.gQ[a]={});a=this.gQ[a];a.ZAa=(a.ZAa|0)+1;a.Pi=b;};b.prototype.getStats=function(a,b,c){var f;f=c&&this.gQ[c]||{};f.jx=this.jo.getStats(a,b,c);f.cache=this.Vg.getStats(a,b);f.Sta=A.yk(this.g7(),this.CQ);return f||{};};b.prototype.Pla=function(a,b){var c,f,d,k,g;a.De&&(a.$a.De=a.De);c=[];f=a.I;d=!!a.$a.ve;this.Zvb(f,a.Pi);k=null;if(this.Vg.QT(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{g=new p.bP(f,a.ee,"manifest",this.Ta.getTime(),d,void 0,b);k=g.id;g.zf=this.cE.bind(this,f,a);c.push(g);}this.yT&&this.b4()&&(this.Vg.QT(f,"ldl")?this.bh&&this.log.trace("ldl exists in cache for "+f):(g=new p.bP(f,a.ee,"ldl",this.Ta.getTime(),d,k,b),g.zf=this.yT.bind(this,f,a),c.push(g)));this.xT&&this.eE&&this.a4()&&(this.L$(f)?this.bh&&this.log.trace("headers/media exists in cache for "+f):(f=new p.bP(a.I,a.ee,"getHeaders",this.Ta.getTime(),d,k,b),f.zf=this.xT.bind(this,a.I,a),c.push(f),b=new p.bP(a.I,a.ee,"getMedia",this.Ta.getTime(),d,k,b),b.zf=this.eE.bind(this,a.I,a),c.push(b)));return c;};b.prototype.web=function(a){this.laa(a);};b.prototype.veb=function(a){this.log.trace("task scheduler paused on playback created");this.jo.pause();this.sJ&&this.Vg.e4(a,["manifest"]);this.rJ&&this.Vg.e4(a,["ldl"]);this.kaa(a);};b.prototype.Eva=function(){this.log.info("track changed, clearing all manifests from cache");this.Vg.e4("none",["manifest"]);};b.prototype.ueb=function(a){var b;b=this;this.qJ?this.Vg.clearData(a,"manifest"):this.Vg.QT(a,"manifest")&&this.Vg.getData(a,"manifest").then(function(c){c.isSupplemental||b.Vg.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.j4(a);this.zL();};b.prototype.j4=function(a){this.B2[a]=void 0;};b.prototype.Y7=function(a){return this.B2[a];};b.prototype.ira=function(a){return this.B2[a]=this.gea();};b.prototype.Vnb=function(){var a;a=[];a=this.Vg.Ec().map(function(a){return{Dp:parseInt(a.movieId,10),state:a.state,Ks:a.type,size:a.size||void 0};});this.U6().map(function(b){2===b.bp?a.push({Dp:b.I,state:"cached",Ks:m.He.fj.zG,size:void 0}):b.W$a&&!b.bhb&&a.push({Dp:b.I,state:"loading",Ks:m.He.fj.zG,size:void 0});b.WFa&&0<b.WFa&&b.ppa&&0<b.ppa?a.push({Dp:b.I,state:"cached",Ks:m.He.fj.MEDIA,size:void 0}):b.Mnb&&!b.Lnb&&a.push({Dp:b.I,state:"loading",Ks:m.He.fj.MEDIA,size:void 0});});return a;};b.prototype.ywa=function(a){return a&&0<=a.indexOf("billboard");};},function(g,d,a){var b,f,p,h,c,m,k,u,r,y,A,I,F,D,l,n,N,ba,Q,t,z,X,T,Y,V,M;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(123);p=a(13);h=a(9);c=a(28);m=a(26);g=a(2);k=a(4);u=a(21);r=a(231);y=a(3);A=a(76);I=a(120);F=a(114);D=a(60);l=a(179);n=a(19);N=a(34);ba=a(492);Q=a(165);t=a(195);z=a(150);X=a(124);T=a(38);Y=a(58);d=a(22);V=a(139);k.V.get(d.bf).register(g.J.Xga,function(a){var ja,fa,Ea,B,G,R,Sa,S,Z,da,ea,ga,ia,ha;function d(){var a,b,c;if(p.config.Xn){a={};a.trigger=D.bd.CQa.aQa;b=ja.getTime();c=M.getStats(ia,b);a.startoffset=ia;ia=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.jx);a.general=JSON.stringify(c.Sta);b=k.V.get(T.Xj);a=k.V.get(Y.vo).gm("prepare","info",a);b.yc(a);}}function g(a,b,c){var d,k;k=a.video_tracks;k&&k.length&&k[0].streams&&k[0].streams.length&&(d=k[0].streams[0].content_profile);k=p.Mqa(b.De);d=p.Lqa(!!a.choiceMap,!1,d);d=f.Dc.fm(Object.assign(Object.assign({},k),d));return{I:c,ee:0,ycb:function(){return{ya:a,Zd:!1,TC:a.defaultTrackOrderList[0].audioTrackId};},config:d,ve:!!b.ve,Yya:b.Yya};}function q(a,b,c){M.Yo(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Sa.trace("ldl not available in cache",f);M.Yo(a,"manifest").then(function(f){var g,m,r;function d(b){Sa.warn("ldl is now invalid",b);m.close();M.$w(a,"ldl",void 0);M.j4(a);}if(M.OT(a,"ldl"))c({status:D.bd.Ge.gB});else if(f.hasDrmStreams)if(p.config.gsa&&S&&S!==a&&!b.force)c({status:D.bd.Ge.WN});else if(p.config.hsa&&Z&&Z!==a&&!b.force)c({status:D.bd.Ge.oG});else{S&&S!==a&&(da[a]=(da[a]|0)+1);Z&&Z!==a&&(ea[a]=(ea[a]|0)+1);g=f.video_tracks[0].drmHeader.bytes;m=aa({Dfb:"cenc",Asa:Sa,dK:function(b){var c;c=[];b.qq.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:k.Ms(a.data)});});b={qq:c,qS:[f.drmContextId],Kh:D.bd.Tqa(b.Kh),Xf:f.playbackContextId,ia:M.ira(a),If:f.If};Sa.trace("xid created ",{MovieId:a,xid:b.ia});return B.wy(b);},Ctb:void 0,S9a:d,Qc:void 0,caa:n.Qe,Ta:G});M.$w(a,"ldl",m,function(){m.close();});r=R.shift();k.log.trace("cached mediakeys count "+R.length);return m.create(p.config.ce,r).then(function(){return m.Vf(A.ij.Du,[k.$k(g)],!0);}).then(function(){c(null,m);})["catch"](function(a){d(a);c(a);});}else c({status:D.bd.Ge.VN});})["catch"](function(a){Sa.warn("Manifest not available for ldl request",a);c({status:D.bd.Ge.gB});});});}function O(a,b,c){M.Yo(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Sa.trace("ldl not available in cache",f);M.Yo(a,"manifest").then(function(f){var g,m;function d(b,c){Sa.warn(b+" LDL is now invalid.",c);M.$w(a,"ldl",void 0);M.j4(a);}if(M.OT(a,"ldl"))c({status:D.bd.Ge.gB});else if(f.hasDrmStreams)if(p.config.gsa&&S&&S!==a&&!b.force)c({status:D.bd.Ge.WN});else if(p.config.hsa&&Z&&Z!==a&&!b.force)c({status:D.bd.Ge.oG});else{S&&S!==a&&(da[a]=(da[a]|0)+1);Z&&Z!==a&&(ea[a]=(ea[a]|0)+1);g=f.video_tracks[0].drmHeader.bytes;m=k.V.get(I.jO)().then(function(b){var c;c={type:A.ij.Du,eU:k.$k(g),context:{ce:p.config.ce},eh:{I:a,ia:M.ira(a),Xf:f.playbackContextId,nk:f.drmContextId,If:f.If}};return b.Tw(c,k.V.get(V.PG)());}).then(function(a){c(null,a);return a;})["catch"](function(a){d("Unable to prepare an EME session.",a);});M.$w(a,"ldl",m,function(){try{m.then(function(a){a.close().subscribe(void 0,function(a){d("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){d("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(qc){d("Unable to cleanup LDL session, unexpected exception.",qc);}});}else c({status:D.bd.Ge.VN});})["catch"](function(a){Sa.warn("Manifest not available for ldl request",a);c({status:D.bd.Ge.gB});});});}function aa(a){var b,c;b=new N.Sg.ru(a.Asa,a.dK,a.Ctb,{bh:!1,GK:!1});c=k.V.get(F.MB);return N.Sg.uu(a.Asa,a.Dfb,a.Qc,{bh:!1,GK:!1,Rwa:p.config.xi,ZCa:{Jya:p.config.YCa,iqa:p.config.$ba},iM:b,nBa:p.config.dba,Ja:void 0,aG:p.config.aG,$A:p.config.S5,onerror:a.S9a,caa:a.caa,Ta:a.Ta,rnb:!1,bU:p.config.bU,qpa:c.eJ([]),XFa:c.jJ([]),qE:p.config.qE});}ja={getTime:m.Cg,BIb:m.GR};fa=k.V.get(u.Fe);Ea=k.V.get(t.r_);B=k.V.get(z.JG);G=ja;R=[];Sa=k.Uf("VideoPreparer");da={};ea={};if(!N.Sg.uu||!N.Sg.ru){ga={};N.Sg.uu=ga.Ob;N.Sg.ru=ga.request;}Sa.info("instance created");M=new ba.mUa({log:Sa,Ta:ja,gea:m.c3a,cE:function(a,b,c){var d;function f(){var b,c;fa.Ay(d)||(d={trackingId:d});b={Wa:d,nb:a,UD:D.bd.Wm.Yia};Sa.trace("manifest request for:"+a);c=k.V.get(X.$G)();return Ea.cE(b,c);}d=b.$a;Sa.trace("getManifest: "+a);p.config.ZZa&&d&&d.ya&&!M.OT(a,"manifest")&&(!d.ya.clientGenesis||Date.now()-d.ya.clientGenesis<p.config.$Aa)?(d.ya.yA=ja.getTime(),d.ya.mF=ja.getTime(),b=d.ya.runtime?k.V.get(Q.s_).decode(d.ya):d.ya,M.$w(a,"manifest",b),c(null,b)):M.Yo(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var d;Sa.trace("manifest not available in cache",b);if(M.OT(a,"manifest"))c({status:D.bd.Ge.gB});else{d=ja.getTime();b=f();M.$w(a,"manifest",b);b.then(function(b){b.yA=d;b.mF=ja.getTime();M.$w(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);M.$w(a,"manifest",void 0);});}});},yT:p.config.Kp?O:q,b4:function(){return p.config.V5&&c.a9(p.config);},xT:function(a,b,c){var d;d=b.$a;M.Yo(a,"manifest").then(function(b){b=g(b,d,a);f.Zk.uR(b,function(){c(null,{});});})["catch"](function(a){Sa.error("Exception in getHeaders",a);c(a);});},eE:function(a,b,c){var d;d=b.$a;M.Yo(a,"manifest").then(function(m){var p,h,q;p=g(m,d,a);h=m.duration;m=k.V.get(r.IY).Moa({XA:y.Bb(m.bookmark),I:a,IL:y.Bb(h),Wa:d}).ba(y.ha);k.V.get(u.Fe).jq(d.S)&&(m=d.S);p.Td=m;if(S!=a||d.ve||b.force){q=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(f.Zk.removeEventListener("prebuffstats",q),c(null,{}));};f.Zk.addEventListener("prebuffstats",q);f.Zk.uR(p);}else c({status:D.bd.Ge.oG});})["catch"](function(a){Sa.error("Exception in getMedia",a);c(a);});},Ft:function(){return f.Zk.Ft();},a4:function(){return p.config.zS;},L$:function(a){var b;b=!1;f.Zk.SI().forEach(function(c){c.I==a&&(b=!0);});return b;},U6:function(){return f.Zk.SI().map(function(a){var c,d;c=f.Zk.P9(a.I);d=c[b.wc.$h.AUDIO]&&c[b.wc.$h.AUDIO].data;c=c[b.wc.$h.VIDEO]&&c[b.wc.$h.VIDEO].data;return{I:a.I,bp:a.bp,ppa:d&&d.length,WFa:c&&c.length,W$a:fa.jq(a.Pb.WS),bhb:fa.jq(a.Pb.JU),Mnb:fa.jq(a.Pb.dF),Lnb:fa.jq(a.Pb.dW)};});},kaa:function(a){S=a;},laa:function(a){ha&&(ha.i4(),d());Z=a;},zL:function(){ha&&ha.Eca();Z=S=void 0;},g7:function(){return{ldls_after_create:da,ldls_after_start:ea};},qJ:p.config.qJ,sJ:p.config.sJ,rJ:p.config.rJ,CK:p.config.Xnb,R3:p.config.$nb,Q3:p.config.Ynb,i6:p.config.$Aa,h6:p.config.Znb,bh:!1,Yc:k.V});L._cad_global.videoPreparer=M;ga=p.config.Ymb;ia=ja.getTime();ga&&(ha=new l.$ja(ga,d),ha.Eca());a(h.Tc);});},function(g,d,a){var b,f,p,h,c,m,k,u,r,y,A,I;Object.defineProperty(d,"__esModule",{value:!0});b=a(121);f=a(103);p=a(177);h=a(9);c=a(28);g=a(2);m=a(4);k=a(134);u=a(15);r=a(19);y=a(8);d=a(22);A=a(26);I=a(80);m.V.get(d.bf).register(g.J.Zga,function(a){function d(a,b){function f(a){a=new k.jB(m.$k(a));a.ue();return{lw:a.yBa(),J9a:a.yBa()};}return{encrypt:function(b,f){var d;b=r.ae(b)?m.vN(b):b;d=y.Hu.getRandomValues(new Uint8Array(16));c.TE(y.An.encrypt({name:"AES-CBC",iv:d},a,b)).then(function(a){var b,c;a=new Uint8Array(a);b=[];c=new k.jB(b);c.IN(2);c.iGa(d);c.iGa(a);a=m.Ms(b);f({success:!0,encryptedDataAsn1Base64:a});},function(a){u.Ea(!1,"Encrypt error: "+a);f({success:!1});});},decrypt:function(b,d){b=f(b);c.TE(y.An.decrypt({name:"AES-CBC",iv:b.lw},a,b.J9a)).then(function(a){a=new Uint8Array(a);d({success:!0,text:m.gY(a)});},function(a){u.Ea(!1,"Decrypt error: "+a);d({success:!1});});},hmac:function(a,f){a=r.ae(a)?m.vN(a):a;c.TE(y.An.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);f({success:!0,hmacBase64:m.Ms(a)});},function(a){u.Ea(!1,"Hmac error: "+a);f({success:!1});});}};}b.hP.wI.mdx={getEsn:function(){return f.Fh.Zg;},createCryptoContext:function(a){var b,c,f;b=m.V.get(I.Ju);c=p.Rn.Nh.getStateForMdx(b);f=c.cryptoContext;b=c.masterToken;c=c.userIdToken;b&&c?(u.Ea(f),b=["1",m.Ms(JSON.stringify(b.toJSON())),m.Ms(JSON.stringify(c.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:b,encrypt:function(a,b){a=r.ae(a)?m.vN(a):a;f.encrypt(a,{result:function(a){a=m.Ms(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){u.Ea(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=m.$k(a);f.decrypt(a,{result:function(a){b({success:!0,text:m.gY(a)});},timeout:function(){b({success:!1});},error:function(a){u.Ea(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=r.ae(a)?m.vN(a):a;f.sign(a,{result:function(a){b({success:!0,hmacBase64:m.Ms(a)});},timeout:function(){b({success:!1});},error:function(a){u.Ea(!1,"Hmac error: "+a);b({success:!1});}});}}})):(u.Ea(!1,"Must login first"),a({success:!1}));},createCryptoContextFromSharedSecret:function(a,b){var f;f=m.$k(a);a=f.subarray(32,48);f=f.subarray(0,32);if(16!=a.length||32!=f.length)throw Error("Bad shared secret");Promise.all([c.TE(y.An.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),c.TE(y.An.importKey("raw",f,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){b({success:!0,cryptoContext:d(a[0],a[1])});},function(){b({success:!1});});},getServerEpoch:function(){return A.k4();}};a(h.Tc);});},function(g,d,a){var b,f,h,q,c,m,k,u,r;Object.defineProperty(d,"__esModule",{value:!0});g=a(121);b=a(9);f=a(13);h=a(57);d=a(7);q=a(4);c=a(38);m=a(95);k=a(15);u=a(19);r=a(8);L.netflix=L.netflix||{};k.Ea(!L.netflix.player);L.netflix.player={VideoSession:g.hP,diag:{togglePanel:function(a,b){var c;if(!f.config||f.config.fM){switch(a){case"info":c=h.Tp.map(function(a){return a.$V;});break;case"streams":c=h.Tp.map(function(a){return a.wnb;});break;case"log":c=[];}c&&c.forEach(function(a){u.Ub(b)?b?a.show():a.mE():a.toggle();});}},addLogMessageSink:function(a){q.V.get(c.Xj).addListener({jDa:function(){},Hya:function(b){a({data:b.data});}});}},log:q.Uf("Ext"),LogLevel:d.Zh,addLogSink:function(a,b){q.V.get(m.wB).zW(a,b);},getVersion:function(){return"6.0020.273.011";},isWidevineSupported:function(a){var f;function c(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.Ol,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.Ix,robustness:"SW_SECURE_CRYPTO"}]}];try{r.Kk.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var d;d=f.getConfiguration();f=d.videoCapabilities||[];d=(d.audioCapabilities||[]).reduce(c(b.Ix),!1);f=f.reduce(c(b.Ol),!1);a(d&&f);})["catch"](function(){a(!1);});}catch(F){a(!1);}}};},function(g,d,a){var b,f,h,q,c,m,k,u,r,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(22);d=a(2);b=a(7);f=a(71);h=a(146);q=a(9);c=a(13);m=a(4);k=a(123);u=a(57);r=a(121);y=a(184);m.V.get(g.bf).register(d.J.$ga,function(a){var g,p,A;function d(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):m.V.get(y.R_).lf(this.log,{},{wS:a,password:b}).then(function(){});}if(c.config.f$a){g=m.V.get(h.SO);p=m.V.get(f.Rp);A=m.V.get(b.ob).kb("Test");r.hP.wI.test={pboRequests:g.iM.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:u.Tp,getPlayback:function(a){return u.Tp.find(function(b){return b.ia===a;});},aseManager:{cacheDestroy:function(){return k.Zk.tR();}},device:{esn:L._cad_global.device.Zg,esnPrefix:p.vq,errorPrefix:p.OD},log:{info:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return A.info(a,c);},error:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return A.error(a,c);},warn:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return A.warn(a,c);},trace:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return A.trace(a,c);},log:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return A.log(a,c);},debug:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return A.debug(a,c);}},login:d};}a(q.Tc);});},function(g,d,a){var b,f,h,q,c,m,k,u,r,y,A,I,F,D,l,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);f=a(121);h=a(185);q=a(177);c=a(67);m=a(9);k=a(13);u=a(2);r=a(4);y=a(15);A=a(18);I=a(19);F=a(16);D=a(38);l=a(58);g=a(22);n=a(80);r.V.get(g.bf).register(u.J.Yga,function(a){var g,p;function d(a,b){var f;f={profile:r.V.get(n.Ju),log:g,Qd:c.Qd};a.email&&(f.wS=a.email,f.password=a.password||"");a.sendNetflixIdUserAuthData&&(f.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.nA&&(f.nA=a.nA);b({W:!0,Jt:f});}g=r.Uf("NccpApi");p=A.j0a();f.hP.wI.nccp={getEsn:function(){return b.Fh.Zg;},getPreferredLanguages:function(){return k.config.yj.gW;},setPreferredLanguages:function(a){y.Ea(F.isArray(a)&&I.Cz(a[0]));k.config.yj.gW=a;},netflixId:function(a,b){d(a,function(a){h.zn.B3(a.Jt).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:r.$_(u.J.nia,a)});});});},getDeviceTokens:function(a){y.Ea(F.Gb(a));h.zn.B3({log:g,Qd:c.Qd}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:r.$_(u.J.nia,b)});});},getRegistered:function(a,b){var c,f;try{c=r.V.get(n.Ju);f=q.Rn.Nh.hasUserIdToken(c);b({success:!0,registered:f});}catch(V){b({success:!1});}},unregister:function(a,b){var c;try{c=r.V.get(n.Ju);q.Rn.Nh.removeUserIdToken(c);b({success:!0});}catch(Y){b({success:!1});}},queueLogblob:function(a,b,c){var f;if(a&&b)if(b=b.toLowerCase(),p[b]){f=r.V.get(D.Xj);a=r.V.get(l.vo).gm(a,b,c);f.yc(a);}else g.warn("Invalid severity",{severity:b});},flushLogblobs:function(){r.V.get(D.Xj).flush(!0);}};a(m.Tc);});},function(g,d,a){var b,f,h,q,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(67);f=a(28);h=a(15);q=a(18);c=a(19);d.VIa=function(a,b){h.Ea(a);h.Ea(b);h.oJ(b.N9a,"endpointURL property is required");h.Ea(b.nq);this.log=a;this.OAa=b;};d.VIa.prototype.Sv=function(){var a,d,g;a=this;a.log.trace("Downloading config data.");d={browserInfo:JSON.stringify(a.OAa.nq)};g=a.OAa.N9a+"?"+f.yL(d);return new Promise(function(f,d){function k(b){var c;try{if(b.W){c=new Uint8Array(b.content);return{W:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{W:!1,message:"Unable to download the config. "+b.Sa,rK:b.mi};}catch(N){return b=q.ne(N),a.log.error("Unable to download the config. Received an exception parsing response",{message:N.message,exception:b,url:g}),{W:!1,Sa:b,message:"Unable to download the config. "+N.message};}}function m(b,f,d){return f>d?(a.log.error("Config download failed, retry limit exceeded, giving up",c.Za({Attempts:f-1,MaxRetries:d},b)),!1):!0;}function r(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function h(g,p,u){b.Qd.download(g,function(b){var y;b=k(b);if(b.W)f(b);else{a.log.warn("Config download failed, retrying",c.Za({Attempt:p,WaitTime:y,MaxRetries:u},b));if(m(b,p+1,u))return y=q.wBa(1E3,1E3*Math.pow(2,Math.min(p-1,u))),r(y).then(function(){return h(g,p+1,u);});d(b);}});}return b.Qd?h({url:g,responseType:3,withCredentials:!0,AD:"config-download"},1,3):Promise.reject({W:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(g,d,a){var b,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);f=a(9);g=a(2);h=a(4);q=a(172);a=a(22);h.V.get(a.bf).register(g.J.Nga,function(a){b.config.vab&&h.V.get(q.sga).start();a(f.Tc);});},function(g,d,a){var b,f,h,q,c,m,k,u,r,y,A,I,F,D;Object.defineProperty(d,"__esModule",{value:!0});b=a(151);f=a(261);g=a(57);h=a(13);q=a(54);c=a(9);m=a(28);k=a(26);u=a(18);r=a(8);y=a(4);A=a(88);I=a(14);F=a(34);D=a(22);g.Cja(g.xja,function(a){var T,Y,V,M,fa,ma;function d(b){b.newValue>=I.ib.LOADING&&(a.state.removeListener(d),t("type=openplay&sev=info&locstor="+r.D_(O())),V=k.Cg(),l());}function g(){ma("type=startplay&sev=info&outcome=success");}function p(){var c,f;c=a.ni;if(c){f="type=startplay&sev=error&outcome=error";c=b.cva(F.aLa,c);u.Xc(c,function(a,b){f+="&"+r.D_(a)+"="+r.D_(b||"");});ma(f);}else ma("type=startplay&sev=info&outcome=abort");}function l(){var a,b;a=M.shift();if(0<a){b=r.Um(a-(k.Cg()-V),0);Y=setTimeout(function(){t("type=startstall&sev=info&kt="+a);l();},b);}}function n(){ma("type=startplay&sev=info&outcome=unload");}function O(){var a,b,c;try{b=""+k.GR();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(ka){a="ex: "+ka;}return a;}function t(b){b=fa+"&soffms="+a.I7()+"&"+b;a.Fc&&Object.keys(a.Fc).length&&(b+="&"+m.yL(u.Za({},a.Fc,{prefix:"sm_"})));f.$ub("playback",b,T);}T=y.V.get(A.lu).host+h.config.Hda;if(h.config.cFa&&T&&h.config.dFa.playback){M=h.config.avb.slice();fa="xid="+a.ia+"&pbi="+a.index+"&uiLabel="+(a.De||"");a.state.addListener(d);a.addEventListener(I.R.Lj,g);a.addEventListener(I.R.gf,p);q.Le.addListener(q.pl,n,c.FB);ma=function(b){var f;ma=c.Qe;f=y.V.get(D.bf);b+="&initstart="+f.startTime+"&initend="+f.endTime;t(b);clearTimeout(Y);a.removeEventListener(I.R.Lj,g);a.removeEventListener(I.R.gf,p);q.Le.removeListener(q.pl,n);};}});},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(92);b=a(13);f=a(4);g.QG(function(a,d){var c,g,k,h;c={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480};Object.assign(c,b.config.wvb);g=c[d.De];if(b.config.xvb&&g){k={};h=f.mg(a,"MediaStreamFilter");return{PJ:"uiLabel",bu:function(a){if(a.lower&&a.height>g)return k[a.height]||(k[a.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:a.height}),d.wn.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(g,d,a){var f,h,q,c;function b(a){var d,g;function b(f){f=f.pq;a.removeEventListener(c.R.N$,b);try{h.tgb(f.data)&&(g=!0,a.ysb());d.trace("RA check",{HasRA:g});}catch(A){d.error("RA check exception",A);}}d=f.mg(a,"RAF");a.addEventListener(c.R.N$,b);return{PJ:"ra",bu:function(a){if(!g&&a.hp)return a=a.uf,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(92);f=a(4);h=a(262);q=a(34);c=a(14);q.Vja&&g.QG(b);d.SBb=b;},function(g,d,a){var f,h;function b(a,b){var c,d;c=h.mg(a,"MSS");if(f.config.Ijb)return{PJ:"mss",bu:function(a){var f,k;if(a.lower&&2160<=a.height)a:{for(f=a;f.lower;){if(2160>f.height&&1080<f.height){f=!0;break a;}if(1080>=f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0===d){try{k=L.MSMediaKeys;d=k&&k.isTypeSupportedWithFeatures?"probably"===k.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(A){c.error("hasUltraHdDisplay exception");d=!0;}d||(c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.wn.set({reason:"microsoftScreenSize",height:a.height}));}return!d;}}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(92);f=a(13);h=a(4);g.QG(b);d.RBb=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(92).QG(function(){return{PJ:"op",bu:function(){}};});},function(g,d,a){var f,h,q,c,m,k,u,r,y;function b(a,b){var p,A,I,l,n,t,z,X,T,Y,V;function d(){var c;c=a.Mb.value===r.fb.dd&&a.state.value===r.ib.cd&&a.I===b.I;V?c||(clearInterval(V),t=V=void 0):c&&(V=L.setInterval(g,1E3));}function g(){var b,f,d,k,g,m;b=a.Ze.value;b=(b=b&&b.stream)&&b.height;if(null!==b&&0<b){f=c.Cg();d=a.Ig.hz();if(d){if(t&&2E3>f-t.time&&b===t.height){k=d-t.t8a;g=A[b];g||(A[b]=g=[],b>X&&(n.push(b),q.wY(n)));0<k&&!(Y&&Y<b)&&(Y=b);g.push(k);g.length>z&&g.shift();(g=l[b])||(l[b]=g={});m=g[k];g[k]=m?m+1:1;}t={time:f,t8a:d,height:b};a.$V&&a.$V.bsb(A);}}}p=m.mg(a,"DFF");A={};I=f.config.x8a;l={};n=[];z=f.config.v8a;X=f.config.w8a;T=h.ZNa;if(f.config.u8a)return b.L5={Sab:function(){var a;a={};l&&n.forEach(function(b){var c,f,d;c=l[b];if(c){f=0;d=0;y.Xc(c,function(a,b){d+=k.de(a);f+=b;});a[b]=d/f;}});return a;},hK:function(a){var b;b={};a.forEach(function(a){b[a]={};});l&&(q.wY(a),n.forEach(function(c){var f,d,k,g;f=l[c];if(f){d=0;k=0;y.Xc(f,function(a,b){d+=b;});g=Object.keys(f).map(Number);q.wY(g);for(var m=g.length-1,h=g[m],r=a.length-1;0<=r;r--){for(var p=a[r];h>=p&&0<=m;)(h=f[h])&&(k+=h),h=g[--m];b[p][c]=u.ai(k/d*100);}}}));return b;}},a.state.addListener(d),a.Mb.addListener(d),a.addEventListener(r.R.wl,d),{PJ:"df",bu:function(a){var c,d,k,g;if(a.lower&&a.height>X){a=a.height;a:{if(Y){c=n.length;for(var f=0;f<c;f++){d=n[f];if(d>=Y&&d<T){k=A[d];if(g=k)b:{g=I.length;for(var m=k.length,h=0;h<g;h++)for(var r=I[h],u=r[0],r=r[1],q=0;q<m;q++)if(k[q]>=r&&0>=--u){g=!0;break b;}g=!1;}if(g&&T!=d){p.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:d});b.wn.set({reason:"droppedFrames",height:d});c=T=d;break a;}}}Y=void 0;}c=T;}a=a>=c;}else a=!1;return a;}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(92);f=a(13);h=a(9);q=a(28);c=a(26);m=a(4);k=a(19);u=a(8);r=a(14);y=a(18);g.QG(b);d.QBb=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);a=a(335);a=g.V.get(a.wea);a;},function(g,d,a){var b,f,h,q,c,m,k,u,r,y,A,I,F,l,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(151);f=a(9);h=a(13);q=a(57);c=a(26);g=a(2);m=a(4);k=a(115);u=a(8);r=a(44);y=a(16);A=a(38);I=a(58);a=a(22);n=m.V.get(a.bf);n.register(g.J.Pga,function(a){var g;function d(){var a,f,d,k;a=n.startTime;f={browserua:u.$j,browserhref:u.E_.href,initstart:a,initdelay:n.endTime-a};(a=u.Wd.documentMode)&&(f.browserdm=""+a);"undefined"!==typeof L.nrdp&&L.nrdp.device&&(f.firmware_version=L.nrdp.device.firmwareVersion);y.Cz(h.config.fta)&&(f.fesn=h.config.fta);Object.assign(f,b.iva());d=u.Pr&&u.Pr.timing;d&&h.config.cib.map(function(a){var b;b=d[a];b&&(f["pt_"+a]=b-c.d3a());});k=g.Nua();Object.keys(k).forEach(function(a){return f["m_"+a]=k[a];});a=l.gm("startup","info",f,q.cH.A6);F.yc(a);}l=m.V.get(I.vo);F=m.V.get(A.Xj);g=m.V.get(k.Wx);n.WK(function(){F.xc();r.Ab(d);});a(f.Tc);});},function(g,d,a){var q,c,m,k;function b(a,b,d,g){var r,p,u;q.Ea(k.Xe(a)&&!k.isArray(a));g=g||"";r="";p=a.hasOwnProperty(m.ej)&&a[m.ej];p&&c.Xc(p,function(a,b){r&&(r+=" ");r+=a+'="'+h(b)+'"';});d=(b?b+":":"")+d;p=g+"<"+d+(r?" "+r:"");u=a.hasOwnProperty(m.Cr)&&a[m.Cr].trim&&""!==a[m.Cr].trim()&&a[m.Cr];if(u)return p+">"+h(u)+"</"+d+">";a=f(a,b,g+"  ");return p+(a?">\n"+a+"\n"+g+"</"+d+">":"/>");}function f(a,f,d){var g;q.Ea(k.Xe(a)&&!k.isArray(a));d=d||"";g="";c.Xc(a,function(a,m){var u;if("$"!=a[0])for(var r=c.b$(m),p=0;p<r.length;p++)if(m=r[p],g&&(g+="\n"),k.Xe(m))g+=b(m,f,a,d);else{u=(f?f+":":"")+a;g+=d+"<"+u+">"+h(m)+"</"+u+">";}});return g;}function h(a){if(k.ae(a))return c.x8(a);if(k.na(a))return q.XR(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";q.Ea(!1,"Invalid xml value.");return"";}Object.defineProperty(d,"__esModule",{value:!0});q=a(15);c=a(18);m=a(125);k=a(16);d.IJb=b;d.JJb=f;d.vMb=h;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(2);b=a(4);f=a(314);a=a(22);b.V.get(a.bf).register(g.J.Oga,function(a){b.V.get(f.Rfa)().then(function(){a({W:!0});})["catch"](function(f){b.log.error("error in initializing indexedDb debug tool",f);a({W:!0});});});},function(g,d,a){var b,f,h,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(28);f=a(9);h=a(13);q=a(2);c=a(474);m=a(34);k=a(8);g=a(4);a=a(22);u=g.V.get(a.bf);m.Oha&&u.register(q.J.aha,function(a){k.An&&k.An.generateKey&&k.An.importKey&&k.An.unwrapKey?!m.Sg.qfa&&h.config.BI!=c.QN.HQa&&h.config.BI!=c.QN.fOa||k.C_?(u.Qc("wcs"),b.TE(k.An.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){u.Qc("wcdone");a(f.Tc);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=q.u.z0:0<=b.indexOf("timeout waiting for iframe to load")&&(c=q.u.uUa);a({Z:c,Sa:b});})):a({Z:q.u.tUa}):a({Z:q.u.z0});});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(13);a(9);g=a(4);a(95);a(191);a(2);a(96);a(3);a=a(22);g.V.get(a.bf);},function(g,d,a){var k,u,r,y,A;function b(a){var b,f;u.oJ(a);if(r.ae(a)&&d.dNa.test(a)){b=a.split(".");if(4===b.length){for(var c=0;c<b.length;c++){f=r.de(b[c]);if(0>f||!A.iw(f,0,255)||1!==b[c].length&&0===b[c].indexOf("0"))return;}return a;}}}function f(a){var c;c=0;if(b(a)===a)return a=a.split("."),c+=r.de(a[0])<<24,c+=r.de(a[1])<<16,c+=r.de(a[2])<<8,c+r.de(a[3]);}function h(a){var b;u.oJ(a);if(r.ae(a)&&a.match(d.eNa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=q(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?c(a):b,a=b.length,8===a)){for(;a--;)if(!A.iw(parseInt(b[a],16),0,k.$Na))return;return b.join(":");}}}function q(a){var b;a=f(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function c(a){var b,c,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(f=0;f<c;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function m(a){return-1<<32-a;}Object.defineProperty(d,"__esModule",{value:!0});k=a(9);u=a(15);r=a(19);y=a(8);A=a(16);d.dNa=/^[0-9.]*$/;d.eNa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;d.tB="0000000000000000";d.iBb=b;d.eBb=f;d.jBb=h;d.gBb=q;d.hBb=c;d.kBb=function(a,c,k){var g,r,p,u;g=b(a);r=h(a);p=b(c);u=h(c);if(!g&&!r||!p&&!u||g&&!p||r&&!u)return!1;if(a===g)return k=m(k),(f(a)&k)!==(f(c)&k)?!1:!0;if(a===r){a=a.split(":");c=c.split(":");for(g=y.Kx(k/d.tB.length);g--;)if(a[g]!==c[g])return!1;k%=d.tB.length;if(0!==k)for(a=parseInt(a[g],16).toString(2),c=parseInt(c[g],16).toString(2),a=d.tB.substring(0,d.tB.length-a.length)+a,c=d.tB.substring(0,d.tB.length-c.length)+c,g=0;g<k;g++)if(a[g]!==c[g])return!1;return!0;}return!1;};d.fBb=m;},function(g,d,a){var b,f,h,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(15);a(18);h=a(19);q=a(2);c=a(34);m=a(44);k=a(8);a(16);u=a(133);d.RJb=function(a,d){var p,y,l;function g(a){var b;b=d;d=h.Qe;b(a);}function r(a){var b,c,d,k;try{b=JSON.parse(a.data);c=b.method;d=b.success;k=b.payload;f.Ea("ready"==c);"ready"==c&&(y.removeEventListener("message",r),l.jh(),m.Ab(function(){p.info("Plugin sent ready message");d?g({success:!0,pluginObject:y,pluginVersion:k&&k.version}):g({Z:q.u.Tia,Kc:b.errorCode});}));}catch(z){p.error("Exception while parsing message from plugin",z);g({Z:q.u.Uia});}}p=b.Uf("Plugin");f.Ea(a);if(a){a=a[0].type;p.info("Injecting plugin OBJECT",{Type:a});y=h.createElement("OBJECT",c.Sg.zQa,void 0,{type:a,"class":"netflix-plugin"});y.addEventListener("message",r);l=b.V.get(u.OB)(8E3,function(){p.error("Plugin load timeout");g({Z:q.u.Wia});});k.Wd.body.appendChild(y);l.jt();}else g({Z:q.u.Via});};d.TJb=function(){};d.SJb=function(a){var c,f,d;c=b.Uf("Plugin");f=1;d={};a.addEventListener("message",function(a){var b,f,k,g;try{b=JSON.parse(a.data);f=b.success;k=b.payload;g=d[b.idx];g&&(f?g({W:!0,gGb:k}):g({W:!1,Z:q.u.xQa,Sa:b.errorMessage,Kc:b.errorCode}));}catch(ba){c.error("Exception while parsing message from plugin",ba);}},!1);return function(k,g,m){var r,p,y,A;function h(a){a.W||c.info("Plugin called back with error",{Method:k},q.uo(a));y.jh();delete d[r];m(a);}try{r=f++;p={idx:r,method:k};p.argsObj=g||{};y=b.V.get(u.OB)(8E3,function(){c.error("Plugin never called back",{Method:k});delete d[r];m({Z:q.u.yQa});});y.jt();A=JSON.stringify(p);d[r]=h;a.postMessage(A);}catch(z){c.error("Exception calling plugin",z);m({Z:q.u.AQa});}};};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);d=a(95);a=a(191);g.V.get(d.wB).zW(a.Hha.rIa,function(a){var b,d;b=a.level;if(!L._cad_global.config||b<=L._cad_global.config.gib){a=a.NX();d=L.console;1>=b?d.error(a):2>=b?d.warn(a):d.log(a);}});},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);f=a(8);d.SEb=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};d.QEb=function(a,f,c){c=b.ae(c)?c:"...";return a.length<=f?a:a.substr(0,a.length-(a.length+c.length-f))+c;};d.REb=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=f.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};d.TEb=function(a){for(var b=a.length,c=new Uint16Array(b),f=0;f<b;f++)c[f]=a.charCodeAt(f);return c.buffer;};d.OMb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,f){b[f]=a.charCodeAt(0);});return b;};},function(g){function d(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}g.T={m3a:function(a,b,d){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return d.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},S4:function(a,b,d){var c;c={};c.displayTime=a.Oi;c.duration=a.duration;c.originX=a.NV;c.originY=a.OV;c.sizeX=a.rX;c.sizeY=a.sX;c.imageData=b;c.id=a.Iq;c.rootContainerExtentX=d.NW;c.rootContainerExtentY=d.OW;return c;},Ebb:function(a,b){return"o_"+a+"s_"+b;},UFa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},Ub:function(a){return"undefined"!==typeof a;},frb:function(a,b){return a.some(function(a){return a.id===b;});},A8a:function(f,g){return f.filter(d.bind(null,g)).map(a).reduce(b,0);},bK:function(a,b){var f,c;f=Object.create({});for(c in a)f[c]=a[c];a instanceof Error&&(f.message=a.message,f.stack=a.stack);f.errorString=b;return f;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Bj:function(){return this.buffer.length-this.position;},ue:function(){return this.buffer[this.position++];},Bd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},tc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},dr:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},nba:function(){for(var a="",b;b=this.ue();)a+=String.fromCharCode(b);return a;},Cb:function(){return this.tc(2);},Oa:function(){return this.tc(4);},Zf:function(){return this.tc(8);},tW:function(){return this.tc(2)/256;},$L:function(){return this.tc(4)/65536;},qf:function(a){for(var b,f="";a--;)b=this.ue(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},Ww:function(){return this.qf(4)+"-"+this.qf(2)+"-"+this.qf(2)+"-"+this.qf(2)+"-"+this.qf(6);},aM:function(a){for(var b=0,f=0;f<a;f++)b+=this.ue()<<(f<<3);return b;},rA:function(){return this.aM(4);},iG:function(a){this.Ar(a,2);},Br:function(a){this.Ar(a,4);},IN:function(a){this.buffer[this.position++]=a;},Ar:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},zr:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},aB:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},bB:function(a,b){this.aB(a.Bd(b));}};g.T=d;},function(g,d,a){var Q,t,z,X,T,Y;function b(a){Q.call(this);this.rbb=k;this.Li=a.url;this.$H=a.request;this.pQ=a.Td||0;this.WP=a.bh;this.qb=a.ja;this.qj=this.yh=null;this.zH={};this.Su=0;this.OH=a.bufferSize||4194304;this.U1={};this.loa=a.version||1;a.key&&(this.Rla=a.crypto,this.gy=this.Rla.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.np?this.yh=a.np:(this.Kd=a.offset,this.AC=a.size);}function f(){}function h(){}function q(a,b){var d,k,g,m,h,r,p,u;if(a)this.emit(T.ERROR,X.bK(a,Y.gOa));else try{if(2===this.loa){k=new f();g=z.lba(b)[0];m=g.Tv("636F6D2E-6E65-7466-6C69-782E68696E66");h=g.Tv("636F6D2E-6E65-7466-6C69-782E6D696478");k.dU=m.lpa;k.Wg=m.Wg;k.Sn=m.Sn;k.I=m.I;k.NW=m.NW;k.OW=m.OW;k.language=m.Ugb;k.wub=m.$tb;k.startOffset=h.trb;r=[];p=0;for(a=0;a<h.Rc.length;a++){u=h.Rc[a];b={};b.duration=u.duration;b.size=u.size;r.push(b);p+=b.duration;}k.entries=r;k.endTime=p;d=k;}else{r=new t(b);p=new f();p.identifier=r.dr(4);X.assert("midx"===p.identifier);p.version=r.tc(4);X.assert(0===p.version);p.dU=r.Bd(36);p.Wg=r.Zf();p.Sn=r.Zf();p.I=r.Zf();p.NW=r.Cb();p.OW=r.Cb();p.language=r.Bd(16);p.wub=r.Bd(16);p.startOffset=r.Zf();p.km=r.Cb();k=[];for(u=h=0;u<p.km;u++)a={},a.duration=r.tc(4),a.size=r.Cb(),k.push(a),h+=a.duration;p.entries=k;p.endTime=h;d=p;}this.yh=d;c.call(this);}catch(Ea){this.emit(T.ERROR,X.bK(Ea,Y.hOa));}}function c(){var a,b;a=this.yh;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Li,offset:b,size:a},this.emit(T.iOa,this.yh),this.$H(b,m.bind(this))):this.emit(T.ERROR,X.bK({},Y.mPa));}function m(a,b){var c,f,d,k;c=this;if(a)c.emit(T.ERROR,X.bK(a,Y.wSa));else{f=0;d=[];k=0;try{c.yh.entries.forEach(function(a){var g,m,r,p,u,y,A;m=f;r=c.yh.dU;p=c.qb;if(2===c.loa){g=new h();u=z.lba(b);g.entries=[];g.images=[];for(var q=0;q<u.length;q++)for(r=u[q],m=r.Tv("636F6D2E-6E65-7466-6C69-782E73696478"),r=r.Tv("636F6D2E-6E65-7466-6C69-782E73656E63"),p=0;p<m.bo.length;p++){y={};A=m.bo[p];y.Oi=A.Oi;y.duration=A.duration;y.NV=A.NV;y.OV=A.OV;y.rX=A.rX;y.sX=A.sX;y.Iq=A.Iq;y.oE=A.oE;if(A=r&&r.bo[p])y.BS={lw:A.lw.slice(0),mode:A.Ksa};g.entries.push(y);}}else{g=new t(b);u=new h();q=0;g.position=m;u.identifier=g.dr(4);X.assert("sidx"===u.identifier);u.dU=g.Bd(36);X.m3a(u.dU,r,p);u.duration=g.tc(4);u.km=g.Cb();u.entries=[];for(u.images=[];q<u.km;)m={},m.Oi=g.tc(4),m.duration=g.tc(4),m.NV=g.Cb(),m.OV=g.Cb(),m.rX=g.Cb(),m.sX=g.Cb(),m.Iq=g.Zf(),m.oE=g.tc(4),q++,u.entries.push(m);g=u;}d.push(g);a.Jca=g;g.jba=k;g.ZL=k+a.duration;k=g.ZL;u=g.entries;u.length&&(g.startTime=u[0].Oi,g.endTime=u[u.length-1].Oi+u[u.length-1].duration);f+=a.size;});}catch(ra){c.emit(T.ERROR,X.bK(ra,Y.xSa));return;}c.qj=d;c.emit(T.ySa,this.qj);a=u.call(c,c.pQ,2);a.length?I.call(c,a,c.pQ,function(a){a&&c.qb.error("initial sidx download failed");c.emit(T.Uja);}):c.emit(T.Uja);}}function k(a){var b,c,f,d,k;b=u.call(this,a,2);c=(c=this.yh)?c.endTime:void 0;if(a>c)return[];f=this.zH.kr;d=this.zH.index;c=[];d=X.Ub(d)&&this.qj[d+1];if(!(d&&d.entries.length||f&&!(a>f.endTime)))return[];b.length&&I.call(this,b,a);f&&f.images.length&&(c=y(f,a,[],this.yh));d&&d.images.length&&(b=y(d,a,c,this.yh),c.push.apply(c,b));b=A(c);if(this.qj&&0!=this.qj.length){c=this.qj[Math.floor(a/6E4)];if(!(c.jba<=a&&a<=c.ZL))a:{c=this.qj.length;if(!this.T9a){this.T9a=!0;b:{try{k=String.fromCharCode.apply(String,this.yh.language);break b;}catch(ra){}k="";}this.qb.error("bruteforce search for ",{movieId:this.yh.I,packageId:this.yh.Sn,lang:k});}for(k=0;k<c;k++)if(f=this.qj[k],f.jba<=a&&a<=f.ZL){c=f;break a;}c=void 0;}k=c;}else k=void 0;if(c=k&&0<k.entries.length&&0===k.images.length)a:{c=k.entries.length;for(d=0;d<c;d++)if(f=k.entries[d],f.Oi<=a&&f.Oi+f.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function u(a,b){var c,k;c=[];if(a=r.call(this,a))this.zH=a;else return this.zH={},c;for(var f=0,d=this.qj?this.qj.length:0;f<b&&a.index+f<d;){k=this.qj[a.index+f];k&&!k.images.length&&c.push(k);f++;}return c;}function r(a){var b,c,f,d,k,g,m;c=this.zH;f=c.kr;d=c.index;k=this.qj;this.Xg(X.Ub(a));f&&(0===d&&a<=f.startTime?(m=!0,b=c):a>=f.startTime&&a<=f.endTime?(m=!0,b=c):(g=k[d-1],k=k[d+1],g&&a>g.endTime&&a<=f.startTime?(m=!0,b=c):k&&a>=f.endTime&&a<=k.endTime&&(m=!0,b={kr:k,index:d+1})));if(!m)for(c=this.yh.entries,f=c.length,d=0;d<f;d++)if(g=c[d].Jca,a<=g.startTime||a>g.startTime&&a<=g.endTime){b={kr:c[d].Jca,index:d};break;}return b;}function y(a,b,c,f){var d,k,g,m,h,r;d=a.entries;k=d.length;g=[];h=0;if(!d.length)return g;for(;h<k;){m=d[h];if(m.Oi<=b)m.Oi+m.duration>=b&&g.push(X.S4(m,a.images[h].data,f));else{r=g.length&&g[g.length-1]||c.length&&c[c.length-1];if(r&&r.Oi>b&&r.Oi!==m.Oi)break;r.Iq!==m.Iq&&g.push(X.S4(m,a.images[h].data,f));}h++;}return g;}function A(a){return a.map(function(b,c){b.duration+=X.A8a(a.slice(c+1),b);return b;}).reduce(function(a,b){X.frb(a,b.id)||a.push(b);return a;},[]);}function I(a,b,c){var f,d,k,g,m,h;f=this;d=a[0];k=a[a.length-1];0<d.entries.length&&(g=d.entries[0].Iq,m=d.entries[d.entries.length-1]);0<k.entries.length&&(X.Ub(g)||(g=k.entries[0].Iq),m=k.entries[k.entries.length-1]);if(g){d=m.Iq+m.oE-g;h=X.Ebb(g,d);f.U1[h]||(f.U1[h]=!0,F.call(f,a,b),f.$H({url:f.Li,offset:g,size:d},function(b,d){var k,m,r,p;setTimeout(function(){delete f.U1[h];},1E3);if(b)c&&c(b);else{k=new t(d);m=0;p=[];a.forEach(function(a){a.entries.forEach(function(b,c){var d,h;k.position=b.Iq-g;d={data:k.Bd(b.oE)};h=b.BS;h&&(d.lw=h.lw,d.Ksa=h.mode,r=!0,p.push(d));a.images[c]=d;!b.BS&&X.UFa(a.images[c].data,f.Xg.bind(f));m+=a.images[c].data.length;});});f.Su+=m;r?f.gy.then(function(a){return ba.call(f,p,a);}).then(function(){c&&c(null);})["catch"](function(a){f.qb.error("decrypterror",a);c&&c({W:!1});}):c&&c(null);}}));}else c&&c(null);}function F(a,b){var k,g,m,h,p,u;function c(){return{pts:b,hasEnoughSpace:k.Su+g<=k.OH,required:g,currentSize:k.Su,max:k.OH,currentIndex:r.call(k,b).index,sidxWithImages:n.call(k),newSidxes:a.map(function(a){return k.qj.indexOf(a);})};}function f(a,b){k.WP&&!a&&k.qb.info("not done in iteration",b);}function d(a){var b,c,f;b=k.qj[a];c=b.images&&b.images.length;if(0<c){f=l([b]);b.images=[];k.Su-=f;k.WP&&k.qb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:c});if(k.Su+g<=k.OH)return!0;}}k=this;g=l(a);k.qb.info("make space start:",c());if(!(k.Su+g<=k.OH)){m=r.call(k,b).index;h=!1;p=0;u=k.qj.length-1;if(0>m){k.qb.error("inconsistent sidx index");return;}for(;!h&&p<m-2;)h=d(p),p++;for(f(h,1);!h&&u>m+2;)h=d(u),u--;for(f(h,2);!h&&p<m;)h=d(p),p++;for(f(h,3);!h&&u>m;)h=d(u),u--;f(h,4);h||k.qb.error("could not make enough space",{maxBuffer:this.OH});}k.qb.info("make space end",c());}function l(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.oE+a;},0);},0);}function n(){var a;a=[];this.yh&&this.yh.entries&&this.yh.entries.reduce(function(b,c,f){var d;c=c.Jca;d=0;c&&c.images.length&&(a.push(f),d=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+d;},0);return a.join(", ");}function aa(a,b){return a&&a.jba<=b&&a.ZL>=b;}function N(a,b){var c,f,d,k,g,m;c=this;f=c.yh;d=c.qj;k=d&&d.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&d){if(0===k)return[];f=d[0].duration;if(X.Ub(f)&&0<f)f=Math.floor(a/f),g=f<k&&aa(d[f],a)?d[f]:void 0;else for(c.WP&&c.qb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<k;f++){m=d[f];if(aa(m,a)){g=m;break;}}if(X.Ub(g)){g=[];for(var h=function(c){var f;f=c.Oi<=a&&a<=c.Oi+c.duration;return a<=c.Oi&&c.Oi<=b||f;};f<k;){m=d[f];g=g.concat(m.entries.filter(h));if(b<m.ZL)break;f++;}g=g.map(function(a){return X.S4(a,null,c.yh);});return A(g);}}}function ba(a,b){var f,d;function c(a,b){var c,f;c=this;f=new Uint8Array(16);f.set(a.lw);return c.Rla.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));X.UFa(a.data,c.Xg.bind(c));});}f=this;try{d=[];a.forEach(function(a){a.lw&&(a=c.call(f,a,b),d.push(a));});return(void 0).all(d);}catch(P){return f.qb.error("decrypterror",P),(void 0).reject(P);}}Q=a(129).EventEmitter;t=a(518);z=a(307);X=a(517);T=b.events={iOa:"midxready",ySa:"sidxready",Uja:"ready",ERROR:"error"};Y=b.fIb={gOa:"midxdownloaderror",hOa:"midxparseerror",mPa:"nosidxfoundinmidx",wSa:"sidxdownloaderror",xSa:"sidxparseerror"};b.prototype=Object.create(Q.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.yh)this.qb.warn("midx was prefectched and provided"),c.call(this);else{a={url:this.Li,offset:this.Kd,size:this.AC,responseType:"binary"};this.qb.warn("downloading midx...");this.$H(a,q.bind(this));}};b.prototype.close=function(){};b.prototype.Xg=function(a){this.WP&&X.assert(a,this.qb);};b.prototype.Yv=function(a,b){return N.call(this,a,b);};b.prototype.S7=function(a,b){return(a=this.Yv(a,b))?a.length:a;};g.T=b;},function(g,d,a){var h;function b(a,b){return b.reduce(f.bind(this,a),[]);}function f(a,b,f){var c,d;c=f.displayTime-a;a=f.displayTime+f.duration-a;d=0<b.length?b[0].timeout:Infinity;return 0<c&&c<d?[{timeout:c,type:"showsubtitle",me:f}]:c===d?b.concat([{timeout:c,type:"showsubtitle",me:f}]):0<a&&a<d?[{timeout:a,type:"removesubtitle",me:f}]:a===d?b.concat([{timeout:a,type:"removesubtitle",me:f}]):b;}h=a(129).EventEmitter;d=a(263)({});a=function c(a,b,f){if(!(this instanceof c))return new c(a,b,f);h.call(this);this.ds=a;this.jWa=b;this.xs={};this.BC={};this.qb=f||console;this.tP=!1;};a.prototype=Object.create(h.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.hk);Object.keys(a.xs).forEach(function(b){a.emit("removesubtitle",a.xs[b]);});a.xs={};};a.prototype.pause=function(){clearTimeout(this.hk);};a.prototype.Jp=function(a,f){var c,d;c=this;d=c.ds();clearTimeout(this.hk);a=c.jWa(d);null!==a&&c.tP&&(c.tP=!1,c.emit("bufferingComplete"));f="number"===typeof f?f:0;Object.keys(c.xs).forEach(function(a){a=c.xs[a];a.displayTime<=d&&d<a.displayTime+a.duration||(delete c.xs[a.id],c.emit("removesubtitle",a));});Object.keys(c.BC).forEach(function(a){a=c.BC[a];d>=a.displayTime+a.duration&&delete c.BC[a.id];});null!==a&&0<a.length?(f=a.length,c.qb.info("found "+f+" entries for pts "+d),a.forEach(function(a){a.displayTime<=d&&d<a.displayTime+a.duration&&!c.xs[a.id]&&(c.emit("showsubtitle",a),c.xs[a.id]=a,delete c.BC[a.id]);}),f=a[a.length-1],c.xs[f.id]||c.BC[f.id]||(c.emit("stagesubtitle",f),c.BC[f.id]=f),f=b(d,a),0<f.length?c.vQ(f[0].timeout):c.vQ(2E4)):null===a?(a=250*Math.pow(2,f),2E3<a&&(a=2E3),c.qb.warn("checking buffer again in "+a+"ms"),c.tP||(c.tP=!0,c.emit("underflow")),c.vQ(a,f+1)):c.vQ(2E4);};a.prototype.vQ=function(a,b){var c;c=this;c.qb.trace("Scheduling pts check.");c.hk=setTimeout(function(){c.Jp(c.ds(),b);},a);};g.T=d(["function","function","object"],a);},function(g,d,a){var c,m,k;function b(a){var b;b=1;"dfxp-ls-sdh"===this.oQ&&(b=a.wGb.length);this.qb.info("show subtitle called at "+this.ds()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.Zu[this.Zu.length-1].kX+=b;}function f(a){this.qb.info("remove subtitle called at "+this.ds()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function h(){this.qb.info("underflow fired by the subtitle timer");this.emit("underflow");}function q(){this.qb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}c=a(129).EventEmitter;m=a(520);d=a(263)();k=a(519);a=function r(a,d){var g,p;g=this;p=a.bh||!1;if(!(g instanceof r))return new r(a,d);c.call(g);g.qb=a.ja||console;g.$H=a.request;g.ds=a.fva;g.hk=null;g.rs=!0;g.Zu=[];g.oQ=d.profile;g.Li=d.url;g.pQ=d.Td;g.hYa=d.Unb;g.DVa=d.Cn;a={url:g.Li,request:g.$H,Td:g.pQ,xml:d.xml,Unb:g.hYa,Cn:g.DVa,ja:g.qb,bh:p,bufferSize:d.bufferSize,crypto:d.crypto,key:d.key,np:d.np};if("nflx-cmisc"===g.oQ)a.offset=d.lL,a.size=d.hV,g.fd=new k(a);else if("nflx-cmisc-enc"===g.oQ)a.version=2,a.offset=d.lL,a.size=d.hV,g.fd=new k(a);else throw Error("SubtitleManager: "+g.oQ+" is an unsupported profile");g.fd.on("ready",function(){var a,c;a=!!d.W0a;g.qb.info("ready event fired by subtitle stream");g.emit("ready");c=g.fd.rbb.bind(g.fd);g.hk=new m(g.ds,c,g.qb);g.hk.on("showsubtitle",b.bind(g));g.hk.on("removesubtitle",f.bind(g));g.hk.on("underflow",h.bind(g));g.hk.on("bufferingComplete",q.bind(g));a&&(g.qb.info("autostarting subtitles"),setTimeout(function(){g.Jp(g.ds());},10));});g.fd.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(c.prototype);a.prototype.start=function(){this.fd.start();};a.prototype.Jp=function(a){this.rs&&(this.rs=!1,this.qb.info("creating a new subtitle interval at "+a),this.Zu.push({S:a,kX:0}));null!==this.hk&&this.hk.Jp(a);};a.prototype.stop=function(){var a;this.ds();this.qb.info("stop called");this.rs||this.pause();this.fd.removeAllListeners(["ready"]);null!==this.hk&&this.hk.stop();a=this.Zu.reduce(function(a,b){a.NDa+=b.kX;a.Gn+=b.Xsa;a.Rfb.push(b);return a;},{NDa:0,Gn:0,Rfb:[]});"object"===typeof this.fd&&this.fd.close();this.qb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.ds();if(this.rs)this.qb.warn("pause called on subtitle manager, but it was already paused!");else{this.qb.info("pause called at "+a);this.rs=!0;this.qb.info("ending subtitle interval at "+a);b=this.Zu[this.Zu.length-1];b.ka=a;b.ka<b.S&&(this.qb.warn("correcting for interval where endPts is smaller than startPts"),b.S=0<b.ka?b.ka-1:0);b.Xsa=this.fd.S7(b.S,b.ka);this.qb.info("showed "+b.kX+" during this interval");this.qb.info("expected "+b.Xsa+" for this interval");}null!==this.hk&&this.hk.pause();};a.prototype.Yv=function(a,b){return this.fd.Yv(a,b);};a.prototype.S7=function(a,b){return this.fd.S7(a,b);};a=d([{request:"function",fva:"function",ja:"object"},"object"],a);g.T=a;},function(g,d,a){var f,h,q,c,m,k;function b(a,b,f,d){a=c.Ie.call(this,a,void 0===d?"AppInfoConfigImpl":d)||this;a.config=b;a.Kda=f;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(52);q=a(32);c=a(35);m=a(27);a=a(230);da(b,c.Ie);b.prototype.Ocb=function(a){var b,c;b=this.Kda;c=b.fY;b=b.Z2;return""+this.Nsa+((a&&b?0:c)?"/msl_v1":"");};qa.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},Nsa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.IJ){case h.vu.cTa:a="www.stage";break;case h.vu.Gka:a="www-qa.test";break;case h.vu.jha:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},Cpa:{configurable:!0,enumerable:!0,get:function(){return"pbo_events";}}});k=b;g.__decorate([q.config(q.string,"apiEndpoint")],k.prototype,"endpoint",null);g.__decorate([q.config(q.string,"nqEndpoint")],k.prototype,"Nsa",null);g.__decorate([q.config(q.string,"bindService")],k.prototype,"Cpa",null);k=g.__decorate([f.N(),g.__param(0,f.l(m.mj)),g.__param(1,f.l(h.Sm)),g.__param(2,f.l(a.dP)),g.__param(3,f.l(m.iB)),g.__param(3,f.optional())],k);d.TGa=k;},function(g,d,a){var b,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(522);f=a(88);g=a(1);h=a(80);q=a(17);d.c3=new g.ic(function(a){a(f.lu).to(b.TGa).Y();});d.profile=new g.ic(function(a){a(h.Ju).ox(function(a){return(a=a.zb.get(q.pd)())&&a.uq?"browsertest":"browser";});});},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);f=[b.J.IMa,b.J.Wga,b.J.Uga,b.J.Vga,b.J.aha,b.J.Qga,b.J.Oga,b.J.d_,b.J.bha,b.J.Rga,b.J.GMa,b.J.Mga,b.J.Pga,b.J.zu,b.J.Kga,b.J.Nga,b.J.Yga,b.J.Zga,b.J.$ga,b.J.JMa,b.J.LMa,b.J.PMa,b.J.NMa,b.J.MMa,b.J.KMa,b.J.OMa,b.J.Xga,b.J.Tga,b.J.Sga,b.J.Lga];(function(a){a.wPa=function(a){var d;for(var c={},f=0;f<a.length;f++){d=a[f];if(c[d.errorCode])return{errorCode:d.errorCode,Z:b.u.yGa};c[d.errorCode]=1;}};a.xPa=function(a){var d;for(var c=0;c<a.length;c++){d=a[c];if(-1===f.indexOf(d.errorCode))return{errorCode:d.errorCode,Z:b.u.zGa};}};}(h||(h={})));d.job=function(a){return new Promise(function(b,d){var c;c=h.xPa(a);c&&d(c);(c=h.wPa(a))&&d(c);b(a.sort(function(a,b){return f.indexOf(a.errorCode)-f.indexOf(b.errorCode);}));});};},function(g,d,a){var f,h,q,c,m,k,u,r,y,A,I,F,l;function b(a,b,c,f,d,k){var g;g=this;this.yi=a;this.config=c;this.Nj=f;this.debug=d;this.ta=k;this.VEa=[];this.Fc={};this.log=b.kb("loadAsync");this.uib=I.KLa(function(a){g.Npb=!0;g.startTime=g.ta.Tb().ba(y.ha);g.load(g.VEa).then(function(){g.endTime=g.ta.Tb().ba(y.ha);a(l.Tc);})["catch"](function(b){g.endTime=g.ta.Tb().ba(y.ha);a(b);});});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(115);h=a(2);q=a(524);c=a(60);m=a(1);k=a(7);u=a(17);r=a(61);y=a(3);A=a(89);I=a(264);F=a(24);l=a(9);b.prototype.WK=function(a){this.uib(a);};b.prototype.register=function(a,b){this.debug.assert(!this.Npb);this.VEa.push({Lhb:this.m2a(b),errorCode:a});};b.prototype.Qc=function(a){this.debug.assert(void 0===this.Fc[a]);this.Fc[a]=this.ta.Tb().ba(y.ha);};b.prototype.load=function(a){var b;b=this;return q.job(a).then(function(a){b.yi.mark(c.bd.Fi.EGa);return a.reduce(function(a,c){return a.then(function(){return b.Hhb(c);});},Promise.resolve()).then(function(){b.yi.mark(c.bd.Fi.CGa);});});};b.prototype.Hhb=function(a){var b,f;b=this;f=a.Lhb;return this.Nj.Gl(y.Bb(this.config().A0a),f())["catch"](function(f){b.log.error("Failed to load component "+a.errorCode,f);b.yi.mark(c.bd.Fi.DGa);if(f instanceof r.Zm)throw{Z:h.u.BGa,errorCode:a.errorCode};f.errorCode=f.errorCode||a.errorCode;f.Z=f.Z||h.u.AGa;throw f;});};b.prototype.m2a=function(a){return function(){return new Promise(function(b,c){a(function(a){a.W?b():c(a);});});};};a=b;a=g.__decorate([m.N(),g.__param(0,m.l(f.Wx)),g.__param(1,m.l(k.ob)),g.__param(2,m.l(u.pd)),g.__param(3,m.l(r.Px)),g.__param(4,m.l(A.pu)),g.__param(5,m.l(F.Ne))],a);d.lHa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(525);f=a(22);d.B0a=new g.ic(function(a){a(f.bf).to(b.lHa).Y();});},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Jv=function(a){return{At:a.initialSegment,Rc:this.t9a(a.segments)};};b.prototype.t9a=function(a){var b;b=this;return Object.keys(a).reduce(function(c,f){c[f]=b.q9a(a[f]);return c;},{});};b.prototype.q9a=function(a){var b;b={};b=a.next&&this.s9a(a.next)||a.defaultNext&&(b[a.defaultNext]={},b)||void 0;return{nb:a.viewableId,Gk:a.startTimeMs,ft:a.endTimeMs,Ry:a.defaultNext,next:b};};b.prototype.s9a=function(a){var b;b=this;return Object.keys(a).reduce(function(c,f){c[f]=b.r9a(a[f]);return c;},{});};b.prototype.r9a=function(a){return{weight:a.weight,C8a:a.earliestSkipRequestOffset};};f=b;f=g.__decorate([a.N()],f);d.ERa=f;},function(g,d,a){var f,h,q,c,m;function b(a){return h.Ie.call(this,a,"PlaygraphConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);q=a(27);c=a(32);m=a(3);da(b,h.Ie);qa.Object.defineProperties(b.prototype,{bBa:{configurable:!0,enumerable:!0,get:function(){return 2;}},aBa:{configurable:!0,enumerable:!0,get:function(){return m.tV(3);}},cY:{configurable:!0,enumerable:!0,get:function(){return!1;}},dY:{configurable:!0,enumerable:!0,get:function(){return!1;}}});a=b;g.__decorate([c.config(c.px,"prepareSegmentsUpfront")],a.prototype,"bBa",null);g.__decorate([c.config(c.Jg,"prepareSegmentsDuration")],a.prototype,"aBa",null);g.__decorate([c.config(c.wd,"usePlaygraphForPostPlay")],a.prototype,"cY",null);g.__decorate([c.config(c.wd,"usePlaygraphForSkipSegment")],a.prototype,"dY",null);a=g.__decorate([f.N(),g.__param(0,f.l(q.mj))],a);d.zRa=a;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(270);b.prototype.b6a=function(a){var d,g;for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];d=this;if(0===b.length)throw Error("Empty playgraph");return{At:this.iT(b[0]),Rc:b.reduce(function(a,b){var c;c=d.iT(b);a[c]={nb:b,Gk:0};g&&(a[g].Ry=c);g=c;return a;},{})};};b.prototype.iT=function(a,b){return a+":["+(void 0===b?0:b)+"..-1]";};b.prototype.a0a=function(a,b){var c,f,d;c=void 0===c?this.iT(b.I,b.S):c;f=this.tqa(a);f.Rc[c]={nb:b.I,Gk:b.S||0,Rca:b.ul,ivb:h.Jja.Gia};b=this.rcb(a);d={};f.Rc[b].next=Object.assign({},a.Rc[b].next||{},(d[c]={},d));f.Rc[b].Ry=c;return f;};b.prototype.Yvb=function(a,b,f){a=this.tqa(a);a.Rc[b].Rca=f;return a;};b.prototype.tqa=function(a){return JSON.parse(JSON.stringify(a));};b.prototype.rcb=function(a){for(var b=a.At,f=b;f=a.Rc[f].Ry;)b=f;return b;};a=b;a=g.__decorate([f.N()],a);d.ARa=a;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);b.prototype.create=function(b,c){return new(a(266)).kUa(b,c);};h=b;h=g.__decorate([f.N()],h);d.HRa=h;},function(g,d,a){var f,h;function b(a,b,f){this.Un=a;this.Kf=b;this.Pm=f;}Object.defineProperty(d,"__esModule",{value:!0});f=a(3);h=a(268);b.prototype.Rsb=function(){var a,b,d,k,g;a=this.Pm.qza;if(!a)return{result:h.yo.UG};b=this.Kf.Sd;if(b.Dg===a.Db)return{result:h.yo.B0,$Fa:a};d=this.qdb(b,b.Dg,a.Db);if(!d)return{result:h.yo.UG};k=d.duration;if(d.V7a>=this.Un.bBa)return{result:h.yo.UG};d=this.xua(b.Dg);if(!d)return{result:h.yo.UG};b=this.Kf.Hh().YJ()||0;d=Math.max(0,d-b);k=d+k;g=this.Un.aBa.ba(f.ha);if(k<=g)return{result:h.yo.B0,$Fa:a};a=k-g;return d<a?{result:h.yo.UG}:{result:h.yo.uha,wj:b+a};};b.prototype.qdb=function(a,b,f){var g,m,d;b=a.gK(b);for(var c=0,d=0;b!==f&&void 0!==b;){c++;g=a.st(b);m=this.xua(b)||Infinity;d=d+(m-g.Gk);b=a.gK(b);}return b?{V7a:c,duration:d}:void 0;};b.prototype.xua=function(a){a=this.Kf.Sd.st(a);if(a.Rca)return a.Rca;if(a.ft)return a.ft;if(a=this.Kf.Eq(a.nb))return a.rq.ba(f.ha);};d.GRa=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.evb=function(a){return{At:a.At,Rc:this.hvb(a)};};a.prototype.xgb=function(a){var b;b=Object.keys(a).map(function(b){return a[b].nb;});return 1===new Set(b).size;};a.prototype.hvb=function(a){var b;b=a.Rc;return this.xgb(b)?Object.keys(b).reduce(function(f,d){f[d]=d===a.At?Object.assign(Object.assign({},b[d]),{next:void 0,ft:void 0,Ry:void 0}):b[d];return f;},{}):b;};d.FRa=a;},function(g,d){function a(a){this.hQ={};this.sp=a;this.Dg=a.At;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.zM=function(a){var g;for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];g=this;b.filter(function(a){return g.wF(a.Db);}).filter(function(a){a=a.sL;return!a||g.wF(a);}).forEach(function(a){g.hQ[a.Db]=g.Gza(a.sL);});};a.prototype.mpa=function(a){var b;b=this;a.filter(function(a){return b.wF(a);}).forEach(function(a){b.hQ[a]=b.Gza(b.st(a).Ry);});};a.prototype.lo=function(a,f){var b,d;b=this;d=this.st(a);d&&d.next&&Object.keys(f).filter(function(a){return b.wF(a,d.next);}).forEach(function(a){return d.next[a].weight=f[a];});};a.prototype.wF=function(a,f){f=void 0===f?this.sp.Rc:f;return a in f;};a.prototype.gK=function(a){return this.hQ[a];};a.prototype.st=function(a){return this.sp.Rc[a];};a.prototype.Gza=function(a){return null===a?void 0:a;};qa.Object.defineProperties(a.prototype,{sp:{configurable:!0,enumerable:!0,get:function(){return this.gYa;},set:function(a){if(this.Dg&&!this.wF(this.Dg,a.Rc))throw Error("Provided playgraphMap does not contain the current segmentId "+this.Dg);this.gYa=a;this.hQ={};a=Object.keys(a.Rc);this.mpa(a);}},Dg:{configurable:!0,enumerable:!0,get:function(){return this.zVa;},set:function(a){if(!this.wF(a))throw Error("Provided currentSegmentId "+a+" does not exist in the current playgraph");this.zVa=a;}},da:{configurable:!0,enumerable:!0,get:function(){return this.st(this.Dg);}}});d.BRa=a;},function(g,d,a){var f;function b(a){this.Sd=a;this.xr={};this.Xza();}Object.defineProperty(d,"__esModule",{value:!0});f=a(269);b.prototype.Xza=function(){var a,b;a=this;b=this.Sd.sp.Rc;Object.keys(b).map(function(c){var d,k;c=b[c].nb;if(!a.xr[c]){d=void 0;k=new Promise(function(a){d=a;});a.xr[c]={state:f.zo.wia,fpb:k,yCa:d};}});this.VX();};b.prototype.KT=function(a){return this.xr[a];};b.prototype.gsb=function(a){this.xr[a].state=f.zo.nga;this.VX();};b.prototype.fsb=function(a,b){a=this.xr[a];a.state=f.zo.Error;a.error=b;a.yCa(!1);this.VX();};b.prototype.tDa=function(a){a=this.xr[a];a.state=f.zo.aZ;a.yCa(!0);this.VX();};b.prototype.x_a=function(a,b){this.xr[a].$a=b;};b.prototype.VX=function(){var b;this.qza=void 0;for(var a=this.Sd.Dg;a=this.Sd.gK(a);){b=this.beb(a);if(this.xr[b].state===f.zo.Error)break;if(this.xr[b].state===f.zo.nga)break;if(this.xr[b].state===f.zo.wia){this.qza={nb:b,Db:a};break;}}};b.prototype.beb=function(a){return this.Sd.sp.Rc[a].nb;};d.IRa=b;},function(g,d,a){var f,h,q,c,m,k,u,r,y,A,I;function b(a,b,f,d,g,m,h,p,q,y,A){var F;F=this;this.ta=b;this.NL=h;this.Un=p;this.Ida=q;this.re=y;this.Uq=A;this.Waa=Promise.resolve();this.uta=!1;p.dY&&(a=new r.FRa().evb(a));this.Sd=new u.BRa(a);this.Pm=new k.IRa(this.Sd);this.Pm.tDa(this.Sd.da.nb);this.log=f.kb("PlaygraphManager");this.Cnb=new I.GRa(this.Un,this,this.Pm);this.Vya=this.Uq.N4({E7:function(){return c.Bb(100);}},function(){return F.Hh().YJ()||0;});this.Jb=g.create();this.zp=d.X5a(m);this.Hsb();}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);h=a(14);q=a(270);c=a(3);m=a(269);k=a(534);u=a(533);r=a(532);y=a(2);A=a(268);I=a(531);b.prototype.d7=function(){return this.Sd.da;};b.prototype.tbb=function(){return this.Sd.Dg;};b.prototype.AT=function(){return this.Sd.sp;};b.prototype.zM=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Sd.zM.apply(this.Sd,[].concat(ea(b)));};b.prototype.Z2a=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Sd.mpa(b);};b.prototype.Uvb=function(a){this.zca(a);this.eF();};b.prototype.lo=function(a,b){this.Sd.lo(a,b);};b.prototype.zva=function(a,b){var f,d,k,g,r;if(a!==this.Sd.Dg)throw Error("Invalid currentSegmentId");if(b!==this.Sd.gK(a))throw Error("Invalid nextSegmentId");f=this.Hh().Dq();d=this.AT().Rc[b].Gk;if(this.Un.dY)return Promise.resolve(this.Hh().seek(d,h.bg.Ku,void 0));d=this.Sd.st(b);k=this.Pm.KT(d.nb);if(k.state!==m.zo.aZ){g=k.state===m.zo.Error?k.error:this.re(y.J.dQa,{Sa:b});f.feb({nb:d.nb,Db:b,Wa:k.$a||{}},g);f.Io("Transition "+a+"->"+b+" error "+g.Ty);return Promise.reject();}d=f.mb;if(!d)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");this.log.debug("going to next segment: "+a+" -> "+b);f.Io("Transition "+a+"->"+b);r=f.Xv(b);r.Nm=this.ta.Tb().ba(c.ha);return(void 0!==d.kua(b)?this.geb(b):this.YW(b,r.I)).then(function(){f.Fta(r.I);});};b.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};b.prototype.BT=function(){return this.zp.BT();};b.prototype.Zo=function(){return this.zp.Zo();};b.prototype.Hh=function(){return this.zp.Hh();};b.prototype.Q2=function(a){var b,c,f;b=this;if(this.Un.cY&&this.uta){this.log.info("Adding segment - movieId: "+a.I+", startPts: "+a.S+", logicalEnd: "+(""+a.ul));if(Object.keys(this.Sd.sp.Rc).find(function(c){return b.Sd.sp.Rc[c].nb===a.I;})){if(a.ul){c=this.NL.Yvb(this.Sd.sp,this.Sd.Dg,a.ul);this.zca(c);}return null;}this.Hh().Dq().Io("addSegment movieId: "+a.I+", startPts: "+a.S+", logicalEnd: "+a.ul);c=this.NL.a0a(this.Sd.sp,a);this.zca(c);this.Pm.x_a(a.I,a.$a);this.eF();return this.Pm.KT(a.I).fpb;}this.log.info("Adding segment to SegmentManager - movieId: "+a.I+", startPts: "+a.S+", "+("logicalEnd: "+a.ul));c=this.zp.Q2(a);this.uta=!0;f=this.Hh().Dq();f.addEventListener(h.R.ZW,function(a){return b.maa(a);});this.Waa=f.Mb.when(function(a){return a!==h.fb.cg;}).then(function(){});return c;};b.prototype.transition=function(a){if(this.Un.cY){a=this.Sd.gK(this.Sd.Dg);this.log.info("Transition initiated: "+this.Sd.Dg+" -> "+a);if(a)return this.zva(this.Sd.Dg,a);this.log.error("Next segment is not defined");return Promise.reject();}return this.zp.transition(a);};b.prototype.close=function(a){return this.zp.close(a);};b.prototype.Eq=function(a){if(this.Pm.KT(a).state==m.zo.aZ)return this.Hh().Dq().Eq(a);};b.prototype.zca=function(a){this.Sd.sp=a;this.Pm.Xza();};b.prototype.Hsb=function(){var a;a=this;this.zp.addListener(h.lb.loaded,function(){return a.eF();});this.addListener(h.JB.rM,function(){return a.Qlb();});this.zp.addListener(h.JB.rM,function(){return a.Jb.Kb(h.JB.rM);});Object.keys(h.lb).forEach(function(b){var c;c=h.lb[b];a.zp.addListener(c,function(b){return a.Jb.Kb(c,b);});});};b.prototype.YW=function(a,b){var c;c=this.AT().Rc[a].Gk;this.log.debug("Segment is not pre-buffered - performing a regular seek");this.Hh().Dq().Io("NO DATA "+a+", SEEKING "+c+", viewableId: "+b);return Promise.resolve(this.Hh().seek(c,h.bg.Ku,a,!0));};b.prototype.geb=function(a){var b,c,f,d,k;b=this;c=this.Hh().Dq();f=c.mb;if(!f)throw Error("No streaming session");d=new Promise(function(a){function c(){b.log.debug("Stopped ASE");f.removeEventListener("stop",c);a();}f.addEventListener("stop",c);});k=new Promise(function(a){function d(){b.log.debug("Repositioned");c.removeEventListener(h.R.Yn,d);a();}function k(){b.log.debug("Repositioning");c.removeEventListener(h.R.uA,k);f.stop();}c.addEventListener(h.R.uA,k);c.addEventListener(h.R.Yn,d);});d=Promise.all([d,k]).then(function(){f.Av(a,!1,!0);c.fireEvent(h.R.DV,{Dg:b.Sd.Dg,sL:a});});k=f.D4(void 0,this.AT().Rc[a].Gk,a);this.log.debug("Calling seek on internal player to "+k);this.Hh().seek(k,h.bg.LB,a,!0);return d;};b.prototype.Qlb=function(){var a;a=this.Hh().getError();a?this.Jb.Kb(h.lb.O3,a):(this.Jb.Kb(h.lb.spa),this.Jb.Kb(h.lb.zI),this.Jb.Kb(h.lb.SA),this.Jb.Kb(h.lb.UF),this.Jb.Kb(h.lb.kN),this.Jb.Kb(h.lb.O3));};b.prototype.maa=function(a){var b,c;b=this.Hh().Dq();c=b.Xv(a.segmentId);this.Ida.xob(a,c,b.da);};b.prototype.eF=function(){var a,b;a=this;if(this.BT()){this.Vya.cancel();b=this.Cnb.Rsb();b.result===A.yo.uha?this.Vya.observe(b.wj,function(){a.eF();}):b.result===A.yo.B0?this.bob(b.$Fa):this.B$a();}};b.prototype.bob=function(a){var c,d,k,g,m,r,p,u,y;function b(a){a.I===m&&(c.Sd.Dg=d,c.eF(),g.removeEventListener(h.R.wl,b),c.Jb.Kb(h.JB.rM));}c=this;d=a.Db;k=this.Sd.st(d);g=this.Hh().Dq();a=Object.assign(this.Pm.KT(a.nb).$a||{},{S:k.Gk,ka:k.ft,Ih:!1,SX:Date.now(),xU:!0});m=g.O2({nb:k.nb,Db:d,Wa:a});r=g.Eq(m);this.log.debug("Creating new playback xid: "+r.ia+", movieId: "+r.I);g.addEventListener(h.R.wl,b);p=k.ivb!==q.Jja.Gia;if(!p){u=function(){var a;a=c.Hh();2E3>=a.c7()-(a.YJ()||0)&&g.Ig&&(g.Ig.vL({mediaType:f.wc.$h.VIDEO}),g.Ig.vL({mediaType:f.wc.$h.AUDIO}),g.Mb.set(h.fb.dd));};g.addEventListener(h.R.Lo,u);y=function(a){a.I===m&&(g.removeEventListener(h.R.Lo,u),g.removeEventListener(h.R.wl,y));};g.addEventListener(h.R.wl,y);}this.Pm.gsb(k.nb);g.Io("queueManifest",r.Db);this.Waa=a=this.Waa.then(function(){return g.Rob(m,p);}).then(function(){g.Io("queueManifest done",r.Db);c.Pm.tDa(k.nb);})["catch"](function(a){g.Io("queueManifest error "+a.Ty,r.Db);c.Pm.fsb(k.nb,a);throw a;});a.then(function(){return c.eF();});};b.prototype.B$a=function(){var a;a=this.Hh().Dq();a.mb&&a.mb.rsb();};d.DRa=b;},function(g,d,a){var f,h,q,c,m,k,u,r,y,A,I,F,l,n;function b(b,c,f,d,k,g,m,h,r,p,u){this.ta=b;this.Jf=c;this.srb=d;this.f6=k;this.Un=g;this.NL=m;this.Ida=r;this.re=p;this.Uq=u;c=a(34).xo;this.qrb=f.Sv(!1,"6.0020.273.011",b.id,c,h);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(535);q=a(7);c=a(24);m=a(197);k=a(427);u=a(239);r=a(17);y=a(430);A=a(178);I=a(424);F=a(55);l=a(240);b.prototype.create=function(a){return new h.DRa(a,this.ta,this.Jf,this.srb,this.f6,this.qrb,this.NL,this.Un,this.Ida,this.re,this.Uq);};n=b;n=g.__decorate([f.N(),g.__param(0,f.l(c.Ne)),g.__param(1,f.l(q.ob)),g.__param(2,f.l(k.qka)),g.__param(3,f.l(u.l0)),g.__param(4,f.l(y.lO)),g.__param(5,f.l(m.a0)),g.__param(6,f.l(A.b0)),g.__param(7,f.l(r.pd)),g.__param(8,f.l(I.Mka)),g.__param(9,f.l(F.Mk)),g.__param(10,f.l(l.x_))],n);d.CRa=n;},function(g,d,a){var b,f,h,q,c,m,k,u,r,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(271);f=a(536);h=a(267);q=a(530);c=a(178);m=a(529);k=a(528);u=a(197);r=a(265);y=a(527);d.Kf=new g.ic(function(a){a(b.Hja).to(f.CRa).Y();a(h.Kja).to(q.HRa).Y();a(c.b0).to(m.ARa).Y();a(u.a0).to(k.zRa).Y();a(r.Ija).to(y.ERa).Y();});},function(g,d,a){var f,h,q,c,m,k,u,r,y,A;function b(a,b,f,d,k){f=r.SN.call(this,f,d,k)||this;f.config=a;f.Mc=b;f.log=h.mg(f.j,"LegacyLicenseBroker");f.ce=f.config().ce;f.config().dba?c.Owa()?f.eY=!0:f.log.error("Promise based eme requested but platform does not support it",{browserua:m.$j}):f.eY=!1;return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(4);q=a(114);c=a(28);m=a(8);k=a(1);u=a(190);r=a(272);y=a(76);da(b,r.SN);b.prototype.Yqa=function(a){var b;b=void 0===b?this.j:b;return new this.GL.ru(a,function(a){return b.zn.dK(a);},function(a){return b.zn.release(a);},{bh:!1,GK:!1});};b.prototype.gJ=function(b,c){var d,k,g,m,r,p;c=void 0===c?this.j:c;d=this;m=a(26).Cg;this.GL.ru||this.xd(f.J.Fx,f.u.TKa);g=h.mg(c,"Eme");k=this.Yqa(g);r=h.V.get(q.MB);p=r.eJ(c.Pc.value.uc);r=r.jJ(c.Of.value.uc);return this.GL.uu(g,b,function(a){return c.Qc(a);},{bh:!1,GK:!1,Rwa:this.config().xi,ZCa:{Jya:this.config().YCa,iqa:this.config().$ba},Ta:{getTime:m},iM:k,nBa:this.eY,Ja:this.wb.Ja,aG:this.config().aG,$A:this.config().S5,onerror:function(a,b,c){return d.xd(a,b,c);},caa:function(a){return d.MT(a);},rnb:!0,bU:this.config().bU,qpa:p,XFa:r,qE:this.config().qE});};b.prototype.GA=function(a){var b;b=this;return this.eY?new Promise(function(c,d){if(b.wb.Ja)b.wb.Ja.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.wva(a);d({W:!1,code:f.J.O_,Lc:c.Z,Gg:c.Kc,Sa:c.Sa,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.Tsa=function(a){return{code:a.code,subCode:a.Lc,extCode:a.Gg,edgeCode:a.Vy,message:a.message,errorDetails:a.Sa,errorData:a.kt,state:a.state};};b.prototype.wca=function(a,b,c){var d,k;function f(){k.eCa()["catch"](function(a){d.log.error("Unable to set the license",d.Tsa(a));a.cause&&a.cause.Sa&&(a.Sa=a.Sa?a.Sa+a.cause.Sa:a.cause.Sa);d.xd(a.code,a,a.Gg);});}c=void 0===c?this.j:c;d=this;k=c.wf;this.log.info("Setting the license");c=b?function(){return Promise.resolve();}:function(){return k.Vf(d.u7(),a);};return(b?function(){return k.fGb(d.wb.Ja);}:function(){return k.create(d.ce).then(function(){return Promise.resolve();});})().then(function(){return d.config().xDa?d.GA(k.xk):Promise.resolve();}).then(c).then(function(){return d.config().xDa?Promise.resolve():d.GA(k.xk);}).then(function(){d.log.info("license set");d.u6();d.wb.fGa.then(function(){d.config().qw&&(b||d.config().TJ)&&(d.fCa=L.setTimeout(f,d.config().qw));});})["catch"](function(a){d.log.error("Unable to set the license",d.Tsa(a));a.cause&&a.cause.Sa&&(a.Sa=a.Sa?a.Sa+a.cause.Sa:a.cause.Sa);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.xd(a.code,a,a.Gg);});};b.prototype.yAa=function(){return Promise.resolve();};b.prototype.jaa=function(a){var d;function b(){var b;d.j.wf=d.gJ(a.initDataType);b=[];d.j.vp.forEach(function(a){b.push(h.$k(a));});d.wca(b);}d=this;this.log.trace("Received event: "+a.type);this.SK||(this.SK=!0,this.GL.uu?this.j.vp?c.a9(this.config())&&this.config().Xn&&this.Mc()?this.Mc().gua(this.j.I).then(function(a){d.j.wf=a;return a.WMb.then(function(){var b;b=[];d.j.vp.forEach(function(a){b.push(h.$k(a));});return d.wca(b,!0).then(function(){var b;if(a.YGb)d.xd(f.J.WKa);else{b=h.mg(d.j,"Eme");a.JMb({log:b,LKb:function(a){return d.j.Qc(a);}},{iM:d.Yqa(b),onerror:function(a,b,c){return d.xd(a,b,c);}});(b=a.bLb)&&d.MT(b);d.j.ew(a.Fc||{});d.j.vv="videopreparer";}});});})["catch"](function(a){d.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.xd(f.J.mQa)):this.xd(f.J.Fx,f.u.UKa));};b.prototype.kCa=function(a){var b;a=void 0===a?this.j:a;a.wf=this.gJ("cenc");b=[];a.vp.forEach(function(a){b.push(h.$k(a));});return this.wca(b,!1,a);};b.prototype.u7=function(){return this.config().TJ?y.ij.Du:y.ij.Xm;};qa.Object.defineProperties(b.prototype,{GL:{configurable:!0,enumerable:!0,get:function(){return a(34).Sg;}},Wz:{configurable:!0,enumerable:!0,get:function(){return this.eY?"encrypted":this.wb.jZ+"needkey";}}});A=b;g.__decorate([u.KU],A.prototype,"GL",null);g.__decorate([u.KU],A.prototype,"Wz",null);A=g.__decorate([k.N()],A);d.BNa=A;},function(g,d,a){var f,h,q,c,m,k,u,r,y,A,I;function b(a,b,c,f,d,k,g,m){f=y.SN.call(this,f,d,k)||this;f.ce=a;f.config=b;f.Mc=c;f.ID=g;f.y$=m;f.log=h.mg(f.j,"LicenseBroker");f.SK=new Set();f.Fya=!1;return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(4);q=a(28);c=a(9);m=a(444);k=a(3);u=a(1);r=a(190);y=a(272);A=a(76);I=a(14);da(b,y.SN);b.prototype.jaa=function(){var a,b;a=this;b=this.j.da;this.SK.has(b.I)||(this.SK.add(b.I),(q.a9(this.config)&&this.config.Xn&&this.Mc()?this.tcb():Promise.reject())["catch"](function(){return a.lCa(b);}).then(function(){return a.cpa(b);})["catch"](function(c){return a.bpa(b,c);})["catch"](function(b){return a.xd(b.code,b,b.Gg,a.j);}));};b.prototype.tcb=function(){var a,b;a=this;b=this.j.da;return this.Mc().gua(b.I).then(function(c){a.gBa(c,b);b.vv="videopreparer";a.y$.GA(c.xk);return c.i3().hN();})["catch"](function(b){a.log.warn("eme not in cache",b);throw b;});};b.prototype.jab=function(a){var b;b={};a.forEach(function(a){b[m.o8a(a.Njb)]=a.time.ba(k.ha);});return b;};b.prototype.peb=function(a,b){this.log.trace("Key status",{viewable:a.I,keyId:h.Ms(b.nw),status:b.value});};b.prototype.gBa=function(a,b){var f,d,k;f=this;b.wf=a;d={next:function(a){f.peb(b,a);},error:c.Qe,complete:c.Qe};k={next:function(a){f.xd(a.code,a,a.Gg,f.j);},error:c.Qe,complete:c.Qe};a.Ogb().subscribe(d);(a=a.LJ())&&a.subscribe(k);};b.prototype.cpa=function(a){var b;this.log.info("Successfully applied license for xid: "+a.ia+", viewable: "+a.I+", segment: "+a.Db);b=a.wf;b&&b.B9&&this.MT(b.B9);this.ew(a);this.GA();};b.prototype.bpa=function(a,b){this.ew(a);throw b;};b.prototype.ew=function(a){a.wf&&a.ew(this.jab(a.wf.Fc));};b.prototype.lCa=function(a){var b,f;b=this;f={next:function(c){b.SK.add(a.I);b.MT(c);},error:c.Qe,complete:c.Qe};return this.ID().then(function(c){var d;d={type:b.u7(),eU:h.$k(a.vp[0]),context:{ce:b.ce,Ja:b.wb.Ja},eh:{I:a.I,ia:a.ia,Xf:a.Xf,nk:a.nk,If:a.ya.If}};c.UK().subscribe(f);return c.Vf(d,b.y$).Pv(function(c){b.gBa(c,a);b.j.fireEvent(I.R.VK,{I:a.I});return c.i3();}).hN();});};b.prototype.GA=function(){var a;a=this;if(this.Fya)this.log.trace("Media Keys already set");else{this.Fya=!0;try{this.wb.Ja?this.wb.Ja.setMediaKeys(this.j.wf.xk).then(function(){a.u6();})["catch"](function(b){b=a.wva(b);a.xd(f.J.O_,b,b.Kc,a.j);}):this.u6();}catch(D){this.xd(f.J.O_,D,void 0,this.j);}}};b.prototype.yAa=function(){var a,b;a=this;b=this.j.da.wf;return b?this.ID().then(function(c){return new Promise(function(f){c.Dtb(b,a.y$).Pv(function(a){return a.d0a();}).Pv(function(b){a.log.trace("Fulfilled the last secure stop");a.config.xi&&a.j.Et.XW({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.config.xi&&a.j.Et.XW({success:b.W,ErrorCode:b.code,ErrorSubCode:b.Lc,ErrorExternalCode:b.Gg,ErrorEdgeCode:b.Vy,ErrorDetails:b.yD});f();},complete:function(){f();}});});}):Promise.resolve();};b.prototype.kCa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.lCa(a).then(function(){return b.cpa(a);})["catch"](function(c){return b.bpa(a,c);});};b.prototype.u7=function(){return this.config.TJ?A.ij.Du:A.ij.Xm;};qa.Object.defineProperties(b.prototype,{Wz:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}}});a=b;g.__decorate([r.KU],a.prototype,"Wz",null);a=g.__decorate([u.N()],a);d.DNa=a;},function(g,d,a){var f,h,q,c,m,k,u,r,y;function b(a,b,c,f,d,k){this.ID=a;this.Yg=b;this.re=c;this.config=f;this.gV=d;this.Mc=k;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(120);q=a(539);c=a(538);m=a(62);k=a(55);u=a(17);r=a(139);a=a(106);b.prototype.create=function(a,b,f){return a?new q.DNa(this.config().ce,this.Yg,this.Mc,this.re,b,f,this.ID,this.gV()):new c.BNa(this.config,this.Mc,this.re,b,f);};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(h.jO)),g.__param(1,f.l(m.so)),g.__param(2,f.l(k.Mk)),g.__param(3,f.l(u.pd)),g.__param(4,f.l(r.PG)),g.__param(5,f.l(a.PB))],y);d.CNa=y;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(286);f=a(540);d.Dj=new g.ic(function(a){a(b.wha).to(f.CNa);});},function(g,d,a){var f,h,q,c;function b(a){return h.Ie.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);q=a(27);a=a(32);da(b,h.Ie);qa.Object.defineProperties(b.prototype,{fY:{configurable:!0,enumerable:!0,get:function(){return!0;}},Z2:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([a.config(a.wd,"usesMsl")],c.prototype,"fY",null);g.__decorate([a.config(a.wd,"allowRequestsWithoutMsl")],c.prototype,"Z2",null);c=g.__decorate([f.N(),g.__param(0,f.l(q.mj))],c);d.QTa=c;},function(g,d,a){var f,h,q,c,m;function b(a,b,c){this.receiver=b;this.Qd=c;this.log=a.kb("SslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(3);q=a(7);c=a(146);a=a(83);b.prototype.send=function(a,b){var c,f;c=this;f={url:a.url.href,AD:"nq-"+a.gl,Qaa:JSON.stringify(b),LR:a.timeout.ba(h.ha),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Qd.download(f,function(c){c.W?a(c):b(c);});}).then(function(f){f={status:"success",body:f.content};c.receiver.hF({command:a.gl,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.Lc=f.Z||f.Lc,c.receiver.hF({command:a.gl,inputs:b,outputs:f}),f;d=f.error;d.Pj=f.Pj;c.log.error("Error sending SSL request",{subCode:d.Lc,data:d.content,message:d.message});c.receiver.hF({command:a.gl,inputs:b,outputs:d});throw d;});};b.prototype.B4=function(){return{};};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(q.ob)),g.__param(1,f.l(c.SO)),g.__param(2,f.l(a.Eu))],m);d.bTa=m;},function(g,d,a){var f,h,q,c,m,k,u;function b(a,b,c,f){this.Nh=b;this.receiver=c;this.profile=f;this.log=a.kb("MslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);q=a(112);c=a(3);m=a(146);a=a(80);k={license:!0};b.prototype.send=function(a,b){var f,d;f=this;d={Jt:Object.assign({Qd:a.Qd,log:a.log,profile:this.profile},a.u1a),method:a.gl,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ba(c.ha),uN:this.profile,gqb:!k[a.gl],Y$:!!k[a.gl],li:!0,Xw:a.Mba,headers:a.headers};return this.Nh.send(d).then(function(c){f.receiver.hF({command:a.gl,inputs:b,outputs:c});return c;})["catch"](function(c){var d;if(!c.error)throw c.Lc=c.Z||c.Lc,f.receiver.hF({command:a.gl,inputs:b,outputs:c}),c;d=c.error;d.Pj=c.Pj;f.log.error("Error sending MSL request",{mslCode:d.Vq,subCode:d.Lc,data:d.data,message:d.message});f.receiver.hF({command:a.gl,inputs:b,outputs:d});throw d;});};b.prototype.B4=function(){return{userTokens:this.Nh.Nh.getUserIdTokenKeys()};};u=b;u=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(q.zB)),g.__param(2,f.l(m.SO)),g.__param(3,f.l(a.Ju))],u);d.hPa=u;},function(g,d,a){var b,f,h,q,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(230);f=a(303);h=a(544);q=a(543);c=a(542);d.kvb=new g.ic(function(a){a(b.dP).to(c.QTa).Y();a(f.mia).to(h.hPa);a(f.ska).to(q.bTa);a(f.Nka).$f(function(a){return function(c){var d;d=a.zb.get(b.dP);c=d.Z2&&c&&c.Snb;return d.fY&&!c?a.zb.get(f.mia):a.zb.get(f.ska);};});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.YQa="PboPingCommandSymbol";},function(g,d,a){var f,h,q,c,m;function b(a){return c.Wh.call(this,a,h.J.bQa,1,q.di.ping,q.xg.Mr,q.di.ping)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(37);c=a(72);a=a(42);da(b,c.Wh);b.prototype.lf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.Hn(a);});};b.prototype.Fn=function(){return Promise.reject(Error("Links are unsupported with ping"));};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.Lk))],m);d.XQa=m;},function(g,d,a){var f,h,q,c,m;function b(a){return c.Wh.call(this,a,h.J.tHa,2,q.di.bind,q.xg.Mr,q.di.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(37);c=a(72);a=a(42);da(b,c.Wh);b.prototype.lf=function(a,b,c){var f;f=this;return this.send(a,"/bindDevice",b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.Hn(a);});};b.prototype.Fn=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.Lk))],m);d.KQa=m;},function(g,d,a){var f,h,q,c,m;function b(a){return c.Wh.call(this,a,h.J.IPa,2,q.di.oAa,q.xg.Mr,q.di.oAa)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(37);c=a(72);a=a(42);da(b,c.Wh);b.prototype.lf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.Hn(a);});};b.prototype.Fn=function(){return Promise.reject(Error("Links are unsupported with pair"));};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.Lk))],m);d.WQa=m;},function(g,d,a){var f,h,q,c,m;function b(a){return c.Wh.call(this,a,h.J.sHa,2,q.di.bind,q.xg.Mr,q.di.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(37);c=a(72);a=a(42);da(b,c.Wh);b.prototype.lf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.Hn(a);});};b.prototype.Fn=function(){return Promise.reject(Error("Links are unsupported with bind"));};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.Lk))],m);d.JQa=m;},function(g,d,a){var f,h,q,c,m,k,u,r;function b(a,b,c,f,d,k,g,m){this.Tf=a;this.Qd=b;this.Jj=c;this.T7a=f;this.nE=d;this.owb=k;this.YR=g;this.mqb=m;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(88);q=a(82);c=a(301);m=a(304);k=a(117);u=a(83);r=a(434);a=a(68);b=g.__decorate([f.N(),g.__param(0,f.l(h.lu)),g.__param(1,f.l(u.Eu)),g.__param(2,f.l(q.Iu)),g.__param(3,f.l(m.cja)),g.__param(4,f.l(k.vB)),g.__param(5,f.l(r.Rka)),g.__param(6,f.l(a.sG)),g.__param(7,f.l(c.pja))],b);d.MQa=b;},function(g,d,a){var f,h,q,c,m,k;function b(a){return q.po.call(this,a,h.J.$Ka,c.Nl.HJ,3,k.xg.xB)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(122);c=a(75);m=a(42);k=a(37);da(b,q.po);b.prototype.rR=function(a){return Object.assign(Object.assign({},q.po.prototype.rR.call(this,a)),{action:a.action});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.Lk))],a);d.oLa=a;},function(g,d,a){var f,h,q,c,m,k;function b(a){return q.po.call(this,a,h.J.fka,c.Nl.splice,1,k.xg.xB)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(122);c=a(75);m=a(42);k=a(37);da(b,q.po);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.Lk))],a);d.aTa=a;},function(g,d,a){var f,h,q,c,m,k;function b(a){return q.po.call(this,a,h.J.k_,c.Nl.LK,1,k.xg.xB)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(122);c=a(75);m=a(42);k=a(37);da(b,q.po);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.Lk))],a);d.uNa=a;},function(g,d,a){var f,h,q,c,m,k;function b(a){return q.po.call(this,a,h.J.kka,c.Nl.stop,3,k.xg.v_)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(122);c=a(75);m=a(42);k=a(37);da(b,q.po);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.Lk))],a);d.iTa=a;},function(g,d,a){var f,h,q,c,m,k;function b(a){return q.po.call(this,a,h.J.hka,c.Nl.start,3,k.xg.Mr)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(122);c=a(75);m=a(42);k=a(37);da(b,q.po);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.Lk))],a);d.eTa=a;},function(g,d,a){var f,h,q;function b(a,b){this.Sb=a;this.bm=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);a=a(39);b.prototype.cvb=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.Sb.TV(a.substring(a.indexOf("?")+1));});return{W:!0,qc:a.map(function(a,b){return{id:a.sessionId,pw:c[b].drmlicensecontextid,AE:c[b].licenseid};}),rw:a.map(function(a){return{data:b.bm.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.gvb=function(a){return{W:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.sessionId)&&c&&(a[b]=c);return a;},{})}};};q=b;q=g.__decorate([f.N(),g.__param(0,f.l(h.df)),g.__param(1,f.l(a.Uj))],q);d.SQa=q;},function(g,d,a){var f,h,q;function b(a){this.Ta=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(40);q=a(3);b.prototype.bvb=function(a){var b;b=this.Ta.kf.ba(q.Ym);return{inputs:a.qq.map(function(c){return{sessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ia.toString(),mdxControllerEsn:a.fL};}),vxa:"standard"===a.Kh.toLowerCase()?"license":"ldl"};};b.prototype.fvb=function(a){var b,c,f,d;b=this;c=a.jrb||{};f=[];d=a.qc.map(function(d){var g;f.push(d.id);g=c[d.id];delete c[d.id];return{url:b.Ppa(d.pw,d.AE),echo:"sessionId",params:{sessionId:d.id,secureStop:g,secureStopId:g?d.AE:void 0,xid:a.ia.toString()}};});Object.keys(c).forEach(function(f){d.push({url:b.Ppa(a.qc[0].pw),echo:"sessionId",params:{sessionId:f,secureStop:c[f],secureStopId:void 0,xid:a.ia.toString()}});});return d;};b.prototype.Ppa=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Vj))],a);d.RQa=a;},function(g,d,a){var f,h,q,c,m;function b(a){return c.Wh.call(this,a,h.J.rSa,3,q.di.Vf,q.xg.v_,q.di.Vf)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(37);c=a(72);a=a(42);da(b,c.Wh);b.prototype.lf=function(a,b){var c;c=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;c.jqa(a);return a;})["catch"](function(a){throw c.Hn(a);});};b.prototype.Fn=function(){return Promise.reject(Error("Links are unsupported with release"));};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.Lk))],m);d.eRa=m;},function(g,d,a){var f,h,q,c,m;function b(a){return c.Wh.call(this,a,h.J.Fx,3,q.di.Vf,q.xg.Mr,q.di.Vf)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(37);c=a(72);a=a(42);da(b,c.Wh);b.prototype.lf=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.Fn=function(a,b,c){var f;f=this;b=b.v7(c.vxa).href;return this.send(a,b,c.inputs,"sessionId","license"===c.vxa?q.xg.Mr:q.xg.xB).then(function(a){a=a.result;f.jqa(a);f.H2a(a);return a;})["catch"](function(a){throw f.Hn(a);});};b.prototype.H2a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.Lk))],m);d.IQa=m;},function(g,d,a){var f,h,q,c,m,k,u,r,y,A,I,l,D,n,aa;function b(a,b,c,f,d,g,k){a=y.Wh.call(this,a,h.J.MANIFEST,3,q.di.ya,q.xg.Mr,q.di.ya)||this;a.platform=b;a.config=c;a.YR=f;a.u2a=d;a.snb=g;a.Qn=k;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(37);c=a(432);m=a(4);k=a(17);u=a(60);r=a(68);a(152);y=a(72);A=a(42);I=a(226);l=a(404);D=a(300);n=a(119);a=a(71);da(b,y.Wh);b.prototype.lf=function(a,b){var c;c=this;return this.xcb(b).then(function(f){return c.send(a,"/"+c.name,f,void 0,c.jdb(b.UD),void 0,b.UD===u.Wm.j0);}).then(function(a){return a.result;})["catch"](function(a){throw c.Hn(a);});};b.prototype.Fn=function(a,b,c){return this.lf(a,c).then(function(a){b.aR(a.links);a.If=b;return a;});};b.prototype.xcb=function(a){var b,f,d,g,k,h,r,p,q;b=this;f=a.Wa;d=Object.assign({},f.AI,f.Km);g={};k=a.nb;g[k]={unletterboxed:!!d.preferUnletterboxed};h=this.config().wwb?30:25;r=m.$D();p=r.Fdb().concat(r.Edb()).concat(this.config().gu).concat(["BIF240","BIF320"]).filter(Boolean);q=this.config().Kp?this.Qn.Jbb():Promise.resolve(c.aia.Aq());return Promise.all([r.fE(),r.iK(),this.fbb(a.ia),q]).then(function(c){var m,r,q,y;m=R(c);c=m.next().value;r=m.next().value;q=m.next().value;m=m.next().value;y=r&&void 0!==r.SUPPORTS_SECURE_STOP?!!r.SUPPORTS_SECURE_STOP:void 0;r=r?r.DEVICE_SECURITY_LEVEL:void 0;c={type:"standard",viewableId:k,profiles:p,flavor:u.bd.U3a(a.UD),drmType:m,drmVersion:h,usePsshBox:!0,isBranching:!!a.Wa.Ih,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().lub,imageSubtitleHeight:I.r0.F7(),uiVersion:b.context.Jj.YF,uiPlatform:b.context.Jj.RX,clientVersion:b.platform.version,supportsPreReleasePin:b.config().yj.fub,supportsWatermark:b.config().yj.gub,showAllSubDubTracks:b.config().yj.Wsb||!!d.showAllSubDubTracks,packageId:b.Ucb(f),deviceSupportsSecureStop:y,deviceSecurityLevel:r,videoOutputInfo:c,titleSpecificData:g,preferAssistiveAudio:!!d.assistiveAudioPreferred,preferredTextLocale:d.preferredTextLocale,preferredAudioLocale:d.preferredAudioLocale,isUIAutoPlay:!!d.isUIAutoPlay,challenge:q,isNonMember:b.context.Jj.tE,pin:f.Eaa,desiredVmaf:b.config().twb?b.config().B7a:b.config().C7a};f.Ysa&&(c.extraParams=f.Ysa);return c;});};b.prototype.Ucb=function(a){if(this.config().oW.enabled){if(void 0!==a.Sn)return a.Sn;if(void 0!==this.config().oW.Sn)return Number(this.config().oW.Sn);}};b.prototype.jdb=function(a){switch(a){case u.Wm.Xm:case u.Wm.gKa:return q.xg.Mr;case u.Wm.Tja:case u.Wm.j0:return q.xg.v_;case u.Wm.Yia:return q.xg.xB;}};b.prototype.fbb=function(a){var b;b=this;return this.u2a.jua().then(function(c){var f;f=a&&b.snb.Ycb(a);f&&f.$l("cad");return c;});};aa=b;aa=g.__decorate([f.N(),g.__param(0,f.l(A.Lk)),g.__param(1,f.l(a.Rp)),g.__param(2,f.l(k.pd)),g.__param(3,f.l(r.sG)),g.__param(4,f.l(l.Sea)),g.__param(5,f.l(D.Y_)),g.__param(6,f.l(n.Lx))],aa);d.VQa=aa;},function(g,d,a){var f,h,q,c,m;function b(a){return c.Wh.call(this,a,h.J.zNa,1,q.di.Lxa,q.xg.xB,q.di.Lxa)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);q=a(37);c=a(72);a=a(42);da(b,c.Wh);b.prototype.lf=function(a,b){var c;c=this;return this.send(a,"/"+this.name,b).then(function(a){return a.result;})["catch"](function(a){throw c.Hn(a);});};b.prototype.Fn=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.Lk))],m);d.UQa=m;},function(g,d,a){var b,f,h,q,c,m,k,u,r,y,A,I,l,D,n,aa,N,t,Q,ja,z,X,T,Y,V,M,fa,B,U,P;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(337);f=a(562);h=a(325);q=a(561);c=a(324);m=a(560);k=a(322);u=a(559);r=a(321);y=a(558);A=a(320);I=a(557);l=a(75);D=a(556);n=a(555);aa=a(56);N=a(2);t=a(554);Q=a(553);ja=a(552);z=a(42);X=a(551);T=a(184);Y=a(550);V=a(290);M=a(549);fa=a(340);B=a(548);U=a(547);P=a(546);d.k3a=new g.ic(function(a){a(z.Lk).to(X.MQa);a(b.hja).to(f.UQa);a(T.R_).to(Y.JQa);a(fa.aja).to(B.KQa);a(V.jja).to(M.WQa);a(h.ija).to(q.VQa);a(c.$ia).to(m.IQa);a(k.oja).to(u.eRa);a(r.eja).to(y.RQa);a(A.fja).to(I.SQa);a(l.tka).to(D.eTa);a(l.uka).to(n.iTa);a(l.qha).to(t.uNa);a(l.rka).to(Q.aTa);a(l.ega).to(ja.oLa);a(P.YQa).to(U.XQa);a(l.kZ).$f(function(a){return function(b){switch(b){case l.Nl.start:return a.zb.get(l.tka);case l.Nl.stop:return a.zb.get(l.uka);case l.Nl.LK:return a.zb.get(l.qha);case l.Nl.splice:return a.zb.get(l.rka);case l.Nl.HJ:return a.zb.get(l.ega);}throw new aa.Sc(N.J.RPa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(g,d,a){var f,h,q,c,m,k,u;function b(a,b,c,d,g,h,p,l,n){var r;r=this;this.rvb=a;this.j=b;this.id=c;this.height=d;this.width=g;this.hnb=h;this.inb=p;this.size=l;this.ad=n;this.type=f.vg.Mda;this.$t=!0;this.state=m.$m.LO;this.og={};this.lR={};this.wob=function(a){if(a.W)try{r.data=r.rvb.parse(a.content);r.state=m.$m.LOADED;r.log.trace("TrickPlay parsed",{Images:r.data.images.length},r.og);r.j.fireEvent(k.R.kN);}catch(ja){r.state=m.$m.Fia;r.log.error("TrickPlay parse failed.",ja);}else r.state=m.$m.LO,r.log.error("TrickPlay download failed.",u.uo(a),r.og);};this.log=q.mg(b,"TrickPlay");}Object.defineProperty(d,"__esModule",{value:!0});f=a(74);h=a(13);q=a(4);c=a(67);m=a(298);k=a(14);u=a(2);b.prototype.Wbb=function(a){if(this.data&&(a=Math.floor(a/this.data.Hq.TEa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.Hq.TEa,height:this.height,width:this.width,pixelAspectHeight:this.hnb,pixelAspectWidth:this.inb};};b.prototype.DT=function(){switch(this.state){case m.$m.LOADED:return"downloaded";case m.$m.LOADING:return"loading";case m.$m.IG:return"downloadfailed";case m.$m.Fia:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.Xdb();a?(this.state=m.$m.LOADING,this.b8a(a)):this.$t=!1;};b.prototype.Ec=function(){return this.state;};b.prototype.Xdb=function(){var a,b,c;a=this;b=Object.keys(this.ad).find(function(b){return(a.lR[a.ad[b]]||0)<=h.config.nvb;});if(b){c=this.ad[b];c in this.lR?this.lR[c]++:this.lR[c]=1;return{url:c,yv:b};}};b.prototype.b8a=function(a){this.log.trace("Downloading",a.url,this.og);a={responseType:c.YT,Wb:this.Y6(a.yv),url:a.url,track:this};this.j.sK.download(a,this.wob);};b.prototype.Y6=function(a){return this.j.Ni.find(function(b){return b&&b.id===a;});};d.STa=b;},function(g,d,a){var f,h,q;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(134);a=a(1);b.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new h.jB(b);a=this.umb(c);b=this.wmb(c,b,a);return{Hq:a,images:b};};b.prototype.umb=function(a){var b,c,d,g;if(a.Bj()<this.qqb())throw Error("array buffer too short");f.Iha.forEach(function(b){if(b!=a.ue())throw Error("BIF has invalid magic.");});b=a.rA();if(b>f.VERSION)throw Error("BIF version in unsupported");c=a.rA();if(0==c)throw Error("BIF has no frames.");d=a.rA();g=a.Bd(f.Wja);return{version:b,jlb:c,TEa:d,rqb:g};};b.prototype.wmb=function(a,b,f){var g,k;for(var c=[],d=0;d<=f.jlb;d++){k={timestamp:a.rA(),offset:a.rA()};void 0!=g&&c.push(b.subarray(g.offset,k.offset));g=k;}return c;};b.prototype.qqb=function(){return f.Iha.length+4+4+4+f.Wja;};q=f=b;q.Iha=[137,66,73,70,13,10,26,10];q.VERSION=0;q.Wja=44;q=f=g.__decorate([a.N()],q);d.VTa=q;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qka="TrickPlayParserSymbol";},function(g,d,a){var f,h;function b(a,b,d,g,h,r,p,A,I,l,D){this.index=a;this.I=b;this.Db=d;this.Wa=g;this.ia=h;this.Bl=r;this.L9=p;this.M3a=I;this.Nya=D;this.Pc=new f.Nc(null);this.Of=new f.Nc(null);this.zc=new f.Nc(null);this.Mi=new f.Nc(null);this.pr=new f.Nc(void 0);this.Ee=new f.Nc(null);this.sj=new f.Nc(null);this.Lf=new f.Nc(null);this.Ze=new f.Nc(null);this.Zb=new f.Nc(void 0);this.wn=new f.Nc(null);this.wv=this.vv="notcached";this.background=!1;A&&(this.Ee.set(A.Ee.value),this.sj.set(A.sj.value));this.Al=l(this);this.Haa=this.Nya.Mpb(this.ia,this.Bl);}Object.defineProperty(d,"__esModule",{value:!0});f=a(182);h=a(3);b.prototype.Qc=function(a){this.Haa.$l(a);};b.prototype.ew=function(a){var b;b=this;Object.keys(a).forEach(function(c){b.Haa.$l(c,h.Bb(a[c]-b.Bl.ba(h.ha)));});};b.prototype.FV=function(){this.Nya.Xpb(this.ia);};qa.Object.defineProperties(b.prototype,{De:{configurable:!0,enumerable:!0,get:function(){return this.Wa.De;}},nk:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.nk;}},tn:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.tn;}},wr:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.wr;}},ju:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.ju;}},Sj:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.Sj;}},Xf:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.Xf;}},jw:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.jw;}},vp:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.vp;}},Ni:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.Ni;}},fW:{configurable:!0,enumerable:!0,get:function(){return this.$b&&this.$b.fW;}},rq:{configurable:!0,enumerable:!0,get:function(){return this.W0&&0<this.W0.ba(h.ha)?this.W0:h.Bb(this.ya?this.ya.duration:0);},set:function(a){this.W0=a;}},mh:{configurable:!0,enumerable:!0,get:function(){return this.Wa.mh||0;}},Y4:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.MR?this.MR:void 0===this.Zb.value?null:this.M3a(this.Zb.value,this.Db);}},kD:{configurable:!0,enumerable:!0,get:function(){return this.ya&&this.ya.cdnResponseData?this.ya.cdnResponseData.pbcid:void 0;}},FA:{configurable:!0,enumerable:!0,get:function(){return this.ya&&this.ya.cdnResponseData?this.ya.cdnResponseData.sessionABTestCell:void 0;}},Fc:{configurable:!0,enumerable:!0,get:function(){return this.Haa.Fc;}}});d.uRa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uja="PlayTimeTrackerFactorySymbol";},function(g,d,a){var h,q,c,m,k,u,r,y;function b(a,b,c,f,d){var g;g=this;this.Kj=a;this.config=c;this.Aa=f;this.debug=d;this.bW=[];this.rp=[];this.Iaa=[];this.Gy={};this.ksa=!1;this.EI={};this.W8=0;this.log=b.kb("PlayTimeTracker");this.startTime=this.Kj.Zb.value;this.QU=this.config().XZa;this.GN();this.Gy.abrdel=0;this.QU.forEach(function(a){a="abrdel"+a;g.EI[a]=0;g.Gy[a]=0;});}function f(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(7);c=a(17);m=a(80);a(3);k=a(21);u=a(89);r=a(9);y=a(18);f.prototype.encode=function(a){return{key:a.key,downloadableId:a.Uc,bitrate:a.O,vmaf:a.Ac,duration:a.duration,metric:a.kL,cdnId:a.yv};};f.prototype.decode=function(a){return{key:a.key,Uc:a.downloadableId,O:a.bitrate,Ac:a.vmaf,duration:a.duration,kL:a.metric,yv:a.cdnId};};b.prototype.jK=function(){var a;this.HM(this.Kj.Zb.value);a=0;this.rp.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};b.prototype.Nab=function(){this.HM(this.Kj.Zb.value);return{audio:this.aK(this.bW,this.tua),video:this.aK(this.rp,this.tua)};};b.prototype.Wcb=function(){var a;a={total:this.jK(),audio:this.aK(this.bW,this.uT),video:this.aK(this.rp,this.uT),timedtext:this.aK(this.Iaa,this.uT)};this.debug.assert(!(!a.audio||!a.video));return a;};b.prototype.aua=function(){var a,b;this.HM(this.Kj.Zb.value);a=this.T6(this.rp,this.Zab);try{b=this.bua(a);}catch(F){return this.log.warn("Failed to calc average bitrate."),null;}this.Gy.abrdel=Math.round(b);return this.Gy.abrdel;};b.prototype.Rab=function(){var a,b;this.HM(this.Kj.Zb.value);a=this.T6(this.rp,this.ceb);try{b=this.bua(a);}catch(F){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};b.prototype.Qab=function(){var a,b;a=this;if(!this.ksa){b=this.jK();this.QU.forEach(function(c){var f,d,g;if(0===a.EI["abrdel"+c]&&b>c*r.Yj){f=0;d=0;g=0;a.rp.some(function(a){f+=a.stream.O*(a.endTime-a.startTime);d+=a.endTime-a.startTime;g=a.stream.O;if(d>c*r.Yj)return!0;});f&&(a.EI["abrdel"+c]=Math.round((f-g*(d-c*r.Yj))/(c*r.Yj)));}});0!==this.EI["abrdel"+this.QU[this.QU.length-1]]&&(this.ksa=!0);y.Xc(this.EI,function(b,c){a.Gy[b]=0===c?a.Gy.abrdel:c;});}return this.Gy;};b.prototype.p_a=function(a){this.W8+=a;};b.prototype.Keb=function(){return!!(this.rp[0]&&this.rp[0].stream&&this.Aa.Nd(this.rp[0].stream.Ac));};b.prototype.GN=function(){var a;a=this;this.Kj.Lf.addListener(function(b){a.nD=a.hqa(a.nD,a.bW,b.newValue);});this.Kj.Ze.addListener(function(b){a.qD=a.hqa(a.qD,a.rp,b.newValue);});this.Kj.Mi.addListener(this.ylb.bind(this));};b.prototype.$kb=function(a,b){this.HM(a);this.startTime=b;this.qD=this.nD=void 0;this.pD&&(this.pD.startTime=this.startTime);};b.prototype.ylb=function(a){this.UL(this.pD,this.Iaa,this.Kj.Zb.value);this.pD=a.newValue?{track:a.newValue,startTime:this.Kj.Zb.value,endTime:m.Hx}:void 0;};b.prototype.HM=function(a){a&&this.nD&&this.qD&&(a=Math.min(a,this.nD.endTime,this.qD.endTime),this.UL(this.nD,this.bW,a),this.nD.startTime=a,this.UL(this.qD,this.rp,a),this.qD.startTime=a,this.pD&&(this.UL(this.pD,this.Iaa,a),this.pD.startTime=a),this.startTime=a);};b.prototype.hqa=function(a,b,c){a&&this.UL(a,b,Math.min(a.endTime,this.Kj.Zb.value));if(c&&c.stream)return a=c.yn,b=c.stream,{Wb:c.Wb,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};b.prototype.UL=function(a,b,c){a&&c&&c>=a.startTime&&(a={Wb:a.Wb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c},(c=b[b.length-1])&&c.track===a.track&&c.stream===a.stream&&c.Wb===a.Wb&&c.endTime===a.startTime?c.endTime=a.endTime:b.push(a));};b.prototype.T6=function(a,b){var c,f;c=this;f={};return a.reduce(function(a,d){var g,k,m;g=b.bind(c,d)();k=g.key;d=d.endTime-d.startTime;m=f[k];m?m.duration+=d:(delete g.key,m=g,m.duration=d,a.push(m),f[k]=m);return a;},[]);};b.prototype.aK=function(a,b){return this.T6(a,b).map(function(a){return new f().encode(a);});};b.prototype.uT=function(a){var b,c,f;f=a.stream;f?(a=f.Uc,b=f.O,c=f.Ac):a=a.track.Uc;return{key:a+"$"+(b||0),Uc:a,O:b,Ac:c};};b.prototype.tua=function(a){var b;b=this.uT(a);a=a.Wb.id;return Object.assign({},b,{key:b.key+"$"+a,yv:a});};b.prototype.Zab=function(a){a=(a=a.stream)?a.O:0;return{key:a,kL:a};};b.prototype.ceb=function(a){a=(a=a.stream)?a.Ac:0;return{key:a,kL:a};};b.prototype.bua=function(a){var b,c,f;b=this;c=0;a.forEach(function(a){if(b.Aa.Nd(a.duration)&&b.Aa.Nd(a.kL))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;f=0;a.forEach(function(a){f+=a.kL*a.duration/c;});return f;};a=b;a=g.__decorate([h.N(),g.__param(1,h.l(q.ob)),g.__param(2,h.l(c.pd)),g.__param(3,h.l(k.Fe)),g.__param(4,h.l(u.pu))],a);d.lRa=a;},function(g,d,a){var f,h,q,c,m,k;function b(a){var b,d;b=this;this.j=a;this.Elb=function(){var a;q.Le.removeListener(q.b8,b.$za);a=b.Jn.Zo();a&&a.parentNode&&a.parentNode.removeChild(a);};this.naa=function(a){b.Jn.dsb(a.newValue);};this.Tlb=function(a){b.Jn.isb(a.newValue?a.newValue.JK:void 0);};this.$za=function(){b.Jn.lF();};this.Jn=new m.ETa(c.config.zda,a.zc.value?a.zc.value.JK:void 0);d=a.eG;h.Ea(.1<d.width/d.height);this.Jn.Wrb(d.width/d.height);a.rf.appendChild(this.Jn.Zo());a.pr.addListener(this.naa);a.zc.addListener(this.Tlb);a.addEventListener(k.R.gf,this.Elb,f.FB);q.Le.addListener(q.b8,this.$za);}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);h=a(15);q=a(54);c=a(13);m=a(280);k=a(14);b.prototype.Dca=function(a){this.Jn.Dca(a);};b.prototype.W7=function(){return this.Jn.W7();};b.prototype.Bca=function(a){this.Jn.Bca(a);};b.prototype.U7=function(){return this.Jn.U7();};b.prototype.Cca=function(a){this.Jn.Cca(a);};b.prototype.V7=function(){return this.Jn.V7();};d.GTa=b;},function(g,d,a){var f,h,q,c,m,k,u,r,y;function b(a,b,c,f,d){a=m.gH.call(this,b,a,a,"1",{0:c},void 0,"xx",f||a,k.Wp.IB,"primary","custom",{},!1,!1,!1)||this;a.j=b;a.url=c;a.content=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(57);f=a(13);h=a(54);q=a(4);c=a(19);m=a(225);k=a(162);u=a(67);r=a(105);y=a(14);g.Cja(g.yja,function(a){var d;function b(b){var f;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==r.Nr.sTa){f=c.createElement("INPUT",void 0,void 0,{type:"file"});f.addEventListener("change",function(){var b,c,g;b=f.files[0];if(b){c=b.name;d.info("Loading file",{FileName:c});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.ko.K2("nourl",c,g.result);});}});f.click();}}d=q.mg(a,"TimedTextCustomTrack");f.config.a5&&(d.info("Loading url",{Url:f.config.a5}),a.ko.K2(f.config.a5,"custom"));h.Le.addListener(h.nz,b);a.addEventListener(y.R.gf,function(){h.Le.removeListener(h.nz,b);});});da(b,m.gH);b.I5a=function(a,c,f,d){var g;g="custom"+b.Ofb++;return new b(g,a,c,f,d);};b.prototype.nsa=function(){var a;a=this;return new Promise(function(b,c){var f;if(a.content)b(a.content);else if(a.url){f={responseType:u.Zva,url:a.url,track:a,Wb:null,AD:"tt-"+a.kk};a.j.sK.download(f,function(d){d.W?b(d.content):(d.reason="downloadfailed",d.url=f.url,d.track=a,c(d));});}});};d.DTa=b;b.Ofb=0;},function(g,d){function a(a,b,f){this.start=a;this.track=b;this.LA=f;this.end=void 0;this.LA=Array.isArray(f)?f:[];}function b(a,b,f){this.log=a;this.$A=b;this.Za=f.Za;this.Xg=f.Xg||function(){};this.current=void 0;this.kba=[];this.orphans=[];}function f(a){var b;b=!1;a.reduce(function(a,c){a[c]=(a[c]|0)+1;1<a[c]&&(b=!0);return a;},Object.create(null));return b;}function h(a,b){return f(a)?(b.error("duplicates in entries"),a.filter(function(a,b,c){return c.indexOf(a)===b;})):a;}function q(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.c_a=function(a,b){this.lza(a,b,"activating");};b.prototype.v6a=function(a){this.Y5(a,"de-activating");};b.prototype.lza=function(b,f,d){var c;c=[];this.current&&this.Y5(b,"close current for new");this.orphans.length&&(c.push(this.orphans),this.orphans=[]);this.current=new a(b,f,c);this.$A&&this.log.trace("new range: "+d,this.Za({},this.current));};b.prototype.Y5=function(a,b){this.current&&(this.current.end=a,this.kba.push(this.current),this.$A&&this.log.trace("end range: "+b,this.Za({},this.current||{})),this.current=void 0);};b.prototype.GFa=function(a){this.current?this.current.LA.push(a):this.orphans.push(a);};b.prototype.R7=function(b){var c,f,d;c=this;f=c.kba.slice(0);if(c.current&&"undefined"!=typeof b){d=new a(c.current.start,c.current.track,c.current.LA);d.end=b;f.push(d);}b=f.reduce(function(a,b){var f,d,g,k;if(!b.track)return a;f=b.track.Uc;d=b.track.Yv(b.start,b.end);if(!d)return a;g=h(b.LA,c.log);a[f]?(k=a[f],k.expected+=d.length,k.missed+=d.length-g.length):(k={},k.dlid=f,k.bcp47=b.track.kk,k.profile=b.track.profile,k.expected=d.length,k.missed=d.length-g.length,k.startPts=b.track.ydb(),a[f]=k);return a;},{});b=q(b);c.$A&&c.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.odb=function(b){var c,f,d,g,p;c=this;f=c.kba.slice(0);d=0;g=0;c.current&&"undefined"!=typeof b&&(p=new a(c.current.start,c.current.track,c.current.LA),p.end=b,f.push(p));f.forEach(function(a){var b,f;if(a.track){if(a.end<a.start){c.Xg("negative range",a);a.Yw=0;return;}b=h(a.LA,c.log);f=a.track.Yv(a.start,a.end);a.Gn=f?f.map(function(a){return a.id;}):[];a.Yw=f?0===f.length?100:100*b.length/f.length:0;}else a.Yw=100;b=a.end-a.start;d+=b;g+=a.Yw*b;});p=d?Math.round(g/d):100;c.log.trace("qoe score "+p+", at pts: "+b);c.$A&&(b=f.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.Yw),lang:a.track?a.track.kk:"none","actual  ":a.LA.join(" "),expected:(a.Gn||[]).join(" ")};}),c.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return p;};d.rTa=b;},function(g,d,a){var f,h,q,c,m,k,u,r,y,A,I,l,n,O;function b(a){var c;c=this;this.j=a;this.ida=this.fza=0;this.gf=this.Cl=!1;this.Xw=0;this.UF=function(){var a,b;a=c.oe();c.MW();c.rra&&(c.log.info("Deactivating",c.rra),c.ex.v6a(c.oe()));c.j.Mi.set(null);c.RA.vDa(c.entries=void 0);c.nqa();b=c.j.zc.value;b&&b.KK()&&!b.sU()&&(b=null);b&&c.j.Mb.value!==l.fb.cg&&c.ex.c_a(a,b);b?(c.log.info("Activating",b),c.j.Rj.set(l.Df.Bi),c.Cl||c.j.Qc("tt_start"),b.getEntries().then(c.aE)["catch"](c.aE)):c.j.Rj.set(l.Df.cd);c.rra=b;c.ZF();};this.qda=function(){c.Cl&&(c.RA.start(),c.j.Mb.value!==l.fb.dd&&c.RA.stop());};this.ZF=function(){var a;c.j.state.value===l.ib.cd&&c.j.Mb.value!==l.fb.cg&&(c.entries?a=c.RA.Dab():c.j.zc.value&&(a=b.vtb[c.j.zc.value.Ec()]));a&&I.Ub(a.startTime)&&(c.fza++,c.ida+=c.RA.Tua()-a.startTime,c.xpa=Math.ceil(c.ida/(c.fza+0)));c.j.pr.set(a);};this.oe=function(){return c.j.B7();};this.Slb=function(a){c.fireEvent(b.Ysb,a);a&&a.id&&c.ex.GFa(a.id);c.log.trace("showsubtitle",c.ova(a));};this.Olb=function(a){c.fireEvent(b.$pb,a);c.log.trace("removesubtitle",c.ova(a));};this.aA=function(){c.log.warn("imagesubs buffer underflow",c.j.zc.value.og);c.j.Rj.set(l.Df.Bi);};this.Alb=function(){c.log.info("imagesubs buffering complete",c.j.zc.value.og);c.j.Rj.set(l.Df.cd);};this.Tza=function(){c.Cl&&c.Hf&&c.Hf.Jp(c.oe());};this.Wza=function(a){c.Hf&&c.Hf.zM&&c.Hf.zM(a.Dg,a.sL);};this.aAa=function(a){c.Hf&&c.Hf.lo&&c.Hf.lo(a.Db,a.gwb);};this.KV=function(){c.Cl=!0;A.Ab(function(){c.Hf?c.Hf.Jp(c.oe()):c.qda();c.ZF();});};this.zL=function(){c.entries=void 0;c.nqa();c.RA.stop();c.ZF();c.gf=!0;c.MW();};this.naa=function(a){(a=a.newValue)&&I.Ub(a.id)&&c.ex.GFa(a.id);};this.Llb=function(a){c.awb(a.newValue,a.oldValue);c.qda();};this.aE=function(a){var b,f;if(!c.gf){b=a.track;f=!1;if(b==c.j.zc.value)if(b.Jq)if(a.W)c.MW(),c.Hf=b.Hf,c.Yxa("addListener"),c.log.info("Activated",b),c.j.Mi.set(b),c.Cl?A.Ab(function(){c.Hf.Jp(c.oe());}):c.Hf.pause();else{if(f=!!(c.Xw<q.config.tya))c.ACa=setTimeout(c.BCa.bind(c,b),q.config.OEa);c.log.error("Failed to activate img subtitle",{retry:f},a,b);}else{if(f=a.entries)c.MW(),c.RA.vDa(c.entries=f),c.log.info("Activated",b),c.j.Mi.set(b);else{if(f=!!(c.Xw<q.config.tya))c.ACa=setTimeout(c.BCa.bind(c,b),q.config.OEa);c.log.error("Failed to activate",{retry:f},y.uo(a),b);}c.ZF();}c.Cl||c.j.Qc(a.W?"tt_comp":"tt_err");a.W?(q.config.JCa?setTimeout(function(){c.j.Rj.set(l.Df.cd);},q.config.JCa):c.j.Rj.set(l.Df.cd),b.Jq||c.ZF()):a.Zl?c.log.warn("aborted timed text track loading"):q.config.q$a?(b=m.V.get(O.Mk),c.j.xd(b(y.J.XMa,{Sa:a.track?a.track.og:{}}))):(c.log.error("ignore subtitle initialization error",a),c.j.Rj.set(l.Df.cd));}};this.Jb=new h.Wj();this.ex=new k.rTa(m.mg(a,"SubtitleTracker"),q.config.a9a,{Za:r.Za,Xg:u.Ea});this.log=m.mg(a,"TimedTextManager");this.RA=new f.JTa(this.oe,this.ZF);this.j.zc.addListener(this.UF);q.config.Knb?(this.j.addEventListener(l.R.Lj,this.KV),this.UF()):(this.j.Rj.set(l.Df.cd),this.j.addEventListener(l.R.Lj,function(){c.Cl=!0;c.UF();}));this.j.Mb.addListener(this.Llb);this.j.addEventListener(l.R.uda,this.qda);this.j.pr.addListener(this.naa);this.j.addEventListener(l.R.gf,this.zL);}Object.defineProperty(d,"__esModule",{value:!0});g=a(225);f=a(284);h=a(66);q=a(13);c=a(28);m=a(4);k=a(572);u=a(15);r=a(18);y=a(2);A=a(44);I=a(16);l=a(14);n=a(571);O=a(55);b.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};b.prototype.fireEvent=function(a,b,c){this.Jb.Kb(a,b,c);};b.prototype.K2=function(a,b,f){var d;d=n.DTa.I5a(this.j,a,b,f);this.j.Sj.push(d);this.j.tn.forEach(function(a){c.YGa(a.Sj,d);});this.j.zc.set(d);this.j.fireEvent(l.R.SA);};b.prototype.Ddb=function(a){return this.ex.odb(a);};b.prototype.R7=function(a){return this.ex.R7(a);};b.prototype.HT=function(){var a,b;a=this.j.gN;b=q.config.PEa.characterSize;b={size:q.config.Ada.characterSize||b};a&&(b.visibility=a.W7(),b.II=a.U7(),b.On=a.V7());return b;};b.prototype.wsb=function(a){q.config.Ada.characterSize=a;a=this.j.zc.value;!a||a.KK()||a.Jq||a.getEntries().then(this.aE)["catch"](this.aE);};b.prototype.awb=function(a,b){a===l.fb.dd||a==l.fb.Ci?b!==l.fb.dd&&b!==l.fb.Ci&&((b=this.j.zc.value)&&b.KK()&&!b.sU()||this.ex.lza(this.oe(),b,"presentingstate:"+a)):a!==l.fb.cg&&a!==l.fb.Kr||this.ex.Y5(this.oe(),"presentingstate:"+a);};b.prototype.MW=function(){this.Xw=0;clearTimeout(this.ACa);};b.prototype.nqa=function(){this.Hf&&(this.Hf.stop(),this.Yxa("removeListener"));this.Hf=void 0;};b.prototype.Yxa=function(a){this.Hf&&(this.Hf[a]("showsubtitle",this.Slb),this.Hf[a]("removesubtitle",this.Olb),this.Hf[a]("underflow",this.aA),this.Hf[a]("bufferingComplete",this.Alb),"addListener"===a?(this.j.addEventListener(l.R.Bn,this.Tza),this.j.addEventListener(l.R.DV,this.Wza),this.j.addEventListener(l.R.lo,this.aAa)):(this.j.removeEventListener(l.R.Bn,this.Tza),this.j.removeEventListener(l.R.DV,this.Wza),this.j.removeEventListener(l.R.lo,this.aAa)));};b.prototype.ova=function(a){return{currentPts:this.oe(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.BCa=function(a){this.Xw++;a.getEntries().then(this.aE)["catch"](this.aE);};d.FTa=b;d={};b.vtb=(d[g.gH.jka.LOADING]={UJb:!0},d[g.gH.jka.IG]={wq:!0},d);b.Ysb="showsubtitle";b.$pb="removesubtitle";},function(g,d,a){var c,m,k,u,r,y,A,I,l,n,O,aa,N,t,Q,ja,z,X,T,Y,V,M,fa,B,U,P;function b(a){var b;b=this;this.j=a;this.fGa=Promise.resolve();this.jZ=L.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.gv=[];this.oj=new y.Wj();this.Sla=this.H0=0;this.AP=[];this.jb=l.mg(this.j,"MediaElementASE");this.Mna=Q.Qe;this.a1=!1;this.tf={};this.CH={};this.vT=this.CP(function(){var a;if(b.Ja){a=b.OP();return a?a.totalVideoFrames:b.Ja.webkitDecodedFrameCount;}});this.hz=this.CP(function(){var a;if(b.Ja){a=b.OP();return a?a.droppedVideoFrames:b.Ja.webkitDroppedFrameCount;}});this.ZJ=this.CP(function(){var a;if(b.Ja){a=b.OP();return a&&a.corruptedVideoFrames;}});this.wT=this.CP(function(){var a;if(b.Ja){a=b.OP();return a&&z.ai(a.totalFrameDelay*Q.Yj);}});this.Hma=function(){return b.oj.Kb(Y.bi.txa);};this.Dj=l.V.get(T.wha).create(r.config.Kp,this,this.j);r.config.qw&&(this.fGa=new Promise(function(a){b.Mna=a;b.j.addEventListener(fa.R.gf,a);}));this.jb.trace("Created Media Element");this.addEventListener=this.oj.addListener;this.removeEventListener=this.oj.removeListener;this.Ja=f(this.j.eG);this.sourceBuffers=this.gv;}function f(a){var b,c;b=l.V.get(V.fla).gdb();a=a.width/a.height*b.height;c=(b.width-a)/2;return r.config.zsb?Q.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):Q.createElement("VIDEO","position:absolute;width:100%;height:100%");}function h(a){a.preventDefault();return!1;}function q(a,b){var c,f,d;c=a.target;c=c&&c.error;f=a.errorCode;d=c&&c.code;Q.Ub(d)||(d=f&&f.code);f=c&&c.msExtendedCode;Q.Ub(f)||(f=c&&c.systemCode);Q.Ub(f)||(f=a.systemCode);a=Q.Za({},{code:d,systemCode:f},{Xq:!0});b={Z:b(d),Sa:ja.Vxa(a)};try{c&&c.message&&(b.gL=c.message);}catch(Qa){}f=Q.de(f);X.na(f)&&(b.Kc=l.ypa(f,4));return{PD:b,Zhb:a};}Object.defineProperty(d,"__esModule",{value:!0});c=a(50);m=a(144);k=a(55);u=a(9);r=a(13);y=a(66);A=a(54);I=a(28);l=a(4);n=a(2);O=a(15);aa=a(104);N=a(442);t=a(18);Q=a(19);ja=a(181);z=a(8);X=a(16);T=a(286);Y=a(180);V=a(311);M=a(3);fa=a(14);B=a(133);U=!!(z.BB&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);P=U&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||z.SG);b.prototype.gz=function(a){try{this.Ja&&(this.Sla=this.Ja.currentTime);}catch(ka){this.jb.error("Exception while getting VIDEO.currentTime",ka);a&&this.bC(n.J.qQa,ka);}return z.ai(this.Sla*Q.Yj);};b.prototype.seek=function(a){var b;O.Ea(!this.Xl);this.Kna();b=this.gz(!0);if(!r.config.U_a&&z.NG(b-a)<=this.bca)this.jb.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.bca});else try{this.jb.trace("Setting video elements currentTime",{From:aa.th(b),To:aa.th(a)});this.Xl={};this.Ja.currentTime=a/Q.Yj;this.oj.Kb(Y.bi.Bn);}catch(Ba){this.jb.error("Exception while setting VIDEO.currentTime",Ba);this.bC(n.J.rQa,Ba);}};b.prototype.pdb=function(){return!!this.Xl;};b.prototype.addSourceBuffer=function(a){var b,f;b=Q.de(this.H0.toString()+this.gv.length.toString());b={sourceId:this.H0,pR:b};try{f=new m.bia(this.j,a,this.Te,b,this.jb);this.gv.push(f);a==u.LG&&f.y6&&f.y6.addListener(this.Mna);return f;}catch(Fa){f=Q.ne(Fa);this.jb.error("Unable to add source buffer.",{error:f});b=l.V.get(k.Mk);this.j.xd(b(n.J.P_,{Z:a===c.wc.$h.AUDIO?Q.u.Mha:Q.u.Nha,Sa:f}));}};b.prototype.R2=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.oj.Kb(Y.bi.WDa);return!0;};b.prototype.removeSourceBuffer=function(a){this.gv=this.gv.filter(function(b){return!I.Dqa(a,b);});this.Te.removeSourceBuffer(a);};b.prototype.endOfStream=function(){r.config.S3&&this.Te.endOfStream();};b.prototype.ll=function(a){this.gv=[];a&&a.NKb();return!0;};b.prototype.Vrb=function(a){this.H0=a;};b.prototype.Sua=function(){if(this.Te)return M.Onb(this.Te.duration);};b.prototype.ksb=function(a){this.Te&&(this.Te.duration=a.eW(M.Ym));};b.prototype.K7a=function(){var a;if(!this.a1&&this.Ja&&2<=this.Ja.readyState){a=this.Ja.webkitDecodedFrameCount;if(void 0===a||0<a||r.config.cxb)this.a1=!0;}return this.a1;};b.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(fa.R.MDa,function(b){return a.VXa(b);});if(U){if(this.j.jw){if(!P){this.Tl(n.J.Qia);return;}if(z.SG&&z.SG.isTypeSupported&&this.Dj.ce)try{if(!z.SG.isTypeSupported(this.Dj.ce,"video/mp4")){this.xZa(function(b){a.Tl(n.J.N_,b);});return;}}catch(Fa){this.bC(n.J.N_,Fa);return;}}try{this.Te=new z.BB();}catch(Fa){this.bC(n.J.gQa,Fa);return;}try{this.Li=URL.createObjectURL(this.Te);}catch(Fa){this.bC(n.J.hQa,Fa);return;}try{this.Dj.r_a(this.Hma);this.Te.addEventListener("sourceopen",function(b){return a.jna(b);});this.Te.addEventListener(this.jZ+"sourceopen",function(b){return a.jna(b);});this.Ja.addEventListener("error",this.tf.error=function(b){return a.RH(b);});this.Ja.addEventListener("seeking",this.tf.seeking=function(){return a.UXa();});this.Ja.addEventListener("seeked",this.tf.seeked=function(){return a.S1();});this.Ja.addEventListener("timeupdate",this.tf.timeupdate=function(){return a.WXa();});this.Ja.addEventListener("loadstart",this.tf.loadstart=function(){return a.jQ();});this.Ja.addEventListener("volumechange",this.tf.volumechange=function(b){return a.XXa(b);});this.Ja.addEventListener(this.Dj.Wz,this.tf[this.Dj.Wz]=function(b){return a.QXa(b);});b=this.j.rf;c=b.lastChild;c?b.insertBefore(this.Ja,c):b.appendChild(this.Ja);r.config.bsa&&this.Ja.addEventListener("contextmenu",h);this.Ja.src=this.Li;A.Le.addListener(A.kK,this.CH[A.kK]=function(){return a.hna();});this.hna();}catch(Fa){this.bC(n.J.iQa,Fa);}}else this.Tl(n.J.Ria);};b.prototype.close=function(){var b;function a(){b.Li&&(b.Kna(),A.Le.removeListener(A.kK,b.CH[A.kK]),b.nVa());}b=this;this.Ja.removeEventListener(this.Dj.Wz,this.tf[this.Dj.Wz]);this.Ja.removeEventListener("error",this.tf.error);this.Ja.removeEventListener("seeking",this.tf.seeking);this.Ja.removeEventListener("seeked",this.tf.seeked);this.Ja.removeEventListener("timeupdate",this.tf.timeupdate);this.Ja.removeEventListener("loadstart",this.tf.loadstart);this.Ja.removeEventListener("volumechange",this.tf.volumechange);this.Dj.Upb(this.Hma);r.config.Kp?this.Dj.yAa().then(function(){return a();}):a();this.Dj.fCa&&clearTimeout(this.Dj.fCa);};b.prototype.QXa=function(a){return this.Dj.jaa(a);};b.prototype.OP=function(){if(this.Ja)return this.Ja.getVideoPlaybackQuality&&this.Ja.getVideoPlaybackQuality()||this.Ja.videoPlaybackQuality||this.Ja.playbackQuality;};b.prototype.WYa=function(){var a;a=this.j.ni;return(a=a&&a.errorCode)&&0<=[n.J.OO,n.J.zO].indexOf(a);};b.prototype.nVa=function(){var a;a=!1;r.config.hob&&this.WYa()&&(a=!0);r.config.a3a&&!a&&(this.Ja.removeAttribute("src"),this.Ja.load&&this.Ja.load());URL.revokeObjectURL(this.Li);r.config.bsa&&this.Ja.removeEventListener("contextmenu",h);!a&&this.Ja&&this.j.rf.removeChild(this.Ja);this.Ja=this.Te=void 0;this.Li="";};b.prototype.hna=function(){!0===z.Wd.hidden?this.AP.forEach(function(a){a.refresh();a.ltb();}):this.AP.forEach(function(a){a.refresh();a.Atb();});};b.prototype.CP=function(a){var b;b=l.V.get(N.Cia)(a);this.AP.push(b);return function(){b.refresh();return b.obb();};};b.prototype.bC=function(a,b){var c,f;c={Z:Q.u.qh,Sa:Q.ne(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(c.Kc=f);}catch(Ea){}b=l.V.get(k.Mk);this.j.xd(b(a,c));};b.prototype.Kna=function(){this.AP.forEach(function(a){a.refresh();});};b.prototype.dWa=function(){return this.Ja&&this.Ja.msGraphicsTrustStatus;};b.prototype.Tl=function(a,b,c){var f;f=l.V.get(k.Mk);this.j.xd(f(a,b,c));};b.prototype.xZa=function(a){var c,f;function b(f){b=Q.Qe;c.jh();a(f);}c=l.V.get(B.OB)(500,function(){b();});c.jt();try{f=this.j.Ee.value.Hq.sKb.children.filter(function(a){return"pssh"==a.type&&a.p8a==u.KKa;})[0];new z.SG(this.Dj.ce).createSession("video/mp4",f.raw,null).addEventListener(this.jZ+"keyerror",function(a){a=q(a,n.gga);b(a.PD);});}catch(Ea){b();}};b.prototype.VXa=function(a){var b,f,d,g,k,m,h;if(this.Ja){a=a.BN;b=this.dWa();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.Ja.readyState;a.currentTime=""+this.Ja.currentTime;a.pbRate=""+this.Ja.playbackRate;}catch(Ra){}for(var b=this.gv.length,c;b--;){c=this.gv[b];f="";c.type==u.o_?f="audio":c.type==u.LG&&(f="video");Q.Za(a,c.pT(),{prefix:f});r.config.T8a&&this.j.ni&&u.LG==c.type&&(f=Q.CM(c.d7()),3E3>(f.data&&f.data.length)&&(f.data=t.W3a(f.data).join(),Q.Za(a,f,{prefix:c.type})));}this.Te&&(b=this.Te.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(r.config.$hb)try{d=this.j.wf;g=d&&d.gxa;if(g){k=g.expiration;isNaN(k)||(a.exp=k);m=g.keyStatuses.entries();if(m.next){h=m.next().value;h&&(a.keyStatus=h[1]);}}}catch(Ra){}}};b.prototype.jna=function(a){this.aZa||(this.aZa=!0,this.oj.Kb(Y.bi.XDa,a));};b.prototype.UXa=function(){this.jb.trace("Video element event: seeking");this.Xl?this.Xl.olb=!0:(this.jb.error("unexpected seeking event"),r.config.s$a&&this.Tl(n.J.wQa));};b.prototype.S1=function(){this.jb.trace("Video element event: seeked");this.Xl?(O.Ea(this.Xl.olb),this.Xl.nlb=!0,this.coa()):(this.jb.error("unexpected seeked event"),r.config.r$a&&this.Tl(n.J.vQa));};b.prototype.WXa=function(){this.Xl&&(this.Xl.qlb=!0,this.coa());this.oj.Kb(Y.bi.Bn);};b.prototype.jQ=function(){this.jb.trace("Video element event: loadstart");};b.prototype.XXa=function(a){this.jb.trace("Video element event:",a.type);try{this.j.volume.set(this.Ja.volume);this.j.muted.set(this.Ja.muted);}catch(ka){this.jb.error("error updating volume",ka);}};b.prototype.RH=function(a){a=q(a,n.uLa);this.jb.error("Video element event: error",a.Zhb);this.Tl(n.J.oQa,a.PD);};b.prototype.coa=function(){this.Xl&&this.Xl.nlb&&this.Xl.qlb&&(this.Xl=void 0,this.oj.Kb(Y.bi.pM));};qa.Object.defineProperties(b.prototype,{bca:{configurable:!0,enumerable:!0,get:function(){return r.config.etb;}}});d.LOa=b;},function(g,d,a){var k,u,r,y,A,I,l,n,O,aa,N,t,Q,ja,z,X,T,Y;function b(a,b,c){this.el=a;this.d8=b;this.prefix=c;a=t(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function f(){this.Vra=k.Uo.Vra.bind(k.Uo);this.QR=k.Uo.QR.bind(k.Uo);this.DD=k.Uo.DD;this.DB="NDA";}function h(){}function q(){}function c(){return O?O:"0.0.0.0";}function m(a){a({hAa:0,$M:0,Wva:0,eta:0});}k=a(145);f.prototype.set=function(a,b){y[a]=b;A.save(a,b);};f.prototype.get=function(a,b){if(y.hasOwnProperty(a))return y[a];n.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");A.load(a,function(c){c.W?(y[a]=c.data,b&&b(c.data)):y[a]=void 0;});};f.prototype.remove=function(a){A.remove(a);};f.prototype.clear=function(){n.info("WARNING: Calling unimplemented function Storage.clear()");};h.prototype.now=function(){return I();};h.prototype.ea=function(){return l();};h.prototype.J$=function(a){return a+I()-l();};h.prototype.eaa=function(a){return a+l()-I();};d=a(108).EventEmitter;a(48)(d,q.prototype);b.prototype.fra=function(a){var c;c=[];this.prefix&&Array.isArray(this.prefix)?c.push.apply(c,[].concat(ea(this.prefix))):this.prefix&&c.push(this.prefix);c.push(a);return new b(this.el,this.d8,c);};Q=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();g.T=function(a){u=a.iA;t=a.Uf;A=a.storage;y=a.zE;I=a.Ncb;aa=a.fK;N=a.xK;l=a.getTime;n=a.l0a;ja=a.Zj;Y=a.Ur;z=a.kB;X=a.SourceBuffer;T=a.MediaSource;O=a.uJb;r=a.Po;return{name:"cadmium",Po:r,iA:u,fK:aa,xK:N,storage:new f(),Storage:f,time:new h(),events:new q(),console:new b("JS-ASE",void 0,"default"),Console:b,options:{},Promise:Q,Zj:ja,kB:z,TOa:X,MediaSource:T,Ur:Y,yl:{name:c},memory:{ccb:m},qk:a.qk};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(67);d.PRa=function(){b.Uf("ProbeDownloader");return{WJ:function(a){f.Qd.oob({url:a.url,lob:a});}};}();},function(g,d,a){var f,h,q,c,m,k,u;function b(){var a;a=new h.Wj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Kb.bind(this);this.tQ=k++;this.jb=q.Uf("ProbeRequest");this.xna=f.PRa;c.Ea(void 0!==this.xna);this.Ff=d.Ur.ac.UNSENT;}Object.defineProperty(d,"__esModule",{value:!0});f=a(576);h=a(66);q=a(4);c=a(15);m=a(19);k=0;(function(){function a(){return JSON.stringify({url:this.Li,id:this.tQ,affected:this.oP,readystate:this.Ff});}m.Za(b.prototype,{zl:function(a){a.affected=this.oP;a.probed={requestId:this.tQ,url:this.Li,xb:this.Qna,groupId:this.PP};this.emit(d.Ur.Fd.VG,a);},daa:function(a){this.eZa=a.httpcode;a.affected=this.oP;a.probed={requestId:this.tQ,url:this.Li,xb:this.Qna,groupId:this.PP};this.emit(d.Ur.Fd.Ox,a);},open:function(a,b,c,f){if(!a)return!1;this.Li=a;this.oP=b;this.Qna=c;this.Ff=d.Ur.ac.OPENED;this.NWa=f;this.xna.WJ(this);return!0;},oc:function(){return!0;},Si:function(){return this.tQ;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Ff;},set:function(){}},status:{get:function(){return this.eZa;}},url:{get:function(){return this.Li;}},cGb:{get:function(){return this.oP;}},Vhb:{get:function(){return this.NWa;}}});}());(function(a){a.Fd={VG:"pr0",Ox:"pr1"};a.ac={UNSENT:0,OPENED:1,Lu:2,DONE:3,wu:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(u||(u={})));d.Ur=Object.assign(b,u);},function(g,d,a){var f,h,q;function b(a){this.nE=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(117);h=a(1);b.prototype.create=function(b,f,d,g){return new(a(296)).qRa(b,f,d,g,this.nE);};q=b;q=g.__decorate([h.N(),g.__param(0,h.l(f.vB))],q);d.pRa=q;},function(g,d){function a(a){this.j=a;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.FFa=function(){var a;a=this.j.Jl&&this.j.Jl.Gc.get()||{};a.Ng&&(this.j.Ng=a.Ng.Qa);a.Ba&&(this.j.Ba=a.Ba.Qa);};a.prototype.ol=function(){-1===this.j.Ba&&this.FFa();return this.j.Ba;};a.prototype.b2a=function(a){-1!==this.j.Ng&&-1!==this.j.Ba||this.FFa();return-1===this.j.Ng||-1===this.j.Ba?Number.MAX_VALUE:this.j.Ng+8*a/this.j.Ba;};d.GHa=a;},function(g,d,a){var f,h,q,c,m,k;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(14);h=a(298);q=a(24);c=a(1);m=a(3);a=a(17);b.prototype.MD=function(a){var b;a.lN={};if(!a.wE()&&a.ju&&0<a.ju.length&&(a.iu=this.Fua(a),a.iu)){b=this.Gsb(a);b()||(a.addEventListener(f.R.Lj,b),a.Ee.addListener(b));}};b.prototype.Gsb=function(a){var c;function b(){var d,g;if(!a.Ee.value||!a.zX)return!1;d=a.iu;g=d.Ec();return g===h.$m.LOADING?!1:g!==h.$m.LOADED&&d.$t?(d=c.Sdb(a))?(a.lN.offset=c.app.Tb().ba(m.ha),a.iu=d,d.download(),!0):!1:(a.removeEventListener(f.R.Lj,b),a.Ee.removeListener(b),!1);}c=this;return b;};b.prototype.Sdb=function(a){var b,c;b=this.config();c=a.Al.jK()<b.pvb;b=(a.Ee.value?a.Ee.value.O:0)>b.ovb;return this.ndb(a,c&&b);};b.prototype.ndb=function(a,b){if(b&&(b=this.Fua(a),this.hva(a,b.size)))return a.lN.pCa="h",b;b=this.wcb(a);if(this.hva(a,b.size))return a.lN.pCa="l",b;};b.prototype.hva=function(a,b){var c,f;c=this.config();f=Math.min(a.xI(),a.AN());return a.m1a.b2a(b)*(1+.01*c.J_a[2])<f*c.svb;};b.prototype.Fua=function(a){return a.ju[a.ju.length-1];};b.prototype.wcb=function(a){return a.ju[0];};k=b;k=g.__decorate([c.N(),g.__param(0,c.l(q.Ne)),g.__param(1,c.l(a.pd))],k);d.UTa=k;},function(g,d,a){var h,q,c,m;function b(a,b,c,f){this.ia=a;this.pqb=b;this.ja=c;this.app=f;this.Fc={};}function f(a,b){this.Jf=a;this.app=b;this.od={};this.ja=a.kb("PlaybackMilestoneStoreImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(7);c=a(24);m=a(3);f.prototype.Mpb=function(a,c){this.od[a]&&this.ja.warn("registerPlayback: xid "+a+" already registered, overriding");c=(c?c:this.app.Tb()).ba(m.ha);this.ja.trace("registerPlayback: xid "+a+" at "+c);this.od[a]=new b(a,c,this.ja,this.app);return this.od[a];};f.prototype.Ycb=function(a){this.od[a]||this.ja.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.od[a];};f.prototype.Xpb=function(a){this.ja.trace("removePlayback: xid "+a);delete this.od[a];};a=f;a=g.__decorate([h.N(),g.__param(0,h.l(q.ob)),g.__param(1,h.l(c.Ne))],a);d.tRa=a;b.prototype.$l=function(a,b){b=b?b.ba(m.ha):this.app.Tb().ba(m.ha)-this.pqb;this.ja.trace("addMilestone: xid "+this.ia+" "+a+" at "+b);this.Fc[a]=b;};},function(g,d,a){var b,f,h,q,c,m,k,u,r,y,A,I,l,n,O,aa,N,t,Q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(300);f=a(581);h=a(390);q=a(299);c=a(580);m=a(297);k=a(579);u=a(426);r=a(578);y=a(569);A=a(17);I=a(89);l=a(21);n=a(7);O=a(568);aa=a(183);N=a(567);t=a(566);Q=a(565);d.j=new g.ic(function(d){d(b.Y_).to(f.tRa).Y();d(h.Oka).$f(function(b){var c;c=b.zb;return function(b,f,d,g,k,h,m,r){return new(a(564)).STa(c.get(t.Qka),b,f,d,g,k,h,m,r);};});d(t.Qka).to(Q.VTa).Y();d(q.Pka).to(c.UTa).Y();d(u.Eja).to(r.pRa).Y();d(m.Kea).$f(function(){return function(a){return new k.GHa(a);};});d(O.uja).$f(function(a){var b;b=a.zb;return function(a){return new y.lRa(a,b.get(n.ob),b.get(A.pd),b.get(l.Fe),b.get(I.pu));};});d(aa.Z_).$f(function(a){var c;c=a.zb;return function(a,f,d,g,k,h,m,r,p){return new N.uRa(a,f,d,g,k,h,m,r,p,c.get(O.uja),c.get(b.Y_));};});});},function(g,d,a){var f,h;function b(){this.OM=new h.kj();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(137);b.prototype.hF=function(a){this.OM.next(a);};qa.Object.defineProperties(b.prototype,{iM:{configurable:!0,enumerable:!0,get:function(){return this.OM;}}});a=b;a=g.__decorate([f.N()],a);d.dRa=a;},function(g,d,a){var f,h,q;function b(a,b){this.zD=b;this.log=a.kb("Pbo");this.links={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);a=a(93);b.prototype.aR=function(a){a&&(this.links=Object.assign(Object.assign({},this.links),a));};b.prototype.v7=function(a){return this.links[a];};b.prototype.q_a=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.zD().Zg;a="drmContextId="+a.drmContextId;this.aR({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};q=b;q=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(a.Ax))],q);d.TQa=q;},function(g,d,a){var h,q;function b(a,b,f,d,g,h,p){this.version=a;this.url=b;this.id=f;this.languages=d;this.$a=g;this.D8a=h;this.Snb=p;}function f(a){this.Jj=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);a=a(82);f.prototype.create=function(a,f,d,g,h){return new b(this.Jj.version,f,a,this.Jj.languages,d,g,h);};q=f;q=g.__decorate([h.N(),g.__param(0,h.l(a.Iu))],q);d.fRa=q;b.prototype.toJSON=function(){return{version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.$a,echo:this.D8a};};},function(g,d,a){var f,h,q,c,m,k;function b(a,b,c){a=h.Ie.call(this,a,"PboConfigImpl")||this;a.config=b;a.Y_a=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);q=a(27);c=a(32);m=a(17);a=a(88);da(b,h.Ie);qa.Object.defineProperties(b.prototype,{YF:{configurable:!0,enumerable:!0,get:function(){return this.config().yj.YF||"";}},RX:{configurable:!0,enumerable:!0,get:function(){return this.config().yj.RX||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},gAa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().yj.gW;}},tE:{configurable:!0,enumerable:!0,get:function(){return!1;}},yya:{configurable:!0,enumerable:!0,get:function(){return!0;}},u$:{configurable:!0,enumerable:!0,get:function(){return!0;}},nDa:{configurable:!0,enumerable:!0,get:function(){return{logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.Y_a.Cpa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},SBa:{configurable:!0,enumerable:!0,get:function(){return!1;}},w8:{configurable:!0,enumerable:!0,get:function(){return 10;}}});k=b;g.__decorate([c.config(c.string,"uiVersion")],k.prototype,"YF",null);g.__decorate([c.config(c.string,"uiPlatform")],k.prototype,"RX",null);g.__decorate([c.config(c.px,"pboVersion")],k.prototype,"version",null);g.__decorate([c.config(c.string,"pboOrganization")],k.prototype,"gAa",null);g.__decorate([c.config(c.gda,"pboLanguages")],k.prototype,"languages",null);g.__decorate([c.config(c.wd,"hasLimitedPlaybackFunctionality")],k.prototype,"tE",null);g.__decorate([c.config(c.wd,"mdxBindUsingNodeQuark")],k.prototype,"yya",null);g.__decorate([c.config(c.wd,"mdxPairUsingNodeQuark")],k.prototype,"u$",null);g.__decorate([c.config(c.object(),"pboCommands")],k.prototype,"nDa",null);g.__decorate([c.config(c.wd,"pboRecordHistory")],k.prototype,"SBa",null);g.__decorate([c.config(c.px,"pboHistorySize")],k.prototype,"w8",null);k=g.__decorate([f.N(),g.__param(0,f.l(q.mj)),g.__param(1,f.l(m.pd)),g.__param(2,f.l(a.lu))],k);d.NQa=k;},function(g,d,a){var q,c,m,k,u,r,y,A,I,l,n,O,aa,N,t;function b(a){this.config=a;this.lk=[];}function f(a,b,c){this.ta=a;this.WF=b;this.context=c;this.startTime=this.ta.Tb();}function h(a,c,f,d,g,k,h,m,r){this.jFa=c;this.json=f;this.ta=d;this.fz=g;this.XL=k;this.ga=h;this.Jb=r;this.log=a.kb("Pbo");m.SBa&&(this.lk=new b(m));this.WF=this.jFa();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);q=a(1);c=a(3);m=a(2);k=a(303);u=a(7);r=a(36);y=a(24);A=a(52);I=a(116);l=a(30);n=a(302);O=a(82);aa=a(68);N=a(14);t=a(37);h.prototype.send=function(a,b){var c;c=new f(this.ta,this.WF,a);this.lk&&this.lk.append(c);return this.BF(a,b,c);};h.prototype.BF=function(a,b,c){var f;f=this;return new Promise(function(d,g){f.$t(a,b).then(function(a){var b,k;f.Frb(a);b=R(f.Jwb(a));k=b.next().value;b=b.next().value;k&&(f.g3a(c),d(a));b&&(f.xqa(c,b),g(b));})["catch"](function(a){var b;b=f.xqa(c,a);a.Sa&&(a.Sa=[a.Sa," ",b].join(""));g(a);});});};h.prototype.Frb=function(a){(a=a.serverTime)&&this.Jb.Kb(N.kha.mDa,c.Bb(a));};h.prototype.Jwb=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.Bmb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(z){throw{gA:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{gA:!0,code:"FAIL",message:"There is no result property on the response"};}throw{gA:!0,code:"FAIL",message:"There is no body property on the response"};};h.prototype.E0a=function(a,b,c){var f;f=this;this.dwb(b,a);this.WF=this.jFa(c);return this.WF.send(b,c).then(function(a){return{$t:!1,result:f.Bmb(a.body)};})["catch"](function(c){var d,g;g=c&&c.Pj&&void 0!==c.Pj.maxRetries?Math.min(c.Pj.maxRetries,b.Mba):b.Mba;return f.jX(b,c,a,g)?(d=f.g2a(c,a,g),f.log.warn("Method failed, retrying",Object.assign({Method:b.gl,Attempt:a+1,WaitTime:d,MaxRetries:g},f.h5(c))),Promise.resolve({$t:!0,Od:d,error:c})):Promise.resolve({$t:!1,error:c});});};h.prototype.dwb=function(a,b){var c;c=a.url.searchParams;c.set(t.f0.jSa,(b+1).toString());c.set(t.f0.xg,a.Cba.toString());c.set(t.f0.lSa,a.Bba);};h.prototype.$t=function(a,b,c){var f;c=void 0===c?0:c;f=this;return this.E0a(c++,a,b).then(function(d){if(d.$t)return f.EN(d.Od).then(function(){return f.$t(a,b,c);});if(d.error)throw d.error;if(void 0===d.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return d.result;});};h.prototype.jX=function(a,b,c,f){var d;d=this.fz.Lba||this.wgb(b);if(d&&c<f)return!0;d?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.gl,Attempt:c+1,MaxRetries:f},this.h5(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.gl},this.h5(b)));return!1;};h.prototype.wgb=function(a){var b,c;b=a&&a.code;c=a&&(a.Z||a.Lc);a=a.Gg!==m.b_.Zia;c=!!c&&c>=m.u.rB&&c<=m.u.qB&&a;return!(!b||"RETRY"!==b)||c;};h.prototype.g2a=function(a,b,f){return a&&a.Pj&&void 0!==a.Pj.retryAfterSeconds?c.ih(a.Pj.retryAfterSeconds):c.Bb(this.XL.iba(1E3,1E3*Math.pow(2,Math.min(b-1,f))));};h.prototype.EN=function(a){var b;b=this;return new Promise(function(f){b.ga.Og(a||c.sf,f);});};h.prototype.h5=function(a){return n.ngb(a)?a:{message:a.message,subCode:a.Lc,extCode:a.Gg,mslCode:a.Vq,data:a.data};};h.prototype.g3a=function(a){a.hda();};h.prototype.xqa=function(a,b){var c;a.wq(b);if(this.lk)try{c=this.json.stringify(this.lk);this.log.error("PBO command history",c);return c;}catch(X){}return"";};a=h;a=g.__decorate([q.N(),g.__param(0,q.l(u.ob)),g.__param(1,q.l(k.Nka)),g.__param(2,q.l(r.Cu)),g.__param(3,q.l(y.Ne)),g.__param(4,q.l(A.Sm)),g.__param(5,q.l(I.dH)),g.__param(6,q.l(l.yg)),g.__param(7,q.l(O.Iu)),g.__param(8,q.l(aa.nZ))],a);d.PQa=a;f.prototype.hda=function(){this.W=!0;this.elapsedTime=this.ta.Tb().xe(this.startTime);};f.prototype.wq=function(a){this.W=!1;this.elapsedTime=this.ta.Tb().xe(this.startTime);this.Vtb=a.Lc||a.subCode;this.g$a=a.Gg||a.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var a;a=Object.assign({success:this.W,method:this.context.gl,startTime:this.startTime.ba(c.ha),elapsedTime:this.elapsedTime?this.elapsedTime.ba(c.ha):"in progress"},this.WF.B4());return this.W?a:Object.assign(Object.assign(Object.assign({},a),this.WF.B4()),{subcode:this.Vtb,extcode:this.g$a});};b.prototype.append=function(a){this.lk.push(a);0<this.config.w8&&this.lk.length>this.config.w8&&this.lk.shift();};b.prototype.toJSON=function(){return this.lk;};},function(g,d,a){var b,f,h,q,c,m,k,u,r,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(304);f=a(587);h=a(82);q=a(586);c=a(301);m=a(585);k=a(124);u=a(584);r=a(146);y=a(583);d.Lmb=new g.ic(function(a){a(h.Iu).to(q.NQa).Y();a(b.cja).to(f.PQa).Y();a(k.gja).to(u.TQa);a(k.$G).$f(function(a){return function(){return a.zb.get(k.gja);};});a(c.pja).to(m.fRa).Y();a(r.SO).to(y.dRa).Y();});},function(g,d,a){var f,h,q,c,m;function b(a){return h.Ie.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(32);h=a(35);q=a(1);c=a(27);m=a(3);da(b,h.Ie);qa.Object.defineProperties(b.prototype,{Tya:{configurable:!0,enumerable:!0,get:function(){return m.Bb(5E3);}},dAa:{configurable:!0,enumerable:!0,get:function(){return m.Bb(1E3);}},eAa:{configurable:!0,enumerable:!0,get:function(){return m.Bb(1E3);}}});a=b;g.__decorate([f.config(f.Jg,"minDecoderBufferMilliseconds")],a.prototype,"Tya",null);g.__decorate([f.config(f.Jg,"optimalDecoderBufferMilliseconds")],a.prototype,"dAa",null);g.__decorate([f.config(f.Jg,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"eAa",null);a=g.__decorate([q.N(),g.__param(0,q.l(c.mj))],a);d.ePa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(436);f=a(589);d.nkb=new g.ic(function(a){a(b.jia).to(f.ePa).Y();});},function(g,d,a){var f,h,q,c,m,k,u,r;function b(a,b,f,d,g,k){function h(c,h){this.track=c;this.label=h;this.Ff=r.Hb.ac.UNSENT;this.Be=0;this.$n=[];this.requestId=k.Oy().toString();this.Aa=f;this.log=b.kb("MediaRequest");this.config=a;this.Jb=new u.Wj();"notification"===this.label?this.config().tq&&(this.wk=d):this.wk=g;}function m(c,h){this.requestId=k.Oy().toString();this.Aa=f;this.log=b.kb("MediaRequest");this.config=a;this.Jb=new u.Wj();this.label=h;"notification"===this.label?this.config().tq&&(this.wk=d):this.wk=g;this.AK=this.NI=this.OI=void 0;this.track=c;this.sR=this.url=this.responseType=void 0;this.Ff=r.Hb.ac.UNSENT;this.Gj=this.RD=this.Gh=this.status=void 0;this.Bk=this.Be=0;this.connect=this.w6=this.Ky=this.vw=this.q9=this.zd=this.nf=this.yC=void 0;this.$n=[];this.Ro=!1;}h.prototype.addEventListener=function(a,b,c){this.Jb.addListener.call(this,a,b,c);};h.prototype.removeEventListener=function(a,b){this.Jb.removeListener.call(this,a,b);};h.prototype.emit=function(a,b,c){this.Jb.Kb.call(this,a,b,c);};h.prototype.Vkb=function(a){this.Ff===r.Hb.ac.OPENED&&(this.AK=!0,this.nf=this.zd=a.timestamp,this.Ff=r.Hb.ac.Lu,this.emit(r.Hb.Fd.yia,a));};h.prototype.baa=function(a){var b;if(this.Ff<r.Hb.ac.Qx){this.$n=[];b=a.timestamp-this.nf;!this.Yb&&0<b&&(this.connect=!0,this.$n.push(b));!0!==this.config().ofb&&(this.zd=a.timestamp);this.Ff=r.Hb.ac.Qx;this.emit(r.Hb.Fd.xia,a);}};h.prototype.Ykb=function(a){this.Ff===r.Hb.ac.Qx&&(this.q9=this.zd=a.timestamp,a.newBytes=a.bytesLoaded-this.Be,this.Be=a.bytesLoaded,this.Aa.Nd(this.q9)&&this.emit(r.Hb.Fd.zia,a));};h.prototype.zl=function(a){-1<[r.Hb.ac.Lu,r.Hb.ac.Qx].indexOf(this.Ff)&&(this.AK=!1,this.zd=a.timestamp,this.Ff=r.Hb.ac.DONE,a.newBytes=this.Uh-this.Be,this.Be=this.Uh,this.Aa.Nd(this.Ky)&&(this.zd=this.Ky,0===a.newBytes&&(this.q9=this.Ky)),this.Aa.Nd(this.vw)&&(this.nf=this.vw),this.yC=a.response,this.emit(r.Hb.Fd.VG,a));};h.prototype.Pkb=function(a){this.AK=!1;this.emit(r.Hb.Fd.APa,a);};h.prototype.daa=function(a){this.zd=a.timestamp;this.status=a.httpcode;this.Gh=a.errorcode;this.RD=r.Hb.tu.name[this.Gh];this.Gj=a.nativecode;this.emit(r.Hb.Fd.Ox,a);this.AK=!1;};h.prototype.open=function(a,b,c,f,d,g,k){this.JA=!1;this.sR=b;this.url=a;this.responseType=c;if(!this.url)return!1;this.Ff=r.Hb.ac.OPENED;this.wk.WJ(this,b,k);return!0;};h.prototype.oc=function(){-1!==[r.Hb.ac.OPENED,r.Hb.ac.Lu,r.Hb.ac.Qx].indexOf(this.Ff)&&this.abort();return!0;};h.prototype.mqa=function(){this.yC=void 0;this.hD&&(this.hD.response=void 0,this.hD.cadmiumResponse.content=void 0);this.A8=void 0;};h.prototype.XM=function(a){this.url=a;return!0;};h.prototype.abort=function(){this.Ff=r.Hb.ac.kG;this.wk.vy(this);return!0;};h.prototype.pause=function(){};h.prototype.getResponseHeader=function(){return null;};h.prototype.getAllResponseHeaders=function(){return"";};h.prototype.eM=function(){};h.prototype.Si=function(){return this.requestId;};h.prototype.toString=function(){var a;a={requestId:this.Si(),segmentId:this.Db,isHeader:this.Yb,ptsStart:this.Wt,ptsOffset:this.Gm,responseType:this.responseType,duration:this.dt,readystate:this.Ff};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);};h.prototype.toJSON=function(){return this.toString();};h.prototype.Pdb=function(){var a,b;if(this.config().RFa&&c.Pr&&c.Pr.getEntriesByType&&(!this.Aa.Nd(this.vw)||!this.Aa.Nd(this.Ky)&&this.Aa.Nd(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.OI+"-"+this.NI+"*");b=new RegExp(a);a=c.Pr.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Aa.Nd(a)&&(0<a.startTime&&(this.vw=a.startTime,0<a.requestStart&&(this.vw=Math.max(this.vw,a.requestStart))),0<a.responseStart&&(this.w6=a.responseStart),0<a.responseEnd&&(this.Ky=a.responseEnd));}};h.prototype.vgb=function(){return this.Aa.Nd(this.vw)&&this.Aa.Nd(this.Ky)&&this.Aa.Nd(this.w6);};qa.Object.defineProperties(h.prototype,{Uh:{configurable:!0,enumerable:!0,get:function(){return this.sR.end-this.sR.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.NI-this.OI+1;}},Kva:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},Yb:{configurable:!0,enumerable:!0,get:function(){return!this.yz;}},response:{configurable:!0,enumerable:!0,get:function(){return this.yC;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Ff;},set:function(){}}});Object.getOwnPropertyNames(h.prototype).forEach(function(a){Object.defineProperty(m.prototype,a,Object.getOwnPropertyDescriptor(h.prototype,a));});this.Zj=Object.assign(m,r.Hb);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);q=a(17);c=a(8);m=a(21);k=a(306);u=a(66);r=a(147);a=a(117);b=g.__decorate([f.N(),g.__param(0,f.l(q.pd)),g.__param(1,f.l(h.ob)),g.__param(2,f.l(m.Fe)),g.__param(3,f.l(k.Dia)),g.__param(4,f.l(k.eia)),g.__param(5,f.l(a.vB))],b);d.QOa=b;},function(g,d,a){var f,h,q,c,m,k,u,r,y,A,I,l;function b(a,b,c,f,d,g,k){this.ta=a;this.fz=b;this.config=c;this.Qd=d;this.rjb=g;this.kqa=k;this.log=f.kb("MediaRequestDownloader");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(50);h=a(1);q=a(7);c=a(83);m=a(309);k=a(74);u=a(147);r=a(24);y=a(3);A=a(308);I=a(52);a=a(17);b.prototype.WJ=function(a,b,c){var g,h,m;function d(){a.removeEventListener(u.Hb.Fd.Ox,d);a.OJ?a.OJ++:a.OJ=1;a.OJ>=g.config().m6.length&&(a.OJ=g.config().m6.length-1);setTimeout(function(){g.WJ(a,b,c);},g.config().m6[a.OJ]);}g=this;a.DJb=!0;h={url:a.url,responseType:this.Qd.ZRa.rHa,withCredentials:!1,AD:a.M===f.wc.Da.AUDIO?"audio":"video",offset:b.start,length:a.Uh,track:{type:a.M===f.wc.Da.AUDIO?k.vg.audio:k.vg.video},stream:{Uc:a.pa,O:a.O},Wb:a.xb,lp:a,Kg:a.Yb?void 0:this.kqa.parse.bind(this.kqa),lX:c,tN:this.fz.tN};h=this.rjb.download(h,function(b){b.W&&a.readyState!==u.Hb.ac.DONE&&a.readyState!==u.Hb.ac.kG&&(a.readyState!==u.Hb.ac.wu&&a.readyState===u.Hb.ac.Lu&&(a.readyState=u.Hb.ac.Qx,a.baa({mediaRequest:a,readyState:a.readyState,timestamp:g.pt(),connect:!1})),a.readyState=u.Hb.ac.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:g.pt(),cadmiumResponse:b,response:b.content},a.hD=b,a.zl(b));});if(a.Yb){m={mediaRequest:a,readyState:a.readyState,timestamp:this.pt(),connect:!1};a.baa(m);}a.addEventListener(u.Hb.Fd.Ox,d);a.A8=h.abort;};b.prototype.vy=function(a){try{a.A8();}catch(O){this.log.warn("exception aborting request");}};b.prototype.pt=function(){return this.ta.Tb().ba(y.ha);};l=b;l=g.__decorate([h.N(),g.__param(0,h.l(r.Ne)),g.__param(1,h.l(I.Sm)),g.__param(2,h.l(a.pd)),g.__param(3,h.l(q.ob)),g.__param(4,h.l(c.Eu)),g.__param(5,h.l(m.cia)),g.__param(6,h.l(A.cfa))],l);d.ROa=l;},function(g,d,a){var f,h,q;function b(a,b){this.Qd=b;this.log=a.kb("OpenConnectSideChannel");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);a=a(83);b.prototype.WJ=function(a,b,f){this.Qd.$sb({url:a.url,brb:f});};b.prototype.vy=function(a){try{a.A8();}catch(m){this.log.warn("exception aborting request");}};q=b;q=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(a.Eu))],q);d.HPa=q;},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Bj:function(){return this.buffer.length-this.position;},ue:function(){return this.buffer[this.position++];},Bd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},tc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},dr:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},nba:function(){for(var a="",b;b=this.ue();)a+=String.fromCharCode(b);return a;},Cb:function(){return this.tc(2);},Oa:function(){return this.tc(4);},Zf:function(){return this.tc(8);},tW:function(){return this.tc(2)/256;},$L:function(){return this.tc(4)/65536;},qf:function(a){for(var b,f="";a--;)b=this.ue(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},Ww:function(){return this.qf(4)+"-"+this.qf(2)+"-"+this.qf(2)+"-"+this.qf(2)+"-"+this.qf(6);},aM:function(a){for(var b=0,f=0;f<a;f++)b+=this.ue()<<(f<<3);return b;},rA:function(){return this.aM(4);},iG:function(a){this.Ar(a,2);},Br:function(a){this.Ar(a,4);},IN:function(a){this.buffer[this.position++]=a;},Ar:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},zr:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},aB:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},bB:function(a,b){this.aB(a.Bd(b));}};g.T=d;},function(g,d,a){var f,h,q,c,m,k;function b(a,b){this.config=a;this.log=b.kb("ChunkMediaParser");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(134);q=a(7);c=a(9);m=a(17);k=a(307).lba;b.prototype.parse=function(a){var d,g,h;a=new Uint8Array(a);for(var b=k(a),f=0;f<b.length;f+=2){d=b[f];if("moof"!==d.type||"mdat"!==b[f+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:d.type,nextBoxType:b[f+1].type}),Error("data is not moof-mdat box pairs");if(this.config().ixb&&"moof"==d.type){g=d.Tv("traf/saio");h=d.Tv("traf/"+c.SHa);g&&h&&(d=h.X0a.byteOffset-d.raw.byteOffset,g.LCa[0]!==d&&(this.log.error("Repairing bad SAIO",{saioOffsets:g.LCa[0],auxDataOffsets:d}),this.fmb(g,d)));}}return a.buffer;};b.prototype.fmb=function(a,b){var c;c=new h.jB(a.raw);c.seek(a.size-a.Dv);a=c.tc(1);c.tc(3)&1&&(c.Oa(),c.Oa());a=1<=a?8:4;c.Oa();c.Ar(b,a);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.pd)),g.__param(1,f.l(q.ob))],a);d.PIa=a;},function(g,d,a){var f,h,q,c,m,k,u,r,y,A;function b(a,b,c,f,d,g){this.gR=a;this.Qd=c;this.Aa=f;this.ta=d;this.config=g;this.log=b.kb("MediaHttp");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(147);h=a(87);q=a(2);c=a(7);m=a(1);k=a(83);u=a(21);r=a(24);y=a(3);a=a(17);b.prototype.pt=function(){return this.ta.Tb().ba(y.ha);};b.prototype.zza=function(a,b){a.Vkb({mediaRequest:a,timestamp:b});};b.prototype.Uza=function(a){var b;b=a.mediaRequest.lp;b.readyState=f.Hb.ac.Qx;a=a.connect?a:{timestamp:this.pt(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.baa(a);};b.prototype.JV=function(a){this.zza(a.mediaRequest.lp,a.timestamp);};b.prototype.LV=function(a){var b,c;b=a.mediaRequest.lp;c=a.bytes;"undefined"!==typeof b&&(b.readyState===f.Hb.ac.Lu&&this.Uza(a),this.Aa.gg(c)&&(a.mediaRequest=b,a.timestamp=this.pt(),c>b.Be&&(a.newBytes=c-b.Be,a.bytesLoaded=c,b.Ykb(a))));};b.prototype.SE=function(a){var b,c,d,g;b=a.mediaRequest;c=a.errorcode;d=a.httpcode;g=f.Hb.tu;if("undefined"!==typeof b&&(b=b.lp,"undefined"!==typeof b&&b.readyState!==f.Hb.ac.wu))if(c===q.u.yu)b.readyState=f.Hb.ac.kG,a.mediaRequest=b,a.readyState=b.readyState,b.Pkb(a);else{b.readyState=f.Hb.ac.wu;switch(c){case q.u.rB:d=g.KY;break;case q.u.a_:d=g.YZ;break;case q.u.DG:d=400<d&&500>d?g.xO:500<=d?g.$Z:g.YZ;break;case q.u.qB:d=g.ZZ;break;case q.u.CG:d=g.Uea;break;case q.u.EG:d=g.yO;break;case q.u.Ex:d=g.yO;break;case q.u.XZ:d=g.Bga;break;case q.u.yga:d=g.xO;break;case q.u.hKa:d=g.ZZ;break;default:d=g.yO;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=c;b.daa(a);}};b.prototype.Flb=function(a,b){var c,d;c=b.request.lp;if(c)if(b.W){if(a.j&&c.readyState!==f.Hb.ac.DONE){switch(c.readyState){case f.Hb.ac.kG:return;case f.Hb.ac.Lu:this.Uza({mediaRequest:b.request});}c.readyState=f.Hb.ac.DONE;if(!c.Yb){d={mediaRequest:c,readyState:c.readyState,timestamp:this.pt(),cadmiumResponse:b};a.j.Fda+=1;c.Pdb();c.vgb()&&(a.j.Iba+=1,b.Fj.rg=Math.ceil(c.w6),b.Fj.Hl=Math.ceil(c.Ky),b.Fj.requestTime=Math.floor(c.vw));c.hD=d;c.zl(d);}}}else c.readyState!==f.Hb.ac.kG&&(a={mediaRequest:b.request,timestamp:this.pt(),errorcode:b.Z,httpcode:b.mi},this.SE(a));};b.prototype.download=function(a,b){var c,d;c=this;b=this.Qd.download(a,b);if(a.lp){d=a.lp;-1<[f.Hb.ac.OPENED,f.Hb.ac.wu].indexOf(d.readyState)&&(d.readyState=f.Hb.ac.Lu,this.config().tjb?b.jsb(function(a){c.JV(a);}):this.zza(d,this.pt()));}b.roa(function(b){c.Flb(a,b);});b.ssb(function(a){c.LV(a);});b.esb(function(a){c.SE(a);});return b;};A=b;A=g.__decorate([m.N(),g.__param(0,m.l(h.xY)),g.__param(1,m.l(c.ob)),g.__param(2,m.l(k.Eu)),g.__param(3,m.l(u.Fe)),g.__param(4,m.l(r.Ne)),g.__param(5,m.l(a.pd))],A);d.MOa=A;},function(g,d,a){var f,h,q,c,b;function b(a){function b(b,f){this.G=b;this.dk=f;this.n6=!1;this.emit=c.prototype.emit;this.addListener=c.prototype.addListener;this.on=c.prototype.on;this.once=c.prototype.once;this.removeListener=c.prototype.removeListener;this.removeAllListeners=c.prototype.removeAllListeners;this.listeners=c.prototype.listeners;this.listenerCount=c.prototype.listenerCount;c.call(this);this.jb=a.kb("DownloadTrack");}b.prototype.ll=function(){this.OQ=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.OQ+" config: "+JSON.stringify(this.G);};b.prototype.toJSON=function(){return"Download Track id:"+this.OQ+" config: "+JSON.stringify(this.G);};b.prototype.RBa=function(a){this.G.connections!==a.connections&&(this.G=a);};b.prototype.rl=function(){return 1<this.G.connections?!0:!1;};qa.Object.defineProperties(b.prototype,{cb:{configurable:!0,enumerable:!0,get:function(){return this.OQ;}},Ro:{configurable:!0,enumerable:!0,get:function(){return void 0===this.OQ;}},config:{configurable:!0,enumerable:!0,get:function(){return this.G;}},iA:{configurable:!0,enumerable:!0,get:function(){return this.jb;}},wk:{configurable:!0,enumerable:!0,get:function(){return this.dk.wk;}}});this.kB=Object.assign(b,new q.EKa());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);q=a(148);c=a(129).EventEmitter;b=g.__decorate([f.N(),g.__param(0,f.l(h.ob))],b);d.DKa=b;},function(g,d,a){var b,f,h,q,c,m,k,u,r,y,A;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(148);f=a(597);h=a(309);q=a(596);c=a(308);m=a(595);k=a(306);u=a(593);r=a(592);y=a(305);A=a(591);d.k0a=new g.ic(function(a){a(b.Lfa).to(f.DKa).Y();a(h.cia).to(q.MOa).Y();a(c.cfa).to(m.PIa).Y();a(k.Dia).to(u.HPa).Y();a(k.eia).to(r.ROa).Y();a(y.dia).to(A.QOa).Y();});},function(g,d,a){var f,h,q,c,m;function b(a){return h.Ie.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);q=a(27);c=a(32);m=a(3);da(b,h.Ie);qa.Object.defineProperties(b.prototype,{eDa:{configurable:!0,enumerable:!0,get:function(){return!0;}},N9:{configurable:!0,enumerable:!0,get:function(){return m.tV(5);}}});a=b;g.__decorate([c.config(c.wd,"sendPrefetchEventLogs")],a.prototype,"eDa",null);g.__decorate([c.config(c.Jg,"logsInterval")],a.prototype,"N9",null);a=g.__decorate([f.N(),g.__param(0,f.l(q.mj))],a);d.KRa=a;},function(g,d,a){var f,h,q;function b(a,b){this.Aa=b;this.ja=a.kb("PlayPredictionDeserializer");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);a=a(21);b.prototype.A7a=function(a){var b;b=this;try{return{direction:a.direction,jhb:a.layoutHasChanged,Mqb:a.rowInteractionIndex,xa:a.lolomos.map(function(a){return b.w7a(a);})};}catch(k){this.ja.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.w7a=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.v7a(a);}),requestId:a.requestId,rowIndex:a.rowIndex,Oqb:a.rowSegment};};b.prototype.v7a=function(a){var b,c;b={Td:a.pts,property:a.property,nb:a.viewableId,index:a.index};c=a.preplay;this.Aa.Nd(c)&&(b.fF=this.z7a(c));a=a.params;this.Aa.Nd(a)&&(b.$a=this.Tra(a));return b;};b.prototype.z7a=function(a){var b;b={Td:a.pts,nb:a.viewableId,hA:a.pipelineNum,index:a.index};a=a.params;this.Aa.Nd(a)&&(b.$a=this.Tra(a));return b;};b.prototype.Tra=function(a){return{De:a.uiLabel,mh:a.trackingId,Km:a.sessionParams};};b.prototype.Ura=function(a){var b;b=this;try{return a.map(function(a){return b.x7a(a);});}catch(k){this.ja.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.x7a=function(a){var b,c;c=a.params;this.Aa.Nd(c)&&(b=this.y7a(c));return{I:a.movieId,ee:a.priority,force:a.force,$a:b,De:a.uiLabel,DMb:a.uiExpectedStartTime,CMb:a.uiExpectedEndTime,Pi:a.firstTimeAdded};};b.prototype.y7a=function(a){var b,c;b=void 0;c=a.sessionParams;this.Aa.Nd(c)&&(b=c);return{AI:this.u7a(a.authParams),Km:b,mh:a.trackingId,S:a.startPts,ya:a.manifest,Ih:a.isBranching};};b.prototype.u7a=function(a){return{AAa:(a||{}).pinCapableClient};};b.prototype.Jrb=function(a){var b,c;try{b="";this.Aa.Nd(a.TAa)&&(b=JSON.stringify(this.Mrb(JSON.parse(a.TAa))));c="";this.Aa.Nd(a.UAa)&&(c=JSON.stringify(this.Nrb(JSON.parse(a.UAa))));return{dest_id:a.iS,offset:a.offset,predictions:a.YAa.map(this.Prb,this),ppm_input:b,ppm_output:c,prepare_type:a.lLb};}catch(u){this.ja.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.Prb=function(a){return{title_id:a.Dp};};b.prototype.Mrb=function(a){return{direction:a.direction,layoutHasChanged:a.jhb,rowInteractionIndex:a.Mqb,lolomos:a.xa.map(this.Lrb,this)};};b.prototype.Lrb=function(a){return{context:a.context,list:a.list.map(this.Krb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.Oqb};};b.prototype.Krb=function(a){var b,c;this.Aa.Nd(a.fF)&&(b=this.Qrb(a.fF));this.Aa.Nd(a.$a)&&(c=this.oca(a.$a));return{preplay:b,pts:a.Td,viewableId:a.nb,params:c,property:a.property,index:a.index};};b.prototype.Qrb=function(a){var b;this.Aa.Nd(a.$a)&&(b=this.oca(a.$a));return{pts:a.Td,viewableId:a.nb,params:b,pipelineNum:a.hA,index:a.index};};b.prototype.oca=function(a){return{uiLabel:a.De,trackingId:a.mh,sessionParams:a.Km};};b.prototype.Nrb=function(a){return a.map(this.Orb,this);};b.prototype.Orb=function(a){var b;this.Aa.Nd(a.$a)&&(b=this.oca(a.$a));return{movieId:a.I,priority:a.ee,params:b,uiLabel:a.De,firstTimeAdded:a.Pi,viewableId:a.nb,pts:a.Td};};q=b;q=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(a.Fe))],q);d.kRa=q;},function(g,d,a){var h,q,c,m,k,u,r,y,A;function b(a,b,c,f,d,g,k,h){this.Mh=a;this.Rz=b;this.ga=c;this.Qw=d;this.config=g;this.X6=k;this.Gaa=h;this.qW=[];this.p9=[];this.Uaa={};this.ja=f.kb("PrefetchEvents");}function f(a,b,c,f,d,g){this.Mh=a;this.Rz=b;this.ga=c;this.Jf=f;this.config=d;this.Gaa=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(113);q=a(1);c=a(3);m=a(38);k=a(58);u=a(30);r=a(7);y=a(310);a=a(189);f.prototype.create=function(a,c){return new b(this.Mh,this.Rz,this.ga,this.Jf,a,this.config,c,this.Gaa);};A=f;A=g.__decorate([q.N(),g.__param(0,q.l(m.Xj)),g.__param(1,q.l(k.vo)),g.__param(2,q.l(u.yg)),g.__param(3,q.l(r.ob)),g.__param(4,q.l(y.Lja)),g.__param(5,q.l(a.X_))],A);d.LRa=A;b.prototype.U1a=function(a,b,c){this.Jz(h.He.Bx.bIa,a,b,void 0,c);};b.prototype.W1a=function(a,b,c){this.Jz(h.He.Bx.cIa,a,b,void 0,c);};b.prototype.T1a=function(a,b,c){this.Jz(h.He.Bx.aIa,a,b,void 0,c);};b.prototype.R1a=function(a,b,c){this.Jz(h.He.Bx.ZHa,a,b,void 0,c);};b.prototype.QI=function(a,b,c){this.Jz(h.He.Bx.$Ha,a,b,void 0,c);};b.prototype.tnb=function(a){this.Jz(h.He.Bx.$Pa,void 0,a);};b.prototype.Cl=function(a,b,c,f,d,g,k){this.XQ()&&(this.Jz(h.He.Bx.DSa,void 0,a),this.dib(a,b,c,f,d,g,k),this.Ata(),this.Fxa());this.sgb(a)&&this.tqb();};b.prototype.D7a=function(a){a={dest_id:a,cache:this.nca(this.X6())};this.wM("destiny_start",a);};b.prototype.Wnb=function(a){(a=this.Gaa.Jrb(a))?this.wM("destiny_prepare",a):this.ja.error("failed to serialize prepare event");};b.prototype.Ata=function(){0<this.qW.length&&this.XQ()&&(this.wM("destiny_events",{dest_id:this.Qw.cn,events:this.qW}),this.qW=[]);this.UW&&(this.UW.cancel(),this.UW=void 0);this.Psa();};b.prototype.Fxa=function(){var a;if(this.V1a()&&this.XQ()){a=this.X6();this.p9=a;a={dest_id:this.Qw.cn,offset:this.Qw.tT(),cache:this.nca(a)};this.wM("destiny_cachestate",a);}this.TW&&(this.TW.cancel(),this.TW=void 0);this.Osa();};b.prototype.update=function(a){var b;b=this;a.xa.forEach(function(a){a.list.forEach(function(a){b.Uaa[a.nb]=!0;});});};b.prototype.sgb=function(a){return this.Uaa[a];};b.prototype.V1a=function(){var a,b,c;a=this;b=this.X6();if(b.length!==this.p9.length)return!0;c=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.p9[f])&&(c=!0);}catch(N){a.ja.error("Failed to stringify cachedTitle",N);}});return c;};b.prototype.Jz=function(a,b,c,f,d){this.XQ()&&(a={offset:this.Qw.tT(),event_type:a,title_id:c,asset_type:b,size:f,reason:d},this.qW.push(a),this.Psa(),this.Osa());};b.prototype.Psa=function(){this.UW||(this.UW=this.ga.Og(this.config.N9,this.Ata.bind(this)));};b.prototype.Osa=function(){this.TW||(this.TW=this.ga.Og(this.config.N9,this.Fxa.bind(this)));};b.prototype.dib=function(a,b,f,d,g,k,m){var r;r=[];f&&r.push({Dp:a,Ks:h.He.fj.mea,state:h.He.LN.UN});d&&r.push({Dp:a,Ks:h.He.fj.Fx,state:h.He.LN.UN});g&&r.push({Dp:a,Ks:h.He.fj.zG,state:h.He.LN.UN});(0<k.ba(c.ha)||0<m.ba(c.ha))&&r.push({Dp:a,Ks:h.He.fj.MEDIA,state:h.He.LN.UN,P0a:k.ba(c.ha),Uwb:m.ba(c.ha)});a={dest_id:this.Qw.cn,offset:this.Qw.tT(),xid:b,cache:this.nca(r)};this.wM("destiny_playback",a);};b.prototype.wM=function(a,b){this.config.eDa&&(a=this.Rz.gm(a,"info",b),this.Mh.yc(a));};b.prototype.nca=function(a){return a.map(function(a){return{title_id:a.Dp,state:a.state,asset_type:a.Ks,size:a.size,audio_ms:a.P0a,video_ms:a.Uwb};});};b.prototype.XQ=function(){return 0!==this.Qw.cn;};b.prototype.tqb=function(){this.Qw.sqb();this.Uaa={};};},function(g,d,a){var b,f,h,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(113);f=a(601);h=a(189);q=a(600);c=a(599);m=a(310);k=a(106);d.Mc=new g.ic(function(a){a(m.Lja).to(c.KRa).Y();a(b.Mja).to(f.LRa).Y();a(h.X_).to(q.kRa).Y();a(k.PB).$f(function(){return function(){return L._cad_global.videoPreparer;};});});},function(g,d,a){var f,h,q,c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(8);q=a(190);b.prototype.gdb=function(){var a;a=L.devicePixelRatio||1;return{width:this.X1.GJa||h.Qr.width*a,height:this.X1.FJa||h.Qr.height*a};};qa.Object.defineProperties(b.prototype,{X1:{configurable:!0,enumerable:!0,get:function(){return a(34).Sg;}}});c=b;g.__decorate([q.KU],c.prototype,"X1",null);c=g.__decorate([f.N()],c);d.xUa=c;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(143);b.prototype.compare=function(a,b){var c;c=[];this.r4(a,b,"",c);return c;};b.prototype.r4=function(a,b,f,d){var c;c=this;if(h.Bu.Js(a))h.Bu.Js(b)&&a.length===b.length?a.forEach(function(g,k){c.r4(a[k],b[k],f+"["+k+"]",d);}):d.push({a:a,b:b,path:f});else if(h.Bu.Ay(a)&&null!=a)if(h.Bu.Ay(b)&&null!=b){for(var g in a)this.r4(a[g],b[g],f+"."+g,d);for(var k in b)k in a||void 0===b[k]||d.push({a:void 0,b:b[k],path:f+"."+k});}else d.push({a:a,b:b,path:f});else a!==b&&d.push({a:a,b:b,path:f});};a=b;a=g.__decorate([f.N()],a);d.CPa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.DPa="ObjectComparerSymbol";},function(g,d,a){var f,h,q,c;function b(a){this.location=a;h.vl(this,"location");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(46);q=a(36);a=a(1);b.TV=function(a){var b,d,g;b={};if(0<a.length){a=a.split("&");for(var c=0;c<a.length;c++){d=a[c].trim();g=d.indexOf("=");0<=g?b[decodeURIComponent(d.substr(0,g).replace(f.Xia,"%20"))]=decodeURIComponent(d.substr(g+1).replace(f.Xia,"%20")):b[d.toLowerCase()]="";}}return b;};qa.Object.defineProperties(b.prototype,{Qob:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.TV(this.tBa);}},tBa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.WL)return this.WL;this.WL=this.location.search.substr(1);a=this.WL.indexOf("#");0<=a&&(this.WL=this.tBa.substr(0,a));return this.WL;}}});c=f=b;c.Xia=/[+]/g;c=f=g.__decorate([a.N(),g.__param(0,a.l(q.yha))],c);d.SRa=c;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Vta=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.Vta(a);});};f=b;f=g.__decorate([a.N()],f);d.iUa=f;},function(g,d,a){var f,h,q,c,m,k;function b(a,b){this.is=a;this.json=b;h.vl(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(46);q=a(36);c=a(1);m=a(21);k=a(138);b.prototype.EBa=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.a3(a);});};b.prototype.mba=function(a){var b;b=this;return f.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.iI(a);});};b.prototype.Oa=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.jq(a);});};b.prototype.$ob=function(a){var b;b=this;return f.read(a,function(a){return parseFloat(a);},function(a){return b.is.gg(a);});};b.prototype.DBa=function(a,b){return f.read(a,function(a){return f.F$a(a,b);},function(a){return void 0!==a;});};b.prototype.pba=function(a,b){return f.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.FBa=function(a){var b,c;b=void 0===b?function(){return!0;}:b;c=this;try{return f.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.Ay(a)&&b(a);});}catch(A){return new k.Vm();}};b.prototype.Bd=function(a,b,c){var d,g;c=void 0===c?1:c;d=this;a=a.trim();g=b instanceof Function?b:this.$5a(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0!=b||c!=a.length-1)return new k.Vm();a=a.substring(b+1,c);try{return f.ymb(a).map(function(a){a=g(d,f.Iwb(a));if(a instanceof k.Vm)throw a;return a;});}catch(F){return F instanceof k.Vm?F:new k.Vm();}};b.prototype.$5a=function(a,b){var c;b=void 0===b?1:b;c=this;return function(d,g){d=f.Scb(a);return 1<b?c.Bd(g,a,b-1):d(c,g);};};b.F$a=function(a,b){var f;for(var c in b){f=parseInt(c);if(b[f]==a)return f;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new k.Vm();};b.Scb=function(a){switch(a){case"int":return function(a,b){return a.EBa(b);};case"bool":return function(a,b){return a.mba(b);};case"uint":return function(a,b){return a.Oa(b);};case"float":return function(a,b){return a.$ob(b);};case"string":return function(a,b){return a.pba(b);};case"object":return function(a,b){return a.FBa(b);};}};b.ymb=function(a){var p;for(var b=[["[","]"]],c=[],f=0,d=0,g=0,h=[],m={};d<a.length;m={"char":m["char"]},++d){m["char"]=a.charAt(d);p=void 0;","==m["char"]&&0==g?(c.push(a.substr(f,d-f)),f=d+1):(p=b.find(function(a){return function(b){return b[0]==a["char"];};}(m)))?(++g,h.push(p)):0<h.length&&h[h.length-1][1]==m["char"]&&(--g,h.pop());}if(f!=d)c.push(a.substr(f,d-f));else if(f==d&&0<f)throw new k.Vm();return c;};b.Iwb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new k.Vm();return a.substring(1,a.length-1);}return a;};a=f=b;a=f=g.__decorate([c.N(),g.__param(0,c.l(m.Fe)),g.__param(1,c.l(q.Cu))],a);d.mTa=a;},function(g,d,a){var b,f,h,q,c,m,k,u,r,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(608);f=a(607);h=a(606);q=a(138);c=a(471);m=a(336);k=a(605);u=a(604);r=a(311);y=a(603);d.ge=new g.ic(function(a){a(q.p0).to(b.mTa).Y();a(c.e0).to(h.SRa).Y();a(m.Uka).to(f.iUa).Y();a(k.DPa).to(u.CPa).Y();a(r.fla).to(y.xUa).Y();});},function(g,d,a){var f,h;function b(a){this.Gkb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(312);a=a(1);b.prototype.qua=function(){var a;a=this.Gkb.getDeviceId();return new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};h=b;h=g.__decorate([a.N(),g.__param(0,a.l(f.tia))],h);d.cJa=h;},function(g,d,a){var b,f,h,q,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(312);f=a(341);h=a(342);q=a(610);c=a(8);d.crypto=new g.ic(function(a){a(h.mfa).to(q.cJa).Y();a(b.tia).Th(c.Hu);a(f.nfa).Th(c.C_);});},function(g,d,a){var f,h,q,c,m,k,u,r;function b(a,b,c){var f;f=k.$O.call(this,a,b,"network")||this;f.YR=c;f.nS=m.XY.yOa;f.Sib=30;f.Ulb=function(a){f.nS=a.target.value;f.refresh();};f.Clb=function(){f.data={};f.refresh();};f.GCa=function(a){a=JSON.stringify(f.data[f.nS][Number(a.target.id)].value,null,4);r.PY.G4(a);};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);q=a(21);c=a(68);m=a(152);k=a(315);u=a(105);r=a(192);da(b,k.$O);b.prototype.xc=function(){var a;a=this;if(this.Ln)return Promise.resolve();L.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==u.Nr.iPa&&a.toggle();});this.data={};this.YR.addListener(m.Dfa.OQa,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.Sib&&c.shift();c.push(b);b.type===a.nS&&a.refresh();});this.Ln=!0;return Promise.resolve();};b.prototype.pi=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.K7=function(a,b,c){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.Qpa.Mo(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+f+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.T7=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.pi(),b=this.data[this.nS]||[],c=0;c<b.length;++c)a+=this.K7(c,b[c].name,b[c].value);return a+"</table>";};b.prototype.oua=function(){var a;a=this.Sb.createElement("button",k.qG,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.Clb;return[a,this.j6a(),this.c6a()];};b.prototype.j6a=function(){var a;a=this.Sb.createElement("select",k.qG,Object.keys(m.XY).reduce(function(a,b){b=m.XY[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.Ulb;return a;};b.prototype.c6a=function(){var a,b,c,f;a=this;b=this.Sb.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.RL;b.onchange=function(){return a.Vub();};c=this.Sb.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.Sb.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(c);return f;};b.prototype.UBa=function(){return Promise.resolve(this.T7());};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.df)),g.__param(1,f.l(q.Fe)),g.__param(2,f.l(c.sG))],a);d.zCb=a;},function(g,d,a){var q,c,m,k,u,r,y,A,l,n,D,O,t,N,ba;function b(a,b,c,f,d,g,k,m,p){var u;u=this;this.Ta=a;this.app=b;this.Sb=c;this.ga=f;this.Ek=d;this.config=g;this.zD=k;this.xub=m;this.$i=p;this.yub=function(){u.EFa.Nb(function(){u.update();});};this.clear=function(){u.entries=[];u.update();};this.Rya=function(){u.Dd.uE=!u.Dd.uE;u.zw&&u.Gw&&(u.Dd.uE?(u.zw.style.display="inline-block",u.Gw.style.display="none"):(u.Gw.style.display="inline-block",u.zw.style.display="none"));u.HA(!1);};this.jib=function(a){var b;u.entries.push(a);b=u.config.BE;0<=b&&u.entries.length>b&&u.entries.shift();void 0===u.Dd.Us[a.el]&&(u.Dd.Us[a.el]=!0,u.HA(!1));u.Dd.vm&&!u.CEa?u.yub():u.EFa.Nb();};this.$7a=function(){h.download("all",u.entries.map(function(a){return a.NX(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Ln=!1;this.Dd={vm:!1,uE:!0,mS:!0,K9:l.Zh.c_,Us:{}};this.EFa=this.xub(r.ih(1));this.entries=[];}function f(a){var b;this.elements=[];b=document.createElementNS(f.WM,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function h(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);q=a(1);c=a(23);m=a(96);k=a(30);u=a(40);r=a(3);y=a(24);A=a(93);l=a(7);n=a(95);D=a(191);O=a(313);t=a(70);N=a(105);ba=a(192);h.download=function(a,b){return h.Tbb(a).then(function(a){return h.Kdb(a,b.join("\r\n")).then(function(a){return h.Z7a(a.filename,a.text);});});};h.Tbb=function(a){return new Promise(function(b,c){var f,d,g,k,h,m,r;try{f=new Date();d=f.getDate().toString();g=(f.getMonth()+1).toString();k=f.getFullYear().toString();h=f.getHours().toString();m=f.getMinutes().toString();r=f.getSeconds().toString();1===d.length&&(d="0"+d);1===g.length&&(g="0"+g);1===h.length&&(h="0"+h);1===m.length&&(m="0"+m);1===r.length&&(r="0"+r);b(k+g+d+h+m+r+"."+a+".log");}catch(U){c(U);}});};h.Kdb=function(a,b){return new Promise(function(c,f){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(T){f(T);}});};h.Z7a=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(X){return Promise.reject(X);}};f.prototype.IF=function(){var a;a=document.createElementNS(f.WM,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};f.prototype.JF=function(a,b,c){var d;d=document.createElementNS(f.WM,"path");d.setAttribute("d",a);b&&d.setAttribute("fill",b);c&&d.setAttribute("fill-rule",c);this.addElement(d);return this;};f.prototype.KM=function(a,b,c,d,g){var k;g=void 0===g?"#000000":g;k=document.createElementNS(f.WM,"rect");k.setAttribute("x",a.toString());k.setAttribute("y",b.toString());k.setAttribute("height",c.toString());k.setAttribute("width",d.toString());g&&k.setAttribute("fill",g);this.addElement(k);return this;};f.prototype.rtb=function(){var a;a=document.createElementNS(f.WM,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.Mo=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};qa.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},Qy:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});f.WM="http://www.w3.org/2000/svg";b.prototype.xc=function(){var a;a=this;this.sk||(this.sk=new Promise(function(b){L.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==N.Nr.vNa?a.toggle():b.keyCode==N.Nr.E&&ba.PY.G4(a.zD().Zg));});a.Ek.zW(D.Hha.HJa,a.jib);b();}));return this.sk;};b.prototype.show=function(){document.body&&(this.element||(this.G5a(),this.Ln=!0),!this.Dd.vm&&this.element&&(document.body.appendChild(this.element),this.Dd.vm=!0,this.update(!0)));};b.prototype.mE=function(){this.Ln&&this.Dd.vm&&this.element&&(document.body.removeChild(this.element),this.Dd.vm=!1);};b.prototype.toggle=function(){this.Dd.vm?this.mE():this.show();this.HA(!1);};b.prototype.G5a=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.kx=this.h6a());a.appendChild(this.i6a());a.appendChild(this.B5a());this.element=a;}catch(z){console.error("Unable to create the log console",z);}};b.prototype.h6a=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.CEa=!0;a.update();a.kx&&(a.kx.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.CEa=!1;a.update();a.kx&&(a.kx.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.i6a=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.V5a());a.appendChild(this.P5a());a.appendChild(this.K5a());a.appendChild(this.k6a());a.appendChild(this.E5a());a.appendChild(this.Z5a());a.appendChild(this.Y5a());a.appendChild(this.M5a());a.appendChild(this.F5a());return a;};b.prototype.B5a=function(){var a,b,c,f,d,g;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("div","padding:2px");f=this.createElement("select",this.Bq(22,160,1,2),"<option>Select categories</option>");d=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(d);c.appendChild(f);c.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;c.addEventListener("click",function(){g?d.style.display="none":(d.innerHTML="",["all","none"].concat(Object.keys(a.Dd.Us).sort()).forEach(function(b){d.appendChild(a.C5a(b,c));}),d.style.display="block");g=!g;});return b;};b.prototype.C5a=function(a,b){var c,f,d;c=this;f=this.createElement("label","display: block;margin:1px");f.htmlFor=a;d=this.createElement("input","margin:1px");d.type="checkbox";d.id=a;d.checked=this.Dd.Us[a];d.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.Dd.Us).forEach(function(b){c.Dd.Us[b]="all"===a;}),b.click()):c.Dd.Us[a]=!c.Dd.Us[a];c.HA(!0);});f.appendChild(d);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};b.prototype.V5a=function(){var a,b;a=this;b=this.createElement("select",this.Bq(22,NaN,1,2),'<option value="'+l.Zh.ERROR+'">Error</option>'+('<option value="'+l.Zh.y0+'">Warn</option>')+('<option value="'+l.Zh.c_+'">Info</option>')+('<option value="'+l.Zh.Fka+'">Trace</option>')+('<option value="'+l.Zh.Oe+'">Debug</option>'));b.value=this.Dd.K9.toString();b.addEventListener("change",function(b){a.Dd.K9=parseInt(b.target.value);a.HA(!0);},!1);return b;};b.prototype.P5a=function(){var b,c;function a(a){a=a.target.value;b.Dd.filter=a?new RegExp(a):void 0;b.HA(!0);}b=this;c=this.createElement("input",this.Bq(14,150,1,2));c.value=this.Dd.filter?this.Dd.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.K5a=function(){var a,b,c,f;a=this;b=this.createElement("div",this.Bq(NaN,NaN));c=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Dd.mS;c.addEventListener("change",function(b){a.Dd.mS=b.target.checked;a.HA(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(c);b.appendChild(f);return b;};b.prototype.k6a=function(){var a,b,c;a=this;b=this.createElement("button",this.Bq());c=new f("0 0 24 24").IF().rtb().end().JF("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.Qy,"nonzero").end().end().Mo();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.E5a=function(){var a,b;a=this.createElement("button",this.Bq());b=new f("0 0 24 24").IF().KM(0,0,24,24,f.background).end().JF("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.Qy).end().end().Mo();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.Z5a=function(){var a;this.Gw=this.createElement("button",this.Bq());this.Gw.style.display=this.Dd.uE?"none":"inline-block";a=new f("0 0 24 24").IF().KM(0,0,24,24,f.background).end().JF("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.Qy,"nonzero").end().end().Mo();this.Gw.addEventListener("click",this.Rya,!1);this.Gw.appendChild(a);this.Gw.setAttribute("title","Shrink the log console");return this.Gw;};b.prototype.Y5a=function(){var a;this.zw=this.createElement("button",this.Bq());this.zw.style.display=this.Dd.uE?"inline-block":"none";a=new f("0 0 24 24").IF().KM(4,4,16,16,f.background).end().JF("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.Qy,"nonzero").end().end().Mo();this.zw.addEventListener("click",this.Rya,!1);this.zw.appendChild(a);this.zw.setAttribute("title","Expand the log console");return this.zw;};b.prototype.M5a=function(){var a,b;a=this.createElement("button",this.Bq());b=new f("0 0 26 26").IF().KM(0,0,24,24,f.background).end().JF("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.Qy,"nonzero").end().end().Mo();a.appendChild(b);a.addEventListener("click",this.$7a,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.F5a=function(){var a,b,c;a=this;b=this.createElement("button",this.Bq());c=new f("0 0 24 24").IF().KM(0,0,24,24,f.background).end().JF("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.Qy,"nonzero").end().end().Mo();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.HA=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.fM&&Promise.resolve(this.M1a()+this.Ubb().join("\r\n")).then(function(c){b.element&&b.kx&&(b.kx.value=c,b.element.style.cssText=b.Dd.uE?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ga.Og(r.sf,function(){b.kx.scrollTop=b.kx.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.Ubb=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.Dd.K9&&a.Dd.Us[c.el]&&(c=c.NX(!a.Dd.mS,!a.Dd.mS),a.Dd.filter&&!a.Dd.filter.test(c)||b.push(c));});return b;};b.prototype.M1a=function(){var a;a=this.zD();return"Version: 6.0020.273.011 \n"+((a?"Esn: "+a.Zg:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Ta.kf.ba(r.Ym)+", Start: "+this.app.Hz.ba(r.Ym)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,c,f){return this.Sb.createElement(a,b,c,f);};b.prototype.Bq=function(a,b,c,d){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+f.Qy+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(d?"border-radius:"+d+"px;":"");};a=b;a.Itb="logDxDisplay";a=g.__decorate([q.N(),g.__param(0,q.l(u.Vj)),g.__param(1,q.l(y.Ne)),g.__param(2,q.l(c.df)),g.__param(3,q.l(k.yg)),g.__param(4,q.l(n.wB)),g.__param(5,q.l(O.Aha)),g.__param(6,q.l(A.Ax)),g.__param(7,q.l(m.NB)),g.__param(8,q.l(t.Er))],a);d.KNa=a;},function(g,d,a){var f,h,q,c,m;function b(a,b){a=q.Ie.call(this,a,"LogDisplayConfigImpl")||this;a.Cn=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(32);q=a(35);c=a(27);a=a(141);da(b,q.Ie);qa.Object.defineProperties(b.prototype,{fM:{configurable:!0,enumerable:!0,get:function(){return!0;}},BE:{configurable:!0,enumerable:!0,get:function(){return this.Cn.BE;}},Hxa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});m=b;g.__decorate([h.config(h.wd,"renderDomDiagnostics")],m.prototype,"fM",null);g.__decorate([h.config(h.U8,"logDisplayMaxEntryCount")],m.prototype,"BE",null);g.__decorate([h.config(h.U8,"logDisplayAutoshowLevel")],m.prototype,"Hxa",null);m=g.__decorate([f.N(),g.__param(0,f.l(c.mj)),g.__param(1,f.l(a.aH))],m);d.JNa=m;},function(g,d,a){var f,h;function b(){this.dca="";this.aGa=[[],[]];this.X=[[],[]];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a(3);h=a(87);b.prototype.downloadRequest=function(a){var b;""===this.dca&&(this.dca=a.Db);if(!a.Yb){b=this.Pub(a);this.X[a.M].push(b);this.aGa[a.M].forEach(function(a){a.bGb(b);});}};b.prototype.Pub=function(a){return{id:a.Si(),Db:a.Db,M:a.M,wj:a.wj,startTime:a.Wt,endTime:a.gF,offset:a.Gm,OI:a.OI,NI:a.NI,duration:a.dt,O:a.O,state:h.Bea.psa,Vn:!1,nJb:!1,Kva:!1,VHb:h.Aea.waiting};};b.prototype.update=function(a){this.aGa[a.M].forEach(function(b){b.IMb(a);});};qa.Object.defineProperties(b.prototype,{Db:{configurable:!0,enumerable:!0,get:function(){return this.dca;}}});a=b;a=g.__decorate([f.N()],a);d.$Ga=a;},function(g,d,a){var f,h;function b(a){this.U7a=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(316);b.prototype.xc=function(){var a;a=this;this.sk||(this.sk=new Promise(function(b,f){var c;c=[];a.U7a.forEach(function(a){c.push(a.xc());});Promise.all(c).then(function(){b();})["catch"](function(a){f(a);});}));return this.sk;};h=b;h=g.__decorate([f.N(),g.__param(0,f.Uz(a.Qfa))],h);d.OKa=h;},function(g,d){function a(a){this.is=a;this.Ngb="#881391";this.Otb="#C41A16";this.A1a=this.hlb="#1C00CF";this.Sfb="#D79BDB";this.Fvb=this.dlb="#808080";}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Mo=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Vv=function(a,f){return'<font color="'+((void 0===f?0:f)?this.Sfb:this.Ngb)+'">'+a+": </font>";};a.prototype.Zta=function(a,f){f=f||"";a=""+('<li><a href="#">'+this.Vv(a)+"Array["+f.length+"]</a>");a+="<ul>";for(var b=0;b<f.length;++b)a+=this.getValue(b.toString(),f[b]);a+=this.getValue("length",f.length,!0);return a+"</ul></li>";};a.prototype.$ua=function(a,f){var b,d,c;b=this;if(f instanceof CryptoKey)return this.qbb(a,f);d=Object.keys(f);c="";c=c+('<li><a href="#">'+("~~NONAME~~"!==a?this.Vv(a):"")+"Object</a>");c=c+"<ul>";d.forEach(function(a){c=a.startsWith("$")?c+b.getValue(a,"REMOVED"):c+b.getValue(a,f[a]);});c+="</ul>";return c+="</li>";};a.prototype.qbb=function(a,f){a=""+('<li><a href="#">'+this.Vv(a)+"CryptoKey</a>");a=a+"<ul>"+this.$ua("algorithm",f.algorithm);a+=this.cua("extractable",f.extractable);a+=this.nva("type",f.type);a+=this.Zta("usages",f.usages);return a+"</ul></li>";};a.prototype.Qcb=function(a,f,d){return'<li><a href="#">'+this.Vv(a,void 0===d?!1:d)+('<font color="'+this.hlb+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.cua=function(a,f,d){return'<li><a href="#">'+this.Vv(a,void 0===d?!1:d)+('<font color="'+this.A1a+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.nva=function(a,f,d){128<f.length&&(f=f.substr(0,128)+"...");return'<li><a href="#">'+this.Vv(a,void 0===d?!1:d)+('<font color="'+this.Otb+'">"'+f+'"</font>')+"</a></li>";};a.prototype.Pcb=function(a){return'<li><a href="#">'+this.Vv(a)+('<font color="'+this.dlb+'">null</font>')+"</a></li>";};a.prototype.Wdb=function(a,f){f="undefined"===typeof f?"":f.toString();255<f.length&&(f=f.substr(0,255)+"...");return'<li><a href="#">'+this.Vv(a)+('<font color="'+this.Fvb+'">'+f+"</font>")+"</a></li>";};a.prototype.getValue=function(a,f,d){d=void 0===d?!1:d;return null===f?""+this.Pcb(a):this.is.Js(f)?""+this.Zta(a,f):this.is.Ay(f)?""+this.$ua(a,f):this.is.Vk(f)?""+this.nva(a,f,d):this.is.gg(f)?""+this.Qcb(a,f,d):this.is.iI(f)?""+this.cua(a,f,d):""+this.Wdb(a,f);};d.RTa=a;},function(g,d,a){var f,h,q,c,m,k,u;function b(a,b,c){var f;f=m.$O.call(this,a,b,"idb")||this;f.$i=c;f.GCa=function(a){f.q7a(a.target.id).then(function(){return f.refresh();});};f.Dlb=function(){f.Y2a().then(function(){return f.refresh();});};f.Nlb=function(){f.refresh();};f.Glb=function(){f.Y3a();};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);q=a(21);c=a(166);m=a(315);k=a(105);u=a(192);da(b,m.$O);b.prototype.xc=function(){var a;a=this;if(this.Ln)return Promise.resolve();L.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==k.Nr.lMa&&a.toggle();});return this.$i.create().then(function(b){a.storage=b;a.Ln=!0;});};b.prototype.pi=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.K7=function(a,b,c){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';c=this.Qpa.Mo({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.T7=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.pi(),c=Object.keys(a),f=0;f<c.length;++f)b+=this.K7(f,c[f],a[c[f]]);return b+"</table>";};b.prototype.oua=function(){var a,b,c;a=this.Sb.createElement("button",m.qG,"Clear",{"class":this.prefix+"-display-btn"});b=this.Sb.createElement("button",m.qG,"Refresh",{"class":this.prefix+"-display-btn"});c=this.Sb.createElement("button",m.qG,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.Dlb;b.onclick=this.Nlb;c.onclick=this.Glb;return[a,b,c];};b.prototype.Mhb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.ewa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.ewa;});};b.prototype.q7a=function(a){return this.storage.remove(a);};b.prototype.Y2a=function(){return this.storage.removeAll();};b.prototype.UBa=function(){var a;a=this;return this.Mhb().then(function(b){return a.T7(b);});};b.prototype.Y3a=function(){var a;a=JSON.stringify(this.ewa,null,4);u.PY.G4(a);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.df)),g.__param(1,f.l(q.Fe)),g.__param(2,f.l(c.f_))],a);d.lBb=a;},function(g,d,a){var f,h,q,c,m,k,u,r;function b(a){return function(){return new Promise(function(b,c){var f;f=a.zb.get(h.Sfa);f.xc().then(function(){b(f);})["catch"](function(a){c(a);});});};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);f=a(316);a(618);h=a(314);q=a(616);c=a(87);m=a(615);k=a(313);u=a(614);r=a(613);a(612);d.B8a=new g.ic(function(a){a(k.Aha).to(u.JNa).Y();a(f.Qfa).to(r.KNa);a(c.xY).to(m.$Ga).Y();a(h.Sfa).to(q.OKa).Y();a(h.Rfa).OX(b);});},function(g,d,a){var q,c,m,k;function b(){}function f(a){this.Nmb=a;}function h(a){this.Pmb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);q=a(1);c=a(193);m=a(56);k=a(2);h.prototype.Lp=function(a){a.map(this.Pmb.Lp);};a=h;a=g.__decorate([q.N(),g.__param(0,q.l(c.nja))],a);d.ZQa=a;f.prototype.Lp=function(a){this.Nmb.Lp(a.data);};a=f;a=g.__decorate([q.N(),g.__param(0,q.l(c.kja))],a);d.$Qa=a;b.prototype.Lp=function(a){var b;a.ia&&"string"===typeof a.ia?a.href&&"string"===typeof a.href?a.profileId&&"string"===typeof a.profileId||(b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new m.Sc(k.J.zu,k.u.nu,void 0,void 0,void 0,b,void 0,a.ia);};c=b;c=g.__decorate([q.N()],c);d.cRa=c;},function(g,d,a){var f,h,q;function b(a,b){this.$I=b;this.log=a.kb("PboEventSenderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(75);h=a(7);a=a(1);b.prototype.lca=function(a,b){var c;c=this.$I(f.Nl.start);return this.Vsa(c,a,b);};b.prototype.iDa=function(a){var b;b=this;return this.$I(f.Nl.stop).lf(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.vM=function(a,b,f){a=this.$I(a);return this.Vsa(a,b,f);};b.prototype.Vsa=function(a,b,f){var c;c=this;return a.Fn(this.log,b.ya.If,f).then(function(){})["catch"](function(a){c.log.error("PBO event failed",a);throw a;});};q=b;q=g.__decorate([a.N(),g.__param(0,a.l(h.ob)),g.__param(1,a.l(f.kZ))],q);d.QQa=q;},function(g,d,a){var f,h,q,c,m,k;function b(a,b){a=h.Ie.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);q=a(27);c=a(32);m=a(3);a=a(52);da(b,h.Ie);qa.Object.defineProperties(b.prototype,{YE:{configurable:!0,enumerable:!0,get:function(){return this.config.uq?"unsentplaydatatest":"unsentplaydata";}},jca:{configurable:!0,enumerable:!0,get:function(){return!0;}},cDa:{configurable:!0,enumerable:!0,get:function(){return m.Bb(1E4);}},Baa:{configurable:!0,enumerable:!0,get:function(){return m.Bb(4E3);}},dxa:{configurable:!0,enumerable:!0,get:function(){return m.tV(1);}},exa:{configurable:!0,enumerable:!0,get:function(){return m.ih(30);}}});k=b;g.__decorate([c.config(c.string,"playdataPersistKey")],k.prototype,"YE",null);g.__decorate([c.config(c.wd,"sendPersistedPlaydata")],k.prototype,"jca",null);g.__decorate([c.config(c.Jg,"playdataSendDelayMilliseconds")],k.prototype,"cDa",null);g.__decorate([c.config(c.Jg,"playdataPersistIntervalMilliseconds")],k.prototype,"Baa",null);g.__decorate([c.config(c.Jg,"heartbeatCooldown")],k.prototype,"dxa",null);g.__decorate([c.config(c.Jg,"keepAliveWindow")],k.prototype,"exa",null);k=g.__decorate([f.N(),g.__param(0,f.l(q.mj)),g.__param(1,f.l(a.Sm))],k);d.wRa=k;},function(g,d,a){var q,c,m,k,u,r,y,A,l,n,D,O,t,N;function b(a,b,c,d,g,k,h,m){this.config=a;this.ga=c;this.ur=d;this.qp=g;this.aW=k;this.re=h;this.Fz=Promise.resolve();this.closed=!1;this.log=b.kb("PlaydataServices");this.jA=[];this.active=new Set();this.Fqb=new f(a,m);}function f(a,b){this.config=a;this.Ta=b;}function h(a,b,c,f,d,g){this.log=a;this.ga=b;this.Kj=c;this.qp=f;this.ur=d;this.mnb=g;this.bta=this.VI=!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);q=a(1);c=a(3);m=a(7);k=a(30);u=a(238);r=a(319);y=a(14);A=a(318);l=a(2);n=a(194);D=a(317);O=a(130);t=a(40);a=a(55);h.prototype.vV=function(a,b){var f;function c(){var a;a=f.qp.create(f.Kj);f.ur.Wda(a)["catch"](function(a){var b;b=f.bta?m.Zh.y0:m.Zh.ERROR;f.bta=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.ur.y_a(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.ao=f.ga.Tba(a,c);})["catch"](function(d){f.log.error("Unable to add playdata",{error:d,playdata:new n.T_().encode(b)});f.ao=f.ga.Tba(a,c);});};h.prototype.stop=function(a){var b,c;b=this;if(this.VI)return Promise.resolve();this.ao&&this.ao.cancel();c=this.qp.create(this.Kj);return this.ur.Wda(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.Kj.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.mnb.iDa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.ur.bCa(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.I);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};h.prototype.cancel=function(){this.VI=!0;this.ao&&this.ao.cancel();this.ur.Wda(this.qp.create(this.Kj));};qa.Object.defineProperties(f.prototype,{n2a:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ta.kf;return!this.Fz||0<=a.xe(this.Fz).il(this.config.exa)?(this.Fz=a,!0):!1;}}});d.zDb=f;b.prototype.xc=function(){var a;a=this;this.sk||(this.log.trace("Starting playdata services"),this.sk=this.ur.cpb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.sk;};b.prototype.close=function(){this.closed=!0;this.jA.forEach(function(a){a.vV.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.YE&&b.jca?this.yrb(a):Promise.resolve();};b.prototype.otb=function(a){this.closed||this.ptb(a);};b.prototype.gEa=function(a){var b,c,f;b=this;if(this.closed)return Promise.resolve();c=this.qp.create(a);this.active["delete"](c.ia);a=R(O.Rt(function(a){return a.key===c.ia;},this.jA));f=a.next().value;this.jA=a.next().value;return Promise.all(f.map(function(a){a.hEa=!0;return a.vV.stop(b.config.jca);})).then(function(){});};b.prototype.KV=function(a,b){var c,f;c=this;f=a.da;this.bEa(f,b);this.lca(f,a.cJ)["catch"](function(b){var f;f=b.Zy;c.log.error("Start command failed",{playdata:b.$E,error:f});a.xd(c.re(l.J.hka,f));});this.mtb(a);};b.prototype.ptb=function(a){var b;b=this;a.addEventListener(y.R.wl,function(c){var f;if(void 0!==c.hW){f=a.Eq(c.hW);b.gEa(f);c.xz||new Promise(function(b){var c;if(a.Vn.value)b();else{c=function(f){f.newValue&&(b(),a.Vn.removeListener(c));};a.Vn.addListener(c);}}).then(function(){return b.KV(a,"online");});}});a.addEventListener(y.R.Lj,function(){b.KV(a,"online");});a.background||a.addEventListener(y.R.VK,function(c){c=a.Eq(c.I);b.bEa(c,"online");});a.addEventListener(y.R.gf,function(){b.Btb();});a.addEventListener(y.R.TFa,function(){b.Erb(a.da)["catch"](function(b){(b=b.Jaa)&&a.xd(b);});});a.zc.addListener(function(){a.Wa.B5?b.log.trace("stickiness is disabled for timedtext"):b.hDa(a.da);});a.Pc.addListener(function(){a.Wa.B5?b.log.trace("stickiness is disabled for audio"):b.hDa(a.da)["catch"](function(b){(b=b.Jaa)&&a.xd(b);});});};b.prototype.bEa=function(a,b){var c,f;a.Qc("pdb");if(this.config.Baa.rgb()){c=this.qp.create(a);f=c.ia;this.jA.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.add(f),this.jA.push({key:f,vV:this.Ecb(a,c),JA:!1,hEa:!1}));}};b.prototype.yrb=function(a){var b,c,f,d;b=this;c=this.ur.$E.filter(function(a){return!b.active.has(a.ia);});f=void 0;d=void 0;a&&Infinity===a?f=c:(c=R(O.Rt(function(b){return b.I===a;},c)),f=c.next().value,d=c.next().value);d&&0<d.length&&this.ga.Og(this.config.cDa,function(){b.gDa(d);});return f&&0!==f.length?this.gDa(f):Promise.resolve();};b.prototype.gDa=function(a){var c;function b(a){return c.aW.iDa(a).then(function(){return c.Wpb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};b.prototype.Wpb=function(a){var b;b=this;return this.ur.bCa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.Ecb=function(a,b){a=new h(this.log,this.ga,a,this.qp,this.ur,this.aW);a.vV(this.config.Baa,b);return a;};b.prototype.lca=function(a,b){var c,f;c=this;f=this.qp.Q5a(a,b);return this.aW.lca(a,f).then(function(){c.jA.filter(function(b){return b.key===a.ia.toString();}).forEach(function(a){a.JA=!0;});})["catch"](function(a){throw{$E:f,Zy:a};});};b.prototype.Erb=function(a){return this.Fqb.n2a?this.vM(D.S_.LK,a,l.J.k_):Promise.resolve();};b.prototype.hDa=function(a){return this.vM(D.S_.splice,a,l.J.fka);};b.prototype.vM=function(a,b,c){var d;function f(a){var b;b=d.jA.filter(function(b){return b.key===a.ia.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.hEa||!b.JA;},!1);}d=this;return f(b)?this.Fz:this.Fz=this.Fz["catch"](function(){return Promise.resolve();}).then(function(){var c;if(f(b))return Promise.resolve();c=d.qp.create(b);return d.aW.vM(a,b,c);}).then(function(a){return a;})["catch"](function(f){var g;d.log.error("Failed to send event",{eventKey:a,xid:b.ia,error:f});f.En?g=d.re(c,f):f.Vq===l.y_.w0&&(g=d.re(c,f));throw{Zy:f,Jaa:g};});};b.prototype.mtb=function(a){this.Ssb(a)&&this.Xca(this.ocb(a.da),a);};b.prototype.Xca=function(a,b){var c;c=this;this.h4();this.l9=this.ga.Og(a,function(){c.h4();c.vM(D.S_.LK,b.da,l.J.k_).then(function(){c.Xca(a,b);})["catch"](function(f){var d;d=f.Zy;(f=f.Jaa)&&b.xd(f);d.Vq===l.y_.w0&&c.Xca(a,b);});});};b.prototype.Btb=function(){this.h4();};b.prototype.Ssb=function(a){return a.state.value==y.ib.cd;};b.prototype.h4=function(){this.l9&&(this.l9.cancel(),this.l9=void 0);};b.prototype.ocb=function(a){return a.Wa.m8?c.Bb(a.Wa.m8):this.config.dxa;};N=b;N=g.__decorate([q.N(),g.__param(0,q.l(A.Fja)),g.__param(1,q.l(m.ob)),g.__param(2,q.l(k.yg)),g.__param(3,q.l(r.bja)),g.__param(4,q.l(u.U_)),g.__param(5,q.l(D.dja)),g.__param(6,q.l(a.Mk)),g.__param(7,q.l(t.Vj))],N);d.bRa=N;},function(g,d,a){var q,c,m,k,u,r,y,A,l,n;function b(){}function f(){}function h(a,c,f,d,g){var k;k=this;this.is=a;this.$i=c;this.config=f;this.zD=d;this.Omb=g;this.qr=function(){return new b().encode({version:k.version,data:k.$E});};this.iwb=function(a){a=k.hwb(a);k.Omb.Lp(a);return a;};this.hwb=function(a){if(k.is.Wk(a))return k.lwb(a);if(void 0!=a.version&&k.is.gg(a.version)&&1==a.version)return k.mwb(a);if(void 0!=a.version&&k.is.gg(a.version)&&2==a.version)return new b().decode(a);if(a.version&&k.is.gg(a.version))throw new u.Sc(m.J.zu,m.u.Rea,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new u.Sc(m.J.zu,m.u.nu,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.ho=new r.fha(2,this.config().NAa,""!==this.config().NAa&&0<this.config().xnb,this.$i,this.qr);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);q=a(1);c=a(17);m=a(2);k=a(21);u=a(56);r=a(472);y=a(70);A=a(93);l=a(194);a=a(193);h.prototype.cpb=function(){return this.ho.load(this.iwb)["catch"](function(a){throw new u.Sc(m.J.zu,a.Z||a.Lc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.y_a=function(a){return this.ho.add(a);};h.prototype.bCa=function(a){return this.ho.remove(a,function(a,b){return a.ia===b.ia;});};h.prototype.Wda=function(a){return this.ho.update(a,function(a,b){return a.ia===b.ia;});};h.prototype.toString=function(){return JSON.stringify(this.qr(),null,"  ");};h.prototype.IFa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.zD().Zg:"";};h.prototype.Yda=function(a){return a.map(function(a){return{Uc:a.downloadableId,duration:a.duration};});};h.prototype.JFa=function(a){return a?{total:a.playTimes.total,audio:this.Yda(a.playTimes.audio||[]),video:this.Yda(a.playTimes.video||[]),text:this.Yda(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.lwb=function(a){var b,c,f;b=this;a=JSON.parse(a);c={type:"online",href:this.IFa(a.playbackContextId),ia:a.xid?a.xid.toString():"",I:a.movieId,position:a.position,ZI:a.timestamp,yM:a.playback?1E3*a.playback.startEpoch:-1,Pz:a.mediaId,HL:this.JFa(a.playback),cb:"",Km:{},profileId:a.accountKey};f=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.$i.create().then(function(a){a.save(b.config().zJ,f,!1);});if(""===c.href||""===c.ia)throw new u.Sc(m.J.zu,m.u.nu);return{version:2,data:[c]};};h.prototype.mwb=function(a){var b;b=this;if(!a.playdata||!this.is.Js(a.playdata))throw new u.Sc(m.J.zu,m.u.nu,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,href:b.IFa(a.playbackContextId),ia:a.xid?a.xid.toString():"",I:a.movieId,position:a.position,ZI:a.timestamp,yM:a.playback?1E3*a.playback.startEpoch:-1,Pz:a.mediaId,HL:b.JFa(a.playback),cb:"",Km:{},profileId:a.profileId};});}(a.playdata)};};qa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.ho.version;}},$E:{configurable:!0,enumerable:!0,get:function(){return this.ho.oq;}}});n=h;n=g.__decorate([q.N(),g.__param(0,q.l(k.Fe)),g.__param(1,q.l(y.Er)),g.__param(2,q.l(c.pd)),g.__param(3,q.l(A.Ax)),g.__param(4,q.l(a.lja))],n);d.LQa=n;f.prototype.encode=function(a){var b;b=new l.T_();return a.map(b.encode);};f.prototype.decode=function(a){var b;b=new l.T_();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new f().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new f().decode(a.data)};};},function(g,d,a){var f,h,q,c,m,k,u,r,y,A,l,n;function b(a){return function(){return a.zb.get(f.mja).xc();};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);f=a(149);h=a(238);q=a(194);c=a(319);m=a(624);k=a(623);u=a(318);r=a(622);y=a(317);A=a(621);l=a(193);n=a(620);d.$E=new g.ic(function(a){a(u.Fja).to(r.wRa).Y();a(h.U_).to(q.aRa).Y();a(c.bja).to(m.LQa).Y();a(f.mja).to(k.bRa).Y();a(f.RO).OX(b);a(y.dja).to(A.QQa).Y().FN();a(l.nja).to(n.cRa).Y();a(l.kja).to(n.ZQa).Y();a(l.lja).to(n.$Qa).Y();});},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.ig=function(a,b){var c;c=this;return a.map(function(a){return b.call(c,a);});};b.prototype.Jv=function(a,b){var c,f;c={};for(f in a)c[f]=b.call(this,a[f]);return c;};f=b;f=g.__decorate([a.N()],f);d.dga=f;},function(g,d,a){var f,h,q;function b(a){var b;b=q.dga.call(this)||this;b.Sb=a;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);q=a(626);da(b,q.dga);b.prototype.decode=function(a){return{I:a.movieId,Sn:a.packageId,Vo:a.drmType,q8a:a.drmVersion,d$a:a.expiration,z2a:this.D6a(a.cdnResponseData),media:this.L6a(a.media),duration:a.duration,Xf:a.playbackContextId,Lra:this.G6a(a.defaultTrackOrderList),nk:a.drmContextId,Feb:a.hasDrmProfile,Deb:a.hasClearProfile,SEa:this.Q6a(a.timedtexttracks),lFa:this.T6a(a.trickplays),r3:this.C6a(a.audio_tracks),mY:this.Y6a(a.video_tracks),io:this.Bra(a.servers),vk:this.J6a(a.locations),Dgb:a.isUsingLegacyBatchingAPI,C3:a.bookmark,Hva:a.hasDrmStreams,Eeb:a.hasClearStreams,links:a.links,XI:this.E6a(a.choiceMap),Kfb:a.initialHeader,bxb:this.Z6a(a.watermarkInfo),Ih:a.isBranching,j8a:a.dpsid,Vwb:a.viewableType,wE:a.isSupplemental,sqa:a.clientIpAddress,If:a.If};};b.prototype.encode=function(a){return{movieId:a.I,packageId:a.Sn,drmType:a.Vo,drmVersion:a.q8a,expiration:a.d$a,cdnResponseData:this.h9a(a.z2a),media:this.p9a(a.media),duration:a.duration,playbackContextId:a.Xf,defaultTrackOrderList:this.k9a(a.Lra),drmContextId:a.nk,timedtexttracks:this.y9a(a.SEa),trickplays:this.C9a(a.lFa),audio_tracks:this.g9a(a.r3),video_tracks:this.H9a(a.mY),servers:this.Hsa(a.io),locations:this.n9a(a.vk),isUsingLegacyBatchingAPI:a.Dgb,bookmark:a.C3,hasDrmProfile:a.Feb,hasClearProfile:a.Deb,hasDrmStreams:a.Hva,hasClearStreams:a.Eeb,links:a.links,choiceMap:this.i9a(a.XI),initialHeader:a.Kfb,watermarkInfo:this.I9a(a.bxb),isBranching:a.Ih,dpsid:a.j8a,viewableType:a.Vwb,isSupplemental:a.wE,clientIpAddress:a.sqa,If:a.If};};b.prototype.Z6a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.I9a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.E6a=function(a){var b;b=this;return a&&{At:a.initialSegment,type:a.type,nb:a.viewableId,Rc:this.Jv(a.segments,function(a){return{Gk:a.startTimeMs,ft:a.endTimeMs,Ry:a.defaultNext,next:b.Jv(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.i9a=function(a){var b;b=this;return a&&{initialSegment:a.At,type:a.type,viewableId:a.nb,segments:this.Jv(a.Rc,function(a){return{startTimeMs:a.Gk,endTimeMs:a.ft,defaultNext:a.Ry,next:b.Jv(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.D6a=function(a){return{WE:a.pbcid,FA:a.sessionABTestCell};};b.prototype.h9a=function(a){return{pbcid:a.WE,sessionABTestCell:a.FA};};b.prototype.L6a=function(a){return this.ig(a,this.K6a);};b.prototype.p9a=function(a){return this.ig(a,this.o9a);};b.prototype.K6a=function(a){return{Gp:this.R6a(a.tracks),id:a.id};};b.prototype.o9a=function(a){return{tracks:this.A9a(a.Gp),id:a.id};};b.prototype.R6a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,s0:a.TEXT};};b.prototype.A9a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.s0};};b.prototype.G6a=function(a){return this.ig(a,this.F6a);};b.prototype.k9a=function(a){return this.ig(a,this.j9a);};b.prototype.F6a=function(a){return{TC:a.audioTrackId,Pz:a.mediaId,Twb:a.videoTrackId,pEa:a.subtitleTrackId,Tnb:a.preferenceOrder};};b.prototype.j9a=function(a){return{audioTrackId:a.TC,mediaId:a.Pz,videoTrackId:a.Twb,subtitleTrackId:a.pEa,preferenceOrder:a.Tnb};};b.prototype.Q6a=function(a){return this.ig(a,this.P6a);};b.prototype.y9a=function(a){return this.ig(a,this.x9a);};b.prototype.P6a=function(a){return this.Sb.yk(this.j5(a),{type:a.type,oFa:this.O6a(a.ttDownloadables),qA:a.rawTrackType,xE:a.languageDescription,language:a.language,id:a.id,wU:a.isNoneTrack,tU:a.isForcedNarrative,osa:a.downloadableIds,eqa:this.Bra(a.cdnlist),JK:a.isLanguageLeftToRight});};b.prototype.x9a=function(a){return this.Sb.yk(this.X5(a),{type:a.type,ttDownloadables:this.w9a(a.oFa),rawTrackType:a.qA,languageDescription:a.xE,language:a.language,id:a.id,isNoneTrack:a.wU,isForcedNarrative:a.tU,downloadableIds:a.osa,cdnlist:this.Hsa(a.eqa),trackType:a.cj,new_track_id:a.op,isLanguageLeftToRight:a.JK});};b.prototype.O6a=function(a){return this.Jv(a,this.N6a);};b.prototype.w9a=function(a){return this.Jv(a,this.v9a);};b.prototype.N6a=function(a){return{sq:a.downloadUrls,Leb:a.hashAlgo,Meb:a.hashValue,height:a.height,width:a.width,fgb:a.isImage,lL:a.midxOffset,hV:a.midxSize,size:a.size,vub:a.textKey};};b.prototype.v9a=function(a){return{downloadUrls:a.sq,hashAlgo:a.Leb,hashValue:a.Meb,height:a.height,width:a.width,isImage:a.fgb,midxOffset:a.lL,midxSize:a.hV,size:a.size,textKey:a.vub};};b.prototype.T6a=function(a){if(a)return this.ig(a,this.S6a);};b.prototype.C9a=function(a){if(a)return this.ig(a,this.B9a);};b.prototype.S6a=function(a){return{interval:a.interval,GAa:a.pixelsAspectY,FAa:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,HD:a.downloadable_id,ad:a.urls,id:a.id};};b.prototype.B9a=function(a){return{interval:a.interval,pixelsAspectY:a.GAa,pixelsAspectX:a.FAa,width:a.width,height:a.height,size:a.size,downloadable_id:a.HD,urls:a.ad,id:a.id};};b.prototype.C6a=function(a){return this.ig(a,this.B6a);};b.prototype.g9a=function(a){return this.ig(a,this.f9a);};b.prototype.B6a=function(a){return this.Sb.yk(this.j5(a),{id:a.id,uc:this.A6a(a.streams),cj:a.trackType,fl:a.channels,language:a.language,Y3:a.channelsFormat,mda:a.surroundFormatLabel,xE:a.languageDescription,isNative:a.isNative,Q7a:a.disallowedSubtitleTracks,jN:a.track_id,h7a:a.defaultTimedText,cba:a.profileType,type:a.type,$ca:a.stereo,profile:a.profile,yqa:a.codecName,qA:a.rawTrackType});};b.prototype.f9a=function(a){return this.Sb.yk(this.X5(a),{id:a.id,streams:this.e9a(a.uc),trackType:a.cj,channels:a.fl,language:a.language,channelsFormat:a.Y3,surroundFormatLabel:a.mda,languageDescription:a.xE,isNative:a.isNative,disallowedSubtitleTracks:a.Q7a,track_id:a.jN,defaultTimedText:a.h7a,profileType:a.cba,type:a.type,stereo:a.$ca,profile:a.profile,codecName:a.yqa,rawTrackType:a.qA});};b.prototype.Y6a=function(a){return this.ig(a,this.X6a);};b.prototype.H9a=function(a){return this.ig(a,this.G9a);};b.prototype.X6a=function(a){return this.Sb.yk(this.j5(a),{type:a.type,uc:this.W6a(a.streams),J5:a.drmHeader&&this.Ara(a.drmHeader),z5:a.dimensionsCount,A5:a.dimensionsLabel,ifb:a.ict,Oib:a.maxCroppedHeight,Pib:a.maxCroppedWidth,Qib:a.maxCroppedX,Rib:a.maxCroppedY,cba:a.profileType,$ca:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,DAa:a.pixelAspectX,EAa:a.pixelAspectY,profile:a.profile,djb:a.max_framerate_value,cjb:a.max_framerate_scale,Tjb:a.minCroppedHeight,Ujb:a.minCroppedWidth,Vjb:a.minCroppedX,Wjb:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,Yaa:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.Ara),UD:a.flavor,jN:a.track_id});};b.prototype.G9a=function(a){return this.Sb.yk(this.X5(a),{type:a.type,streams:this.F9a(a.uc),drmHeader:a.J5&&this.Gsa(a.J5),dimensionsCount:a.z5,dimensionsLabel:a.A5,ict:a.ifb,maxCroppedHeight:a.Oib,maxCroppedWidth:a.Pib,maxCroppedX:a.Qib,maxCroppedY:a.Rib,profileType:a.cba,stereo:a.$ca,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.DAa,pixelAspectY:a.EAa,profile:a.profile,max_framerate_value:a.djb,max_framerate_scale:a.cjb,minCroppedHeight:a.Tjb,minCroppedWidth:a.Ujb,minCroppedX:a.Vjb,minCroppedY:a.Wjb,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.Yaa&&a.Yaa.map(this.Gsa),flavor:a.UD,track_id:a.jN});};b.prototype.Ara=function(a){return{aa:a.bytes,N2a:a.checksum,nw:a.keyId};};b.prototype.Gsa=function(a){return{bytes:a.aa,checksum:a.N2a,keyId:a.nw};};b.prototype.j5=function(a){return{cj:a.trackType,op:a.new_track_id,type:a.type};};b.prototype.X5=function(a){return{trackType:a.cj,new_track_id:a.op,type:a.type};};b.prototype.A6a=function(a){return this.ig(a,this.z6a);};b.prototype.e9a=function(a){return this.ig(a,this.d9a);};b.prototype.z6a=function(a){return{iD:a.content_profile,cj:a.trackType,O:a.bitrate,size:a.size,hp:a.isDrm,HD:a.downloadable_id,type:a.type,T$:a.new_stream_id,ad:this.Cra(a.urls),fl:a.channels,Y3:a.channelsFormat,mda:a.surroundFormatLabel,language:a.language,I0a:a.audioKey};};b.prototype.d9a=function(a){return{content_profile:a.iD,trackType:a.cj,bitrate:a.O,size:a.size,isDrm:a.hp,downloadable_id:a.HD,type:a.type,new_stream_id:a.T$,urls:this.Isa(a.ad),channels:a.fl,channelsFormat:a.Y3,surroundFormatLabel:a.mda,language:a.language,audioKey:a.I0a};};b.prototype.W6a=function(a){return this.ig(a,this.V6a);};b.prototype.F9a=function(a){return this.ig(a,this.E9a);};b.prototype.V6a=function(a){return{iD:a.content_profile,cj:a.trackType,O:a.bitrate,size:a.size,hp:a.isDrm,HD:a.downloadable_id,type:a.type,T$:a.new_stream_id,ad:this.Cra(a.urls),Rmb:a.peakBitrate,z5:a.dimensionsCount,A5:a.dimensionsLabel,gnb:a.pix_w,fnb:a.pix_h,rCa:a.res_w,qCa:a.res_h,Qta:a.framerate_value,Pta:a.framerate_scale,ktb:a.startByteOffset,Ac:a.vmaf,ora:a.crop_x,pra:a.crop_y,mra:a.crop_h,nra:a.crop_w};};b.prototype.E9a=function(a){return{content_profile:a.iD,trackType:a.cj,bitrate:a.O,size:a.size,isDrm:a.hp,downloadable_id:a.HD,type:a.type,new_stream_id:a.T$,urls:this.Isa(a.ad),peakBitrate:a.Rmb,dimensionsCount:a.z5,dimensionsLabel:a.A5,pix_w:a.gnb,pix_h:a.fnb,res_w:a.rCa,res_h:a.qCa,framerate_value:a.Qta,framerate_scale:a.Pta,startByteOffset:a.ktb,vmaf:a.Ac,crop_x:a.ora,crop_y:a.pra,crop_h:a.mra,crop_w:a.nra};};b.prototype.Cra=function(a){return this.ig(a,this.U6a);};b.prototype.Isa=function(a){return this.ig(a,this.D9a);};b.prototype.U6a=function(a){return{url:a.url,dqa:a.cdn_id};};b.prototype.D9a=function(a){return{url:a.url,cdn_id:a.dqa};};b.prototype.Bra=function(a){return this.ig(a,this.M6a);};b.prototype.Hsa=function(a){return this.ig(a,this.u9a);};b.prototype.M6a=function(a){return{id:a.id,key:a.key,Txa:a.lowgrade,name:a.name,se:a.rank,type:a.type,Y7a:this.H6a(a.dns)};};b.prototype.u9a=function(a){return{id:a.id,key:a.key,lowgrade:a.Txa,name:a.name,rank:a.se,type:a.type,dns:this.l9a(a.Y7a)};};b.prototype.H6a=function(a){if(a)return{host:a.host,Vfb:a.ipv4,Wfb:a.ipv6,gab:a.forceLookup};};b.prototype.l9a=function(a){if(a)return{host:a.host,ipv4:a.Vfb,ipv6:a.Wfb,forceLookup:a.gab};};b.prototype.J6a=function(a){return this.ig(a,this.I6a);};b.prototype.n9a=function(a){return this.ig(a,this.m9a);};b.prototype.I6a=function(a){return{key:a.key,se:a.rank,weight:a.weight,level:a.level};};b.prototype.m9a=function(a){return{key:a.key,rank:a.se,weight:a.weight,level:a.level};};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.df))],a);d.zOa=a;},function(g,d,a){var f,h,q,c,m,k;function b(a,b,c,f,d){this.b_a=a;this.Opb=b;this.oCa=f;this.zCa=d;this.ja=c.kb("LicenseProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);q=a(324);a(323);c=a(322);m=a(321);a=a(320);b.prototype.wy=function(a){var b,c;b=this;c=this.oCa.bvb(a);return this.b_a.Fn(this.ja,a.If,c).then(function(a){a.map(function(a){return a.PJb;});return b.zCa.cvb(a);})["catch"](function(a){b.ja.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a){var b;b=this;a=this.oCa.fvb(a);return this.Opb.lf(this.ja,a).then(function(a){return b.zCa.gvb(a);})["catch"](function(a){b.ja.error("PBO release license failed",a);return Promise.reject(a);});};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(q.$ia)),g.__param(1,f.l(c.oja)),g.__param(2,f.l(h.ob)),g.__param(3,f.l(m.eja)),g.__param(4,f.l(a.fja))],k);d.ENa=k;},function(g,d,a){var f,h,q;function b(a,b){this.xib=a;this.ja=b.kb("ManifestProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(325);a=a(7);b.prototype.cE=function(a,b){var c;c=this;return this.xib.Fn(this.ja,b,a)["catch"](function(a){c.ja.error("PBO manifest failed",a);return Promise.reject(a);});};q=b;q=g.__decorate([f.N(),g.__param(0,f.l(h.ija)),g.__param(1,f.l(a.ob))],q);d.DOa=q;},function(g,d,a){var f,h,q;function b(a){this.nhb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(124);q=a(226);b.prototype.decode=function(a){var b;b=this.vdb(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.w7(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.xbb(a),timedtexttracks:this.Ndb(a.textTracks,b),media:this.eE(a.media),trickplays:this.Tdb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.Qbb(a),initialHeader:void 0,If:this.nhb()};b.yA=a.yA;b.mF=a.mF;b.If.q_a(b);return b;};b.prototype.xbb=function(a){var b,c,f;b=R(a.defaultMedia.split("|"));c=b.next().value;f=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:f,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.w7=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.vdb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.xva=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.Kab(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.Kab=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.xva(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.$db(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.$db=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.xva(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.Ndb=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.Idb(a.downloadables),ttDownloadables:c.Jdb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.Idb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.adb=function(a){var b;b=q.r0.F7();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(ea(a.map(function(a){return a.pixHeight;}))));};b.prototype.Jdb=function(a){var b;if(a){b=this.adb(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.eE=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.Tdb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.Qbb=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.$G))],a);d.EOa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vUa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";d.yLa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(g,d,a){var f,h,q,c,m,k,u,r;function b(a,b,c,f){this.Sb=a;this.bm=b;this.hY=c;this.LU=f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);q=a(39);c=a(98);m=a(173);k=a(76);u=a(631);a=a(150);b.prototype.Vf=function(a){var b;b=this;return this.Sb.Bv(a.qq[0].data,[8,4])?Promise.resolve({qc:[{id:"ddd",pw:"cert",AE:void 0}],rw:[{sessionId:"ddd",data:new Uint8Array(this.bm.decode(u.vUa))}]}):this.Sb.Bv(a.qq[0].data,this.hY.decode("certificate"))?Promise.resolve({qc:[{id:"ddd",pw:"cert",AE:void 0}],rw:[{sessionId:"ddd",data:new Uint8Array(this.bm.decode(u.yLa))}]}):this.LU.wy(this.nab(a)).then(function(a){return b.oab(a);});};b.prototype.release=function(a){var b;b=this;return this.LU.release(this.pab(a)).then(function(c){return b.qab(c,a);});};b.prototype.nab=function(a){var b;b=this;return{ia:a.ia,Xf:a.Xf,qS:a.qS,Kh:k.sxa(a.Kh),Vo:m.ro[a.Vo],qq:a.qq.map(function(a){return{sessionId:a.sessionId,dataBase64:b.bm.encode(a.data)};}),fL:a.fL,If:a.If};};b.prototype.pab=function(a){var b;b={};a.pq&&a.qc[0].id&&(b[a.qc[0].id]=this.bm.encode(a.pq));return a&&a.pq?{ia:a.ia,qc:a.qc,jrb:b}:{ia:a.ia,qc:a.qc};};b.prototype.oab=function(a){return{qc:a.qc,rw:a.rw};};b.prototype.qab=function(a,b){return a&&a.response&&a.response.data&&b.qc[0].id&&(a=a.response.data[b.qc[0].id])?{response:this.bm.decode(a)}:{};};r=b;r=g.__decorate([f.N(),g.__param(0,f.l(h.df)),g.__param(1,f.l(q.Uj)),g.__param(2,f.l(c.Xx)),g.__param(3,f.l(a.JG))],r);d.IKa=r;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$Ia="ControlProtocolSymbol";},function(g,d,a){var b,f,h,q,c,m,k,u,r,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(633);f=a(447);h=a(632);q=a(630);c=a(165);m=a(629);k=a(195);u=a(150);r=a(628);y=a(627);d.Fob=new g.ic(function(a){a(b.$Ia).ox(function(){return L._cad_global.controlProtocol;});a(f.Nfa).to(h.IKa).Y();a(c.s_).to(q.EOa).Y();a(c.Tha).to(y.zOa).Y();a(k.r_).to(m.DOa).Y();a(u.JG).to(r.ENa).Y();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.YJb=function(a){return a;};d.vib=function(a){return a;};d.ZJb=function(a){return Object.assign({},a);};},function(g,d,a){var f,h,q,c,m,k,u,r,y;function b(a,b,c){this.Ta=a;this.mxb=b;this.performance=c;h.vl(this,"performance");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(46);q=a(635);c=a(41);m=a(36);k=a(40);u=a(1);r=a(329);y=a(3);b.prototype.get=function(a,b,d){var g;g=this;return new Promise(function(k,h){var m,r,p;try{m=g.mxb.create();"withCredentials"in m||h(Error("Missing CORS support"));m.open("GET",a,!0);b&&(m.withCredentials=!0);d&&(m.timeout=d.ba(y.ha));r=g.Ta.kf;p=void 0;m.onreadystatechange=function(){var b;switch(m.readyState){case XMLHttpRequest.HEADERS_RECEIVED:p=g.Ta.kf.xe(r);break;case XMLHttpRequest.DONE:b=g.Ta.kf.xe(r);k({body:m.responseText,status:m.status,headers:f.vmb(m.getAllResponseHeaders()),Zc:g.Ccb(a,c.aa(m.responseText.length),b,p)});}};m.send();}catch(ja){h(ja);}});};b.vmb=function(a){var b,f,d;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){f=a[c];d=f.indexOf(": ");0<d&&(b[f.substring(0,d).toLowerCase()]=f.substring(d+2));}return b;};b.prototype.Ccb=function(a,b,f,d){b={size:b,duration:f,yda:d};if(!this.performance||!this.performance.getEntriesByName)return b;f=this.performance.getEntriesByName(a);if(0==f.length&&(f=this.performance.getEntriesByName(a+"/"),0==f.length))return b;a=f[f.length-1];b=q.vib(b);a.$6a&&(b.size=c.aa(a.$6a));0<a.duration?b.duration=y.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=y.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.fsa=y.timestamp(a.domainLookupEnd-a.domainLookupStart),b.sda=y.timestamp(a.connectEnd-a.connectStart),b.yda=y.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.Cda=y.timestamp(0):void 0!==a.secureConnectionStart&&(f=a.connectEnd-a.secureConnectionStart,b.Cda=y.timestamp(f),b.sda=y.timestamp(a.connectEnd-a.connectStart-f)));return b;};a=f=b;a=f=g.__decorate([u.N(),g.__param(0,u.l(k.Vj)),g.__param(1,u.l(r.gla)),g.__param(2,u.l(m.W_)),g.__param(2,u.optional())],a);d.kMa=a;},function(g,d,a){var f,h,q,c,m;function b(a,b){this.is=a;this.json=b;h.vl(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(46);q=a(36);c=a(3);a=a(21);b.prototype.parse=function(a){var f;a=this.json.parse(a);if(!this.is.D2(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.kI(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.kI(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.Js(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.kI(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Js(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Wk(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.Ay(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){f=a.urls[b];if(!this.is.D2(f))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.Vk(f.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.Vk(f.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Lob:a.pulses,rBa:a.pulse_delays?a.pulse_delays.map(c.Bb):[],Kob:c.Bb(a.pulse_timeout),cxa:a.next?c.Bb(a.next):void 0,ad:a.urls,M9:a.logblob,context:a.ctx};};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(a.Fe)),g.__param(1,f.l(q.Cu))],m);d.HLa=m;},function(g,d,a){var f,h,q,c,m,k;function b(a,b){this.Mh=a;this.Rz=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(41);c=a(3);m=a(38);a=a(58);b.prototype.gM=function(a){a=this.Rz.gm("ftlProbeError","info",f.gxb({url:a.url,sc:a.status,pf_err:a.Daa},a));this.Mh.yc(a);};b.gxb=function(a,b){b.Zc&&(b=b.Zc,f.iq(a,"d",b.duration),f.iq(a,"dns",b.fsa),f.iq(a,"tcp",b.sda),f.iq(a,"tls",b.Cda),f.iq(a,"ttfb",b.yda),a.sz=b.size.ba(q.Gr));return a;};b.iq=function(a,b,f){f&&(a[b]=f.ba(c.ha));return a;};k=f=b;k=f=g.__decorate([h.N(),g.__param(0,h.l(m.Xj)),g.__param(1,h.l(a.vo))],k);d.fSa=k;},function(g,d,a){var f,h,q,c,m,k;function b(a,b){this.Mh=a;this.Rz=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(41);c=a(3);m=a(38);a=a(58);b.prototype.gM=function(a){a=this.Rz.gm(a.M9,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return f.hxb({d:a.Zc.duration.ba(c.ha),sc:a.status,sz:a.Zc.size.ba(q.Gr),via:a.Mwb,cip:a.S2a,err:a.Zy},a);})};})});this.Mh.yc(a);};b.hxb=function(a,b){f.iq(a,"dns",b.Zc.fsa);f.iq(a,"tcp",b.Zc.sda);f.iq(a,"tls",b.Zc.Cda);f.iq(a,"ttfb",b.Zc.yda);return a;};b.iq=function(a,b,f){f&&(a[b]=f.ba(c.ha));return a;};k=f=b;k=f=g.__decorate([h.N(),g.__param(0,h.l(m.Xj)),g.__param(1,h.l(a.vo))],k);d.gSa=k;},function(g,d,a){var f,h,q,c,m,k,u,r;function b(a,b,c,f,d,g,k){this.config=a;this.bwa=b;this.ga=c;this.Kg=f;this.iqb=d;this.yba=g;this.Lgb=0;this.ja=k.kb("FTL");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(3);c=a(30);m=a(7);k=a(327);u=a(326);a=a(172);b.prototype.start=function(){this.config.enabled&&!this.ao&&(this.ao=this.ga.Og(this.config.$Da,this.sF.bind(this)));};b.prototype.stop=function(){this.ao&&(this.ao.cancel(),this.ao=void 0);};b.prototype.sF=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.Lgb++;this.Hdb(b).then(function(b){return Promise.all(b.ad.map(function(c){return a.Beb(b,c.url,c.name);})).then(function(c){0<c.length&&a.iqb.gM({data:c,context:b.context,M9:b.M9});}).then(function(){return b;});}).then(function(b){a.ao&&(b.cxa?a.ao=a.ga.Og(b.cxa,a.sF.bind(a)):a.stop());})["catch"](function(b){return a.ja.error("FTL run failed",b);});};b.prototype.Hdb=function(a){var b;b=this;return this.bwa.get(a,!1).then(function(c){var f;if(200!=c.status||null==c.body)return b.yba.gM({url:a,status:c.status,Daa:"FTL API request failed",Zc:c.Zc}),Promise.reject(Error("FTL API request failed: "+c.status));f=b.Kg.parse(c.body);return f instanceof Error?(b.yba.gM({url:a,status:4,Daa:"FTL Probe API JSON parsing error",Zc:c.Zc}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(c){c instanceof Error&&(b.yba.gM({url:a,status:0,Daa:c.message}),b.ja.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.Beb=function(a,b,c){var d;d=this;return new Promise(function(g,k){var l;for(var h,m,r,p=[],u={},y=0;y<a.Lob;u={Od:u.Od,fba:u.fba},++y){u.Od=y<a.rBa.length?a.rBa[y]:q.sf;u.fba=""+b+(-1===b.indexOf("?")?"?":"&")+"pulse="+(y+1);l=function(b){return function(){return new Promise(function(c,g){d.ga.Og(b.Od,function(){f.pob(d.bwa,b.fba,a.Kob).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}h=b(h,"via",a);m=b(m,"x-ftl-probe-data",a);r=b(r,"x-ftl-error",a);c({status:a.status,Zc:a.Zc,Mwb:h||"",S2a:m||"",Zy:r||""});})["catch"](function(a){g(a);});});});};}(u);p.push(0<y?p[y-1].then(l):l());}Promise.all(p).then(function(a){g({url:b,name:c,data:a});})["catch"](function(a){k(a);});});};b.pob=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};r=f=b;r=f=g.__decorate([h.N(),g.__param(0,h.l(a.rga)),g.__param(1,h.l(u.Ega)),g.__param(2,h.l(c.yg)),g.__param(3,h.l(k.qga)),g.__param(4,h.l(a.bka)),g.__param(5,h.l(a.aka)),g.__param(6,h.l(m.ob))],r);d.JLa=r;},function(g,d,a){var b,f,h,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(640);f=a(639);h=a(638);q=a(637);c=a(636);m=a(327);k=a(326);u=a(172);d.uab=new g.ic(function(a){a(u.sga).to(b.JLa).Y();a(u.bka).to(f.gSa).Y();a(u.aka).to(h.fSa).Y();a(m.qga).to(q.HLa).Y();a(k.Ega).to(c.kMa).Y();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.kq=a;}a.prototype.tL=function(){var a,f,d;a=this.kq.lcb();f=this.kq.mcb();d=this.kq.ncb();if("number"===typeof a&&"number"===typeof f&&"number"===typeof d)return(d-a)/f;};return a;}();d.vPa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f){this.kq=a;this.tL=f;}a.prototype.vca=function(a){return this.kq.vca(a);};a.prototype.ol=function(){return this.kq.ol();};a.prototype.Mcb=function(){return this.tL.tL();};return a;}();d.uPa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Bxa=a;}a.prototype.vca=function(a){try{this.Bxa.setItem("gtp",JSON.stringify(a));}catch(f){return!1;}return!0;};a.prototype.Eua=function(){var a;try{a=this.Bxa.getItem("gtp");if(a)return JSON.parse(a);}catch(f){}};a.prototype.ol=function(){var a;a=this.Eua();if(a&&a.tp)return a.tp.a;};a.prototype.lcb=function(){var a;a=this.r7();if(a)return a.p25;};a.prototype.mcb=function(){var a;a=this.r7();if(a)return a.p50;};a.prototype.ncb=function(){var a;a=this.r7();if(a)return a.p75;};a.prototype.r7=function(){var a;a=this.Eua();if(a&&(a=a.iqr))return a;};return a;}();d.xea=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(644);f=a(643);h=a(642);d["default"]=function(a){var c;a=new b.xea(a);c=new h.vPa(a);return new f.uPa(a,c);};},function(g,d,a){var f,h,q,c;function b(a,b,c){this.config=a;this.Uhb=b;this.Gc=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(470);h=a(1);q=a(167);a=a(328);b.prototype.L4=function(){if(this.config.OFa)return this.Gc(this.Uhb());};c=b;c=g.__decorate([h.N(),g.__param(0,h.l(f.ria)),g.__param(1,h.l(q.qia)),g.__param(2,h.l(a.sia))],c);d.tPa=c;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.create=function(){return new XMLHttpRequest();};f=b;f=g.__decorate([a.N()],f);d.zUa=f;},function(g,d,a){var b,f,h,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(647);f=a(83);h=a(329);q=a(646);c=a(196);m=a(328);k=a(645);d.Ckb=new g.ic(function(a){a(h.gla).to(b.zUa).Y();a(f.Eu).ox(function(){return L._cad_global.http;});a(c.MO).to(q.tPa).Y();a(m.sia).Th(k["default"]);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Pe||(d.Pe={});g.tGa="aseexception";g.uGa="asereport";g.nHa="audioswitch";g.LHa="bitraterestriction";g.MHa="blockedautoplay";g.IIa="cdnsel";g.KIa="chgstrm";g.AKa="dlreport";g.BKa="dlreq";g.mLa="endplay";g.qNa="intrplay";g.$Oa="midplay";g.Dja="playbackaborted";g.eSa="renderstrmswitch";g.iSa="repos";g.nSa="resumeplay";g.QSa="securestop";g.WSa="serversel";g.fTa="startplay";g.gTa="statechanged";g.oTa="subtitleerror";g.qTa="subtitleqoe";g.HTa="timedtextrebuffer";g.ITa="timedtextswitch";g.OTa="transition";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nib=function(a,b){var c,h;if(0!==a.length){if(1===a.length)return a[0];for(var f=a[0],d=b(f),g=1;g<a.length;g++){c=a[g];h=b(c);h>d&&(f=c,d=h);}return f;}};},function(g,d,a){var f;function b(a,b,c){a=f.bZ.call(this,a,b)||this;a.yv=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(332);da(b,f.bZ);d.GIa=b;},function(g,d,a){var f,h,q,c,m,k,u,r,y,l,I,n,D,O,t,N,ba,Q;function b(a,b,c,f,d,g,k,h,m,r,p,u,q,y,l,A){this.JEa=a;this.BR=b;this.Mh=c;this.x$=f;this.k6=d;this.Jj=g;this.ge=k;this.pS=h;this.Qd=m;this.config=r;this.Mc=p;this.Ta=u;this.ta=q;this.platform=y;this.YK=l;this.Un=A;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(237);h=a(422);q=a(38);c=a(23);m=a(414);k=a(233);u=a(82);r=a(1);y=a(333);l=a(331);I=a(83);n=a(17);D=a(40);O=a(24);t=a(71);N=a(58);ba=a(106);a=a(197);b.prototype.create=function(a,b,c){return new y.RNa(a,b,c,this.JEa,this.BR,this.Mh,this.x$,this.k6,this.Jj,this.ge,this.pS,this.Qd,this.config,this.Mc,this.Ta,this.ta,this.platform,this.YK,this.Un);};Q=b;Q=g.__decorate([r.N(),g.__param(0,r.l(f.u0)),g.__param(1,r.l(h.bfa)),g.__param(2,r.l(q.Xj)),g.__param(3,r.l(m.Zha)),g.__param(4,r.l(k.iga)),g.__param(5,r.l(u.Iu)),g.__param(6,r.l(c.df)),g.__param(7,r.l(l.Kfa)),g.__param(8,r.l(I.Eu)),g.__param(9,r.l(n.pd)),g.__param(10,r.l(ba.PB)),g.__param(11,r.l(D.Vj)),g.__param(12,r.l(O.Ne)),g.__param(13,r.l(t.Rp)),g.__param(14,r.l(N.vo)),g.__param(15,r.l(a.a0))],Q);d.QNa=Q;},function(g,d,a){var f,h,q;function b(a){this.Fh=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(41);a=a(93);b.prototype.bib=function(){var a;a=this.Fh()?this.Fh().Zg.length:40;return h.aa(a+33);};q=b;q=g.__decorate([f.N(),g.__param(0,f.l(a.Ax))],q);d.ONa=q;},function(g,d,a){var h,q,c,m,k,u,r,y,l;function b(a,b,c,f,d,g,k,h,r,p){this.platform=b;this.W4=c;this.type=f;this.severity=d;this.timestamp=g;this.data=k;this.ta=h;this.data.type=f;this.data.sev=d;this.data.devmod=this.platform.kS;this.data.clver=this.platform.version;a&&a.nq&&(a.nq.os&&(this.data.osplatform=a.nq.os.name,this.data.osver=a.nq.os.version),this.data.browsername=a.nq.name,this.data.browserver=a.nq.version);a.e9&&(this.data.tester=!0);a.aw&&!this.data.groupname&&(this.data.groupname=a.aw);a.aD&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.aD:a.aD);a.VA&&(this.data.uigroupname=a.VA);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.ta.vcb();this.data.uniqueLogId=r.Vta();this.data.appId=this.ta.id;p&&(a=this.ta.Tb(),this.data.soffms=a.xe(p.Bl).ba(m.ha),this.data.mid=this.data.mid||p.I,this.data.lvpi=p.L9,this.data.uiLabel=p.De,f="startup"===f?"playbackxid":"xid",this.data[f]="xid"===f&&this.data.xid||p.ia,p.FA&&(f=p.FA,(p=p.FA.split("."))&&1<p.length&&"S"!==p[0][0]&&(f="SABTest"+p[0]+".Cell"+p[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}function f(a,b,c,f,d,g){this.Ta=a;this.W4=b;this.config=c;this.ta=f;this.Fwb=d;this.platform=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(41);q=a(1);c=a(40);m=a(3);k=a(438);u=a(52);r=a(24);y=a(336);a=a(71);f.prototype.gm=function(a,c,f,d){return new b(this.config,this.platform,this.W4,a,c,this.Ta.kf,f,this.ta,this.Fwb,d);};l=f;l=g.__decorate([q.N(),g.__param(0,q.l(c.Vj)),g.__param(1,q.l(k.ofa)),g.__param(2,q.l(u.Sm)),g.__param(3,q.l(r.Ne)),g.__param(4,q.l(y.Uka)),g.__param(5,q.l(a.Rp))],l);d.NNa=l;qa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.Vpa||(this.Vpa=h.aa(this.W4.encode(this.data).length));return this.Vpa;}}});},function(g,d,a){var f,h,q,c;function b(a){this.config=a;this.Tib=f.aa(5E5);this.Arb=h.tV(1);this.mya=f.aa(1E6);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(41);h=a(3);q=a(1);a=a(17);qa.Object.defineProperties(b.prototype,{M2:{configurable:!0,enumerable:!0,get:function(){return this.config().M2;}}});c=b;c=g.__decorate([q.N(),g.__param(0,q.l(a.pd))],c);d.HNa=c;},function(g,d,a){var f,h,q;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(198);q=a(41);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.bib());}).reduce(function(a,b){return a.add(b);},q.aa(0));};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Dha))],a);d.PNa=a;},function(g,d,a){var h,q,c,m,k,u,r,y,l,I,n;function b(a,b,c,f,d,g,k,h){this.ta=a;this.platform=c;this.Fh=f;this.json=d;this.Sb=g;this.Jj=k;this.hib=h;q.vl(this,"json");this.ja=b.kb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(46);c=a(36);m=a(3);k=a(23);u=a(24);r=a(71);y=a(93);l=a(7);I=a(337);a=a(82);b.prototype.send=function(a){var b;b=this;return new Promise(function(c,d){var g;try{g=a.reduce(function(a,c){a.entries.push(b.W5a(c));return a;},new f());c(b.zab(g));}catch(Q){b.ja.error(Q.message);d(Q);}}).then(function(a){return b.BF(a);});};b.prototype.W5a=function(a){return this.Sb.yk(this.Sb.yk({},a.data),{esn:this.Fh().Zg,sev:a.severity,type:a.type,lver:this.platform.Kxa,jssid:this.ta.id,devmod:this.platform.kS,jsoffms:a.timestamp.xe(this.ta.Hz).ba(m.ha),clienttime:a.timestamp.ba(m.ha),client_utc:a.timestamp.ba(m.Ym),uiver:this.Jj.YF});};b.prototype.zab=function(a){var b;b=this;try{return this.json.stringify(a);}catch(ba){for(var c={},f=0;f<a.entries.length;c={NM:c.NM,me:c.me},++f){c.me=Object.assign({},a.entries[f]);try{this.json.stringify(c.me);}catch(Q){c.NM=void 0;this.Sb.Kv(c.me,function(a){return function(c,f){try{b.json.stringify(f);}catch(T){a.NM=T.message;a.me[c]=a.NM;}};}(c));c.me.stringifyException=c.NM;c.me.originalType=c.me.type;c.me.type="debug";c.me.sev="error";}}return this.json.stringify(a);}};b.prototype.BF=function(a){var b;b=this;return this.hib.lf(this.ja,{logblobs:a}).then(function(){})["catch"](function(a){b.ja.error("PBO logblob failed",a);return Promise.reject(a);});};n=b;n=g.__decorate([h.N(),g.__param(0,h.l(u.Ne)),g.__param(1,h.l(l.ob)),g.__param(2,h.l(r.Rp)),g.__param(3,h.l(y.Ax)),g.__param(4,h.l(c.Cu)),g.__param(5,h.l(k.df)),g.__param(6,h.l(a.Iu)),g.__param(7,h.l(I.hja))],n);d.SNa=n;},function(g,d,a){var h,q,c,m,k,u,r;function b(a){this.AC=c.sf;this.J1=[];this.cq=this.RP=!1;this.vla=0;a&&(this.AC=a.size,this.J1=a.Tq,a instanceof b&&(this.vla=a.F0a+1));}function f(a,b,c,f){this.Ajb=a;this.config=b;this.Jf=c;this.json=f;q.vl(this,"json");this.ja=this.Jf.kb("MessageQueue");this.Ko=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(46);c=a(41);m=a(198);k=a(7);u=a(36);a=a(38);f.prototype.N2=function(a){var b,c;0===this.Ko.length&&this.Ko.push(this.h7());if(a=this.mdb(a)){b=this.Ajb.measure([a]);c=this.Ko[this.Ko.length-1];0<c.size.add(b).il(this.config.mya)&&(c=this.h7(),this.Ko.push(c));c.N2(a);}};f.prototype.Vab=function(){var a;a=this.Ko.filter(function(a){return a.p2a;});this.Ko.push(this.h7());a.forEach(function(a){return a.Eib();});return a;};f.prototype.g_a=function(a){a.gw||this.Ko.unshift(new b(a));};f.prototype.Spb=function(a){a=this.Ko.indexOf(a);0<=a&&this.Ko.splice(a,1);};f.prototype.mdb=function(a){try{return{data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(F){var b,c;b={};c=a.data.debugMessage;c&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ja.error("JSON.stringify error: "+F.message,b);}};f.prototype.h7=function(){return new b();};qa.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Ko.reduce(function(a,b){return a.add(b.size);},c.sf);}}});r=f;r=g.__decorate([h.N(),g.__param(0,h.l(m.Eha)),g.__param(1,h.l(a.n_)),g.__param(2,h.l(k.ob)),g.__param(3,h.l(u.Cu))],r);d.YOa=r;b.prototype.hda=function(){this.RP=!1;this.cq=!0;};b.prototype.wq=function(){this.RP=!1;};b.prototype.N2=function(a){this.J1.push(a);this.AC=this.AC.add(a.size);};b.prototype.Eib=function(){this.RP=!0;};qa.Object.defineProperties(b.prototype,{F0a:{configurable:!0,enumerable:!0,get:function(){return this.vla;}},size:{configurable:!0,enumerable:!0,get:function(){return this.AC;}},Tq:{configurable:!0,enumerable:!0,get:function(){return this.J1;}},p2a:{configurable:!0,enumerable:!0,get:function(){return 0<this.Tq.length&&!1===this.RP;}},gw:{configurable:!0,enumerable:!0,get:function(){return this.cq;}}});},function(g,d,a){var f,h,q,c,m,k,u,r,y,l;function b(a,b,c,f,d,g,k){this.config=a;this.json=b;this.ga=c;this.Yhb=f;this.jL=g;this.YR=k;this.vU=this.Ln=!1;this.listeners=[];h.vl(this,"json");this.ja=d.kb("LogBatcher");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(46);q=a(36);c=a(339);m=a(30);k=a(7);u=a(38);r=a(338);y=a(2);l=a(68);a(152);b.prototype.xc=function(){this.Ln=!0;};b.prototype.yc=function(a){var b;b=this;0<a.size.il(this.config.Tib)?this.ja.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.Hya(a);}),this.jL.N2(a),this.ga.Nb(function(){b.U$a();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.vU?(this.ja.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,f){b.ja.trace("Flushing",k.iO);b.jh();b.ga.Nb(function(){b.ica(a).then(function(){c();})["catch"](function(a){f(a);});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.ica=function(a){var b,c;a=void 0===a?!1:a;b=this;if(!this.Ln)return this.ja.trace("LogBatcher is not initialized"),Promise.resolve();if(this.vU)return this.ja.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve();c=this.jL.Vab();if(0===c.length&&!a)return this.ja.trace("No logblobs to send"),Promise.resolve();this.jh();this.listeners.forEach(function(a){return a.jDa();});a=Promise.resolve();for(var f={},d=R(c),g=d.next();!g.done;f={y3:f.y3},g=d.next())f.y3=g.value,a=a.then(function(a){return function(){return b.zrb(a.y3);};}(f));return a.then(function(){return b.jt();})["catch"](function(a){c.filter(function(a){return!a.gw;}).forEach(function(a){return a.wq();});b.jt();throw Error("Send failure. "+a);});};b.prototype.zrb=function(a){var b;b=this;this.ja.trace("Sending batch: "+a.size,k.iO);return Promise.resolve(this.jL.Spb(a)).then(function(){return b.Yhb.send(a.Tq);}).then(function(){return a.hda();})["catch"](function(c){b.ja.warn("Failed to send batch of logblobs.",c,k.iO);a.wq();b.Lsb(c)&&b.jL.g_a(a);b.Usb(c)&&(b.vU=!0);throw c;});};b.prototype.Lsb=function(a){return a.Gg===y.b_.Zia?!1:this.config.M2;};b.prototype.Usb=function(a){return a.Lc===y.u.uga||a.Lc===y.u.CG||a.Lc===y.u.rB?!0:!1;};b.prototype.U$a=function(){var a;a=this;0<this.jL.size.il(this.config.mya)?this.ica()["catch"](function(b){return a.ja.warn("Failed to send log messages on size threshold. "+b);}):this.jt();};b.prototype.jh=function(){this.Ez&&(this.Ez.cancel(),this.Ez=void 0);};b.prototype.jt=function(){this.Ez||(this.Ez=this.ga.Og(this.config.Arb,this.Pt.bind(this)));};b.prototype.Pt=function(){var a;a=this;this.vU=!1;this.jh();this.ica()["catch"](function(b){return a.ja.warn("Failed to send log messages on timer. "+b);});};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(D){}return b;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(u.n_)),g.__param(1,f.l(q.Cu)),g.__param(2,f.l(m.yg)),g.__param(3,f.l(c.Gha)),g.__param(4,f.l(k.ob)),g.__param(5,f.l(r.hia)),g.__param(6,f.l(l.sG))],a);d.INa=a;},function(g,d,a){var f,h,q,c,m,k,u;function b(a,b,c,d){var g;g=this;this.kib=a;this.YK=b;this.config=d;this.tba=[];this.kib.zW(f.pGa,this.qeb.bind(this));c().then(function(a){var b;b=d().yj.eab;g.Xib=b?u.Zh[b.toUpperCase()]:u.Zh.ERROR;g.Mh=a;g.Drb();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(17);c=a(95);m=a(38);k=a(58);u=a(7);b.prototype.qeb=function(a,b){this.Mh?this.uBa(a,b):this.tba.push([a,b]);};b.prototype.Drb=function(){var a,b;a=this;b=this.tba;this.tba=[];b.forEach(function(b){a.uBa(b[0],b[1]);});};b.prototype.uBa=function(a,b){var c;if(this.Mh&&this.Osb(a)){c={debugMessage:a.message,debugCategory:a.el};a.ld.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.YK.gm("debug",u.Zh[a.level].toLowerCase(),c,b);this.Mh.yc(a);}};b.prototype.Osb=function(a){var b;b=this.Xib;return void 0!==b&&a.level<=b&&!a.ld.find(function(a){return a.JJ(u.iO);});};a=f=b;a.pGa="adaptorAll";a=f=g.__decorate([h.N(),g.__param(0,h.l(c.wB)),g.__param(1,h.l(k.vo)),g.__param(2,h.l(m.zha)),g.__param(3,h.l(q.pd))],a);d.UGa=a;},function(g,d,a){var b,f,h,q,c,m,k,u,r,y,l,n,F,D,O,t,N,ba,Q,ja,z,X;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(112);f=a(660);h=a(659);q=a(658);c=a(657);m=a(656);k=a(17);u=a(655);r=a(654);y=a(653);l=a(30);n=a(93);F=a(335);D=a(338);O=a(339);t=a(58);N=a(198);ba=a(38);Q=a(334);ja=a(652);z=a(331);X=a(330);d.iib=new g.ic(function(a){a(ba.Xj).to(h.INa).Y();a(D.hia).to(q.YOa).Y();a(O.Gha).to(c.SNa).Y();a(N.Eha).to(m.PNa).Y();a(ba.n_).to(u.HNa).Y();a(t.vo).to(r.NNa).Y();a(N.Dha).to(y.ONa).Y();a(Q.Fha).to(ja.QNa).Y();a(z.Kfa).to(X.CKa).Y();a(F.wea).to(f.UGa).Y();a(ba.zha).OX(function(a){return function(){return new Promise(function(c){var d,g,h,m;function f(){g()&&h()&&m.Nh?c(a.zb.get(ba.Xj)):d.Nb(f);}d=a.zb.get(l.yg);g=a.zb.get(k.pd);h=a.zb.get(n.Ax);m=a.zb.get(b.zB);d.Nb(f);});};});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uKa=function(a,b,f){this.Zg=a;this.vq=b;this.b6=f;};},function(g,d,a){var f,h,q,c,m,k,u,r,y,l,n,F,D;function b(a,b,c,f,d,g,k,h,m,r){this.Yra=a;this.$i=b;this.Aa=f;this.V4=d;this.Ae=g;this.debug=k;this.Ewb=h;this.U4=m;this.Mmb=r;this.hZ=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.kb("Device");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(21);q=a(662);c=a(7);m=a(345);k=a(39);u=a(89);r=a(23);y=a(1);l=a(70);n=a(342);F=a(341);a=a(340);b.prototype.Zsa=function(a){try{return a.match(this.hZ)[2];}catch(aa){}};b.prototype.ata=function(a){try{return a.match(this.hZ)[1];}catch(aa){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(c,d){b.$i.create().then(function(g){var h,m,r,p,u,y;function k(a){b.Aa.Wk(a)&&b.Aa.Wk(h)?(m=new q.uKa(a,h,r),c(m)):d({Z:f.u.rfa});}h=a.vq;if(a.e7)r="bind_device",b.Mmb.lf(b.log,{}).then(function(a){k(a.esn);})["catch"](function(a){d(a);});else if(a.Q6){u=a.Zg;if(b.Aa.Wk(u)){y=b.ata(u);y!=a.vq&&b.log.error("esn prefix from ui is different",{ui:y,cad:a.vq,ua:a.userAgent});}else a.I9&&b.log.error("esn from ui is missing");g.load(a.Zra).then(function(a){p=a.value;b.Aa.Wk(p)&&(b.Aa.Wk(u)?(a=b.Zsa(u),r=a===p?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):r="storage_esn_not_in_config",k(h+p));})["catch"](function(c){var p;function m(){g.save(a.Zra,p,!1).then(function(){k(h+p);})["catch"](function(a){d(a);});}c.Z===f.u.Mu?(b.Aa.Wk(a.Zg)?(p=b.Zsa(a.Zg),b.Aa.Wk(p)?r="config_since_not_in_storage":(r="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Zg),p=b.Yra.Tta())):(r="generated_since_not_in_config_and_storage",p=b.Yra.Tta()),m()):d(c);});}else a.I7a&&b.V4&&b.V4.getKeyByName?b.V4.getKeyByName(a.Q0a).then(function(a){a=a.id;if(b.Aa.Vk(a))a=String.fromCharCode.apply(void 0,b.Ae.decode(a)),b.debug.assert(""!=a),h=b.ata(a),k(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){d({Z:f.u.TY,Sa:b.Ewb.ne(a)});}):a.H7a&&b.U4&&b.U4.qua?b.U4.qua().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=h+a;b.debug.assert(b.hZ.test(a));k(c);})["catch"](function(){d({Z:f.u.TY});}):k();})["catch"](function(a){d(a);});});};D=b;D=g.__decorate([y.N(),g.__param(0,y.l(m.Hfa)),g.__param(1,y.l(l.Er)),g.__param(2,y.l(c.ob)),g.__param(3,y.l(h.Fe)),g.__param(4,y.l(F.nfa)),g.__param(5,y.l(k.Uj)),g.__param(6,y.l(u.pu)),g.__param(7,y.l(r.df)),g.__param(8,y.l(n.mfa)),g.__param(9,y.l(a.aja))],D);d.vKa=D;},function(g,d,a){var f,h,q,c,m,k;function b(a,b){this.Ta=a;this.XL=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(40);h=a(3);q=a(116);c=a(344);m=a(46);a=a(1);b.prototype.Tta=function(){for(var a="",b=this.Ta.kf.ba(h.ha),f=6;f--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.XL.iba(new c.Zja(0,31,m.ilb))];return a;};k=b;k=g.__decorate([a.N(),g.__param(0,a.l(f.Vj)),g.__param(1,a.l(q.dH))],k);d.tKa=k;},function(g,d,a){var b,f,h,q,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(93);f=a(345);h=a(664);q=a(343);c=a(663);d.Fh=new g.ic(function(a){a(b.Ax).$f(function(){return function(){return L._cad_global.device;};});a(q.Ifa).to(c.vKa).Y();a(f.Hfa).to(h.tKa).Y();});},function(g,d,a){var f,h;function b(a){this.Nh=a;this.HW=0;this.Y8=!1;this.AA=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(112);b.prototype.send=function(a){var b,f,d;b=this;f=!!a.HK&&0!==this.HW;d=this.AA.some(function(a){return!!a.wV.HK;});return(f||this.Y8||d?new Promise(function(c,f){b.AA.push({wV:a,resolve:c,reject:f});}):this.BF(a)).then(function(a){b.Zza();return a;})["catch"](function(a){b.Zza();throw a;});};b.prototype.BF=function(a){this.HW++;a.HK&&(this.Y8=!0);return this.Nh.send(a);};b.prototype.fDa=function(a){this.BF(a.wV).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.Zza=function(){var a;this.HW--;this.Y8=!1;if(0===this.HW&&0<this.AA.length){a=this.AA.shift();this.fDa(a);if(!a.wV.HK)for(;0<this.AA.length&&!this.AA[0].wV.HK;)this.fDa(this.AA.shift());}};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.zB))],h);d.fPa=h;},function(g,d,a){var f,h,q,c,m,k,u,r,y,l,n,F,D,O,t,N,ba,Q,ja;function b(a,b,c,f,d,g,k,h,m,r,p,u,y,l){this.platform=a;this.config=b;this.fz=c;this.lhb=f;this.Ae=d;this.ta=g;this.Nh=k;this.Grb=h;this.NF=m;this.Om=r;this.Sb=p;this.XL=u;this.json=y;this.c3=l;this.lk=[];q.vl(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);q=a(46);c=a(71);m=a(17);k=a(52);u=a(24);r=a(39);y=a(3);l=a(112);n=a(242);F=a(98);D=a(23);O=a(2);t=a(116);N=a(83);ba=a(36);Q=a(88);a=a(347);b.prototype.send=function(a,b,c,d){var u,q,l,A;function g(b){return new Promise(function(c,f){function d(a){var f,d;function c(a,c){q.error("Failed to send request",{errorSubCode:a,errorExternalCode:c,request:JSON.stringify({method:b.method,profile:b.Jt.profile,nonReplayable:b.Y$,retryCount:b.Xw,userId:b.uN,userTokens:JSON.stringify(u.Nh.Nh.getUserIdTokenKeys())})});return{W:!1,result:{errorSubCode:a,errorExternalCode:c}};}f=u.json.parse(a);if(2!=f.length)return q.trace("The MSL envelope did not have enough array items."),c(O.u.MG);if(!f[1].payload)return q.trace("The MSL envelope did not have a payload."),c(O.u.MG);if(!f[1].status)return q.trace("The MSL envelope did not have a status."),c(O.u.MG);a=f[1].status;d=parseInt(a,10);if(isNaN(d)&&"ok"!=a.toLowerCase()||!(200<=d&&300>d))return f=f[1].payload.data,f=u.Ae.decode(f),q.error("The MSL status indicated an error",{status:d},u.Om.encode(f)),c(O.u.Pha,a);f=f[1].payload.data;f=u.Om.encode(u.Ae.decode(f));if(!f)return q.trace("The MSL payload is missing."),c(O.u.Qha);try{return u.json.parse(f);}catch(mf){return q.error("EDGE response this.json parse error: ",mf,f),c(O.u.Qha);}}k(b,b.Xw).then(function(g){var k,h;if(g.body)if(g=d(g.body),q.trace("Received EDGE response",{Method:a.method}),g.success){if(u.config().yj.j$a&&u.dgb(a)){k=a.EMb;h=g.profileGuid;if(k&&h!==k){g={Z:O.u.GQa,Sa:JSON.stringify({serverGuid:h,clientGuid:k})};p(g,b);f(g);return;}}A.success=!0;A.profileId=b.uN;A.elapsedtime=u.ta.Tb().ba(y.ha)-A.starttime;A.userTokens=JSON.stringify(u.Nh.Nh.getUserIdTokenKeys());c(g.result);}else{h=g.result;g.__logs&&(h.HFb=g.__logs);try{k=u.json.stringify(h.data);}catch(Lc){}g=p(h,b);f({Z:h.errorSubCode,Kc:h.errorExternalCode,GS:h.errorEdgeCode,Sa:h.errorDetails?[h.errorDetails," ",g].join(""):void 0,En:h.errorDisplayMessage,kt:k});}else f({Z:O.u.MG,Sa:p({Z:O.u.MG},b)});})["catch"](function(a){var c;c=p(a,b);a.Sa&&(a.Sa=[a.Sa," ",c].join(""));f(a);});});}function k(b,c){return new Promise(function(d,g){function k(b,c,r){return u.Grb.send(b).then(function(a){d(a);})["catch"](function(d){var p,y;y=d&&d.Pj&&void 0!==d.Pj.maxRetries?Math.min(d.Pj.maxRetries,r):r;(u.fz.Lba||h(d))&&c<=y?p=!0:(q.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:c,MaxRetries:y},f.hga(d)),p=!1);if(p)return p=d&&d.Pj&&void 0!==d.Pj.retryAfterSeconds?1E3*d.Pj.retryAfterSeconds:u.XL.iba(1E3,1E3*Math.pow(2,Math.min(c-1,y))),q.warn("Method failed, retrying",{Method:a.method,Attempt:c,WaitTime:p,MaxRetries:y},f.hga(d)),m(p).then(function(){return k(b,c+1,y);});g(d);});}return k(b,1,c);});}function h(a){return(a=a&&a.Z)&&a>=O.u.rB&&a<=O.u.qB;}function m(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function r(){var f,g;f="";c&&(f+=(0<f.length?"&":"")+"logs=true");d&&(f+=(0<f.length?"&":"")+"debug=true");a.languages=u.config().yj.gW;a.clientVersion=u.platform.version;a.uiVersion=u.config().yj.YF;g={};u.config().jza&&(g["X-Netflix.request.expiry.timeout"]=u.config().jza.toString());f=[{},{headers:g,path:u.config().yj.wsa,payload:{data:u.json.stringify(a)},query:f}];u.config().yj&&(q.debug("Request payload",{Method:a.method},u.NF.FX(f)),q.debug("Request parameters",{Method:a.method},u.NF.FX(a)));return{Jt:b,method:a.method,url:""+(u.c3.endpoint+u.config().yj.bza)+u.platform.vq+"/cadmium/"+a.method,body:u.json.stringify(f),timeout:l.ba(y.ha),uN:b.profile,gqb:!0,Y$:!1,li:!0,Xw:3,HK:a.isExclusive};}function p(a,b){A.success=!1;A.profileId=b.uN;A.elapsedtime=u.ta.Tb().ba(y.ha)-A.starttime;A.userTokens=JSON.stringify(u.Nh.Nh.getUserIdTokenKeys());A.subcode=a.errorSubCode||a.Z;A.extcode=a.errorExternalCode||a.Kc;q.error("BladeRunner command history",u.NF.FX(u.lk));return u.json.stringify(u.lk);}c=void 0===c?!1:c;d=void 0===d?!1:d;u=this;b=this.Sb.yk({Qd:this.lhb},b);q=b.log;l=y.ih(59);A={method:a.method,starttime:this.ta.Tb().ba(y.ha)};this.lk.push(A);this.lk.length>this.config().v1a&&this.lk.shift();q.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var c;c=r();g(c).then(function(b){a(b);})["catch"](function(a){var c;c={W:!1};u.Sb.yk(c,a,{Xq:!0});c.__logs&&(c.__logs=a.__logs);b(c);});});};b.prototype.dgb=function(a){return 0<=["bind"].indexOf(a.method)?!0:!1;};b.hga=function(a){var b,c,f;b={};c=a.errorExternalCode||a.Kc;f=a.errorDetails||a.Sa;b.ErrorSubCode=a.errorSubCode||a.Z||O.u.lj;c&&(b.ErrorExternalCode=c);f&&(b.ErrorDetails=f);return b;};ja=f=b;ja=f=g.__decorate([h.N(),g.__param(0,h.l(c.Rp)),g.__param(1,h.l(m.pd)),g.__param(2,h.l(k.Sm)),g.__param(3,h.l(N.Eu)),g.__param(4,h.l(r.Uj)),g.__param(5,h.l(u.Ne)),g.__param(6,h.l(l.zB)),g.__param(7,h.l(a.kia)),g.__param(8,h.l(n.q0)),g.__param(9,h.l(F.Xx)),g.__param(10,h.l(D.df)),g.__param(11,h.l(t.dH)),g.__param(12,h.l(ba.Cu)),g.__param(13,h.l(Q.lu))],ja);d.gPa=ja;},function(g,d,a){var b,f,h,q,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(112);f=a(667);h=a(346);q=a(347);c=a(666);d.Rn=new g.ic(function(a){a(b.zB).ox(function(){return L._cad_global.msl;});a(h.lia).to(f.gPa).Y();a(q.kia).to(c.fPa).Y();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.g6a=function(a,b,f){return{fva:function(){return a.B7();},ja:b,request:f,bh:!1};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.E3a={It:["minInitVideoBitrate",-Infinity],F$:["minHCInitVideoBitrate",-Infinity],Aw:["maxInitVideoBitrate",Infinity],nL:["minInitAudioBitrate",-Infinity],mL:["minHCInitAudioBitrate",-Infinity],bL:["maxInitAudioBitrate",Infinity],iV:["minAcceptableVideoBitrate",-Infinity],Ojb:["minAllowedVideoBitrate",-Infinity],Gib:["maxAllowedVideoBitrate",Infinity],Pjb:["minAllowedVmaf",-Infinity],Hib:["maxAllowedVmaf",Infinity],MM:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],pV:["minRequiredBuffer",2E4],oV:["minRequiredAudioBuffer",0],Wf:["minPrebufSize",5800],AS:["enableNewBufferingComplete",!1],IW:["requireDownloadDataAtBuffering",!1],JW:["requireSetupConnectionDuringBuffering",!1],rba:["rebufferingFactor",1],kp:["maxBufferingTime",2E3],bY:["useMaxPrebufSize",!0],Dw:["maxPrebufSize",4E4],bV:["maxRebufSize",Infinity],o$a:["fastRebufferRecoveryThreshold",Infinity],n$a:["fastRebufferRecoverBwThrehold",3E3],hU:["initialBitrateSelectionCurve",null],nwa:["initSelectionLowerBound",-Infinity],owa:["initSelectionUpperBound",Infinity],KX:["throughputPercentForAudio",15],v3:["bandwidthMargin",0],x3:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],k1a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Vs:76376,scale:18862.4,gamma:3.0569}],w3:["bandwidthMarginContinuous",!1],l1a:["bandwidthMarginForAudio",!0],nda:["switchConfigBasedOnInSessionTput",!0],y4:["conservBandwidthMargin",20],bJ:["conservBandwidthMarginTputThreshold",6E3],z4:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],uEa:["switchAlgoBasedOnHistIQR",!1],hx:["switchConfigBasedOnThroughputHistory","iqr"],o$:["maxPlayerStateToSwitchConfig",-1],Q9:["lowEndMarkingCriteria","iqr"],e_:["IQRThreshold",.5],v8:["histIQRCalcToUse","simple"],vn:["bandwidthManifold",{curves:[{min:.05,max:.82,Vs:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Vs:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Ht:["maxTotalBufferLevelPerSession",0],Xva:["highWatermarkLevel",3E4],YEa:["toStableThreshold",3E4],PX:["toUnstableThreshold",0],Qca:["skipBitrateInUpswitch",!1],dea:["watermarkLevelForSkipStart",8E3],o8:["highStreamRetentionWindow",9E4],R9:["lowStreamTransitionWindow",51E4],q8:["highStreamRetentionWindowUp",5E5],T9:["lowStreamTransitionWindowUp",1E5],p8:["highStreamRetentionWindowDown",6E5],S9:["lowStreamTransitionWindowDown",0],n8:["highStreamInfeasibleBitrateFactor",.5],ww:["lowestBufForUpswitch",9E3],OU:["lockPeriodAfterDownswitch",15E3],V9:["lowWatermarkLevel",15E3],xw:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],X9:["lowestWaterMarkLevelBufferRelaxed",!1],z$:["mediaRate",1.5],q$:["maxTrailingBufferLen",15E3],o3:["audioBufferTargetAvailableSize",262144],bea:["videoBufferTargetAvailableSize",1048576],vya:["maxVideoTrailingBufferSize",8388608],hya:["maxAudioTrailingBufferSize",393216],MS:["fastUpswitchFactor",3],p6:["fastDownswitchFactor",3],YU:["maxMediaBufferAllowed",27E4],nKb:["minMediaBufferLen",1E4],Rq:["maxMediaBufferAllowedInBytes",0],Nca:["simulatePartialBlocks",!0],SDa:["simulateBufferFull",!0],A4:["considerConnectTime",!0],x4:["connectTimeMultiplier",1],Qxa:["lowGradeModeEnterThreshold",12E4],Rxa:["lowGradeModeExitThreshold",9E4],iya:["maxDomainFailureWaitDuration",3E4],fya:["maxAttemptsOnFailure",18],Wsa:["exhaustAllLocationsForFailure",!0],oya:["maxNetworkErrorsDuringBuffering",20],j$:["maxBufferingTimeAllowedWithNetworkError",6E4],o6:["fastDomainSelectionBwThreshold",2E3],GEa:["throughputProbingEnterThreshold",4E4],HEa:["throughputProbingExitThreshold",34E3],Cxa:["locationProbingTimeout",1E4],hta:["finalLocationSelectionBwThreshold",1E4],EEa:["throughputHighConfidenceLevel",.75],FEa:["throughputLowConfidenceLevel",.4],F9:["locationStatisticsUpdateInterval",6E4],Whb:["locationSelectorPersistFailures",!0],LD:["enablePerfBasedLocationSwitch",!1],cKb:["maxRateMaxFragmentGroups",4500],Faa:["pipelineScheduleTimeoutMs",2],Bw:["maxPartialBuffersAtBufferingStart",2],G$:["minPendingBufferLen",3E3],Cw:["maxPendingBufferLen",6E3],xwb:["usePtsUpdateAsSignal",!1],W8a:["enableNginxRateLimit",!1],EV:["nginxSendingRate",4E4],Z8a:["enableRequestPacingToken",!1],vjb:["mediaRequestPacingSpeedBeforePlayback",.5],ujb:["mediaRequestPacingSpeed",2],Q8:["initialMediaRequestToken",2E4],UU:["maxActiveRequestsSABCell100",2],$U:["maxPendingBufferLenSABCell100",500],sCa:["resetActiveRequestsAtSessionInit",!0],p$:["maxStreamingSkew",2E3],Jib:["maxBufferOccupancyForSkewCheck",Infinity],qwb:["useBufferOccupancySkipBack",!0],n$:["maxPendingBufferPercentage",10],Oz:["maxRequestsInBuffer",120],UT:["headerRequestSize",4096],Peb:["headerCacheEstimateHeaderSize",!1],R$:["neverWipeHeaderCache",!1],SFa:["useSidxInfoFromManifestForHeaderRequestSize",!1],LS:["fastPlayHeaderRequestSize",0],Nz:["maxRequestSize",0],ME:["minRequestSize",65536],kV:["minBufferLenForHeaderDownloading",1E4],TDa:["smartHeaderPreDownloading",!1],PKb:["onlyAllowPtsUpdatePolling",!1],$jb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],KW:["reserveForSkipbackBufferMs",15E3],faa:["numExtraFragmentsAllowed",2],Tn:["pipelineEnabled",!0],FE:["maxParallelConnections",3],UDa:["socketReceiveBufferSize",0],mR:["audioSocketReceiveBufferSize",32768],fG:["videoSocketReceiveBufferSize",65536],l8:["headersSocketReceiveBufferSize",32768],Jsb:["shareDownloadTracks",!0],H$:["minTimeBetweenHeaderRequests",void 0],XX:["updatePtsIntervalMs",1E3],I3:["bufferTraceDenominator",0],XC:["bufferLevelNotifyIntervalMs",2E3],Bsa:["enableAbortTesting",!1],qoa:["abortRequestFrequency",8],eda:["streamingStatusIntervalMs",2E3],Rw:["prebufferTimeLimit",6E4],lV:["minBufferLevelForTrackSwitch",2E3],Y8a:["enablePenaltyForLongConnectTime",!1],zaa:["penaltyFactorForLongConnectTime",2],O9:["longConnectTimeThreshold",200],S2:["additionalBufferingLongConnectTime",2E3],T2:["additionalBufferingPerFailure",8E3],cM:["rebufferCheckDuration",6E4],Esa:["enableLookaheadHints",!1],Nxa:["lookaheadFragments",2],tq:["enableOCSideChannel",!0],$aa:["probeRequestTimeoutMilliseconds",3E4],qLb:["probeRequestConnectTimeoutMilliseconds",8E3],NO:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],AFa:["updateDrmRequestOnNetworkFailure",!0],XU:["maxDiffAudioVideoEndPtsMs",1E3],Iib:["maxAudioFragmentOverlapMs",80],o7a:["deferAseHeaderCache",!1],Ora:["deferAseScheduling",!1],Gub:["timeBeforeEndOfStreamBufferMark",6E3],l$:["maxFastPlayBufferInMs",2E4],k$:["maxFastPlayBitThreshold",2E8],Kib:["maxBufferingCompleteBufferInMs",Infinity],jV:["minAudioMediaRequestSizeBytes",0],rV:["minVideoMediaRequestSizeBytes",0],KE:["minAudioMediaRequestDuration",0],OE:["minVideoMediaRequestDuration",0],mV:["minMediaRequestDuration",0],Rjb:["minAudioMediaRequestDurationCache",0],ckb:["minVideoMediaRequestDurationCache",0],V8a:["enableMultiFragmentRequest",!1],bG:[["useHeaderCache","usehc"],!0],aY:[["useHeaderCacheData","usehcd"],!0],aS:["defaultHeaderCacheSize",4],n5:["defaultHeaderCacheDataCount",4],o5:["defaultHeaderCacheDataPrefetchMs",0],h8:["headerCacheMaxPendingData",6],i8:["headerCachePriorityLimit",5],Oeb:["headerCacheAdoptBothAV",!1],vwb:["usePipelineForBranchedAudio",!0],Wlb:["onlyDriveSingleChild",!1],P2a:["childBranchBatchedAmount",1E4],sV:["minimumTimeBeforeBranchDecision",2E3],ajb:["maxRequestsToAttachOnBranchActivation",void 0],Uya:["minimumJustInTimeBufferLevel",3E3],R8a:["enableJustInTimeAppends",!1],Dsa:["enableDelayedSeamless",!1],xGb:["branchEndPtsIntervalMs",250],pfb:["ignorePtsJustBeforeCurrentSegment",!1],kya:["maxFragsForFittableOnBranching",300],Imb:["pausePlaylistAtEnd",!0],f_a:["adaptiveParallelTimeoutMs",1E3],Xy:["enableAdaptiveParallelStreaming",!1],H3:["bufferThresholdToSwitchToSingleConnMs",45E3],G3:["bufferThresholdToSwitchToParallelConnMs",35E3],I8a:["enableAPSForBranching",!1],pY:["waitForPendingConnAdaptation",!1],P$:["networkFailureResetWaitMs",2E3],O$:["networkFailureAbandonMs",6E4],cV:["maxThrottledNetworkFailures",5],JX:["throttledNetworkFailureThresholdMs",200],Fs:["abortUnsentBlocks",!0],F2:["abortStreamSelectionPeriod",2E3],r$:["maxUnsentBlocks",2],U9:["lowThroughputThreshold",400],g6:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Fub:["timeAtEachBitrateRoundRobin",1E4],Lqb:["roundRobinDirection","forward"],keb:["hackForHttpsErrorCodes",!1],gfb:["httpsConnectErrorAsPerm",!1],Zya:["mp4ParsingInNative",!1],jf:["enableManagerDebugTraces",!1],$xa:["managerDebugMessageInterval",1E3],Zxa:["managerDebugMessageCount",20],Bza:["notifyManifestCacheEom",!0],GJ:["enableUsingHeaderCount",!1],VDa:["sourceBufferInOrderAppend",!0],Zn:["requireAudioStreamToEncompassVideo",!1],Poa:["allowAudioToStreamPastVideo",!1],MC:["allowReissueMediaRequestAfterAbort",!1],Vqa:["countGapInBuffer",!1],Y2:["allowCallToStreamSelector",!1],Lpa:["bufferThresholdForAbort",2E4],cda:["ase_stream_selector","optimized"],rpa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],P8:["initBitrateSelectorAlgorithm","default"],K3:["bufferingSelectorAlgorithm","default"],e5:["ase_ls_failure_simulation",""],c5:["ase_dump_fragments",!1],d5:["ase_location_history",0],f5:["ase_throughput",0],zra:["ase_simulate_verbose",!1],Rb:["stallAtFrameCount",void 0],g$:["marginPredictor","simple"],RDa:["simplePercentilePredictorPercentile",25],PDa:["simplePercentilePredictorCalcToUse","simple"],QDa:["simplePercentilePredictorMethod","simple"],pwb:["useBackupUnderflowTimer",!0],KMb:["useManifestDrmHeader",!0],MMb:["useOnlyManifestDrmHeader",!0],eha:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],Q$:["networkMeasurementGranularity","video_location"],Akb:["netIntrStoreWindow",36E3],yKb:["minNetIntrDuration",8E3],XVa:["fastHistoricBandwidthExpirationTime",10368E3],wWa:["bandwidthExpirationTime",5184E3],WVa:["failureExpirationTime",86400],pna:["historyTimeOfDayGranularity",4],TVa:["expandDownloadTime",!0],dXa:["minimumMeasurementTime",500],cXa:["minimumMeasurementBytes",131072],jYa:["throughputMeasurementTimeout",2E3],iYa:["initThroughputMeasureDataSize",262144],OWa:["historicBandwidthUpdateInterval",2E3],bXa:["minimumBufferToStopProbing",1E4],$Fb:["throughputPredictor","ewma"],Yba:["secondThroughputEstimator","slidingwindow"],VCa:["secondThroughputMeasureWindowInMs",3E5],ZFb:["throughputMeasureWindow",5E3],aGb:["throughputWarmupTime",5E3],YFb:["throughputIQRMeasureWindow",1E3],DFb:["IQRBucketizerWindow",15E3],lya:["maxIQRSamples",100],Qya:["minIQRSamples",5],VFb:["connectTimeHalflife",10],OFb:["responseTimeHalflife",10],NFb:["historicThroughputHalflife",14400],MFb:["historicResponseTimeHalflife",100],LFb:["historicHttpResponseTimeHalflife",100],Dga:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],Wma:["minReportedNetIntrDuration",4E3],XFb:["throughputBucketMs",500],IFb:["bucketHoltWintersWindow",2E3],MVa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")],k1:["filterDefinitionOverrides",{}],BVa:["defaultFilter","throughput-ewma"],MYa:["secondaryFilter","throughput-sw"],hC:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],U5:["enableHudsonFieldTest",!1],C8:["hudsonTitles",["81127954","70125931"]],Zib:["maxPartialBuffersAtHudson",1],haa:["numberOfChunksPerSegment",4],rda:["targetContentLatency",1E4],oMb:["targetLongContentLatency",3E4],ikb:["minimumTimeDelay",1],FJ:["enableSessionHistoryReport",!0],P5:["earlyStageEstimatePeriod",1E4],mxa:["lateStageEstimatePeriod",3E4],ZU:["maxNumSessionHistoryStored",10],qV:["minSessionHistoryDuration",3E5],Seb:["highAndStableModelName","baseline"],T5:["enableHighAndStablePredictor",!1],nV:["minNumSessionHistory",5],sGb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],VT:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Teb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],EJ:["enableInitThroughputEstimate",!1],h3:["applyInitThroughputEstimate",!1],pwa:["initThroughputPredictor",{bwThreshold:3E4,maxBwPredictionMap:{0:3E3,1:12E3,2:24E3,3:6E4},modelMap:{0:[500,1500],1:[1500,6E3],2:[6E3,12E3],3:[12E3,3E4]},lrParams:{0:{lrMeans:{currentHour:15.137936466264112,currentMonoTime:1.5533592424252495E12,"ens-avtp-b":.38723147282714365,"ens-avtp-last":7.278636833881816,"ens-avtp-mean":7.645354650835756,"ens-avtp-niqr":.9164307950209711,"ens-avtp-p25":7.206789836510741,"ens-avtp-p50":7.5392495750254085,"ens-avtp-p75":7.853195625145457,"ens-avtp-std":1890.0299065442302,"fns-avtp-b":.5156471603720371,"fns-avtp-last":7.394898247043087,"fns-avtp-mean":7.720412581434043,"fns-avtp-niqr":.7607496330326777,"fns-avtp-p25":7.401562072764315,"fns-avtp-p50":7.649474541536431,"fns-avtp-p75":7.887443054414084,"fns-avtp-std":1666.2825157466045,"fns-niqr-b":.18747269665025967,"fns-niqr-last":1.86623885534261,"fns-niqr-mean":4020.0354386780873,"fns-niqr-niqr":1.1631461141579456,"fns-niqr-p25":.53504898923602,"fns-niqr-p50":.726225303229194,"fns-niqr-p75":1.242351052769756,"fns-niqr-std":1666.2825157466045,intercept:0,"lns-avtp-b":.48094880098438736,"lns-avtp-last":7.359237053239481,"lns-avtp-mean":7.741498045478886,"lns-avtp-niqr":.8066874950335725,"lns-avtp-p25":7.387733349631643,"lns-avtp-p50":7.66341466705797,"lns-avtp-p75":7.91817801557748,"lns-avtp-std":1793.4228677873018,prevHour:14.921344184825413,prevMonoTime:1.5533390440510566E12,sessionCnt:24.169388290889998,timeSinceLastSession:2.0198374192701496E7},lrStd:{currentHour:6.865640901500013,currentMonoTime:1.364004355437288E8,"ens-avtp-b":.2584691537920595,"ens-avtp-last":.9989894721766466,"ens-avtp-mean":.9643206027819943,"ens-avtp-niqr":9.217134354074703,"ens-avtp-p25":1.0145221270034994,"ens-avtp-p50":1.0077653263765265,"ens-avtp-p75":1.014384099403048,"ens-avtp-std":3493.8569731733614,"fns-avtp-b":.270872729744521,"fns-avtp-last":.8922256527856904,"fns-avtp-mean":.9631055373892473,"fns-avtp-niqr":9.794120412451006,"fns-avtp-p25":.9696714991336701,"fns-avtp-p50":.9882569618688472,"fns-avtp-p75":1.0192683122081063,"fns-avtp-std":3332.139780244572,"fns-niqr-b":.3192946670619746,"fns-niqr-last":35.40213143776561,"fns-niqr-mean":6660.75906666252,"fns-niqr-niqr":8.550978136730766,"fns-niqr-p25":5.39412423399584,"fns-niqr-p50":8.615628045328721,"fns-niqr-p75":12.8578016592876,"fns-niqr-std":3332.139780244572,intercept:0,"lns-avtp-b":.282072702345461,"lns-avtp-last":.920183181440289,"lns-avtp-mean":.9634177300825915,"lns-avtp-niqr":9.46277236908144,"lns-avtp-p25":.9910526809941116,"lns-avtp-p50":.9973895193027993,"lns-avtp-p75":1.0214924879508251,"lns-avtp-std":3386.49152949358,prevHour:6.8062106735450705,prevMonoTime:1.4676929801573658E8,sessionCnt:27.412941078734494,timeSinceLastSession:5.725906972259589E7},lrWeights:{currentHour:-2.480219988909306E-4,currentMonoTime:-.0019605601123065795,"ens-avtp-b":.030002082172324713,"ens-avtp-last":.006493992808811227,"ens-avtp-mean":.02818971332256211,"ens-avtp-niqr":-.02149596695008564,"ens-avtp-p25":.025503939851905886,"ens-avtp-p50":-.03973590637292906,"ens-avtp-p75":.02654830002677231,"ens-avtp-std":-.005364609238773057,"fns-avtp-b":.003156990018105247,"fns-avtp-last":.014293274537829968,"fns-avtp-mean":.0669381230291235,"fns-avtp-niqr":.03466791553613246,"fns-avtp-p25":.003157582746026505,"fns-avtp-p50":.0523956105905824,"fns-avtp-p75":-.05674782509956824,"fns-avtp-std":.03209560096833295,"fns-niqr-b":-7.473002304028244E-4,"fns-niqr-last":.0019568255931097633,"fns-niqr-mean":-.08633242126981132,"fns-niqr-niqr":-.004089335618740389,"fns-niqr-p25":-.0021751031395086484,"fns-niqr-p50":-.003122331768672313,"fns-niqr-p75":.007288444327184066,"fns-niqr-std":.03209560096833287,intercept:6.862875813114732,"lns-avtp-b":-.0018938413688674922,"lns-avtp-last":.06676606627335506,"lns-avtp-mean":-.07603837147841763,"lns-avtp-niqr":-.016328230093415195,"lns-avtp-p25":.010303828813673513,"lns-avtp-p50":-.03589513366624033,"lns-avtp-p75":.056207400912909336,"lns-avtp-std":-.04520109870414885,prevHour:2.301420369949928E-4,prevMonoTime:.003685054780721308,sessionCnt:.005283216038814869,timeSinceLastSession:-.01411608956380438}},1:{lrMeans:{currentHour:15.134456203928675,currentMonoTime:1.553360459127433E12,"ens-avtp-b":.5283857099864471,"ens-avtp-last":8.262965687637706,"ens-avtp-mean":8.418902076257503,"ens-avtp-niqr":.49412220616859004,"ens-avtp-p25":8.149357473011756,"ens-avtp-p50":8.390031248001916,"ens-avtp-p75":8.59957129630267,"ens-avtp-std":2111.808134194941,"fns-avtp-b":.6226794650801935,"fns-avtp-last":8.40584007519461,"fns-avtp-mean":8.534636048829894,"fns-avtp-niqr":.3857773226390544,"fns-avtp-p25":8.332989060781467,"fns-avtp-p50":8.515032240428152,"fns-avtp-p75":8.675880386526348,"fns-avtp-std":1845.8852285168682,"fns-niqr-b":.21347933677439135,"fns-niqr-last":2.7647096219577483,"fns-niqr-mean":6495.223863385008,"fns-niqr-niqr":1.1972471971744498,"fns-niqr-p25":.417754032656591,"fns-niqr-p50":.5172058446238108,"fns-niqr-p75":1.0125653636288763,"fns-niqr-std":1845.8852285168682,intercept:0,"lns-avtp-b":.6033453099237509,"lns-avtp-last":8.415812181647567,"lns-avtp-mean":8.562171619279262,"lns-avtp-niqr":.41357537819056855,"lns-avtp-p25":8.345181430419174,"lns-avtp-p50":8.54253906247021,"lns-avtp-p75":8.711261794822105,"lns-avtp-std":1974.223790129235,prevHour:14.939649137256517,prevMonoTime:1.5533413406116138E12,sessionCnt:23.78952353498332,timeSinceLastSession:1.911851581933863E7},lrStd:{currentHour:6.915913563406681,currentMonoTime:1.3579546487519038E8,"ens-avtp-b":.2293871112256882,"ens-avtp-last":.7358412399626237,"ens-avtp-mean":.6643093703588823,"ens-avtp-niqr":1.07169360267822,"ens-avtp-p25":.745906641830048,"ens-avtp-p50":.6979613612146783,"ens-avtp-p75":.6885407945843879,"ens-avtp-std":3240.1297333061466,"fns-avtp-b":.23637302256741258,"fns-avtp-last":.6578310492721471,"fns-avtp-mean":.6602179870987327,"fns-avtp-niqr":1.134081009617818,"fns-avtp-p25":.7157365592980294,"fns-avtp-p50":.6876929888153775,"fns-avtp-p75":.6887095950016521,"fns-avtp-std":2989.2531011183996,"fns-niqr-b":.3023989175947571,"fns-niqr-last":188.45413775718876,"fns-niqr-mean":6183.929502016268,"fns-niqr-niqr":33.95026131965199,"fns-niqr-p25":26.357261465915563,"fns-niqr-p50":26.380090045656182,"fns-niqr-p75":43.53044500310377,"fns-niqr-std":2989.2531011183996,intercept:0,"lns-avtp-b":.24596048532404155,"lns-avtp-last":.6833105090588518,"lns-avtp-mean":.6607556120232774,"lns-avtp-niqr":1.6757909759512508,"lns-avtp-p25":.7380275856301542,"lns-avtp-p50":.6936783806450382,"lns-avtp-p75":.6875117220276126,"lns-avtp-std":3048.1088543643054,prevHour:6.8482668340195705,prevMonoTime:1.4556118772689274E8,sessionCnt:53.32066201160346,timeSinceLastSession:5.547356497303553E7},lrWeights:{currentHour:-.011871761229344389,currentMonoTime:-.0036318600724213708,"ens-avtp-b":6.986789202868642E-4,"ens-avtp-last":.011673758427760823,"ens-avtp-mean":.13608518163448968,"ens-avtp-niqr":.003289074114120798,"ens-avtp-p25":.003191593712230237,"ens-avtp-p50":-.0066247650633022084,"ens-avtp-p75":-.02430342458063187,"ens-avtp-std":-.04850809780387416,"fns-avtp-b":.03459494981020932,"fns-avtp-last":.045825189137544194,"fns-avtp-mean":.002906185911093708,"fns-avtp-niqr":-9.691590646234479E-4,"fns-avtp-p25":.01551994942837314,"fns-avtp-p50":.029373577658918765,"fns-avtp-p75":.00768497254533149,"fns-avtp-std":.05890409069070104,"fns-niqr-b":-.008291354205495876,"fns-niqr-last":7.094688122632014E-4,"fns-niqr-mean":-.16946963320808844,"fns-niqr-niqr":-.005836423713579879,"fns-niqr-p25":-.027958020496759037,"fns-niqr-p50":.022488996225378338,"fns-niqr-p75":.006740480962143502,"fns-niqr-std":.058904090690701134,intercept:8.165078062192634,"lns-avtp-b":-.01571675564523532,"lns-avtp-last":.07645655650235457,"lns-avtp-mean":.13252636589021868,"lns-avtp-niqr":.001852705659582087,"lns-avtp-p25":-.02287056515136447,"lns-avtp-p50":-.02727017463885446,"lns-avtp-p75":-.01678871891479746,"lns-avtp-std":-.10684389586829764,prevHour:.006312752532983602,prevMonoTime:7.922263883522697E-4,sessionCnt:-.0014142078702796947,timeSinceLastSession:-.010969324600447576}},2:{lrMeans:{currentHour:14.916476965235244,currentMonoTime:1.5533558212926494E12,"ens-avtp-b":.6033702623818743,"ens-avtp-last":9.07079977798437,"ens-avtp-mean":9.134353655661178,"ens-avtp-niqr":.3623797220515198,"ens-avtp-p25":8.9438379108834,"ens-avtp-p50":9.126032949875686,"ens-avtp-p75":9.286393189864482,"ens-avtp-std":2788.9769968086775,"fns-avtp-b":.6862725810071378,"fns-avtp-last":9.214723527939402,"fns-avtp-mean":9.257360798208294,"fns-avtp-niqr":.2819938242222468,"fns-avtp-p25":9.113237238279646,"fns-avtp-p50":9.252704073743296,"fns-avtp-p75":9.376480490223058,"fns-avtp-std":2363.937261606417,"fns-niqr-b":.3079747845775837,"fns-niqr-last":2.349342977897278,"fns-niqr-mean":11543.162025405922,"fns-niqr-niqr":.8353830501136797,"fns-niqr-p25":.539449003960107,"fns-niqr-p50":.6120488613618988,"fns-niqr-p75":1.025142025238165,"fns-niqr-std":2363.937261606417,intercept:0,"lns-avtp-b":.6777951321565386,"lns-avtp-last":9.242373955945844,"lns-avtp-mean":9.289167926920118,"lns-avtp-niqr":.29268472756928093,"lns-avtp-p25":9.139640688653648,"lns-avtp-p50":9.285271169565624,"lns-avtp-p75":9.411428319974624,"lns-avtp-std":2495.2347425350476,prevHour:14.812242829285893,prevMonoTime:1.5533367650419763E12,sessionCnt:22.706325003650857,timeSinceLastSession:1.9056250672805835E7},lrStd:{currentHour:6.958159398444638,currentMonoTime:1.3765789914884326E8,"ens-avtp-b":.20791212194940575,"ens-avtp-last":.5237134368233782,"ens-avtp-mean":.4313622313318821,"ens-avtp-niqr":1.0298500098014598,"ens-avtp-p25":.5419803486741355,"ens-avtp-p50":.4674794224249036,"ens-avtp-p75":.44107618204776045,"ens-avtp-std":3099.6031967305125,"fns-avtp-b":.2057216706261372,"fns-avtp-last":.4473595901777174,"fns-avtp-mean":.42416638003708,"fns-avtp-niqr":.8234513220640112,"fns-avtp-p25":.5178682322633591,"fns-avtp-p50":.45902338903605194,"fns-avtp-p75":.43391494044292445,"fns-avtp-std":2828.653607227709,"fns-niqr-b":.29378765978740723,"fns-niqr-last":215.29091108169573,"fns-niqr-mean":6147.36771938347,"fns-niqr-niqr":20.95631794508829,"fns-niqr-p25":40.09143302784156,"fns-niqr-p50":40.0917059991872,"fns-niqr-p75":76.46454385633622,"fns-niqr-std":2828.653607227709,intercept:0,"lns-avtp-b":.21393771099754127,"lns-avtp-last":.46019047514559575,"lns-avtp-mean":.42031282188319596,"lns-avtp-niqr":.9217122900046908,"lns-avtp-p25":.5307587654743611,"lns-avtp-p50":.4595139882962286,"lns-avtp-p75":.4282987444285461,"lns-avtp-std":2893.8796852190203,prevHour:6.865014634726103,prevMonoTime:1.469930475404992E8,sessionCnt:57.21379702338944,timeSinceLastSession:5.583272331188057E7},lrWeights:{currentHour:-.005994421348964647,currentMonoTime:-.00211070793241526,"ens-avtp-b":-.02447232547732549,"ens-avtp-last":.006628010901974464,"ens-avtp-mean":.09653723410014291,"ens-avtp-niqr":9.295461659569376E-4,"ens-avtp-p25":.0012695482222228938,"ens-avtp-p50":-.006429946340265358,"ens-avtp-p75":-.0018240666357782521,"ens-avtp-std":-.04861802416956936,"fns-avtp-b":.016168879730690602,"fns-avtp-last":.017384784341611354,"fns-avtp-mean":-.02557658926351166,"fns-avtp-niqr":3.2487392404244254E-4,"fns-avtp-p25":.003054291672231475,"fns-avtp-p50":.006524301521081224,"fns-avtp-p75":-.0010225597375610623,"fns-avtp-std":.018221004183639943,"fns-niqr-b":.007301915471974063,"fns-niqr-last":7.425485364153301E-4,"fns-niqr-mean":-.05147892802271394,"fns-niqr-niqr":-.001940470217320524,"fns-niqr-p25":.036234413553517725,"fns-niqr-p50":-.03524862921191027,"fns-niqr-p75":.0017027379253208021,"fns-niqr-std":.018221004183641903,intercept:9.081622862978675,"lns-avtp-b":-.03489939843656423,"lns-avtp-last":.019705353504600828,"lns-avtp-mean":.09344550455301621,"lns-avtp-niqr":4.5749884272222607E-4,"lns-avtp-p25":-.011722568647814033,"lns-avtp-p50":-.016087594727082558,"lns-avtp-p75":-.010522910223392006,"lns-avtp-std":-.04604219547608363,prevHour:.0031101128704211474,prevMonoTime:-9.098449270365904E-4,sessionCnt:-.0016748630087899665,timeSinceLastSession:-.0028086529149225895}},3:{lrMeans:{currentHour:14.863185390555186,currentMonoTime:1.553353396059636E12,"ens-avtp-b":.6515843728225397,"ens-avtp-last":9.835160560043459,"ens-avtp-mean":9.864626387517605,"ens-avtp-niqr":.30287768062622433,"ens-avtp-p25":9.712383207744509,"ens-avtp-p50":9.860345560485248,"ens-avtp-p75":9.996033168898707,"ens-avtp-std":4643.022907790445,"fns-avtp-b":.7193689607638848,"fns-avtp-last":9.907187981654845,"fns-avtp-mean":9.920454440962963,"fns-avtp-niqr":.24505403012362392,"fns-avtp-p25":9.799839579276911,"fns-avtp-p50":9.917613535901424,"fns-avtp-p75":10.025731269663444,"fns-avtp-std":3732.2129640042217,"fns-niqr-b":.4031678578759487,"fns-niqr-last":1.1753269491098228,"fns-niqr-mean":22052.618058988082,"fns-niqr-niqr":1.5068731631809027,"fns-niqr-p25":.3996162353642051,"fns-niqr-p50":.4644249735352749,"fns-niqr-p75":1.0193721160323532,"fns-niqr-std":3732.2129640042217,intercept:0,"lns-avtp-b":.713092505873196,"lns-avtp-last":9.933609828473625,"lns-avtp-mean":9.945144121988752,"lns-avtp-niqr":.257126639335263,"lns-avtp-p25":9.820890902912648,"lns-avtp-p50":9.94152946492105,"lns-avtp-p75":10.052128345697236,"lns-avtp-std":3896.5986547615607,prevHour:14.828444424077171,prevMonoTime:1.553332738875851E12,sessionCnt:21.279678298925372,timeSinceLastSession:2.0657183784891047E7},lrStd:{currentHour:6.947821212378729,currentMonoTime:1.3756061323794276E8,"ens-avtp-b":.19834188857056692,"ens-avtp-last":.4983372521531976,"ens-avtp-mean":.4192327383097373,"ens-avtp-niqr":.9075762835401722,"ens-avtp-p25":.5329637320560067,"ens-avtp-p50":.45584668612572893,"ens-avtp-p75":.4210250409846772,"ens-avtp-std":4002.7954469984215,"fns-avtp-b":.19090160405133458,"fns-avtp-last":.4348713024155281,"fns-avtp-mean":.40394998021486844,"fns-avtp-niqr":1.0660805112236655,"fns-avtp-p25":.5038688154650198,"fns-avtp-p50":.43801099282043815,"fns-avtp-p75":.40338412512671645,"fns-avtp-std":3543.8600674276213,"fns-niqr-b":.2743590168568854,"fns-niqr-last":141.1281274191549,"fns-niqr-mean":9470.610460587868,"fns-niqr-niqr":225.229351242605,"fns-niqr-p25":37.32547626585716,"fns-niqr-p50":37.325780629523,"fns-niqr-p75":89.23974801142606,"fns-niqr-std":3543.8600674276213,intercept:0,"lns-avtp-b":.1943229807098331,"lns-avtp-last":.4419652079817383,"lns-avtp-mean":.39892829574083294,"lns-avtp-niqr":2.91956505002238,"lns-avtp-p25":.5093223889354195,"lns-avtp-p50":.43503232733698466,"lns-avtp-p75":.39695315415773813,"lns-avtp-std":3599.9571758910874,prevHour:6.829137071943964,prevMonoTime:1.4742574746751267E8,sessionCnt:94.19446337605667,timeSinceLastSession:5.818167162809092E7},lrWeights:{currentHour:-.004389543791532469,currentMonoTime:-.0030344207819728818,"ens-avtp-b":-.09240427960392844,"ens-avtp-last":.010942277460710081,"ens-avtp-mean":.20096895216357133,"ens-avtp-niqr":.0032096847898172324,"ens-avtp-p25":-.005856201042576917,"ens-avtp-p50":.0017945703315946082,"ens-avtp-p75":.013290135779755425,"ens-avtp-std":-.10429624033817943,"fns-avtp-b":.033335456564662004,"fns-avtp-last":.03305046923296899,"fns-avtp-mean":-.09090160395555649,"fns-avtp-niqr":-.0010446812804401641,"fns-avtp-p25":.004912076898000752,"fns-avtp-p50":-.008494083146032963,"fns-avtp-p75":-.002989850542529556,"fns-avtp-std":.023336986139087093,"fns-niqr-b":.0024504601144316397,"fns-niqr-last":7.643316521852407E-4,"fns-niqr-mean":-.009119203062853156,"fns-niqr-niqr":-.0012594157293897756,"fns-niqr-p25":-.0422338795033952,"fns-niqr-p50":.04250587013668825,"fns-niqr-p75":.0017560870617061,"fns-niqr-std":.023336986139088925,intercept:9.861278665882926,"lns-avtp-b":-.0768634513815469,"lns-avtp-last":.019981566044227083,"lns-avtp-mean":.14111887010560764,"lns-avtp-niqr":-4.600304100335705E-4,"lns-avtp-p25":-.010343773714103076,"lns-avtp-p50":-.017237539822589385,"lns-avtp-p75":-.01599941028177654,"lns-avtp-std":-.0740283506738119,prevHour:.0018930816696335491,prevMonoTime:-.003464250273737749,sessionCnt:-.0016713463515894596,timeSinceLastSession:.0016036476749273867}}}}],ZQ:["addHeaderDataToNetworkMonitor",!0],Yca:["startMonitorOnLoadStart",!1],zba:["reportFailedRequestsToNetworkMonitor",!1],YV:["periodicHistoryPersistMs",0],SW:["saveVideoBitrateMs",0],qL:["needMinimumNetworkConfidence",!0],A3:["biasTowardHistoricalThroughput",!1],aib:["logMemoryUsage",!1],Tva:["headerCacheTruncateHeaderAfterParsing",!0],H0a:["audioFragmentDurationMilliseconds",null],Owb:["videoFragmentDurationMilliseconds",null],up:["probeServerWhenError",!0],Is:["allowSwitchback",!0],mA:["probeDetailDenominator",100],WU:["maxDelayToReportFailure",300],rI:["allowParallelStreaming",!1],sjb:["mediaPrefetchDisabled",!1],Pya:["minBufferLevelToAllowPrefetch",5E3],et:["editVideoFragments",!1],Dn:["editAudioFragments",!0],crb:["seamlessAudio",!1],drb:["seamlessAudioProfiles",[]],erb:["seamlessAudioProfilesAndTitles",{}],Xba:["seamlessAudioMaximumSyncError",void 0],BK:["insertSilentFrames",0],uwa:["insertSilentFramesOnExit",void 0],twa:["insertSilentFramesOnEntry",void 0],swa:["insertSilentFramesForProfile",void 0],fab:["forceDiscontinuityAtTransition",!0],gx:["supportAudioResetOnDiscontinuity",void 0],fx:["supportAudioEasingOnDiscontinuity",void 0],lq:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],F8a:["editCompleteFragments",!0],ekb:["minimumAudioFramesPerFragment",1],Cy:["applyProfileTimestampOffset",!1],Jo:["applyProfileStreamingOffset",!0],Iz:["lazyParsingSidx",!1],s$:["maximumFragmentsForLazyParsing",6E3],mBa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Gya:["mediaSourceSupportsNegativePts",!1],LE:["minAudioPtsGap",void 0],J0a:["audioOverlapGuardSampleCount",2],Fsa:["enableRecordJSBridgePerf",!1],i_:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Dub:["throughputThresholdSelectorParam",0],nwb:["upswitchDuringBufferingFactor",2],V_a:["allowUpswitchDuringBuffering",!1],Oqa:["contentOverrides",void 0],C4:["contentProfileOverrides",void 0],u8:["hindsightDenominator",0],t8:["hindsightDebugDenominator",0],pK:["hindsightAlgorithmsEnabled",["htwbr"]],WT:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],$oa:["appendMediaRequestOnComplete",!1],oY:["waitForDrmToAppendMedia",!1],E6:["forceAppendHeadersAfterDrm",!1],bM:["reappendRequestsOnSkip",!1],g5:["declareBufferingCompleteAtSegmentEnd",!1],Pq:["maxActiveRequestsPerSession",void 0],C9:["limitAudioDiscountByMaxAudioBitrate",!1],e3:["appendFirstHeaderOnComplete",!0],EX:["strictBufferCapacityCheck",!1],vI:["aseReportDenominator",0],l3:["aseReportIntervalMs",3E5],Jda:["translateToVp9Draft",!1],YM:["switchableAudioProfiles",[]],K0a:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],vEa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],M0a:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],uya:["maxStartingVideoVMAF",110],NE:["minStartingVideoVMAF",1],mI:["activateSelectStartingVMAF",!1],$W:["selectStartingVMAFTDigest",-1],xF:["selectStartingVMAFMethod","fallback"],aDa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],WV:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],O7a:["disablePtsStartsEvent",!0],sba:["recordFirstFragmentOnSubBranchCreate",!0],Aya:["mediaCacheConvertToBinaryData",!1],w$:["mediaCacheSaveOneObject",!1],eya:["markRequestActiveOnFirstByte",!1],tS:["earlyAppendSingleChildBranch",!0],ZA:["useNativeDataViewMethods",!1],LMb:["useNewAse",!1]};d.Cn=d.E3a;},function(g){g.T="4.1.532";},function(g,d,a){var h,q;function b(){this.ps=this.AH=this.MP=this.cQ=this.JP=null;}function f(a){this.G=a;this.fv=[];this.bn=new b();this.LH();}h=a(6);a(12);a(20);q=a(5);new q.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Ud=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.JP=a.ens,this.cQ=a.lns,this.MP=a.fns,this.AH=a.d,this.ps=a.t,b=!0);return b;};b.prototype.Ec=function(){var a;if(h.Ma(this.JP)||h.Ma(this.cQ)||h.Ma(this.MP)||h.Ma(this.AH)||h.Ma(this.ps))return null;a={d:this.AH,t:this.ps};a.ens=this.JP;a.lns=this.cQ;a.fns=this.MP;return a;};b.prototype.get=function(){var a,b;a=this.Ec();if(a){b=new Date(this.ps);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};f.prototype.LH=function(){var a;a=q.storage.get("sth");a&&this.Ud(a);};f.prototype.Ud=function(a){var c,f;c=null;f=this.G;a.forEach(function(a){var f;f=new b();f.Ud(a)?(c=!0,this.fv.push(f)):h.Ma(c)&&(c=!1);},this);this.fv=this.fv.filter(function(a){return a.AH>=f.qV;});this.fv.sort(function(a,b){return a.ps-b.ps;});return h.Ma(c)?!0:c;};f.prototype.n1=function(){var a;a=[];this.fv.forEach(function(b){a.push(b.Ec());},this);return a;};f.prototype.save=function(){var a,f,d;a=this.n1();f=this.G;d=this.bn.Ec();d&&d.d>=f.qV&&(a.push(d),this.fv.push(this.bn));a.length>f.ZU&&(a=a.slice(a.length-f.ZU,a.length));this.bn=new b();a&&q.storage.set("sth",a);};f.prototype.reset=function(){this.bn=new b();};f.prototype.ubb=function(){return this.bn.get();};f.prototype.wdb=function(){return this.fv.length+1;};f.prototype.j_a=function(a){this.bn.JP=a;this.bn.ps=q.time.ea();};f.prototype.s_a=function(a){this.bn.cQ=a;this.bn.ps=q.time.ea();};f.prototype.n_a=function(a,b){this.bn.MP=a;this.bn.ps=q.time.ea();this.bn.AH=b;};g.T=f;},function(g,d,a){var f,h;function b(a){this.G=a;this.LH();}f=a(6);h=a(5);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.Ec();h.storage.set("nh",a);};b.prototype.ttb=function(){this.ry||(this.ry=!0,this.us=h.time.ea());};b.prototype.Etb=function(){var a;if(this.ry){a=h.time.ea();this.As+=a-this.us;this.us=a;this.ry=!1;this.KH=null;}};b.prototype.vwa=function(a,b){this.ry&&(b>this.us&&(this.As+=b-this.us,this.us=b),null===this.KH||a>this.KH)&&(a=b-a,this.mC.push([this.As-a,a]),this.wZa(),this.KH=b);};b.prototype.wZa=function(){var a;a=this.As-this.G.Akb;this.mC=this.mC.filter(function(b){return b[0]>a;});};b.prototype.LH=function(){var a;a=h.storage.get("nh");this.l2(a)||(this.us=h.time.ea(),this.As=0,this.ry=!1,this.KH=null,this.mC=[]);};b.prototype.l2=function(a){if(!(a&&f.has(a,"t")&&f.has(a,"s")&&f.has(a,"i")&&f.na(a.t)&&f.na(a.s)&&f.isArray(a.i)))return!1;this.us=h.time.eaa(1E3*a.t);this.As=1E3*a.s;this.ry=!1;this.mC=a.i.map(function(a){return[1E3*a[0],a[1]];});this.KH=null;return!0;};b.prototype.Ec=function(){return this.ry?{t:h.time.now()/1E3|0,s:(this.As+(h.time.ea()-this.us))/1E3|0,i:this.mC.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.J$(this.us)/1E3|0,s:this.As/1E3|0,i:this.mC.map(function(a){return[a[0]/1E3|0,a[1]];})};};g.T=b;},function(g,d,a){var b,f,h,q,c,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(158);f=a(201);h=a(673);q=a(157);c=a(11);g=function(){function a(a,c){var d;d=this;this.Lh=new f(a,c);this.Lt=new h(a);this.Gc=new q(this.Lt,this.Lh,a);b.mu.B3a(a);a.YV&&setInterval(function(){d.Lh.save();d.Lt.save();},a.YV);}a.Tcb=function(b,f){void 0===m?(a.config=b,a.IEa=f,m=new a(b,f)):(c.assert(a.config===b),c.assert(a.IEa===f));return m;};a.reset=function(){a.config=void 0;m=a.IEa=void 0;};return a;}();d.ffa=g;},function(g,d,a){var f,h,q,c;function b(a){var b;b=nrdp.Fh.hMb.match(/android-(\d*)/);b?23<b[1]?(a.gx=!1,a.fx=!1,a.lq=void 0):(b=nrdp.Fh.QDb.$Gb.platform.fLb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.gx=!0,a.fx=!1,a.lq=void 0):(a.gx=!1,a.fx=!1,a.lq=[]):(a.gx=!1,a.fx=!1,a.lq=[]):(a.gx=!1,a.fx=!1,a.lq=[]);}f=a(11).assert;a(73);h=a(5);q=h.Zj;c=h.TOa;g.T=function(){var a,d,g;new h.Console("ASEJSMONKEY","media|asejs");if(!h.Zj.vc){a=function(a){this.XWa=a;};d=c.prototype.appendBuffer;h.MediaSource.vc||(h.MediaSource.vc={});"undefined"!==typeof nrdp&&nrdp.eGb&&(b(h.MediaSource.vc),h.MediaSource.vc.wqa=!1,h.MediaSource.vc.eza=!1);h.Zj.vc={pF:{kea:!0,Tx:!0,pia:!0}};Object.defineProperty(q.prototype,"_response",{get:function(){return this.hZa||this.AVa;},set:function(a){this.AVa=a;}});g=q.prototype.open;q.prototype.open=function(b,c,f,d,k,h,m){1===f&&(this.hZa=new a(this));return g.call(this,b,c,f,d,k,h,m);};q.prototype.eM=function(){this.yC=void 0;};c.prototype.appendBuffer=function(b){if(b instanceof ArrayBuffer)return d.call(this,b);if(b instanceof a)return this.dR(b.XWa);f(!1);};}};},function(g,d,a){var b,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(12);h=a(127);q=a(5);g=function(){var r2M;r2M=2;function a(a,b,c,f){var K2M,D2M;K2M=2;while(K2M!==9){D2M="1SI";D2M+="Yb";D2M+="Z";D2M+="rNJCp";D2M+="9";switch(K2M){case 2:this.va=a;this.L=b;this.eb=c;this.ie=f;D2M;K2M=9;break;}}}while(r2M!==13){switch(r2M){case 2:a.prototype.vF=function(a,c){var F2M,d,g,k,m,p,q,l,n,l2M,A2M,Y2M,T2M,u2M,i2M,S2M,z2M,C2M,x2M,Q2M,c2M,m2M,W2M,Z2M;F2M=2;while(F2M!==51){l2M="see";l2M+="k";l2M+="F";l2M+="a";l2M+="iled";A2M="seek, no manifest ";A2M+="at";A2M+=" manifestIn";A2M+="dex:";Y2M="s";Y2M+="eekF";Y2M+="ai";Y2M+="le";Y2M+="d";T2M="aft";T2M+="er seeking, playerState no longer STARTI";T2M+="NG: ";u2M=" p";u2M+="layerS";u2M+="tate:";u2M+=" ";i2M=" med";i2M+="ia";i2M+=".cu";i2M+="rrentPts:";i2M+=" ";S2M=" current ";S2M+="m";S2M+="ani";S2M+="fest:";S2M+=" ";z2M=" man";z2M+="if";z2M+="est";z2M+="Index: ";C2M="s";C2M+="eek";C2M+=": ";x2M="s";x2M+="e";x2M+="e";x2M+="k";Q2M="pts";Q2M+="c";Q2M+="ha";Q2M+="n";Q2M+="ged";c2M="s";c2M+="e";c2M+="ek";c2M+="De";c2M+="layed";m2M="se";m2M+="ekDel";m2M+="aye";m2M+="d";W2M="s";W2M+="e";W2M+="e";W2M+="k";Z2M="seekD";Z2M+="e";Z2M+="l";Z2M+="ayed";switch(F2M){case 11:c<this.va.pc.P.Ha&&k.P.Rd.replace&&(k.P.Rd.replace=!1);g=this.va.pc;F2M=20;break;case 22:F2M=a>m?21:30;break;case 53:this.Ji={Ha:c,wj:a},this.va.emit(Z2M);F2M=51;break;case 26:return;break;case 39:this.va.f2(W2M,!0);l=this.va.ma.ub.yR(a).oA;k.Vda();n=this.va.ma.ub;F2M=54;break;case 21:F2M=k.P.Rd.Zd?35:31;break;case 23:m=this.va.sn?this.va.dj?Math.min(m[0].S,m[1].S):m[0].S:m[1].S;F2M=22;break;case 43:F2M=this.va.fa.Uwa()?42:41;break;case 24:F2M=m.length?23:53;break;case 17:this.Ji={Ha:c,wj:a};this.va.emit(m2M);return;break;case 34:this.Ji={Ha:k.P.Ha+1,wj:a};this.va.emit(c2M);return;break;case 8:b.U(c)&&(c=this.va.pc.P.Ha);this.va.ma.tCa();F2M=6;break;case 30:this.va.fa.Ud(f.Fa.ci);this.va.ma.mub(a,c);F2M=28;break;case 20:q=this.va.ma.ub;h.wg.forEach(function(a){var f2M;f2M=2;while(f2M!==1){switch(f2M){case 2:(a=q.dc(a))&&d.va.Sna(a,g.xl&&g.xl.Ui);f2M=1;break;}}});F2M=18;break;case 6:F2M=(k=this.va.ri(c))?14:52;break;case 44:h.wg.forEach(function(a){var R2M;R2M=2;while(R2M!==1){switch(R2M){case 2:d.va.ye[a].reset(!0);R2M=1;break;}}});F2M=43;break;case 35:F2M=!this.va.QQ(k.P.Ha+1)?34:30;break;case 42:return this.va.emit(Q2M,p),this.va.emit(x2M),this.WQ(c),a=m&&this.va.Na.Yr()?100:0,this.va.BQ(1,a),this.va.Ch(),p;break;case 14:!k.P.Rd.eL&&0<c&&(p=this.va.D4(c,a));this.va.fa.Ud(f.Fa.WO);F2M=12;break;case 2:d=this;k=this.va.G;m=this.va.fa.oe();p=a;k.jf&&this.ie.Oh(C2M+a+z2M+c+S2M+this.va.pc.P.Ha+i2M+m+u2M+this.va.fa.Ec());F2M=8;break;case 25:m=this.va.ma.ub.RJ(k.ka||Infinity,k.P);F2M=24;break;case 31:a=m,p=a+this.va.ma.Md;F2M=30;break;case 28:F2M=(m=this.va.pc.P.Ha===c&&!this.FWa(c)&&a===k.S)?44:39;break;case 27:F2M=this.Av(this.va.ma.L7(c),!1,!0)?26:25;break;case 18:F2M=!this.va.Gla(c)?17:27;break;case 41:this.L.warn(T2M+this.va.fa.Ec());this.va.emit(Y2M);F2M=51;break;case 54:h.wg.forEach(function(a){var w2M,b;w2M=2;while(w2M!==4){switch(w2M){case 2:b=n.dc(a);d.eb(a)&&d.mYa(b,l[a]);w2M=4;break;}}});F2M=43;break;case 12:F2M=c!=this.va.pc.P.Ha?11:25;break;case 52:this.L.warn(A2M,c),this.va.emit(l2M);F2M=51;break;}}};a.prototype.seek=function(a,c){var j2M,f;j2M=2;while(j2M!==8){switch(j2M){case 2:f=a;b.U(c)&&(c=this.va.pc.P.Ha);this.va.ma.tCa();this.va.ri(c).P.Rd.eL||this.va.rC||(f=this.va.My(c,a));j2M=9;break;case 9:return this.vF(f,c);break;}}};a.prototype.Av=function(a,b,c){var E2M,d,U4M,q2M;E2M=2;while(E2M!==8){U4M="s";U4M+="e";U4M+="e";U4M+="k";q2M="pt";q2M+="s";q2M+="c";q2M+="hanged";switch(E2M){case 4:return d;break;case 2:d=this.va.ma.Av(a,b);E2M=5;break;case 5:E2M=b?4:3;break;case 3:d?(this.va.fa.Ud(f.Fa.WO),(a=this.va.ma.zk.children[a])&&this.va.emit(q2M,a.ec),this.va.fa.Ud(f.Fa.ci),this.va.emit(U4M),a&&this.WQ(a.P.Ha),this.va.BQ(1),this.va.Ch(),this.va.Na.Yr()):c||(a=this.va.ma.sdb(a),this.vF(a));return d;break;}}};r2M=4;break;case 14:return a;break;case 4:a.prototype.FWa=function(a){var g2M;g2M=2;while(g2M!==1){switch(g2M){case 4:return~+this.va.ri(a).By;break;g2M=1;break;case 2:return!!this.va.ri(a).By;break;}}};a.prototype.WQ=function(a){var P2M,b;P2M=2;while(P2M!==3){switch(P2M){case 2:b=this;a=this.va.ri(a);a.By||(a.By=!0,h.wg.forEach(function(a){var a2M;a2M=2;while(a2M!==1){switch(a2M){case 2:b.va.ye[a].resume();a2M=1;break;}}}));P2M=3;break;}}};a.prototype.mYa=function(a,b){var N2M,c,f,d;N2M=2;while(N2M!==14){switch(N2M){case 2:c=this;f=a.M;d=this.va.G;d.U5&&(this.va.SP=b+d.rda,this.va.TP=q.time.ea());a.ax(b);a.uqb();N2M=7;break;case 7:this.va.Rf&&0<this.va.Rf.length&&(this.va.Rf.forEach(function(a){var X2M;X2M=2;while(X2M!==1){switch(X2M){case 4:c.va.vy(a,~8);X2M=8;break;X2M=1;break;case 2:c.va.vy(a,!1);X2M=1;break;}}}),this.va.Rf=void 0);this.va.yJ.Jna(f,a.cc.P);N2M=14;break;}}};r2M=8;break;case 8:a.prototype.i1=function(){var L2M,a,b;L2M=2;while(L2M!==9){switch(L2M){case 1:L2M=this.Ji?5:9;break;case 2:L2M=1;break;case 5:a=this.Ji.wj;b=this.Ji.Ha;this.va.ri(b)&&(this.Ji=void 0,this.vF(a,b));L2M=9;break;}}};a.prototype.Yi=function(a){var v2M,c,d,M4M;function b(f,d){var b2M,h4M;b2M=2;while(b2M!==5){h4M="skip: unexpected behaviour - a non-presenting bran";h4M+="ch doesn't";h4M+=" have a previous branch";switch(b2M){case 2:f!==c.va.ma.zk&&(f.pf?b(f.pf,d):c.L.error(h4M));(f=f.dc(d))&&f.Yi(a);b2M=5;break;}}}v2M=2;while(v2M!==6){M4M="s";M4M+="k";M4M+="i";M4M+="p";switch(v2M){case 7:this.va.emit(M4M);v2M=6;break;case 2:c=this;d=this.va.G;this.va.ma.zk.Yi(a);h.wg.forEach(function(a){var H2M,f,d4M;H2M=2;while(H2M!==8){d4M="skip: not resuming bu";d4M+="fferManager, audio";d4M+=" track swit";d4M+="ch in ";d4M+="progress";switch(H2M){case 5:f=c.va.Na.we[a];c.va.jm&&(f.Tca=q.time.ea());d.bM?c.va.ye[a].reset():f.gG?f.Ga(d4M):c.va.ye[a].resume();b(c.va.ma.ub,a);H2M=8;break;case 2:H2M=1;break;case 1:H2M=c.eb(a)?5:8;break;}}});this.va.fa.Ud(f.Fa.dd);this.va.hI();v2M=7;break;}}};a.prototype.$C=function(a){var I2M,b,c;I2M=2;while(I2M!==6){switch(I2M){case 3:return!1;break;case 4:I2M=a<b.ec||a>=c?3:9;break;case 2:b=this.va.ma.zk;c=0<Object.keys(b.wa&&b.wa.mk||{}).length&&!b.Eg?b.pe-this.va.G.sV:b.pe;I2M=4;break;case 9:b=this.va.xq(a,0,!0);I2M=8;break;case 8:a=this.va.xq(a,1,!0);return void 0!==b&&void 0!==a&&b.complete&&a.complete;break;}}};r2M=14;break;}}}();d.RSa=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(20);g=function(){function a(a){this.YI=a;this.state=new f.J_(b.Fa.ci);this.rw={};}a.prototype.Ec=function(){return this.state.value;};a.prototype.Ud=function(a){this.state.set(a);};a.prototype.addListener=function(a,b){this.state.addListener(a,b);};a.prototype.paused=function(){this.state.value===b.Fa.dd&&this.state.set(b.Fa.Ci);};a.prototype.TX=function(){this.state.value===b.Fa.Ci&&this.state.set(b.Fa.dd);};a.prototype.Uwa=function(){return this.state.value===b.Fa.ci;};a.prototype.zz=function(){return"function"===typeof this.YI.zz?this.YI.zz():this.state.value===b.Fa.dd;};a.prototype.um=function(){return this.state.value===b.Fa.Bi||this.state.value===b.Fa.Up;};a.prototype.yf=function(){return this.state.value===b.Fa.WO;};a.prototype.Vwa=function(){return this.state.value===b.Fa.XO;};a.prototype.oe=function(){return this.YI.oe();};a.prototype.y7=function(){return this.YI.y7();};a.prototype.csb=function(a,b){this.rw[a]=b;};a.prototype.dw=function(a){return!!this.rw[a];};return a;}();d.eHa=g;},function(g,d,a){var b,f,h,q,c,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(220);h=a(12);q=a(73);c=a(5);m=a(20);a(11);g=function(){var V4M;V4M=2;while(V4M!==39){switch(V4M){case 18:a.prototype.xXa=function(a,b){var j4M,c,Y4M,T4M;j4M=2;while(j4M!==9){Y4M="notifyMa";Y4M+="nifest";Y4M+="Selected: ";T4M="man";T4M+="ifestS";T4M+="elected";switch(j4M){case 2:c=this.Ia.G;a={type:T4M,index:a,replace:b.P.Rd.replace,ptsStarts:b.oA,streamingOffset:b.S+b.Nq};c.jf&&(b=Y4M+JSON.stringify(a),c.jf&&this.Oh(b));m.Ka(this.Ia,a.type,a);j4M=9;break;}}};a.prototype.vXa=function(a,b,c,f,d){var E4M,A4M;E4M=2;while(E4M!==4){A4M="manife";A4M+="st";A4M+="Pres";A4M+="enting";switch(E4M){case 2:a={type:A4M,index:a.Ha,pts:Math.floor(b),movieId:a.I,replace:a.Rd.replace,contentOffset:c};null!=f&&null!=d&&(a.previousMovieId=f,a.previousIndex=d);m.Ka(this.Ia,a.type,a);E4M=4;break;}}};a.prototype.FXa=function(a,b,c,d){var g4M,g,l4M;g4M=2;while(g4M!==9){l4M="s";l4M+="treamPresen";l4M+="t";l4M+="i";l4M+="ng";switch(g4M){case 2:g=a.M;f.Rm.In(g);a={type:l4M,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:g,manifestIndex:d,trackIndex:a.track.lI,streamIndex:a.sg};m.Ka(this.Ia,a.type,a);g4M=9;break;}}};a.prototype.JXa=function(a){var P4M,q4M;P4M=2;while(P4M!==5){q4M="v";q4M+="id";q4M+="e";q4M+="o";q4M+="Looped";switch(P4M){case 2:a={type:q4M,offset:a};m.Ka(this.Ia,a.type,a);P4M=5;break;}}};a.prototype.HXa=function(a,b,c,d){var a4M,U8M;a4M=2;while(a4M!==4){U8M="up";U8M+="d";U8M+="ateStrea";U8M+="mingPts";switch(a4M){case 2:b={type:U8M,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d)};f.Rm.In(a);a4M=5;break;case 5:m.Ka(this.Ia,b.type,b);a4M=4;break;}}};V4M=26;break;case 44:a.prototype.zm=function(a){var z4M,M8M,h8M;z4M=2;while(z4M!==1){M8M="ase";M8M+="exceptio";M8M+="n";h8M="as";h8M+="eexcep";h8M+="t";h8M+="ion";switch(z4M){case 2:this.Ia.emit(h8M,{type:M8M,msg:a});z4M=1;break;}}};a.prototype.Xkb=function(a,b,f,d){var S4M,V8M,d8M;S4M=2;while(S4M!==5){V8M="m";V8M+="axvid";V8M+="eobi";V8M+="tratechanged";d8M="maxvi";d8M+="deobit";d8M+="ratechange";d8M+="d";switch(S4M){case 2:a={type:d8M,time:c.time.ea(),spts:d,maxvb_old:a,maxvb:b,reason:f};this.Ia.emit(V8M,a);S4M=5;break;}}};a.prototype.Eza=function(){var i4M,a,n8M;i4M=2;while(i4M!==9){n8M="st";n8M+="re";n8M+="a";n8M+="mere";n8M+="nd";switch(i4M){case 2:i4M=1;break;case 5:this.kZa=!0;a={type:n8M,time:c.time.ea()};m.Ka(this.Ia,a.type,a);i4M=9;break;case 1:i4M=!this.kZa&&this.Ia.G.Bza?5:9;break;}}};a.prototype.Oh=function(a){var u4M,p8M,s8M;u4M=2;while(u4M!==5){p8M=",";p8M+=" ";s8M="manag";s8M+="erd";s8M+="eb";s8M+="ugeven";s8M+="t";switch(u4M){case 2:a={type:s8M,message:"@"+c.time.ea()+p8M+a};m.Ka(this.Ia,a.type,a);u4M=5;break;}}};V4M=40;break;case 32:a.prototype.IXa=function(){var m4M,a,y8M;m4M=2;while(m4M!==9){y8M="stre";y8M+="ami";y8M+="n";y8M+="gs";y8M+="tat";switch(m4M){case 2:this.Ia.G.aib&&c.memory.ccb(this.PWa.bind(this));a={type:y8M,time:c.time.ea(),playbackTime:this.Ia.fa.oe()};this.Ia.Hd.y$a(a);m4M=3;break;case 3:m.Ka(this.Ia,a.type,a);m4M=9;break;}}};a.prototype.Yma=function(){var c4M,a,O8M;c4M=2;while(c4M!==3){O8M="a";O8M+="s";O8M+="ere";O8M+="p";O8M+="ort";switch(c4M){case 1:c4M=this.Ia.fr?5:3;break;case 5:a={type:O8M};this.Ia.fr.w$a(a)&&m.Ka(this.Ia,a.type,a);c4M=3;break;case 2:c4M=1;break;}}};a.prototype.kXa=function(){var Q4M,a,k8M;Q4M=2;while(Q4M!==4){k8M="aserep";k8M+="or";k8M+="tenable";k8M+="d";switch(Q4M){case 2:a={type:k8M};m.Ka(this.Ia,a.type,a);Q4M=4;break;}}};a.prototype.sXa=function(a){var x4M,b,c,f,d,g,k,h,p,u,q,l,n,t,X,T,Y,V,M,fa,B,e8M,B8M,o8M,G8M,J8M;x4M=2;while(x4M!==7){e8M="hi";e8M+="ndsightrep";e8M+="ort";switch(x4M){case 2:x4M=1;break;case 1:x4M=a?5:7;break;case 5:b={type:e8M};c=this.Ia.G.pK;for(f in c){B8M="hv";B8M+="ma";B8M+="fd";B8M+="p";o8M="hv";o8M+="m";o8M+="a";o8M+="f";o8M+="gr";G8M="h";G8M+="vm";G8M+="aftb";J8M="h";J8M+="t";J8M+="w";J8M+="b";J8M+="r";d=c[f];g=0;k=0;h=0;p=0;u=0;q=0;l=void 0;n=void 0;t=!1;X=-1;T=-1;Y=-1;V=-1;M=-1;fa=-1;for(B in a)n=a[B],void 0===n.nd&&(l=(l=n.sols)&&l[d])&&(t=!0,h+=l.dlvdur,g+=l.dltwbr*l.dlvdur,k+=l.dlvmaf*l.dlvdur),q+=n.pbdur,p+=n.pbtwbr*n.pbdur,u+=n.pbvmaf*n.pbdur,l=n.rr,n=n.ra;0<q&&(X=1*p/q,V=1*u/q);t&&(0<h&&(T=1*g/h,M=1*k/h),0<h+q&&(Y=1*(g+p)/(h+q),fa=1*(k+u)/(h+q)));switch(d){case J8M:b.htwbr=Y;b.hptwbr=T;b.pbtwbr=X;l&&(b.rr=l,b.ra=n);break;case G8M:b.hvmaftb=fa;b.hpvmaftb=M;b.pbvmaftb=V;l&&(b.rrvmaftb=l,b.ravmaftb=n);break;case o8M:b.hvmafgr=fa;b.hpvmafgr=M;b.pbvmafgr=V;l&&(b.rrvmafgr=l,b.ravmafgr=n);break;case B8M:b.hvmafdp=fa,b.hpvmafdp=M,b.pbvmafdp=V,l&&(b.rrvmafdp=l,b.ravmafdp=n);}}x4M=9;break;case 9:this.Ia.DJ&&(b.report=a);m.Ka(this.Ia,b.type,b);x4M=7;break;}}};a.prototype.pXa=function(a){var C4M,t8M;C4M=2;while(C4M!==5){t8M="endOfS";t8M+="t";t8M+="re";t8M+="a";t8M+="m";switch(C4M){case 2:a={type:t8M,mediaType:a};C4M=1;break;case 1:m.Ka(this.Ia,a.type,a);C4M=5;break;}}};V4M=44;break;case 12:a.prototype.CXa=function(a,b){var K4M,r8M;K4M=2;while(K4M!==5){r8M="s";r8M+="e";r8M+="gment";r8M+="Appended";switch(K4M){case 2:b={type:r8M,segmentId:a.id,metrics:b};a.bF||m.Ka(this.Ia,b.type,b);K4M=5;break;}}};a.prototype.DXa=function(a,b,c){var F4M,K8M;F4M=2;while(F4M!==5){K8M="segmen";K8M+="tComplet";K8M+="e";switch(F4M){case 2:a={type:K8M,mediaType:a,manifestIndex:b,segmentId:c.id};m.Ka(this.Ia,a.type,a);F4M=5;break;}}};a.prototype.ana=function(a,b){var f4M,F8M;f4M=2;while(f4M!==5){F8M="la";F8M+="stSeg";F8M+="me";F8M+="ntPts";switch(f4M){case 2:b={type:F8M,segmentId:a.id,pts:Math.floor(b)};a.bF||m.Ka(this.Ia,b.type,b);f4M=5;break;}}};a.prototype.wXa=function(a,b,c,f,d){var R4M,f8M;R4M=2;while(R4M!==5){f8M="manife";f8M+="st";f8M+="R";f8M+="ange";switch(R4M){case 2:a={type:f8M,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(f),maxPts:Math.floor(d)};m.Ka(this.Ia,a.type,a);R4M=5;break;}}};V4M=19;break;case 19:a.prototype.bna=function(a){var w4M,R8M;w4M=2;while(w4M!==5){R8M="m";R8M+="axBitr";R8M+="at";R8M+="es";switch(w4M){case 2:a={type:R8M,audio:a[0],video:a[1]};w4M=1;break;case 1:m.Ka(this.Ia,a.type,a);w4M=5;break;}}};V4M=18;break;case 3:a.prototype.rXa=function(a,b,c,f,d){var k4M,g,w8M;k4M=2;while(k4M!==9){w8M="hea";w8M+="derCacheDataH";w8M+="i";w8M+="t";switch(k4M){case 2:g=this.Ia.yma;this.Ia.yma=void 0;a={type:w8M,movieId:a,audio:b,audioFromMediaCache:f,video:c,videoFromMediaCache:d,actualStartPts:g&&g.Xk,headerCount:g&&g.bp,stats:g&&g.Pb};k4M=3;break;case 3:m.Ka(this.Ia,a.type,a);k4M=9;break;}}};a.prototype.yXa=function(a,b,c){var e4M,j8M;e4M=2;while(e4M!==5){j8M="max";j8M+="P";j8M+="ositio";j8M+="n";switch(e4M){case 2:a={type:j8M,index:a,maxPts:b,endPts:c};m.Ka(this.Ia,a.type,a);e4M=5;break;}}};a.prototype.GXa=function(a,b,c,f,d,g){var J4M,g8M,E8M;J4M=2;while(J4M!==4){g8M="n";g8M+="otifyStreaming";g8M+="Error: ";E8M="e";E8M+="r";E8M+="r";E8M+="o";E8M+="r";switch(J4M){case 2:a={type:E8M,error:a,errormsg:b,networkErrorCode:c,httpCode:f,nativeCode:d,manifestIndex:void 0!==g?g:this.Ia.QL};this.L.error(g8M+JSON.stringify(a));m.Ka(this.Ia,a.type,a);J4M=4;break;}}};a.prototype.cna=function(a,b){var G4M,P8M;G4M=2;while(G4M!==5){P8M="se";P8M+="gm";P8M+="entStart";P8M+="ing";switch(G4M){case 2:b={type:P8M,segmentId:a.id,contentOffset:b};a.bF||m.Ka(this.Ia,b.type,b);G4M=5;break;}}};V4M=6;break;case 40:return a;break;case 26:a.prototype.qXa=function(a){var N4M,a8M;N4M=2;while(N4M!==5){a8M="fi";a8M+="r";a8M+="stRequestAppended";switch(N4M){case 2:a={type:a8M,manifestIndex:a.Ua.cc.P.Ha,mediatype:a.M,time:c.time.ea()};m.Ka(this.Ia,a.type,a);N4M=5;break;}}};a.prototype.tXa=function(a,b){var X4M,N8M;X4M=2;while(X4M!==5){N8M="i";N8M+="n";N8M+="itia";N8M+="lAudioTrac";N8M+="k";switch(X4M){case 2:a={type:N8M,trackId:b,trackIndex:a};m.Ka(this.Ia,a.type,a);X4M=5;break;}}};a.prototype.mXa=function(a,b){var L4M,X8M;L4M=2;while(L4M!==3){X8M="audioT";X8M+="rac";X8M+="kSwit";X8M+="chStarte";X8M+="d";switch(L4M){case 2:a=a.Lz;b=b.Lz;b={type:X8M,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels};m.Ka(this.Ia,b.type,b);L4M=3;break;}}};a.prototype.lXa=function(a,b){var v4M,c;v4M=2;while(v4M!==4){switch(v4M){case 2:c=this;setTimeout(function(){var b4M,f,L8M;b4M=2;while(b4M!==4){L8M="audioT";L8M+="rac";L8M+="kSwitchComplete";switch(b4M){case 5:m.Ka(c.Ia,f.type,f);b4M=4;break;case 2:f={type:L8M,trackId:a,trackIndex:b};b4M=5;break;}}},0);v4M=4;break;}}};a.prototype.oXa=function(a){var H4M,b,v8M;H4M=2;while(H4M!==3){v8M="buff";v8M+="e";v8M+="ringSta";v8M+="rted";switch(H4M){case 2:b={type:v8M,time:c.time.ea(),percentage:a||0};m.Ka(this.Ia,b.type,b);this.x1=a||0;H4M=3;break;}}};a.prototype.$ma=function(){var I4M,a,b,f,d,g,b8M;I4M=2;while(I4M!==14){b8M="buffe";b8M+="r";b8M+="i";b8M+="ng";switch(I4M){case 2:a=this.Ia.G;b=c.time.ea();f=this.Ia.ma.ub;d=this.Ia.dj?1:0;I4M=9;break;case 9:g=f.Ve(d);f=f.Ri(d);a=Math.min(Math.max(Math.round(100*(g.Kz?(b-this.Ia.O0)/a.Rw:g.Qh?g.Qh:f/a.Wf)),this.x1),99);a!=this.x1&&(b={type:b8M,time:b,percentage:a},m.Ka(this.Ia,b.type,b),this.x1=a);I4M=14;break;}}};V4M=35;break;case 13:a.prototype.EXa=function(a,b,c){var r4M,H8M;r4M=2;while(r4M!==4){H8M="segmentP";H8M+="resent";H8M+="ing";switch(r4M){case 2:c=c?this.mWa(a.id,c):void 0;a={type:H8M,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.bF,manifestIndex:a.P.Ha};m.Ka(this.Ia,a.type,a);r4M=4;break;}}};V4M=12;break;case 35:a.prototype.nXa=function(){var D4M,a,b,f,d,g,I8M;D4M=2;while(D4M!==13){I8M="b";I8M+="ufferi";I8M+="n";I8M+="g";I8M+="Complete";switch(D4M){case 7:a={type:I8M,time:c.time.ea(),actualStartPts:g,aBufferLevelMs:a.Ri(0),vBufferLevelMs:a.Ri(1),selector:f?f.uM:b.uM,initBitrate:d.om,skipbackBufferSizeBytes:this.Ia.Ib.Sca};this.Ia.Hd.x$a({initSelReason:d.Kn,initSelectionPredictedDelay:d.tz,buffCompleteReason:d.JI,hashindsight:!!this.Ia.jm,hasasereport:!!this.Ia.fr});m.Ka(this.Ia,a.type,a);D4M=13;break;case 2:a=this.Ia.ma.ub;b=a.Ve(0);f=a.Ve(1);this.Zma();d=this.Ia.dj?this.Ia.Na.Cp[h.Da.VIDEO]:this.Ia.Na.Cp[h.Da.AUDIO];g=d.MI;D4M=7;break;}}};a.prototype.Zma=function(){var Z4M,a,b,c,f,d,g,D8M;Z4M=2;while(Z4M!==10){D8M="u";D8M+="pd";D8M+="ateBufferLeve";D8M+="l";switch(Z4M){case 4:b=this.Ia.ma.ub;c=b.Ve(0);Z4M=9;break;case 5:Z4M=!this.Ia.Re()?4:10;break;case 9:f=b.Ve(1);d=b.Ri(0);b=b.Ri(1);this.Ia.Hd.h_a(d,b);g=this.Ia.Ib.Gc.get(!1);Z4M=13;break;case 2:a=this.Ia.G;Z4M=5;break;case 13:c={type:D8M,abuflbytes:c?c.KI:0,vbuflbytes:f?f.KI:0,totalabuflmsecs:d,totalvbuflmsecs:b,predictedFutureRebuffers:0,currentBandwidth:g.Jc?g.Ba.Qa:0};b>a.Pya&&this.Ia.Ib.We&&this.Ia.Ib.We.sI(!0,this.Ia.dk.sessionId);m.Ka(this.Ia,c.type,c);Z4M=10;break;}}};a.prototype.PWa=function(a){var W4M,f,d,g,x8M,Q8M,c8M,m8M,W8M,Z8M;W4M=2;while(W4M!==13){x8M=", osAl";x8M+="locatorDel";x8M+="t";x8M+="a:";x8M+=" ";Q8M=", jsHeapD";Q8M+="e";Q8M+="lta: ";c8M=", ";c8M+="f";c8M+="astMallocDelta: ";m8M="m";m8M+="emo";m8M+="ryUsage at time: ";W8M=",";W8M+=" ";W8M+="system";W8M+="Delta: ";Z8M="memo";Z8M+="ryUsa";Z8M+="ge at t";Z8M+="im";Z8M+="e: ";switch(W4M){case 1:W4M=!b.U(a)?5:13;break;case 5:b.na(a.$M);W4M=4;break;case 4:W4M=!b.U(this.sC)?3:14;break;case 6:b.na(a.$M)&&b.na(this.sC.$M)&&(f=a.$M-this.sC.$M,4194304<f&&this.L.warn(Z8M+c.time.ea(),W8M+f));W4M=14;break;case 8:g=a.hAa-this.sC.hAa;(4194304<f||4194304<g)&&this.L.warn(m8M+c.time.ea()+c8M+f+Q8M+d+x8M+g);W4M=6;break;case 14:this.sC=a;W4M=13;break;case 3:f=a.eta-this.sC.eta;d=a.Wva-this.sC.Wva;W4M=8;break;case 2:W4M=1;break;}}};V4M=32;break;case 6:a.prototype.BXa=function(a){var o4M,b,C8M;o4M=2;while(o4M!==4){C8M="segmen";C8M+="tA";C8M+="borted";switch(o4M){case 2:o4M=1;break;case 1:b={type:C8M,segmentId:a.id};a.bF||m.Ka(this.Ia,b.type,b);o4M=4;break;case 9:o4M=3;break;o4M=1;break;}}};a.prototype.mWa=function(a,f){var B4M,d,g,k,Y8M,T8M,u8M,i8M,S8M,z8M;B4M=2;while(B4M!==20){Y8M="s";Y8M+="e";Y8M+="amle";Y8M+="s";Y8M+="s";T8M="re";T8M+="s";T8M+="e";T8M+="t";u8M="s";u8M+="k";u8M+="i";u8M+="p";i8M="l";i8M+="o";i8M+="ng";S8M="l";S8M+="on";S8M+="g";z8M="s";z8M+="ea";z8M+="m";z8M+="le";z8M+="ss";switch(B4M){case 3:d.atRequest.weight=g;b.jd(f.Zc,function(b,c){var t4M;t4M=2;while(t4M!==1){switch(t4M){case 2:c!=a&&(d.discard[c]={weight:b.weight},q(b.LI,d.discard[c]));t4M=1;break;}}});g=f.VW?f.NT?z8M:S8M:f.kza?i8M:f.Yi?u8M:T8M;d.transitionType=g;f.n7a||(d.delayToTransition=f.eS);g=Y8M===g?0:c.time.ea()-f.startTime;d.durationOfTransition=g;B4M=12;break;case 12:d.atTransition=f.fFa;d.srcsegmentduration=this.Ia.ma.rdb(f.vX);B4M=10;break;case 10:return d;break;case 2:d={segment:a,srcsegment:f.vX,srcoffset:f.ZDa,seamlessRequested:f.VW,atRequest:{},discard:{}};k=f.Zc[a];k?(g=k.weight,q(k.LI,d.atRequest)):g=this.Ia.ma.jva(f.vX,a);B4M=3;break;}}};V4M=13;break;case 2:a.prototype.qs=function(a){var s4M,A8M;s4M=2;while(s4M!==5){A8M="sta";A8M+="rt";A8M+="Event";switch(s4M){case 2:a={type:A8M,event:a,time:c.time.ea()};m.Ka(this.Ia,a.type,a);s4M=5;break;}}};a.prototype.zXa=function(){var p4M,a,l8M;p4M=2;while(p4M!==4){l8M="op";l8M+="en";l8M+="Co";l8M+="mplete";switch(p4M){case 2:a={type:l8M};m.Ka(this.Ia,a.type,a);p4M=4;break;}}};a.prototype.Q1=function(a,b,c,f,d){var y4M,q8M;y4M=2;while(y4M!==1){q8M="p";q8M+="tsSt";q8M+="arts";switch(y4M){case 2:this.Ia.G.O7a||(a={type:q8M,manifestIndex:a,mediaType:b,movieId:f,streamId:c,ptsStarts:d.eEa()},m.Ka(this.Ia,a.type,a));y4M=1;break;}}};a.prototype.P1=function(a,b){var O4M,U0M;O4M=2;while(O4M!==5){U0M="h";U0M+="eader";U0M+="Cac";U0M+="heHit";switch(O4M){case 2:a={type:U0M,movieId:a,streamId:b};m.Ka(this.Ia,a.type,a);O4M=5;break;}}};V4M=3;break;}}function a(a,b){var n4M,h0M;n4M=2;while(n4M!==4){h0M="1SIY";h0M+="bZrNJC";h0M+="p9";switch(n4M){case 2:this.Ia=a;this.L=b;h0M;n4M=4;break;}}}}();d.yPa=g;},function(g,d,a){var b,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(158);f=a(12);h=a(127);q=a(20);g=function(){var M0M;function a(a,b,c){var d0M,s5z;d0M=2;while(d0M!==9){s5z="1SIY";s5z+="bZ";s5z+="rNJC";s5z+="p9";switch(d0M){case 4:this.mna=this.q2=!1;s5z;d0M=9;break;case 2:this.Ob=a;this.L=b;this.eb=c;d0M=4;break;}}}M0M=2;while(M0M!==6){switch(M0M){case 2:a.prototype.play=function(){var V0M,a,V5z,n5z;V0M=2;while(V0M!==3){V5z="p";V5z+="l";V5z+="ay";n5z="play called afte";n5z+="r pipelines already shut";n5z+="down";switch(V0M){case 2:a=this;this.Ob.dna++;this.Re()?this.L.warn(n5z):(this.Ob.fa.Ud(f.Fa.dd),this.Ob.VYa(),this.Ob.Na.we.forEach(function(b){var n0M,C5z;n0M=2;while(n0M!==1){C5z="play: not resuming bufferManager, audio track s";C5z+="witch in progr";C5z+="ess";switch(n0M){case 2:a.eb(b.M)&&(b.gG?b.Ga(C5z):a.Ob.ye[b.M].resume());n0M=1;break;}}}),this.Ob.hI(),this.Ob.emit(V5z));V0M=3;break;}}};a.prototype.stop=function(){var s0M,a,b,c,d,D5z;s0M=2;while(s0M!==12){D5z="st";D5z+="o";D5z+="p";switch(s0M){case 2:a=this;b=this.Ob.fa.Vwa();c=this.Ob.fa.yf();this.Ob.fa.Ud(f.Fa.XO);this.Ob.yP();s0M=8;break;case 8:b||c||this.Ob.ma.zk.xX(!1,this.Ob.fa);d=this.Ob.ma.ub;h.wg.forEach(function(a){var p0M;p0M=2;while(p0M!==5){switch(p0M){case 2:p0M=(a=d.dc(a))?1:5;break;case 1:a.ug=!1;p0M=5;break;case 9:a.ug=~2;p0M=8;break;p0M=5;break;case 3:p0M=(a=d.dc(a))?8:6;break;p0M=(a=d.dc(a))?1:5;break;}}});h.wg.forEach(function(b){var y0M;y0M=2;while(y0M!==1){switch(y0M){case 2:(b=a.Ob.ye[b])&&b.pause();y0M=1;break;}}});this.Ob.emit(D5z);s0M=12;break;}}};a.prototype.suspend=function(){var O0M;O0M=2;while(O0M!==1){switch(O0M){case 4:this.q2=+3;O0M=9;break;O0M=1;break;case 2:this.q2=!0;O0M=1;break;}}};a.prototype.resume=function(){var k0M;k0M=2;while(k0M!==5){switch(k0M){case 9:this.Ob.Ce.Ch();k0M=8;break;k0M=5;break;case 2:this.q2=!1;k0M=1;break;case 1:this.Ob.Ce.Ch();k0M=5;break;}}};a.prototype.close=function(){var e0M,a,U5z,K5z,O5z;e0M=2;while(e0M!==13){U5z="e";U5z+="ndpl";U5z+="ay";K5z="log";K5z+="da";K5z+="t";K5z+="a";O5z="c";O5z+="lo";O5z+="se";switch(e0M){case 5:this.mna=!0;this.stop();this.Ob.emit(O5z);this.Ob.FC=!1;e0M=8;break;case 8:a.Fsa&&(a=b.mu.ah().Xa())&&(a={type:K5z,target:U5z,fields:{bridgestat:a}},q.Ka(this.Ob,a.type,a));this.Ob.Ib.We&&this.Ob.Ib.We.sI(!0,this.Ob.dk.sessionId,!0);this.Ob.Va.Eza();this.Ob.Ypb();e0M=13;break;case 2:a=this.Ob.G;e0M=5;break;}}};a.prototype.flush=function(){var J0M,G0M,a,b,c,d,g,h,f5z,J5z,P5z,Z5z,h5z,j5z,w5z,r5z,N5z,m5z,X5z;J0M=2;while(J0M!==26){f5z="e";f5z+="n";f5z+="dp";f5z+="l";f5z+="ay";J5z="l";J5z+="og";J5z+="da";J5z+="ta";P5z="e";P5z+="n";P5z+="dpl";P5z+="a";P5z+="y";Z5z="l";Z5z+="og";Z5z+="d";Z5z+="at";Z5z+="a";h5z="th";h5z+="roughput";h5z+="-s";h5z+="w";j5z="throu";j5z+="ghpu";j5z+="t-s";j5z+="w";w5z="thr";w5z+="o";w5z+="ughp";w5z+="ut-sw";r5z="t";r5z+="hro";r5z+="ugh";r5z+="put-sw";switch(J0M){case 27:try{G0M=2;while(G0M!==1){switch(G0M){case 2:this.Ob.d6(f.Fa.XO);G0M=1;break;}}}catch(F){var W5z;W5z="Hindsigh";W5z+="t: Error ";W5z+="eval";W5z+="uating ";W5z+="QoE at stopping: ";V5ii.o5z(0);this.Ob.Va.zm(V5ii.u5z(W5z,F));}J0M=26;break;case 17:a.FJ&&(d&&d[r5z]&&d[w5z].Qa&&this.Ob.Bp.s_a({avtp:d[j5z].Qa,variance:d[h5z].ph}),this.Ob.Bp.n_a(g,d.avtp.C5),a=this.Ob.Bp.ubb(),d=this.Ob.Bp.wdb(),a&&(a.n=d,a={type:Z5z,target:P5z,fields:{ibef:a}},q.Ka(this.Ob,a.type,a),this.Ob.Bp.save()));J0M=16;break;case 4:J0M=b?3:16;break;case 10:for(var p in h){N5z="n";N5z+="e";m5z="n";m5z+="e";X5z="n";X5z+="e";h.hasOwnProperty(p)&&(c[X5z+p]=Number(h[p]).toFixed(6),g[m5z+p]=1*c[N5z+p]);}J0M=20;break;case 9:d=b.get(!0);g={};d&&d.avtp&&d.avtp.Qa&&(c.avtp=d.avtp.Qa,c.dltm=d.avtp.C5,g.avtp=c.avtp);d&&d.cdnavtp&&(c.cdnavtp=d.cdnavtp,c.activecdnavtp=d.activecdnavtp);b.flush();h=b.Obb();b=b.d_a;J0M=11;break;case 11:J0M=h?10:20;break;case 20:b&&b.length&&(c.activeRequests=JSON.stringify(b));this.Ob.pc.P.KD(1)&&(c.enableHudson=!0);Object.keys(c).length&&(c={type:J5z,target:f5z,fields:c},q.Ka(this.Ob,c.type,c));J0M=17;break;case 3:c={};J0M=9;break;case 2:a=this.Ob.G;b=this.Ob.Ib.Gc;J0M=4;break;case 16:this.Ob.Va.Yma();J0M=15;break;case 15:J0M=this.Ob.jm?27:26;break;}}};a.prototype.Re=function(){var o0M;o0M=2;while(o0M!==1){switch(o0M){case 4:return this.mna&&this.Ob.ma.fw;break;o0M=1;break;case 2:return this.mna||this.Ob.ma.fw;break;}}};M0M=7;break;case 7:return a;break;}}}();d.FNa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(12);h=a(5);g=function(){var S5z;S5z=2;function a(a,b,f){var z5z,b6W;z5z=2;while(z5z!==9){b6W="1";b6W+="S";b6W+="IYbZrN";b6W+="JC";b6W+="p9";switch(z5z){case 2:this.sa=a;this.L=b;this.eb=f;b6W;this.Ala=this.Zx=void 0;z5z=9;break;}}}while(S5z!==18){switch(S5z){case 3:a.prototype.Ch=function(){var t5z,a,b;t5z=2;while(t5z!==3){switch(t5z){case 2:a=this;b=this.sa.G;t5z=4;break;case 4:!this.sa.qna||this.sa.uQ||this.sa.FC||(this.sa.uQ=setTimeout(function(){var p5z;p5z=2;while(p5z!==4){switch(p5z){case 2:clearTimeout(a.sa.uQ);a.sa.uQ=void 0;a.ema();p5z=4;break;}}},b.Faa),b.Xy&&this.sa.dj&&(this.Zx||(this.Zx=setTimeout(function(){var T6z,b;T6z=2;while(T6z!==9){switch(T6z){case 2:clearTimeout(a.Zx);a.Zx=void 0;b=a.sa.ma.ub.dc(1);b&&a.mla(b);T6z=9;break;}}},b.f_a))));t5z=3;break;}}};a.prototype.mla=function(a,b){var Y6z,c,f,d,g;Y6z=2;while(Y6z!==7){switch(Y6z){case 5:f=this.sa.Na.xm[c].Lq;d=a.eu.Gz;Y6z=3;break;case 2:c=a.M;Y6z=5;break;case 3:Y6z=f&&d?9:7;break;case 9:g=this.sa.Na.we[c].Fl;g&&(this.sa.fa.um()||this.sa.Hd.e_a(c,g,f.O,d.O,a.Veb.O,b));Y6z=7;break;}}};a.prototype.cma=function(a,b){var A6z,c,f,d,g,h,T6W;A6z=2;while(A6z!==11){T6W="Still in buf";T6W+="feri";T6W+="ng state while pip";T6W+="elin";T6W+="e's are done";switch(A6z){case 13:this.sa.fa.um()&&(this.L.warn(T6W),this.sa.Na.Yr());b||c.PF||a.P.Rd.Zd||!this.F2a(a)||((b=this.sa.fa.um())&&this.sa.G.g5&&(this.sa.Eo(),b=!1),a.aT||this.sa.ma.Zeb(a,b),a.SC(),a.G2a()&&(b=Object.keys(a.children),this.sa.G.tS&&1===b.length&&!a.children[b[0]].active&&this.sa.ma.Wxa(a,b[0]),this.JVa(a,c)));A6z=11;break;case 6:A6z=(this.sa.dj&&this.dma(a,f,d),this.sa.sn&&this.dma(a,d,f),g=!d||d.ug,h=!f||f.ug,!h||!g)?14:13;break;case 7:A6z=!h||!g?6:13;break;case 2:c=a.wa;f=a.dc(1);d=a.dc(0);g=!d||d.ug;h=!f||f.ug;c.Z$||this.sa.ma.Nkb(a,c,a.P.Rd.Zd&&0===a.P.Ha);A6z=7;break;case 14:return;break;}}};a.prototype.JVa=function(a,f){var d6z,c,d,g,m,p,q,l,n,O,Z6W;d6z=2;while(d6z!==21){Z6W="No subbranch can";Z6W+="d";Z6W+="idates to drive";switch(d6z){case 11:d=l.reduce(function(a,b){var G6z,y6z;G6z=2;while(G6z!==4){switch(G6z){case 2:b.Ck=b.cc.Ck;b.Oya=Math.min(b.Ck[0],b.Ck[1]);V5ii.M6W(0);y6z=V5ii.J6W(16,16);return[a[0]+b.weight,a[y6z]+b.Oya];break;}}},[0,0]);n=d[0];O=d[1];d6z=19;break;case 12:d6z=1<l.length?11:18;break;case 18:d6z=0===l.length?17:15;break;case 15:d=l[0].cc;g=l[0].weight;a.$B=d;d6z=25;break;case 24:d.Zc||(d.Zc={iU:h.time.ea(),wA:0});d.Zc.weight=g;this.cma(d,!0);d6z=21;break;case 7:q=[];l=[];b.jd(a.children,function(a,b){var v6z,d;v6z=2;while(v6z!==7){switch(v6z){case 2:b=f.mk[b].weight;v6z=5;break;case 3:d=c.sa.Na;a.FR(m.Wf,d.RE(),d.Cp[1],!0)||l.push(b);q.push(b);v6z=7;break;case 5:v6z=0!==b?4:7;break;case 4:b={weight:b,cc:a};v6z=3;break;}}});0===l.length?l=q:2<l.length&&(l.sort(function(a,b){var E6z;E6z=2;while(E6z!==1){switch(E6z){case 2:return b.weight-a.weight;break;case 4:return b.weight/a.weight;break;E6z=1;break;}}}),l.length=2);d6z=12;break;case 4:d6z=this.sa.Ib.B8&&a.$B&&a.U0?3:8;break;case 19:0!==n&&0!==O?(b.jd(l,function(a){var l6z;l6z=2;while(l6z!==4){switch(l6z){case 2:a.dxb=a.weight/n;a.I1a=a.Oya/O;a.MFa=a.I1a-a.dxb;l6z=4;break;}}}),l.sort(function(a,b){var g6z;g6z=2;while(g6z!==1){switch(g6z){case 2:return a.MFa-b.MFa;break;case 4:return a.MFa+b.MFa;break;g6z=1;break;}}})):l.sort(function(a,b){var M6z;M6z=2;while(M6z!==4){switch(M6z){case 2:a=Math.min.apply(null,a.cc.Ck);b=Math.min.apply(null,b.cc.Ck);V5ii.M6W(1);return V5ii.v6W(a,b);break;}}});d6z=18;break;case 8:d6z=!d?7:24;break;case 9:Math.min(p[0]-a.U0[0],p[1]-a.U0[1])>=m.P2a?a.$B=void 0:(d=a.$B,g=f.mk[d.wa.id].weight);d6z=8;break;case 17:this.L.warn(Z6W);return;break;case 25:a.U0=d.Ck;d6z=24;break;case 2:c=this;m=this.sa.G;d6z=4;break;case 3:p=a.$B.Ck;d6z=9;break;}}};S5z=6;break;case 2:a.prototype.yP=function(){var i5z;i5z=2;while(i5z!==1){switch(i5z){case 2:this.Zx&&(clearTimeout(this.Zx),this.Zx=void 0);i5z=1;break;}}};a.prototype.ema=function(){var R5z,a,b,f,k6W;R5z=2;while(R5z!==11){k6W="first";k6W+="DriveSt";k6W+="ream";k6W+="ing";switch(R5z){case 2:R5z=1;break;case 1:R5z=!this.sa.tw.q2&&!this.sa.Re()?5:11;break;case 8:f=!a||a.ug;(!b||b.ug)&&f&&this.sa.rC&&this.sa.ma.e3a(a?a.ka:b.ka);a=!a||a.su;b&&!b.su||!a||this.sa.rC||(this.sa.Ib.We&&this.sa.Ib.We.sI(!0,this.sa.dk.sessionId),this.sa.Va.Eza());this.cma(this.sa.ma.ub);this.sa.fa.um()||this.sa.ma.ub.P.c$();R5z=11;break;case 5:void 0===this.sa.GVa&&(this.sa.GVa=!0,this.sa.Va.qs(k6W));a=this.sa.ma.ub;b=a.dc(0);a=a.dc(1);R5z=8;break;}}};S5z=5;break;case 5:a.prototype.Yna=function(){var q5z;q5z=2;while(q5z!==1){switch(q5z){case 2:return this.sa.Re()||this.sa.fa.Vwa()||this.sa.fa.yf()?!0:!1;break;}}};a.prototype.wH=function(a){var Q5z;Q5z=2;while(Q5z!==1){switch(Q5z){case 2:return this.Yna()||this.sa.Na.we[a.M].gG||this.sa.nP?!1:!0;break;}}};S5z=3;break;case 6:a.prototype.dma=function(a,f,d){var H6z,c,g,k,m,p,q,l,o6W;H6z=2;while(H6z!==42){o6W="dri";o6W+="vePipeline, delaying audi";o6W+="o until video actualStartPts determined";switch(H6z){case 11:H6z=(b.U(f.si)&&(f.si=f.jg?f.jg.index:f.PS(f.bb)),f.uk&&f.si>f.uk.index)?10:20;break;case 22:return;break;case 20:H6z=this.wH(f)?19:42;break;case 23:H6z=this.Hla(f,d).EN?22:21;break;case 24:d=f.gc[d];H6z=23;break;case 13:H6z=c.Zn&&0===g&&b.U(this.sa.Na.we[1].Xk)?12:11;break;case 30:d=this.RWa(f,d);H6z=29;break;case 16:f.w9=h.time.ea();H6z=15;break;case 19:H6z=c.Z8a&&!this.sa.fa.um()&&0>=f.Qz?18:17;break;case 12:f.Ga(o6W);H6z=42;break;case 4:H6z=!f.ug?3:42;break;case 32:this.$vb(d,p,m);a.Zc&&++a.Zc.wA;H6z=42;break;case 26:H6z=b.U(d)?25:24;break;case 2:c=this.sa.G;g=f.M;H6z=4;break;case 43:d=f.gc[d];H6z=21;break;case 10:a.P.Rd.Zd&&b.U(q.ka)&&b.U(a.ka)||(f.ug||this.sa.Sna(f),f=this.sa.pc.P.Ha,f<this.sa.dE()-1&&this.sa.QQ(f+1));H6z=42;break;case 29:H6z=!d?28:44;break;case 18:a=this.sa.qY()?c.vjb:c.ujb,f.Pvb(a);H6z=42;break;case 17:H6z=this.Ila(f,d)?16:30;break;case 7:H6z=k.Fl&&(void 0===f.Cm||(f.ax(f.Cm),void 0===f.Cm))?6:42;break;case 35:f.Ygb=d.O;H6z=34;break;case 6:q=this.sa.pc;H6z=14;break;case 21:H6z=(q=d.P.z7(d))?35:42;break;case 34:c.Nz&&(l=h.qk()[g]-this.sa.ma.$1a(a,g));f.wib(d,q,this.sa.fa.um(),k.Fl,l);H6z=32;break;case 3:k=this.sa.Na.we[g];m=this.sa.Na.Cp[g];p=this.sa.Na.xm[g];H6z=7;break;case 25:return;break;case 28:return;break;case 14:H6z=q.xl&&!b.U(q.xl.Ui)?13:42;break;case 44:d=d.sg;H6z=43;break;case 15:d=this.sa.Na.ET(f);d=d.sg;H6z=26;break;}}};a.prototype.$vb=function(a,f,d){var F6z;F6z=2;while(F6z!==4){switch(F6z){case 2:f.FU=a.Vb;b.na(d.om)||(d.Xvb(a.fo,a.tz||-1,a.O,a.fca),b.U(a.fca)||this.sa.Hd.wDa(a.fca,a.rm,a.ql));a.url&&(f.y9=a.url);F6z=4;break;}}};S5z=13;break;case 13:a.prototype.RWa=function(a,f){var x6z,c,d,g;x6z=2;while(x6z!==12){switch(x6z){case 4:a.w9=h.time.ea();c=this.sa.Na.ET(a);d=c.sg;x6z=8;break;case 5:x6z=!(!c.Y2&&!c.Fs||a.w9+c.F2>h.time.ea())?4:12;break;case 7:d=a.gc[d];g=d.P.pi(a.M,d.pa);x6z=14;break;case 2:c=this.sa.G;x6z=5;break;case 8:x6z=!b.U(d)?7:12;break;case 13:return c;break;case 14:x6z=g&&g.X&&(d=this.Hla(a,d),!d.EN&&d.Zl&&this.Ila(a,f))?13:12;break;}}};a.prototype.Hla=function(a,b){var L6z,f,d;L6z=2;function c(b){var I6z;I6z=2;while(I6z!==1){switch(I6z){case 2:0!==b.length&&(b=b[0],b.gd<a.bb&&(b=b.gd,a.Jqb(b)),f=!0);I6z=1;break;}}}while(L6z!==9){switch(L6z){case 2:f=!1;L6z=5;break;case 5:this.sa.G.Fs&&a.Ua.tsb(this.sa.pc.P.Ha,b.O,c);d=this.sa.Na.xm[a.M];return this.sa.qna&&b.Vb&&d.FU&&b.Vb!==d.FU&&(0<a.Ua.Ow||0<a.Ua.Ip)?{EN:!0,Zl:f}:{EN:!1,Zl:f};break;}}};a.prototype.Ila=function(a,d){var e6z,c,g,m,p,q,l,n,D,O,t,N,C6W,h6W,Y6W,c6W;e6z=2;while(e6z!==41){C6W="f";C6W+="loored t";C6W+="o";C6W+=" 0";h6W="negative scheduledBuffe";h6W+="rLe";h6W+="vel:";Y6W=" ";Y6W+=">";Y6W+="=";Y6W+=" ";c6W="No vacancy, stalling";c6W+=" due to max f";c6W+="rameCount:";switch(e6z){case 24:e6z=this.sa.Ib.f9?23:22;break;case 16:e6z=n===f.Fa.dd&&q>c.Kib&&!l.Rd.Zd&&!l.ji&&!N||q&&t>Math.max(q*c.n$/100,c.G$)?15:27;break;case 10:t=a.Ua.waa;e6z=20;break;case 27:n=this.sa.ma.TI(m,g);N=0;e6z=25;break;case 19:return!1;break;case 32:return!1;break;case 33:e6z=c.Fs&&a.Ua.Ip>=c.r$||this.kWa(g)>=c.Oz?32:31;break;case 13:O=d?d.bb:0;e6z=12;break;case 43:return!1;break;case 30:e6z=!b.U(c.Pq)&&m>=c.Pq||a.gD+t>=Math.max(c.YU,this.sa.Ib.tX+c.faa*p.P.Uib[g])?29:28;break;case 29:return!1;break;case 15:return!1;break;case 44:e6z=(m=1,a.J3<c.Bw&&(m=c.Bw),a.Ua.Ow>=m)?43:42;break;case 3:p=this.sa.ri(m.P.Ha);q=m.Ri(g);l=this.sa.fa.oe();n=this.sa.fa.Ec();e6z=6;break;case 23:return!1;break;case 18:l=this.sa.pc.P;N=this.sa.fa.dw(l.I)||l.ji;e6z=16;break;case 2:c=this.sa.G;g=a.M;m=a.cc;e6z=3;break;case 22:D=void 0;d&&(D=d.M,O=h.qk()[D],D=c.qwb?this.sa.ma.Xxa(m,D).Uh/O:N/O);e6z=35;break;case 35:e6z=void 0===D||D<c.Jib?34:33;break;case 25:e6z=d&&(N=this.sa.ma.TI(m,d.M),O=a.bb-O,this.eb(d.M)&&!d.ug&&O>=c.p$&&D>c.Wf)?24:33;break;case 11:return a.Ga(c6W,a.Rb.zA+Y6W+a.Rb.Jw),!1;break;case 42:return c.U5&&a.Ua.Ow>=c.Zib||!p&&0<c.Rq&&1===g&&n>c.Rq||0<c.Ht&&!p&&n+(d?N:0)>c.Ht||void 0!==this.Ala&&q>this.Ala||1===g&&l.Rd.Zd&&q>c.l$&&(d=this.sa.Ib.Gc.get(!1),d.Jc&&d.Ba&&d.Ba.Qa*a.gD>c.k$)?!1:!0;break;case 31:m=this.sa.ma.Xub();e6z=30;break;case 34:return!1;break;case 28:e6z=(p=this.sa.fa.um())?44:42;break;case 12:e6z=a.Rb&&a.Rb.zA>=a.Rb.Jw?11:10;break;case 6:D=a.bb+m.Md-l;0>D&&(a.Ga(h6W,D,C6W),D=0);e6z=13;break;case 20:e6z=t>=c.Cw?19:18;break;}}};S5z=10;break;case 10:a.prototype.kWa=function(a){var B6z;B6z=2;while(B6z!==1){switch(B6z){case 2:return this.sa.ma.Jpa.reduce(function(b,c){var k6z;k6z=2;while(k6z!==1){switch(k6z){case 4:return b-c.hdb(a);break;k6z=1;break;case 2:return b+c.hdb(a);break;}}},0);break;}}};a.prototype.F2a=function(a){var b6z,c,f,d;b6z=2;while(b6z!==8){switch(b6z){case 4:d=!0;b.jd(a.wa.mk,function(b,g){var a6z,P6W,O6W;a6z=2;while(a6z!==1){P6W="i";P6W+="n des";P6W+="ts:";O6W="inv";O6W+="alid segm";O6W+="e";O6W+="nt:";switch(a6z){case 2:(b=f.st(g))?(g=b.P,g.yd[0]&&g.yd[1]&&g.yd[0].stream.md&&g.yd[1].stream.md||(d=!1),c.sa.fa.dw(g.I)||g.ji||(d=!1)):a.Ga(O6W,g,P6W,a.wa.mk);a6z=1;break;}}});return d;break;case 2:c=this;f=this.sa.ma;b6z=4;break;}}};return a;break;}}}();d.GKa=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(363);g=function(){var D6W;D6W=2;function a(a,b,f){var x6W,d8W;x6W=2;while(x6W!==3){d8W="1SI";d8W+="Yb";d8W+="Z";d8W+="rNJCp9";switch(x6W){case 4:d8W;x6W=3;break;case 2:this.ki=a;this.L=b;this.ie=f;x6W=4;break;}}}while(D6W!==8){switch(D6W){case 2:a.prototype.uVa=function(a,b){var y6W,c,d,U8W;y6W=2;while(y6W!==6){U8W="crea";U8W+="teDlTrack";U8W+="sSt";U8W+="art";switch(y6W){case 2:c=this;d=this.ki.G;0===this.my&&this.ki.Va.qs(U8W);y6W=3;break;case 3:this.my+=a.length;a=a.map(function(a){var S6W,g,K8W,a8W,t8W,s8W;S6W=2;while(S6W!==7){K8W="c";K8W+="re";K8W+="ated";a8W="t";a8W+="ran";a8W+="s";a8W+="portreport";t8W="e";t8W+="rr";t8W+="o";t8W+="r";s8W="network";s8W+="f";s8W+="a";s8W+="ilin";s8W+="g";switch(S6W){case 4:g.uw.on(g,s8W,function(){var z6W,a,L8W;z6W=2;while(z6W!==8){L8W="rep";L8W+="ortNetwor";L8W+="kFailing: ";switch(z6W){case 2:d.jf&&c.ie.Oh(L8W+g);z6W=5;break;case 4:a=c.ki.pc;a.P.zj&&a.P.zj.Hm(g.cta,void 0,g.Gh,g.Gj);c.ki.ioa();z6W=8;break;case 5:z6W=g.n6?4:8;break;}}});g.uw.on(g,t8W,function(){var u6W,r8W,A8W,n8W;u6W=2;while(u6W!==5){r8W="NFErr_M";r8W+="C";r8W+="_Streamin";r8W+="gFailure";A8W="DownloadTra";A8W+="ck fa";A8W+="tal erro";A8W+="r";n8W="Downlo";n8W+="adT";n8W+="r";n8W+="ack fatal error";switch(u6W){case 2:d.jf&&c.ie.Oh(n8W);c.ki.pn(A8W,void 0,r8W,g.Gh,0,g.Gj);u6W=5;break;}}});g.on(a8W,function(a){var p6W,N8W;p6W=2;while(p6W!==1){N8W="tra";N8W+="nsp";N8W+="o";N8W+="rtr";N8W+="eport";switch(p6W){case 4:c.ki.emit("",a);p6W=2;break;p6W=1;break;case 2:c.ki.emit(N8W,a);p6W=1;break;}}});return g;break;case 2:g=f.qu.ah.SR(a,b,!0,c.ki.gp,c.ki.dk,d);g.uw.on(g,K8W,function(){var f6W,w8W;f6W=2;while(f6W!==5){w8W="createDlTra";w8W+="cks";w8W+="End";switch(f6W){case 2:--c.my;0===c.my&&c.ki.Va.qs(w8W);f6W=5;break;}}});S6W=4;break;}}});f.qu.ah.lf();return a;break;}}};a.prototype.FVa=function(){var m6W,a,c;m6W=2;while(m6W!==8){switch(m6W){case 3:this.ki.FH&&(c.push(this.ki.FH),this.ki.FH=void 0);c.forEach(function(b){var l6W;l6W=2;while(l6W!==5){switch(l6W){case 2:b.Ro||--a.my;f.qu.ah.w5(b);l6W=5;break;}}});m6W=8;break;case 2:a=this;c=[];this.ki.Na.we.forEach(function(a){var B6W;B6W=2;while(B6W!==5){switch(B6W){case 2:b.U(a.Fl)||c.push(a.Fl);a.Fl=void 0;B6W=5;break;}}});m6W=3;break;}}};a.prototype.BWa=function(){var R8W;R8W=2;while(R8W!==1){switch(R8W){case 2:this.my=0;R8W=1;break;case 4:this.my=9;R8W=5;break;R8W=1;break;}}};a.prototype.Jna=function(a,b){var q8W,c,d;q8W=2;while(q8W!==3){switch(q8W){case 2:c=this.ki.Na.we[a];d=c.Fl;q8W=4;break;case 4:d&&(d=b.E2(a,d),this.EVa(a),c.Fl=f.qu.ah.SR(a,b.I,!0,this.ki.gp,this.ki.dk,this.ki.G),b.Jba(d));q8W=3;break;}}};a.prototype.EVa=function(a){var Q8W,b;Q8W=2;while(Q8W!==8){switch(Q8W){case 2:a=this.ki.Na.we[a];b=a.Fl;b.Ro||--this.my;f.qu.ah.w5(b);a.Fl=void 0;Q8W=8;break;}}};return a;break;}}}();d.FKa=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(364);g=function(){var F8W;F8W=2;while(F8W!==3){switch(F8W){case 2:a.prototype.KUa=function(a,f){var H8W,c,j8W,v8W,J8W,E8W,G8W,X8W,I8W,i8W,g8W;H8W=2;while(H8W!==13){j8W="using s";j8W+="ab";j8W+=" cell >= 100, ";j8W+="pipelineEnabled:";j8W+=" ";v8W="usin";v8W+="g sab cell >= 200, pipelineEnab";v8W+="le";v8W+="d: ";J8W=", allowSw";J8W+="it";J8W+="chba";J8W+="c";J8W+="k";E8W=", probeD";E8W+="etailDenominat";E8W+="or: ";G8W="using sab cell >= 3";G8W+="00, ";G8W+="prob";G8W+="eServerWhen";G8W+="Error: ";X8W=", all";X8W+="ow";X8W+="Swi";X8W+="t";X8W+="chback";I8W=", probeDeta";I8W+="ilDen";I8W+="ominator: ";i8W="using sab ce";i8W+="ll >= 4";i8W+="00, probeSe";i8W+="rverWhenError: ";g8W="app";g8W+="lyi";g8W+="ng manifest based streamingClientConf";g8W+="ig";switch(H8W){case 9:a=a.cdnResponseData;H8W=8;break;case 1:f=b.Pqa(f,a);c=a.steeringAdditionalInfo;H8W=4;break;case 4:H8W=c&&c.streamingClientConfig&&Object.keys(c.streamingClientConfig).length?3:9;break;case 2:H8W=1;break;case 8:H8W=!a?7:6;break;case 7:return f;break;case 3:return a=c.streamingClientConfig,this.L.trace(g8W+JSON.stringify(a)),this.lna(f,a);break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!0})):(f.up=!0,f.mA=1,f.Is=!0),this.L.trace(i8W+f.up+I8W+f.mA+X8W+f.Is)):300<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!1})):(f.up=!0,f.mA=1,f.Is=!1),this.L.trace(G8W+f.up+E8W+f.mA+J8W+f.Is)):200<=a?(f.set?f.set({pipelineEnabled:!1}):f.Tn=!1,this.L.trace(v8W+f.Tn)):100<=a&&(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:f.UU}),f.set({maxPendingBufferLen:f.$U})):(f.Tn=!0,f.FE=1,f.Pq=f.UU,f.Cw=f.$U),this.L.trace(j8W+f.Tn)));return f;break;}}};a.prototype.MUa=function(a,b){var W8W;W8W=2;while(W8W!==9){switch(W8W){case 1:return b;break;case 2:W8W=!b.C4||a===this.IWa?1:5;break;case 5:this.IWa=a;for(var c in b.C4)new RegExp(c).test(a)&&(b=this.lna(b,b.C4[c]));return b;break;}}};F8W=5;break;case 5:a.prototype.lna=function(a,b){var V8W,c,f,d,M8W;V8W=2;while(V8W!==4){switch(V8W){case 2:for(f in b)if(b.hasOwnProperty(f)){M8W="I";M8W+="nva";M8W+="lid ";M8W+="ke";M8W+="y";d=b[f];a.set?0===a.set((c={},c[f]=d,c))&&this.L.trace(M8W+f):a[f]=d;}return a;break;}}};return a;break;}}function a(a){var e8W,b8W;e8W=2;while(e8W!==5){b8W="1SIYbZrNJC";b8W+="p";b8W+="9";switch(e8W){case 2:this.L=a;b8W;e8W=5;break;}}}}();d.XIa=g;},function(g,d,a){var f;function b(a){this.zs=void 0;this.YWa=a;this.j2=[];this.he=[];}a(6);a(12);f=a(43).Bz;a(20);b.prototype.reset=function(a){this.zs=void 0;this.j2=[];a&&(this.he=[]);};b.prototype.add=function(a,b){var c,d;c=b.filter(function(b,c){return f(b)||c===a.Cd;});d=c.map(function(a){return a.O;});b=c.indexOf(b[a.Cd]);this.zs&&(this.zs.length!==d.length||this.zs.some(function(a,b){return a!==d[b];}))&&(c=this.pua())&&(this.he.push(c),this.reset(!1));void 0===this.zs&&(this.zs=d);this.j2.push([b,a.nFa,a.bb,a.K1a,a.Opa,a.Qnb,a.plb,a.Bnb,a.hq,a.wj,a.uub-a.nFa]);};b.prototype.z9a=function(){for(var a=this.j2,b=[],c=[],f=0;f<a.length;f++){for(var d=a[f],g=[],h=0;h<d.length;h++)g.push(d[h]-(c[h]||0));b.push(g);c=d;}return b;};b.prototype.pua=function(){var a;a=this.z9a();if(0!==a.length)return{dltype:this.YWa,bitrates:this.zs,seltrace:a};};b.prototype.get=function(){var a,b;a=this.pua();b=this.he;a&&b.push(a);if(0!==b.length)return b;};g.T=b;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(683);g=function(){function a(){this.HQ=[];this.HQ[b.Da.VIDEO]=new f(b.Da.VIDEO);this.HQ[b.Da.AUDIO]=new f(b.Da.AUDIO);}a.prototype.D_a=function(a,b,f){this.HQ[a].add(b,f);};a.prototype.Adb=function(){var a;a=[];this.HQ.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.w$a=function(a){var b;b=this.Adb();a.strmsel=b;return 0<b.length;};return a;}();d.hSa=g;},function(g,d,a){var b,f,h,q,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(352);f=a(154);h=a(12);q=a(33);g=function(){function a(a,b){this.G=a;this.L=b;this.M1=this.E1=this.Ou=q.sb.sf;this.eQ=void 0;this.Yl=this.L.trace.bind(this.L);this.Fza=new c(a,b);}a.prototype.Wba=function(a,b,c,f,d,g,m,p,l){var k,r,u,y,A,n,I;k=!1;a=a===h.Da.AUDIO&&!!b.Ra&&this.LYa(b.stream);r=q.sb.sf;u=b.console;if(a){y=b.stream.La;A=this.eWa(b.profile,y);n=b.ix+b.Gm;if(b.Kq)b=new q.sb(b.ka-n,1E3),k=this.Ou.add(b).c8(A);else if(void 0!==c){I=b.Laa;new q.sb(n-b.S,1E3);n=this.Ou.add(c.xe(I));if(I.add(y).mhb(c)||n.c8(A))k=!0,I.add(y),n=n.xe(y);n.uL(this.Ou)&&n.lessThan(q.sb.BL.M$(-8))?(k=a=!1,this.Fza.reset(),this.Ou=q.sb.sf,m=f.add(d),p(m),u.error("Unexpected seamless audio sync "+n.toString()+" at content pts "+b.gd+" in stream "+b.stream.pa+" following "+g.hg)):(g=f.add(n).add(d),m=this.Fza.round(b,m,g,k),p(m),n.uL(this.Ou)&&(this.E1=q.sb.max(this.E1,n),this.M1=q.sb.min(this.M1,n),l(this.E1,this.M1),r=n.xe(this.Ou),this.Ou=n));}}return{Wba:a,r8a:k,N0a:r};};a.prototype.LYa=function(a){void 0===this.bI&&(this.bI=f.Qoa(this.G,a));return this.bI;};a.prototype.eWa=function(a,b){void 0===this.eQ&&("object"===typeof this.G.Xba&&this.G.Xba[a]?(a=new q.sb(this.G.Xba[a],1E3).Ll(b.ca).add(new q.sb(1,b.ca)),this.eQ=q.sb.min(b,a)):this.eQ=b);return this.eQ;};return a;}();d.PSa=g;c=function(){function a(a,b){this.G=a;this.L=b;this.JQ=0;}a.prototype.round=function(a,b,c,f){this.G.Zn||(a=this.bVa(a,c,f),b=b.xe(a),b.c8(q.sb.BL.M$(2))?(c=c.xe(q.sb.BL),++this.JQ):this.JQ&&b.lessThan(q.sb.BL)&&(c=c.add(q.sb.BL),--this.JQ));return c;};a.prototype.reset=function(){this.JQ=0;};a.prototype.bVa=function(a,c,f){var d;d=a.N3a;this.G.Jo&&a.stream.Mj&&(d=d.xe(a.stream.Mj));f&&(d=d.add(a.stream.La));return b.$ya(d).add(b.$ya(c));};return a;}();},function(g,d,a){var b,f,h,q,c,m,k,u,r,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(12);h=a(5);q=a(43).Bz;c=a(20).yw;m=a(355);k=a(223);g=function(){function a(a,b,c,f,d,g,k,h,m,p,q,y){var A;A=this;this.L=a;this.Hd=b;this.G=c;this.eb=f;this.yib=d;this.fa=g;this.ir=k;this.Gc=h;this.Va=m;this.Ce=p;this.VC=q;this.RE=y;this.EQ=[];this.o2=[];this.K1=[];this.wla=void 0;[0,1].forEach(function(a){A.eb(a)&&(A.EQ[a]=new l(A.L,a),A.o2[a]=new u(a),A.K1[a]=new r(a));});this.Tu=void 0;}Object.defineProperties(a.prototype,{we:{get:function(){return this.EQ;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Cp:{get:function(){return this.o2;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xm:{get:function(){return this.K1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mq:{get:function(){return this.wla;},set:function(a){this.wla=a;},enumerable:!0,configurable:!0}});a.prototype.SU=function(a){var c,d,g,k,m,r;c=this.G;d=a.M;g=h.qk()[d];k=this.K1[d];c=1===d?c.o3:c.bea;m=this.fa.Ec();r=this.fa.oe();d=this.VC.Xxa(a.Ua.cc,d);g={Ts:g,S:d.ec,hf:r,bb:d.aF||r,jl:a.Ws||r,Uh:d.Uh,Bm:d.Bm,Kta:d.X.length,X:[]};c={state:m,zz:this.fa.zz()&&!this.ir.qY(),dx:a.si,buffer:g,k8a:c,oib:!!this.ir.$K,xS:!!this.ir.fr,hq:this.Gc&&this.Gc.hq};void 0===c.dx&&(c.dx=a.PS(g.bb));g.X=d.X;c.state!==f.Fa.dd||0!==g.X.length||b.na(a.MF.ehb)||(d=m=void 0,a.LW&&(d=h.time.ea()-a.LW.time,m=a.LW.reason),a.Jd("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",k.Lq,"last pipeline.reset:",m,"delta:",d));b.na(g.S)?a.seeking&&g.hf!=g.S&&(g.hf=g.S):(g.S=0,g.bb=0);this.Hd.K2a(c);this.Hd.z_a(c);return c;};a.prototype.J2a=function(a,b,c){var h,m;a=this.EQ[a];for(var f=a.Pn,d="manifest",g=0,k=b.length-1;0<=k;k--){h=b[k];m=h.O;if(q(h)){g=Math.max(g,m);break;}else!h.inRange&&h.BD&&Array.isArray(h.BD)?d=h.BD.join("|"):this.G.EX&&!h.Ov?d="bc":h.xf?h.$g&&(d="hf"):d="av";}if(void 0===f||g!==f){a.Pn=g;if(this.ir.jm)try{this.Tu&&this.reb();}catch(z){this.Va.zm("Hindsight: Error when handling maxbitrate chagned: "+z);}this.Va.Xkb(f,g,d,c);}};a.prototype.udb=function(a){return this.ET(a).sg;};a.prototype.ET=function(a){var c,d,g,k,h,m,r,p,q,u,l,y,A,n;c=this.G;d=a.M;g=1==d;h=this.EQ[d];m=this.o2[d];if(!h.Fl)return{sg:void 0};r=this.SU(a);p=a.eu;q=p.Ct;u=a.cc;l=u.P;y=l.Ha;A=this.yib[y].ot(d).gc;n=q?q.sg:h.VS;if(q&&(k=q.O,q&&!q.track.equals(p.track))){n=this.Hd.ota(A,k);k=A[n];if(q.O!==k.O||1===d)r.state=f.Fa.ci;q=k;}if(!l.tl.YX(y,a.Db,A))return a.Jd("location selector did not find any urls"),{sg:void 0};if(!g){y=c.YM;if(!(y&&0<y.length||a.qF)&&n&&A[n]&&q&&q.location===A[n].location)return{sg:n};a.qF&&(r.state=f.Fa.ci,n=void 0);}this.Hd.$pa(r.dx,A);q=c.bY&&0===this.RE()?c.Dw:c.bV;r=a.MF.gca(r,A,void 0,this.Hd.$cb(d),h.Fl.config.dnb,q,l.zj);if(!r)return a.Jd("stream selector did not find a stream"),{sg:void 0};this.ir.fr&&this.ir.fr.D_a(a.M,r,A);g&&this.J2a(d,A,a.bb);d=r.Cd;A=A[d].O;d!=n&&(g&&c.Xy&&this.Ce.mla(a,A),g||this.Hd.DF(A));b.na(h.VS)||(h.VS=d);c.AS||(a.cl||(r.cl?(a.cl=!0,m.JI=r.reason):(a.Kz=r.Kz,a.Zt=r.Zt,a.Qh=r.Qh)),this.Yr());g&&l.uca(u,r.xD);return{sg:d};};a.prototype.Yr=function(){var a,b,c,f,d;a=this.we[0];b=this.we[1];c=this.Cp[1];f=this.Cp[0];d=this.fa.Ec();return this.G.AS?this.VC.ub.CR(b,a,c,f,this.ir.dj,d,this.mq,this.G.Wf,this.RE()):this.VC.ub.zv(b,a,c,this.ir.dj,d,this.mq,this.G.Wf,this.RE());};a.prototype.s6=function(a,b){var c,d,g,h;c=this;if(this.Tu){d=this.Tu;g=this.fa.oe();h=[];b&&(g=b.ka);k.wg.forEach(function(b){var d,k;d=c.VC.ub.dc(b);if(d){k=c.SU(d);k.M=b;k.hf=g;a===f.Fa.Up&&(k.KBa=d.Ua.b3(g));h[b]=k;}});d.ita||d.TD(h,a)||this.Fba();return d;}};a.prototype.reb=function(){var a,b,c,f;a=this;b=this.Tu;c=this.G;f=[];b&&(this.s6(void 0),b&&!b.NC&&this.Hd.hba.c6(b));k.wg.forEach(function(b){var c,d;c=a.VC.ub.dc(b);if(c){d=a.SU(c);d.cm=h.time.ea();d.gc=c.gc;d.M=b;f[b]=d;}});b=h.qk();b={YZa:b[0],cG:b[1],dL:c.Oz};this.Tu=b=new m(f,h.time.ea(),void 0,this.ir.DJ,b,c.pK);};a.prototype.Fba=function(){this.Tu=void 0;};a.prototype.Svb=function(a){var b,c,d,g,r;b=this;c=a.oldValue;d=a.newValue;g=this.Tu;a=this.G;d===f.Fa.dd&&c!==f.Fa.dd?(g&&this.L.warn("override an existing play segment!"),r=[],k.wg.forEach(function(a){var c,f,d;c=b.VC.ub.dc(a);if(c){f=b.SU(c);d=b.we[a];d.Tca?(f.cm=d.Tca,d.Tca=void 0):f.cm=d.cm;f.gc=c.gc;f.M=a;r[a]=f;}}),d=h.qk(),d={YZa:d[0],cG:d[1],dL:a.Oz},this.Tu=g=new m(r,h.time.ea(),c,this.ir.DJ,d,a.pK)):d!==f.Fa.dd&&c===f.Fa.dd&&g&&(this.s6(d),g&&!g.NC&&this.Hd.hba.c6(g),this.Fba());};return a;}();d.hTa=g;u=function(){function a(a){this.M=a;this.MI=this.om=this.tz=this.JI=this.Kn=void 0;}a.prototype.Xvb=function(a,b,c,f){this.Kn=a?a:this.Kn;this.JI=this.JI;this.tz=b?b:this.tz;this.om=c?c:this.om;this.Ifb=f?f:this.Ifb;};return a;}();d.PEb=u;r=function(){return function(a){this.M=a;this.FU=this.y9=this.FU=this.v9=this.Lq=void 0;};}();d.VBb=r;l=function(){return function(a,b){this.M=b;this.L=c(h,a,"["+b+"]");this.Jd=this.L.error.bind(this.L);this.Ga=this.L.warn.bind(this.L);this.Yl=this.L.trace.bind(this.L);this.jb=this.L.log.bind(this.L);this.gC=this.L.debug.bind(this.L);this.VS=this.cm=this.Xk=this.Fl=void 0;this.OL=this.Dm=0;this.gG=!1;this.Pn=void 0;};}();d.NEb=l;},function(g,d,a){(function(){var T8W,f,d,h,c,R3f,c3f;T8W=2;while(T8W!==10){R3f="1SI";R3f+="YbZrN";R3f+="JCp";R3f+="9";c3f="ITE";c3f+="_A";c3f+="SEJS";switch(T8W){case 6:b.prototype.uI=function(a,b){var Y8W,m3f;Y8W=2;while(Y8W!==1){m3f="a";m3f+="v";m3f+="t";m3f+="p";switch(Y8W){case 2:return m3f==a?0<b?Math.log(b):null:b;break;}}};b.prototype.Cua=function(){var h8W,a,b,f,k3f,Q3f,E3f,B3f,K3f,G3f,T3f,d3f;h8W=2;while(h8W!==20){k3f="n";k3f+="i";k3f+="q";k3f+="r";Q3f="f";Q3f+="n";Q3f+="s";E3f="a";E3f+="v";E3f+="t";E3f+="p";B3f="f";B3f+="n";B3f+="s";K3f="a";K3f+="v";K3f+="t";K3f+="p";G3f="l";G3f+="n";G3f+="s";T3f="a";T3f+="v";T3f+="tp";d3f="e";d3f+="n";d3f+="s";switch(h8W){case 8:b.oLb=this.hr[f-1].get().eJb;b.iob=this.hr[f-1].get().t;h8W=6;break;case 2:a=new c(100);b={};[{IM:d3f,vr:T3f},{IM:G3f,vr:K3f},{IM:B3f,vr:E3f},{IM:Q3f,vr:k3f}].forEach(function(c){var k3v=V5ii;var C8W,d,f,U3f,x3f,s3f,L3f,O3f,w3f,z3f,n3f,v3f,Z3f,r3f,F3f,a3f,o3f,b3f,D3f,V3f;C8W=2;while(C8W!==17){U3f="p";U3f+="5";U3f+="0";x3f="p";x3f+="2";x3f+="5";s3f="l";s3f+="a";s3f+="s";s3f+="t";L3f="s";L3f+="t";L3f+="d";O3f="m";O3f+="e";O3f+="an";w3f="s";w3f+="t";w3f+="d";z3f="m";z3f+="e";z3f+="a";z3f+="n";n3f="m";n3f+="e";n3f+="a";n3f+="n";v3f="s";v3f+="t";v3f+="d";Z3f="p";Z3f+="5";Z3f+="0";r3f="p";r3f+="2";r3f+="5";F3f="p";F3f+="7";F3f+="5";a3f="p";a3f+="5";a3f+="0";o3f="n";o3f+="i";o3f+="q";o3f+="r";b3f="s";b3f+="t";b3f+="d";D3f="m";D3f+="e";D3f+="a";D3f+="n";V3f="p";V3f+="7";V3f+="5";switch(C8W){case 9:f++;C8W=5;break;case 2:C8W=1;break;case 1:f=0;C8W=5;break;case 4:d=this.hr[f].get()[c.IM][c.vr];d&&a.qI(Number(d));C8W=9;break;case 13:k3v.u3f(0);b[k3v.t4f(V3f,d)]=this.uI(c.vr,a.dm(75));k3v.p3f(0);b[k3v.e4f(D3f,d)]=this.uI(c.vr,a.xR());k3v.p3f(0);b[k3v.t4f(b3f,d)]=a.UI();k3v.u3f(0);b[k3v.e4f(o3f,d)]=0<b[d+a3f]?(b[d+F3f]-b[d+r3f])/b[d+Z3f]:0;k3v.u3f(0);b[k3v.e4f("b",d)]=0<b[d+v3f]||0<b[d+n3f]?(b[d+z3f]-b[d+w3f])/(b[d+O3f]+b[d+L3f]):0;k3v.u3f(0);b[k3v.t4f(s3f,d)]=this.uI(c.vr,a.ze[f-1]);a.ze=[];C8W=17;break;case 8:f=a.jz();C8W=7;break;case 5:C8W=f<this.hr.length?4:8;break;case 7:d=c.IM+"-"+c.vr+"-";k3v.p3f(0);b[k3v.t4f(x3f,d)]=this.uI(c.vr,a.dm(25));k3v.u3f(0);b[k3v.t4f(U3f,d)]=this.uI(c.vr,a.dm(50));C8W=13;break;}}},this);f=this.hr.length;b.oDa=f;h8W=8;break;case 12:b.uMb=b.Z4-b.iob;b.rJb=1;return b;break;case 6:f=this.gz();b.qra=f.qra;b.Z4=f.Z4;h8W=12;break;}}};T8W=13;break;case 4:h=new d.Console(c3f);c=a(222);b.prototype.gz=function(){var k8W,a;k8W=2;while(k8W!==4){switch(k8W){case 2:a=d.time.now();return{qra:new Date(a).getHours(),Z4:a};break;}}};b.prototype.nT=function(){var o8W,a,b;o8W=2;while(o8W!==7){switch(o8W){case 3:a+=this.hr[b].get().$Hb.UC;o8W=9;break;case 2:o8W=1>this.hr.length?1:5;break;case 1:return 0;break;case 9:b++;o8W=4;break;case 8:return a/this.hr.length;break;case 4:o8W=b<this.hr.length?3:8;break;case 5:a=0,b=0;o8W=4;break;}}};b.prototype.A7=function(){var c8W,d,a,b,c,f;c8W=2;while(c8W!==14){switch(c8W){case 2:c8W=1;break;case 1:a=this.nT(),b=void 0,c=Object.keys(this.uV),f=0;c8W=5;break;case 5:c8W=f<c.length?4:7;break;case 3:c8W=a>=this.uV[d][0]&&a<=this.uV[d][1]?9:8;break;case 9:b=d;c8W=7;break;case 4:d=c[f];c8W=3;break;case 8:f++;c8W=5;break;case 7:c8W=b?6:14;break;case 6:return{a$:this.CE[b].lrWeights,Y9:this.CE[b].lrMeans,Z9:this.CE[b].lrStd,Lib:this.Mib[b]};break;}}};T8W=6;break;case 2:T8W=1;break;case 1:f=a(6);d=a(5);T8W=4;break;case 13:b.prototype.Bua=function(){var O8W,b,c,d,g,A3f;function a(a,b){var P8W,c;P8W=2;while(P8W!==4){switch(P8W){case 2:c=Object.keys(a).map(function(b){var D8W;D8W=2;while(D8W!==1){switch(D8W){case 2:return a[b];break;case 4:return a[b];break;D8W=1;break;}}});return Object.keys(a).some(function(c){var x8W;x8W=2;while(x8W!==1){switch(x8W){case 2:return a[c][0]>a[c][1]||0>a[c][0]||0>a[c][1]||a[c][0]>b||a[c][1]>b;break;}}})||b!=[].concat.apply([],c).reduce(function(a,b){var y8W;y8W=2;while(y8W!==1){switch(y8W){case 4:return a>=b?a:b;break;y8W=1;break;case 2:return a>b?a:b;break;}}});break;}}}O8W=2;while(O8W!==11){A3f="g";A3f+="e";A3f+="tPa";A3f+="ram";A3f+="s:";switch(O8W){case 1:O8W=2>this.hr.length||this.nT()>this.Rpa||0>this.nT()||a(this.uV,this.Rpa)?5:4;break;case 2:O8W=1;break;case 3:O8W=f.U(b)?9:8;break;case 5:return 0;break;case 4:b=this.A7();O8W=3;break;case 9:return 0;break;case 8:0&h.log(A3f,JSON.stringify(b));c=this.Cua();d=0;g=!Object.keys(c).some(function(a){var S8W,W3f;S8W=2;while(S8W!==4){W3f="nu";W3f+="m";W3f+="b";W3f+="er";switch(S8W){case 2:S8W=b.a$.hasOwnProperty(a)&&b.Y9.hasOwnProperty(a)&&b.Z9.hasOwnProperty(a)&&W3f==typeof c[a]?1:5;break;case 1:d+=(c[a]-b.Y9[a])/b.Z9[a]*b.a$[a];S8W=4;break;case 5:return!0;break;}}});d=Math.exp(d);O8W=12;break;case 12:return 0<d&&d<=b.Lib&&g&&1<c.oDa?d:0;break;}}};g.T=b;R3f;T8W=10;break;}}function b(a,b){var Z8W;Z8W=2;while(Z8W!==7){switch(Z8W){case 2:this.config=a;this.hr=b;a=a.initThroughputPredictor;this.uV=a.modelMap;Z8W=3;break;case 3:this.CE=a.lrParams;this.Mib=a.maxBwPredictionMap;this.Rpa=a.bwThreshold;Z8W=7;break;}}}}());},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Bh={};this.G1=a;this.ze=[];this.rn=!1;this.py=void 0;}a.prototype.qI=function(a){this.ze.length===this.G1&&this.ze.shift();Array.isArray(a)?this.ze=this.ze.concat(a):this.ze.push(a);this.rn=!0;};a.prototype.jz=function(){return this.ze.length;};a.prototype.xR=function(){var a;a=this.ze;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.ze.length:void 0;};a.prototype.UI=function(){var a,f;a=this.ze;f=this.xR();if(0<a.length&&"undefined"!==typeof f)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-f*f);};a.prototype.dm=function(a){var b,d,g;if(this.rn||void 0===this.py)this.py=this.ze.slice(0).sort(function(a,b){return a-b;}),this.rn=!1;if(void 0===this.Bh[a]){b=this.py;d=Math.floor(a/100*(b.length-1)+1)-1;g=(a/100*(b.length-1)+1)%1;this.Bh[a]=d===b.length-1?b[d]:b[d]+g*(b[d+1]-b[d]);}return this.Bh[a];};return a;}();d.V_=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d){this.qZa=f;this.TUa=d;this.L=a;}a.prototype.Taa=function(a){a=this.Nfb(a,this.qZa)+this.TUa;return this.a2=isNaN(a)?NaN:this.Kca(a);};a.prototype.W2a=function(a){return isNaN(this.a2)?0:this.a2>a?1:0;};a.prototype.Nfb=function(a,f){var b;b=0;if(a.length!==f.length)b=NaN;else for(var d=0;d<a.length;d++)b+=a[d]*f[d];return b;};a.prototype.Kca=function(a){return 1/(1+Math.exp(-a));};return a;}();d.VNa=g;},function(g,d,a){var b,f,h,q,c,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(6);h=a(5);q=a(689);c=a(688);m=function(){return function(){this.UC=new c.V_(100);this.BV=new c.V_(100);};}();g=function(){function a(a,b,c){var d,g,k;this.G=b;this.L=c;this.zQ=a;d=this.oy=this.VB=this.UB=0;g=0;k=0;this.zQ.length>=this.G.nV&&(this.zQ.forEach(function(a){!(a=a.get().bab)||f.U(a.avtp)||f.U(a.neuhd)||(d+=a.avtp,g+=1*a.neuhd,k++);}),this.oy=k,this.UB=d/k,this.VB=g/k);}Object.defineProperties(a.prototype,{$0a:{get:function(){return this.UB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{a1a:{get:function(){return this.VB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{oDa:{get:function(){return this.oy;},enumerable:!0,configurable:!0}});a.prototype.uU=function(){return this.oy>=this.G.nV&&this.UB>=this.G.baselineHighAndStableThreshold.bwThreshold&&this.VB<this.G.baselineHighAndStableThreshold.nethreshold;};return a;}();d.Cga=g;g=function(a){function c(b,c,f){b=a.call(this,b,c,f)||this;b.A0=[];b.u$a={};b.DEa=[];b.Zs=new m();b.zQ.length>=b.G.nV&&(b.foa("avtp",b.Zs.UC),b.foa("neuhd",b.Zs.BV));return b;}b.__extends(c,a);c.prototype.uU=function(){var a;this.A7();a=new q.VNa(this.L,this.DEa,this.r1a);a.Taa(this.A0);a=a.W2a(this.G.VT.pLb);return this.swb&&1===a&&this.oy>=this.G.nV;};c.prototype.gz=function(){var a,b,c,f;a={};b=h.time.now();c=new Date(b);f=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=f;return a;};c.prototype.rua=function(a,b,c){a="avtp"===a?this.UB:this.VB;for(var d=b.UI(),g=0,k="skew"===c?3:4,h=0;h<b.ze.length;h++)f.U(a)||f.U(d)||(g+=Math.pow(b.ze[h]-a,k));g/=b.ze.length;return!f.U(d)&&0<d?g/Math.pow(d,k)-3*("skew"===c?0:1):NaN;};c.prototype.Dua=function(a,b,c){var f;f=0;"lte"===c?f=a.reduce(function(a,c){return c<=b?a+1:a;},0)/(1*a.length):"gte"===c&&(f=a.reduce(function(a,c){return c>=b?a+1:a;},0)/(1*a.length));return f;};c.prototype.Hcb=function(a){var b,c;b=a.dm(25);c=a.dm(50);a=a.dm(75);return f.U(b)||f.U(c)||f.U(a)?NaN:0<c?(a-b)/c:NaN;};c.prototype.bbb=function(a,b){a="avtp"===a?this.UB:this.VB;b=b.UI();return!f.U(b)&&!f.U(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};c.prototype.hK=function(a,b){a=a.dm(b);return f.U(a)?NaN:a;};c.prototype.normalize=function(a,b,c){return!isNaN(a)&&0<c?(a-b)/c:NaN;};c.prototype.A7=function(){var a,b,c,d,g,k,h,m,p,q,u,l;a=this;b=this.G.VT.CE.a$;c=this.G.VT.CE.Y9;d=this.G.VT.CE.Z9;m=[];l=0;this.swb=!Object.keys(b).some(function(r){var y;u=NaN;if(!(b.hasOwnProperty(r)&&c.hasOwnProperty(r)&&d.hasOwnProperty(r)&&!f.U(a.Zs)&&a.Zs.UC&&a.Zs.BV)||1>a.oy||"number"!==typeof b[r]||"number"!==typeof c[r]||"number"!==typeof d[r])return!0;g=b[r];k=c[r];h=d[r];m=r.split("_",2);p=m[0];q=m[1];switch(p){case"avtp":y=a.Zs.UC;break;case"neuhd":y=a.Zs.BV;break;default:y=void 0;}if("avtp"===p||"neuhd"===p){if(y)switch(q){case"last":u=y.ze[a.oy-1];break;case"mean":u="avtp"===p?a.UB:a.VB;break;case"niqr":u=a.Hcb(y);break;case"skew":u=a.rua(p,y,"skew");break;case"kurtosis":u=a.rua(p,y,"kurtosis");break;case"std":u=y.UI();break;case"b":u=a.bbb(p,y);break;default:-1!==r.search("[p][1-9]?[1-9]")&&(u=a.hK(y,Number(r.split("_p",2)[1])));}}else switch(r){case"fracAbove20Mbps":y=a.Zs.UC;u=f.U(y)?NaN:a.Dua(y.ze,2E4,"gte");break;case"fracBelow20p":y=a.Zs.BV;u=f.U(y)?NaN:a.Dua(y.ze,.15,"lte");break;case"hour_current":u=a.gz().currentHour;break;case"session_ct":u=a.oy;break;case"intercept":u=g,a.r1a=u;}u=a.normalize(u,k,h);if(isNaN(u))return!0;"intercept"!==r&&(a.A0.push(u),a.DEa.push(g),a.u$a[r]=l,l+=1);});};c.prototype.foa=function(a,b){this.zQ.forEach(function(c){c=c.get().bab;!c||"avtp"!==a&&"neuhd"!==a||f.U(c[a])||b.qI(Number(c[a]));});};return c;}(g);d.hMa=g;},function(g,d,a){var q,c;function b(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].aa);});c=f.filter(function(b){return b<=a;});if(0<c.length)return c=c[c.length-1],d=f.lastIndexOf(c),{eo:c,Cd:d};}function f(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function h(a,b,f,d,g){var k,h,m,r,p,q;k=a.Qg;h=f+k.S;f=a.Ik[k.yK];a=a.E3;m={wN:!0,waitUntil:void 0,EK:!1};r=f.filter(function(a){return a&&a.S<=h&&a.S+a.duration>h;})[0];if(void 0===r)return{EK:!0};p=g-1-(r.index-1);d=k.yN+d;q=0;q=r.index<k.Rg?q+f.slice(k.du,r.index).reduce(function(a,b){return a+b.aa;},0):q+k.yN;q=q+b.slice(k.Rg,r.index).reduce(function(a,b){return a+b.eo;},0);d-=q;if(p>=a.dL||d>=a.cG)for(m.wN=!1,r=r.index;r<g&&(p>=a.dL||d>=a.cG);)c.update("checkBufferVacancy loop"),m.waitUntil=f[r].S+f[r].duration-k.S,d=r<k.Rg?d-f[r].aa:d-b[r].eo,--p,r+=1;return m;}q=a(11).assert;c=a(107).Qja||a(107);g.T={lK:function(a){var d,t,N,ba,Q,ja,z,X,T,Y,V,M,fa,B;c.fX("htwbr-"+(a.sM?"segvmaf":"dlvmaf")+": ");for(var g=a.Qg,m=a.ml,p=m.pk,l=a.Ik,n=!0,F=[],D,O=p=Math.min(m.Qq,p);O>=g.Rg;O--){c.update("backward step");d=a.Ik[0][O].S-a.Qg.S;O<p&&(d=Math.min(F[O+1].startTime,d));m=l[0][O].aa;D=g.ov*l[0][O].duration*1/8;a:{t=void 0;ja=m+D;D=a.Ep;z=g.Wn;X=D.trace;T=1*D.bl;N=d+z-D.timestamp;ba=Math.floor(1*N/T);Q=0+(N-ba*T)/T*f(X,ba,T);if(Q>=ja)t=N-1*ja/Q*(N-ba*T);else for(N=ba;Q<ja;){c.update("findDownloadStartTime loop");--N;if(0>N){t=-1;break a;}ba=f(X,N,T);if(Q+ba>=ja){t=1*(ja-Q)/ba*T;t=(N+1)*T-t;break;}Q+=ba;}t=t+D.timestamp-z;}if(0>t){n=!1;break;}F[O]={startTime:t,endTime:d,WR:d,eo:m,Cd:0};}d={Jh:n,nr:F,Mn:!1,Kw:0===F.length};if(!1===d.Jh||!0===d.Kw)return d;a:{g=a.Qg;p=a.ml;l=p.pk;n=a.Ik;m=F=0;d=d.nr;t=O=0;l=Math.min(p.Qq,l);for(z=g.Rg;z<=l;z++){c.update("forwardStep loop");Q=d[z];ja=Q.Cd;D=n[ja][z].duration;T=z===g.Rg?0:d[z-1].endTime;ja=h(a,d,T,F,z);if(ja.EK){d={Jh:!1,Mn:!0};break a;}ja.wN||(T=ja.waitUntil);ba=Q.WR;V=a.Ep;Y=g.Wn;Q=0;ja=V.trace;X=1*V.bl;N=T+Y-V.timestamp;V=ba+Y-V.timestamp;if(!(T>=ba)){q(0<=N);q(0<=V);q(V>=N);M=Math.floor(1*N/X);fa=1*V/X;if(M===Math.floor(fa))N=(V-N)/X*f(ja,M,X),q(0<=N),Q+=N;else for(fa=Math.ceil(fa),Y=M,ba=fa,M*X<N&&(Y++,N=(Y*X-N)/X*f(ja,M,X),q(0<=N),Q+=N),fa*X>V&&(ba--,N=(V-ba*X)/X*f(ja,ba,X),q(0<=N),Q+=N),N=Y;N<ba;N++)Q+=f(ja,N,X);}X=g.ov*D*1/8;m+=X;ja=b(Math.max(0,Q-X),z,n);if(void 0===ja){d={Jh:!1,Mn:!0};break a;}Q=ja.eo;ja=ja.Cd;X=Q+X;Y=a.Ep;ba=N=0;V=Y.trace;M=Math.max(0,T+g.Wn-Y.timestamp);Y=1*Y.bl;B=fa=Math.max(0,Math.floor(1*M/Y));for(B*Y<M&&(fa+=1,M=B*Y+Y-M,B=M/Y*f(V,B,Y),N=X-ba<B?N+(X-ba)/B*1*M:N+M,ba+=B);ba<X;)c.update("getDownloadTime"),M=f(V,fa,Y),N=X-ba<M?N+(X-ba)/M*1*Y:N+Y,ba+=M,fa+=1;X=N;d[z].startTime=T;d[z].endTime=T+X;d[z].eo=Q;d[z].Cd=ja;z<=p.pk&&(F+=Q,t+=D,O+=D*a.gc[ja].O);}d={Jh:!0,Mn:!1,nr:d,W7a:0<t?1*O/t:0,F5:t,E5:F,D5:m};}return d;}};},function(g){function d(b,f){void 0===b&&(b=[]);void 0===f&&(f=a);this.data=b;this.length=this.data.length;this.compare=f;if(0<this.length)for(b=(this.length>>1)-1;0<=b;b--)this.bma(b);}function a(a,f){return a<f?-1:a>f?1:0;}d.prototype.constructor=d;d.prototype.push=function(a){this.data.push(a);this.length++;this.EZa(this.length-1);};d.prototype.pop=function(){var a,f;if(0!==this.length){a=this.data[0];f=this.data.pop();this.length--;0<this.length&&(this.data[0]=f,this.bma(0));return a;}};d.prototype.XE=function(){return this.data[0];};d.prototype.EZa=function(a){for(var b=this.data,d=this.compare,g=b[a],c,h;0<a;){c=a-1>>1;h=b[c];if(0<=d(g,h))break;b[a]=h;a=c;}b[a]=g;};d.prototype.bma=function(a){for(var b=this.data,d=this.compare,g=this.length>>1,c=b[a],h,k,u;a<g;){h=(a<<1)+1;k=b[h];u=h+1;u<this.length&&0>d(b[u],k)&&(h=u,k=b[u]);if(0<=d(k,c))break;b[a]=k;a=h;}b[a]=c;};g.T={ORa:d};},function(g,d,a){var A,n,F,D;function b(a,b,c){this.Dpa=this.pVa(a,b,c);}function f(){}function h(){}function q(){}function c(a){this.Q2a=a;}function m(){}function k(){}function u(){}function r(){this.y5={};}function l(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}A=a(11).assert;d=a(202).Qea;n=a(353).CTa;F=a(202).YHa;new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");D=a(107).Qja||a(107);b.prototype.constructor=b;b.prototype.pVa=function(a,b,c){A(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);A(0<c,"expect buffer_step_sec > 0. but got "+c);for(var f=[];a<b;a+=c)f.push(a);f[f.length-1]<b&&f.push(b);return f;};b.prototype.Zv=function(a){return this.nWa(a,this.Dpa);};b.prototype.nWa=function(a,b){a=this.N7a(a,b);if(0===a)throw new f();if(a===b.length)throw new h();return a;};b.prototype.N7a=function(a,b){A(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;A(!1,"expect not coming here in digitize()");};b.prototype.LT=function(){return l(this.Dpa.length-1);};f.prototype=Error();h.prototype=Error();q.prototype=Error();c.prototype.constructor=c;c.prototype.VERSION="0.5";c.prototype.wJa=-20;c.prototype.vJa=20;c.prototype.uJa=void 0;c.prototype.oJa=new d(void 0);c.prototype.qJa=0;c.prototype.pJa=1;c.prototype.zJa=!1;c.prototype.sJa=!0;c.prototype.rJa=!0;c.prototype.xJa=void 0;c.prototype.mJa=!0;c.prototype.nJa=0;c.prototype.sF=function(a){A(void 0!==a.MEa,"expect recipe.time_varying_bandwidth !== undefined");return this.IYa(this.Q2a,a.MEa,void 0!==a.Sya?a.Sya:this.wJa,void 0!==a.xya?a.xya:this.vJa,void 0!==a.wya?a.wya:this.uJa,void 0!==a.Apa?a.Apa:this.oJa,void 0!==a.Msa?a.Msa:this.qJa,void 0!==a.Mpa?a.Mpa:this.pJa,void 0!==a.dtb?a.dtb:this.zJa,void 0!==a.jeb?a.jeb:this.sJa,void 0!==a.Bva?a.Bva:this.rJa,void 0!==a.sBa?a.sBa:this.xJa,void 0!==a.Roa?a.Roa:this.mJa,void 0!==a.upa?a.upa:this.nJa);};c.prototype.IYa=function(a,c,d,g,p,l,y,I,t,Y,V,M,fa,B){var N,z,aa,ba,Q,T,X,R,ga,ha,ia,na,la,oa,pa,qa,sa,ua,va,wa;function O(a){return a[T];}D.fX("dp: ");A(d<=l.Nf,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");A(l.Nf<=g,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");A(d<=y,"expect min_buffer_sec <= end_buffer_sec");A(y<=g,"expect end_buffer_sec <= max_buffer_sec");void 0!==p&&A(l.bj<=p,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+l.bj+" and "+p);N=new b(d,g,I);I=new r();z=0;aa=l;I.put([0,N.Zv(l.Nf)],[z,aa,void 0,void 0,c,void 0,void 0,void 0]);ba=aa=0;c=a.eeb();A(a.kE()==c.length,"expect chunk_map.get_n_epoch() == durations_sec.length");T=-1;for(X in c){for(var T=T+1,ja=!0,G=a.ii.map(O),ma=N.LT(),L=0;L<ma.length;L++){R=ma[L];if(I.m9([T,R])){Q=I.get([T,R]);for(var S=Q[0],Z=Q[1],da=Q[4],ea=0;ea<G.length;ea++){c=G[ea];D.update("epoch-ibuf-chunk loop");l=void 0!==M?M(c.VL):c.VL;ga=da.fm();try{Q=this.SVa(Z,c,ga,B);ha=Q[0];ia=Q[1];na=Q[2];la=Q[3];oa=Q[4];pa=Q[5];}catch(Wa){if(Wa instanceof n)continue;else if(Wa instanceof f){aa+=1;continue;}else throw Wa;}qa=z=!1;try{sa=N.Zv(la.Nf);Y&&N.Zv(ha);V&&N.Zv(ia);if(void 0!==p)if(V){if(na.bj>p)throw new q();}else if(la.bj>p)throw new q();}catch(Wa){if(Wa instanceof f)sa=void 0,aa+=1;else if(Wa instanceof h)fa?z=!0:ba+=1,sa=void 0;else if(Wa instanceof q)fa?qa=z=!0:ba+=1,sa=void 0;else throw Wa;}try{if(z&&qa){A(void 0!==p,"expect max_buffer_kb !== undefined");va=V?na.bj-p:la.bj-p;A(0<=va,"pause dlnd kb cannot be -ve but is "+va);try{ua=la.pnb(va);}catch(Wa){if(Wa instanceof F)throw new f();throw Wa;}ga.tAa(ua);oa+=ua;A(la.Nf<g,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");sa=N.Zv(la.Nf);}else if(z&&!qa){ua=V?na.Nf-g+1E-8:la.Nf-g+1E-8;A(0<=ua,"pause dlnd kb cannot be -ve but is "+ua);try{la.IAa(ua);}catch(Wa){if(Wa instanceof F)throw new f();throw Wa;}ga.tAa(ua);oa+=ua;A(d<=la.Nf,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");A(la.Nf<g,"cur_buffer_queue.total_remain_sec < max_buffer_sec");sa=N.Zv(la.Nf);}else ua=0;}catch(Wa){if(Wa instanceof f)sa=void 0,aa+=1,ua=void 0;else if(Wa instanceof n)continue;else throw Wa;}z=I.m9([T+1,sa])?I.get([T+1,sa])[0]:-Infinity;this.IZa(la,sa,c,l,R,T+1,z,I,S,ea,ga,oa,pa,ua)&&(ja=!1);}}}if(ja){--T;break;}}try{wa=this.mma(T+1,N.Zv(y),I,t,N);}catch(Wa){if(Wa instanceof m)try{wa=this.mma(T+1,N.Zv(y),I,!t,N);}catch(Mc){if(Mc instanceof m){if(aa>ba)throw new k();throw new u();}throw Mc;}else throw Wa;}R=wa;for(d=[];-1<T;T--)Q=I.get([T+1,R]),z=Q[0],aa=Q[1],g=Q[3],p=Q[5],y=Q[6],t=Q[7],Q=Q[2],c=a.ii[Q][T],Y=c.tt(),l=c.VL,d.unshift({dwa:T,D8:Q,info:{vGb:Y,VL:l,CGb:aa.Nf,BGb:aa.bj,XHb:p,Ba:y,aLb:t}}),R=g;return d;};c.prototype.mma=function(a,b,c,f,d){var g,k;g=!1;k=d.LT()[0];for(d=d.LT()[d.LT().length-1];;){if(b<k||b>d){g=!0;break;}if(c.m9([a,b]))break;else b=f?b-1:b+1;}if(g)throw new m();return b;};c.prototype.IZa=function(a,b,c,f,d,g,k,h,m,r,p,q,u,l){c=m+f*c.co;return void 0!==b&&c>k?(h.put([g,b],[c,a,r,d,p,q,u,l]),!0):!1;};c.prototype.SVa=function(a,b,c,d){var g,k,h;d=(b.tt()+d)*b.co;c=c.g8a(d);d/=c;g=a.Nf-c;k=a.Nf+b.co;h=a.fm();h.add(b,void 0);a=a.fm();a.add(b,void 0);try{a.IAa(c);}catch(X){if(X instanceof F)throw new f();throw X;}return[g,k,h,a,c,d];};m.prototype=Error();k.prototype=new m();u.prototype=new m();r.prototype={Oda:function(a){return a.join(",");},put:function(a,b){this.y5[this.Oda(a)]=b;},get:function(a){return this.y5[this.Oda(a)];},m9:function(a){return this.Oda(a)in this.y5;}};g.T={PKa:c,Eyb:b,Pxb:f,Qxb:h};},function(g,d,a){var F,D,t,aa,N,ba,Q,ja,z,X;function b(a){var b,c,f;c=a.Ep;b=a.Qg;f=a.ml.ka-b.S;c.timestamp>b.Wn&&z.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.Wn);a=[];for(var d,g=c.timestamp,k=0;k<c.trace.length;k++)g>=b.Wn&&(a.push(c.trace[k]),d=c.trace[k]),g+=c.bl,f-=c.bl;for(;0<f;)a.push(d),f-=c.bl;b=c.bl;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new N(a,c,!1);}function f(a,b){return a.Mz<b.Mz?1:a.Mz>b.Mz?-1:0;}function h(a){for(var b=a.Qg,c=a.ml,f=c.pk,d=a.Ik,g=!0,k,h=[],m,r=f=Math.min(c.Qq,f);r>=b.Rg;r--){X.update("backward step loop");k=a.Ik[0][r].S-a.Qg.S;r<f&&(F(void 0!==h[r+1],"expect solution[(fragIndex + 1)] !== undefined"),k=Math.min(h[r+1].startTime,k));c=d[0][r].aa;m=b.ov*d[0][r].duration*1/8;m=A(c+m,k,a.Ep,b.Wn);if(0>m){g=!1;break;}h[r]={startTime:m,endTime:k,WR:k,eo:c,Cd:0};}return{Jh:g,nr:h,Mn:!1,Kw:0===h.length?!0:!1};}function q(a,b){var O,N,z,aa,Q,ba;for(var c=a.Qg,f=a.ml,d=f.pk,g=a.Ik,k=0,h=0,m=b.nr,p,q,u,y=0,A=0,I,D,d=Math.min(f.Qq,d),t=c.Rg;t<=d;t++){X.update("forward step loop");u=m[t];b=u.Cd;I=g[b][t].duration;D=t===c.Rg?0:m[t-1].endTime;p=0;b=n(a,m,D,k,t);if(b.EK)return{Jh:!1,Mn:!0};b.wN||(p=b.waitUntil-D,D=b.waitUntil);F(0<=p,"expect waittime >= 0 but got "+p);N=a.Ep;z=c.Wn;p=0;b=N.trace;q=1*N.bl;O=D+z-N.timestamp;z=u.WR+z-N.timestamp;F(0<=O);F(z>=O);aa=Math.max(0,Math.floor(1*O/q));Q=1*z/q;if(aa===Math.floor(Q))O=(z-O)/q*l(b,aa,q),F(0<=O),p+=O;else for(Q=Math.ceil(Q),N=aa,u=Q,aa*q<O&&(N++,O=(N*q-O)/q*l(b,aa,q),F(0<=O),p+=O),Q*q>z&&(u--,O=(z-u*q)/q*l(b,u,q),F(0<=O),p+=O),O=N;O<u;O++)p+=l(b,O,q);q=c.ov*I*1/8;h+=q;b=r(p-q,t,g);if(void 0===b)return{Jh:!1,Mn:!0};p=b.eo;b=b.Cd;q=p+q;z=a.Ep;u=O=0;N=z.trace;aa=Math.max(0,D+c.Wn-z.timestamp);z=1*z.bl;ba=Q=Math.max(0,Math.floor(1*aa/z));for(ba*z<aa&&(Q+=1,aa=ba*z+z-aa,ba=aa/z*l(N,ba,z),O=q-u<ba?O+(q-u)/ba*1*aa:O+aa,u+=ba);u<q;)X.update("getDownloadTime"),aa=l(N,Q,z),O=q-u<aa?O+(q-u)/aa*1*z:O+z,u+=aa,Q+=1;q=O;m[t].startTime=D;m[t].endTime=D+q;m[t].eo=p;m[t].Cd=b;t<=f.pk&&(k+=p,A+=I,y=void 0!=g[b][t].Ac?y+I*g[b][t].Ac:y+I*a.gc[b].Ac);}return{Jh:!0,Mn:!1,nr:m,esa:0<A?1*y/A:0,F5:A,E5:k,D5:h};}function c(a){a=a.Qg.X;for(var b=[],c,f=0;f<a.length;f++)X.update("get prebuffered chunks loop"),c=a[f],F(void 0!==c.Ac,"expect frag.vmaf !== undefined"),c=new D(c.aa,c.duration/1E3,c.Ac),b.push(c);return b;}function m(a){for(var b=a.Ik,c=a.Qg,f=a.ml,d=f.pk,g=a.gc,k=[],h,d=Math.min(f.Qq,d),m=0;m<b.length;m++){for(var f=[],r=c.Rg;r<=d;r++)X.update("get chunk map from play segment"),h=b[m][r],h=new D(h.aa,h.duration/1E3,a.sM&&void 0!==h.Ac?h.Ac:g[m].Ac),f.push(h);k.push(f);}return new t(k,!1);}function k(a,b){F(a.kE()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,f=0,d,g,k=0;k<b.length;k++)X.update("calculate twvmaf"),F(b[k].dwa===k,"expect stream_choices[idx].i_epoch === idx"),g=a.ii[b[k].D8][k],d=g.VL,g=g.co,c+=d*g,f+=g;return{esa:c/f,F5:1E3*f};}function u(a,b,c){var f,d;F(a.kE()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;d=0;c=c.Qg.ov;for(var g,k=0;k<b.length;k++)X.update("calculate Bytes"),F(b[k].dwa===k,"expect stream_choices[idx].i_epoch === idx"),g=a.ii[b[k].D8][k],f+=g.aa,d+=c*g.co*1E3/8;return{E5:f,D5:d};}function r(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].aa);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{eo:c,Cd:d};}function l(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function A(a,b,c,f){var d,g,k,h,m;d=c.trace;g=1*c.bl;m=b+f-c.timestamp;h=Math.floor(1*m/g);b=0+(m-h*g)/g*l(d,h,g);if(b>=a)k=m-1*a/b*(m-h*g);else for(m=h;b<a;){X.update("find download start time");--m;if(0>m)return-1;h=l(d,m,g);if(b+h>=a){a=1*(a-b)/h*g;k=(m+1)*g-a;break;}b+=h;}return k+c.timestamp-f;}function n(a,b,c,f,d){var g,k,h,m,r,p;g=a.Qg;k=c+g.S;c=a.Ik[g.yK];a=a.E3;h={wN:!0,waitUntil:void 0,EK:!1};m=c.filter(function(a){return a&&a.S<=k&&a.S+a.duration>k;})[0];if(void 0===m)return{EK:!0};r=d-1-(m.index-1);f=g.yN+f;p=0;p=m.index<g.Rg?p+c.slice(g.du,m.index).reduce(function(a,b){return a+b.aa;},0):p+g.yN;p=p+b.slice(g.Rg,m.index).reduce(function(a,b){return a+b.eo;},0);f-=p;if(r>=a.dL||f>=a.cG)for(h.wN=!1,m=m.index;m<d&&(r>=a.dL||f>=a.cG);)X.update("check buffer vacancy"),h.waitUntil=c[m].S+c[m].duration-g.S,f=m<g.Rg?f-c[m].aa:f-b[m].eo,--r,m+=1;h.Opa=f;h.DGb=r;return h;}F=a(11).assert;D=a(354).NIa;t=a(354).OIa;aa=a(693).PKa;N=a(353).BTa;ba=a(202).Qea;Q=a(692).ORa;ja=a(48);z=new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");X=a(107).Qja||a(107);g.T={khb:function(a){var b;b=h(a);return!1===b.Jh||!0===b.Kw?b:q(a,b);},lK:function(a){var b,c,d,g,k,m,r,p,u,l,y,n,I,D,t,N;z.debug("greedy DEBUG false");X.fX("greedy-"+(a.sM?"segvmaf":"dlvmaf")+": ");c=a.Ik;b=a.Ik;d=a.Qg;g=a.ml;k=g.pk;m=a.gc;k=Math.min(g.Qq,k);for(n=d.Rg;n<=k;n++){b[0][n].Jy=b[0][n].aa;for(y=1;y<b.length;y++)b[y][n].Jy=b[y][n].aa,b[y-1][n].Jy===b[y][n].Jy&&(b[y][n].Jy=b[y-1][n].Jy+1);y=0;d=b[y][n];d.Mz=Infinity;d.sg=y;for(y=1;y<b.length;y++)d=b[y][n],g=b[y-1][n],r=8*d.Jy/d.duration,p=8*g.Jy/g.duration,a.sM&&void 0!==d.Ac?(u=d.Ac,l=g.Ac):(u=m[y].Ac,l=m[y-1].Ac),d.Mz=(u-l)/(r-p),d.sg=y,F(void 0!==g.Mz&&!isNaN(g.Mz),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=h(a);if(!1===b.Jh||!0===b.Kw)return b;k=a.Ik;d=a.Qg;g=a.ml;m=g.pk;m=Math.min(g.Qq,m);g=[];for(d=d.Rg;d<=m;d++)g.push(k[1][d]);for(k=new Q(g,f);0<k.length;){X.update("upgrade frags");m=k.pop();d=a;g=b;r=m;p=d.Ik;u=d.Qg;t=d.ml;l=t.pk;y=!0;n=JSON.parse(JSON.stringify(g.nr));void 0!==r.sg&&F(n[r.index].Cd+1===r.sg,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");l=Math.min(t.Qq,l);for(var O=r.index;O>=u.Rg;O--){N=O===r.index?n[O].Cd+1:n[O].Cd;t=d.Ik[N][O].S-d.Qg.S;if(O<l)if(F(void 0!==n[O+1],"expect solution[(fragIndex + 1)] !== undefined"),D=n[O+1].startTime,D<t)t=D;else if(O!==r.index)break;D=p[N][O].aa;I=u.ov*p[N][O].duration*1/8;I=A(D+I,t,d.Ep,u.Wn);if(0>I){y=!1;break;}n[O]={startTime:I,endTime:t,WR:t,eo:D,Cd:N};}d={Jh:y,nr:n,Kw:g.Kw};!0===d.Jh&&(b=d,m.sg+1<c.length&&k.push(c[m.sg+1][m.index]));}return q(a,b);},dp:function(a){var f,d,g,r,p,q;X.fX("dp-"+(a.sM?"segvmaf":"dlvmaf")+": ");f=h(a);if(!1===f.Jh||!0===f.Kw)return f;d=m(a);g=new aa(d);r=c(a);r={MEa:b(a),upa:a.Qg.ov,Sya:0,xya:240,wya:8*a.E3.cG/1E3,Mpa:.5,Apa:new ba(r),Msa:0,XIb:void 0,Bva:void 0,sBa:void 0,Roa:!0};g=g.sF(r);r=k(d,g);d=u(d,g,a);p=[];q=a.Qg.Rg;g.forEach(function(a){p[q]={Cd:a.D8};q++;});ja(r,f);ja(d,f);f.nr=p;return f;}};},function(g,d,a){var h,q;function b(){}function f(a,b){return function(c){c.sM=b;return a(c);};}h=a(694);q=a(691);b.prototype.constructor=b;b.prototype.create=function(a){switch(a){case"htwbr":a=q.lK;break;case"hvmaftb":a=h.khb;break;case"hvmafgr":a=h.lK;break;case"hvmafdp":a=h.dp;break;case"hvmafgr-dlvmaf":a=f(h.lK,!1);break;case"hvmafgr-segvmaf":a=f(h.lK,!0);break;case"hvmafdp-dlvmaf":a=f(h.dp,!1);break;case"hvmafdp-segvmaf":a=f(h.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return a;};g.T=b;},function(g,d,a){var f,h;function b(a,b,d,g){this.la=a;this.L=b;this.Jd=this.L.error.bind(this.L);this.Ga=this.L.warn.bind(this.L);this.Yl=this.L.trace.bind(this.L);this.jb=this.L.log.bind(this.L);this.IUa=new h();this.G=g;this.lQ=[];this.DQ=void 0;a=g.WT;f.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(12);d=a(5);f=a(156);a(355);h=a(695);new d.Console("ASEJS_QOE_EVAL","media|asejs");b.prototype=Object.create(f.prototype);b.prototype.add=function(a,b,d){this.DQ||(this.DQ=b);f.prototype.add.call(this,a,b,d);};b.prototype.ebb=function(){var a;if(0!==this.lQ.length){a=[];this.lQ.forEach(function(b){b&&b.NC&&a.push(b.qt());});return a;}};b.prototype.oc=function(){this.lQ=[];};b.prototype.Ldb=function(){var a,b,d;a=this.get(this.G.WT.fillS);if(0===a[0]||null===a[0]){a.some(function(a,c){if(a)return b=a,d=c,!0;});if(b)for(var g=0;g<d;g++)a[g]=b;}a={trace:a,timestamp:this.DQ,bl:this.Bc};f.prototype.reset.call(this);this.DQ=void 0;return a;};b.prototype.c6=function(a){var b,f,d,g,h,p;if(a&&!a.NC){f=a.ml.Pwa;f&&(a.qba=this.b3(a),a.wW=!1);if((b=this.Ldb())&&b.trace&&b.trace.length){d=a.Qg.Wn;g=b.timestamp;if(g>d){h=b.bl;p=b.trace[0];d=Math.ceil(1*(g-d)/h);b.timestamp=g-d*h;for(g=0;g<d;g++)b.trace.splice(0,0,p);}b.trace.length&&b.trace.pop();}a.Ep=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.Z1a(a),a.bAa=b,f&&b&&(a.wW=b.Jh),a.NC=!0,this.lQ.push(a));}};b.prototype.Z1a=function(a){var g,h,p,q;for(var b=this.G.pK,f={Jh:!1,Mn:!1,vS:0},d=0;d<b.length;d++){g=b[d];h=this.IUa.create(g);if(h){p=Date.now();try{q=h(a);}catch(I){q.IS=I;}q.Q_a=Date.now()-p;f[g]=q;f.Jh=f.Jh||q.Jh;f.Mn=f.Mn||q.Mn;f.IS=f.IS||q.IS;}}return f;};b.prototype.b3=function(a){var b;a=a.ml;b="";1E3>a.zN&&(b+=a.bGa);1E3>a.G2&&(b=b+(""!==b?",":"")+a.fpa);1E3<=a.zN&&1E3<=a.G2&&(b="media");return b;};g.T=b;},function(g,d,a){var b,f,h,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(5);h=a(360);q=a(12);c=a(696);m=a(690);k=a(687);g=function(){var h3f;function a(a,b,d,g,p,u,l,n){var H3f,I3f,X3f,r,y,A,T1Z,G1Z,K1Z;H3f=2;while(H3f!==31){T1Z="L";T1Z+="R";G1Z="1S";G1Z+="IYb";G1Z+="ZrNJCp9";K1Z="b";K1Z+="as";K1Z+="e";K1Z+="li";K1Z+="ne";switch(H3f){case 17:g=p.qL?q.Gd.Np:q.Gd.xu;d&&d.Jc>=g&&d.Ba&&r&&this.CWa(d,b,r);H3f=15;break;case 7:this.Yl=this.L.trace.bind(this.L);this.G=p;this.qH=null;this.Ima=0===Math.floor(1E6*Math.random())%p.I3;this.cp=this.XT=this.Yva=this.KR=this.ip=void 0;H3f=11;break;case 24:I3f=p.Seb;H3f=I3f===K1Z?23:21;break;case 25:H3f=l&&1<l.length&&(p.EJ&&(this.zK=new k.mBb(p,l),this.gU=this.zK.Bua()),p.T5)?24:32;break;case 22:this.s1=this.kC.uU();H3f=32;break;case 23:this.kC=new m.Cga(l,p,this.L);H3f=22;break;case 3:G1Z;this.la=a;this.Ga=this.L.warn.bind(this.L);H3f=7;break;case 26:this.s1=!1;H3f=25;break;case 32:p.pY&&(this.xQ=this.wQ=!1);H3f=31;break;case 27:try{X3f=2;while(X3f!==3){switch(X3f){case 14:this.Fna=A;X3f=9;break;X3f=3;break;case 4:this.Fna=A;X3f=3;break;case 2:y=f.qk();A=new c(a,this.L,{bufferSize:y},p);this.kc.m_a(A);X3f=4;break;}}}catch(ja){var N1Z;N1Z="Hindsight: Error when creating ";N1Z+="QoEE";N1Z+="valuator: ";V5ii.o1Z(2);a.Va.zm(V5ii.f1Z(ja,N1Z));}H3f=26;break;case 34:H3f=33;break;case 15:H3f=a.jm?27:26;break;case 11:this.pda=this.pX=this.qX=this.oda=this.RV=this.SV=0;this.wC=h(p,u);b=this.tma(d);void 0!==b&&void 0!==b.Hj&&void 0!==b.ti&&void 0!==b.Ij&&(r=(b.Ij-b.Hj)/b.ti);this.jZa=[p.rpa,p.cda];H3f=17;break;case 21:H3f=I3f===T1Z?35:34;break;case 35:this.kC=new m.hMa(l,p,this.L);H3f=22;break;case 2:this.L=b;this.kc=g;this.eb=n;H3f=3;break;case 33:this.kC=new m.Cga(l,p,this.L);H3f=22;break;}}}h3f=2;while(h3f!==23){switch(h3f){case 2:Object.defineProperties(a.prototype,{lEa:{get:function(){var q3f;q3f=2;while(q3f!==1){switch(q3f){case 2:return this.jZa;break;case 4:return this.jZa;break;q3f=1;break;}}},enumerable:!0,configurable:!0}});h3f=1;break;case 8:a.prototype.ota=function(a,b){var S6v=V5ii;var N3f,c,f,d,Q1Z,X1Z,b9f;N3f=2;while(N3f!==14){Q1Z="findNewStre";Q1Z+="amIndex unable to find ";Q1Z+="stream for bitr";Q1Z+="ate: ";X1Z=" re";X1Z+="tur";X1Z+="n";X1Z+="ing inde";X1Z+="x: ";switch(N3f){case 7:S6v.M1Z(0);this.Ga(S6v.E1Z(X1Z,c,Q1Z,b));return c;break;case 4:N3f=f.O<=b?3:9;break;case 1:N3f=0<=d?5:7;break;case 3:return d;break;case 5:N3f=(f=a[d],f.xf&&!f.$g&&f.inRange)?4:8;break;case 8:--d;N3f=1;break;case 2:S6v.M1Z(1);b9f=S6v.E1Z(19,18);d=a.length-b9f;N3f=1;break;case 9:c=d;N3f=8;break;}}};a.prototype.tma=function(a){var g3f,S3f,Z1Z;g3f=2;while(g3f!==4){Z1Z="t";Z1Z+="d";Z1Z+="ig";Z1Z+="e";Z1Z+="st";switch(g3f){case 1:a=a.Sh;g3f=5;break;case 2:S3f=this.G.v8;g3f=S3f===Z1Z?1:3;break;case 5:return a;break;case 9:a=a.fp&&a.fp.XV;g3f=5;break;case 3:g3f=9;break;}}};a.prototype.CWa=function(a,b,c){var y3f,f;y3f=2;while(y3f!==9){switch(y3f){case 5:this.t1(f.hx,a,b,c)?this.ip=!0:this.ip=!1;this.KR=0;this.t1(f.Q9,a,b,c)&&(this.jgb=!0);y3f=9;break;case 1:f=this.G;y3f=5;break;case 2:y3f=1;break;}}};a.prototype.$cb=function(a){var f3f;f3f=2;while(f3f!==1){switch(f3f){case 2:return 1===a?this.wC.XAa:this.wC.WAa;break;}}};a.prototype.DF=function(a){var i3f;i3f=2;while(i3f!==5){switch(i3f){case 2:this.wC.DF(a);this.qH=a;i3f=5;break;}}};h3f=12;break;case 1:Object.defineProperties(a.prototype,{uU:{get:function(){var Y3f;Y3f=2;while(Y3f!==1){switch(Y3f){case 2:return this.s1;break;case 4:return this.s1;break;Y3f=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hba:{get:function(){var J3f;J3f=2;while(J3f!==1){switch(J3f){case 4:return this.Fna;break;J3f=1;break;case 2:return this.Fna;break;}}},enumerable:!0,configurable:!0}});a.prototype.wDa=function(a,c,f){var M3f;M3f=2;while(M3f!==4){switch(M3f){case 2:this.cp=a;b.U(c)||(this.Yva=c);b.U(f)||(this.XT=f);M3f=4;break;}}};a.prototype.Uda=function(a){var C3f;C3f=2;while(C3f!==5){switch(C3f){case 2:this.G=a;this.wC.Uda(a);C3f=5;break;}}};a.prototype.t1=function(a,c,f,d){var j3f,g,Y1Z,u1Z;j3f=2;while(j3f!==6){Y1Z="a";Y1Z+="v";Y1Z+="g";u1Z="i";u1Z+="q";u1Z+="r";switch(j3f){case 2:g=this.G;j3f=5;break;case 3:return c.Ba&&f&&b.na(d)&&c.Ba.Qa<g.bJ&&d>g.e_;break;case 9:return!1;break;case 5:j3f=a===u1Z?4:8;break;case 7:return c.Ba?c.Ba.Qa<g.bJ:!0;break;case 4:j3f=void 0!==d?3:9;break;case 8:j3f=a===Y1Z?7:9;break;}}};h3f=8;break;case 12:a.prototype.$pa=function(a,b){var l3f;l3f=2;while(l3f!==1){switch(l3f){case 2:this.wC.ELb&&a&&this.wC.$pa(b,a);l3f=1;break;}}};a.prototype.dYa=function(a){var P3f,b;P3f=2;while(P3f!==14){switch(P3f){case 2:b=this.G;P3f=5;break;case 5:P3f=this.wQ&&a.rl()?4:3;break;case 4:return!0;break;case 9:P3f=this.xQ&&b.Tn&&!a.rl()?8:7;break;case 8:return!0;break;case 3:this.wQ&&(this.wQ=!1);P3f=9;break;case 7:this.xQ&&(this.xQ=!1);return!1;break;}}};a.prototype.e_a=function(a,b,c,f,d,g){var e3f,k;e3f=2;while(e3f!==4){switch(e3f){case 2:k=this.G;k.pY&&this.dYa(b)||!c||!f||!(c=g?Math.min(c,f,g):Math.min(c,f))||(this.kc.get(!1),a=this.la.ma.ub.Ri(a),b.track.rl()&&a>k.H3&&c===d?(k.set?(k.set({pipelineEnabled:!0}),k.set({maxParallelConnections:1}),k.set({maxActiveRequestsPerSession:2}),k.set({maxPendingBufferLen:500})):(k.Tn=!0,k.FE=1,k.Pq=2,k.Cw=500),b.track.RBa({type:b.track.config.type,connections:1,openrange:!1,pipeline:!0,socketBufferSize:k.fG,minRequestSize:k.ME}),this.oda++,k.pY&&(this.wQ=!0)):k.Tn&&!b.rl()&&(a<k.G3||c!==d)&&(k.set?(k.set({pipelineEnabled:!0}),k.set({maxParallelConnections:3}),k.set({maxActiveRequestsPerSession:3}),k.set({maxPendingBufferLen:12E3})):(k.Tn=!0,k.FE=3,k.Pq=3,k.Cw=12E3),b.track.RBa({type:b.config.type,connections:3,openrange:!1,pipeline:!0,socketBufferSize:k.fG,minRequestSize:k.ME}),this.pda++,k.pY&&(this.xQ=!0)));e3f=4;break;}}};a.prototype.h_a=function(a,b){var t3f,c,d,g;t3f=2;while(t3f!==13){switch(t3f){case 6:this.bk.Ls[g]=a,this.bk.ku[g]=b;t3f=14;break;case 5:t3f=this.Ima?4:13;break;case 4:void 0===this.bk&&(this.bk={startTime:f.time.ea(),Ls:[],ku:[],x9:void 0,r9:void 0});c=Math.floor((f.time.ea()-this.bk.startTime)/c.XC);d=this.bk.r9;g=this.bk.x9?c-this.bk.x9-1:c;t3f=7;break;case 2:c=this.G;t3f=5;break;case 14:this.bk.r9=c;t3f=13;break;case 7:t3f=void 0===d||c>d?6:14;break;}}};h3f=19;break;case 19:a.prototype.Blb=function(){var u9f,a,p9f;u9f=2;while(u9f!==3){switch(u9f){case 2:u9f=1;break;case 1:a=this.la;u9f=5;break;case 7:a=this.la;u9f=3;break;u9f=5;break;case 5:u9f=a.jm?4:3;break;case 8:u9f=2;break;u9f=1;break;case 6:u9f=a.jm?9:2;break;u9f=a.jm?4:3;break;case 4:try{p9f=2;while(p9f!==5){switch(p9f){case 2:this.kc.Tpb();this.Fna.oc();p9f=5;break;}}}catch(y){var r1Z;r1Z="Hindsig";r1Z+="ht: Error du";r1Z+="ring clean ";r1Z+="up: ";V5ii.o1Z(2);a.Va.zm(V5ii.E1Z(y,r1Z));}u9f=3;break;}}};a.prototype.Klb=function(a){var m9f;m9f=2;while(m9f!==1){switch(m9f){case 2:this.G.Xy&&a===q.Da.VIDEO&&(this.pda=this.oda=this.pX=this.qX=this.RV=this.SV=0);m9f=1;break;}}};a.prototype.Plb=function(a,b,c,f){var d9f;d9f=2;while(d9f!==1){switch(d9f){case 2:this.G.Xy&&a===q.Da.VIDEO&&(f?(this.SV+=b,this.RV+=c):(this.qX+=b,this.pX+=c));d9f=1;break;}}};a.prototype.Jlb=function(a,b){var T9f;T9f=2;while(T9f!==1){switch(T9f){case 2:a===q.Da.VIDEO&&(this.Pwb=b);T9f=1;break;}}};h3f=15;break;case 15:a.prototype.K2a=function(a){var G9f,b,c,f,d,g,O1Z,w1Z;G9f=2;while(G9f!==7){O1Z="i";O1Z+="q";O1Z+="r";w1Z="n";w1Z+="o";w1Z+="n";w1Z+="e";switch(G9f){case 2:b=this.G;G9f=5;break;case 5:G9f=w1Z!==b.hx&&!0!==this.ip&&a.state<=b.o$?4:7;break;case 4:c=this.kc.get();O1Z===b.hx&&(f=this.tma(c),void 0!==f&&void 0!==f.Hj&&void 0!==f.ti&&void 0!==f.Ij&&(d=(f.Ij-f.Hj)/f.ti));g=b.qL?q.Gd.Np:q.Gd.xu;c&&c.Jc>=g&&this.t1(b.hx,c,f,d)&&(this.ip=!0,this.KR=a.state);G9f=7;break;}}};a.prototype.z_a=function(a){var K9f;K9f=2;while(K9f!==5){switch(K9f){case 2:a.ip=this.ip;a.gU=this.gU;K9f=5;break;}}};a.prototype.x$a=function(a){var B9f,c,d,g,k,h,m,p,r,q1Z,p1Z;B9f=2;while(B9f!==35){q1Z="s";q1Z+="tar";q1Z+="t";q1Z+="play";p1Z="lo";p1Z+="gd";p1Z+="a";p1Z+="ta";switch(B9f){case 19:B9f=m?18:25;break;case 26:c.histtd=h;B9f=25;break;case 18:p=function(a){var Q9f;Q9f=2;while(Q9f!==1){switch(Q9f){case 2:return b.na(a)?Number(a).toFixed(2):-1;break;}}};h=[p(m.min||void 0),p(m.qaa||void 0),p(m.Hj||void 0),p(m.ti||void 0),p(m.Ij||void 0),p(m.raa||void 0),p(m.max||void 0)];r=[];m=b.isArray(m.Bg)&&m.Bg.reduce(function(a,b){var k9f,c;k9f=2;while(k9f!==9){switch(k9f){case 2:c=p(b.Ye||void 0);k9f=5;break;case 5:b=p(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});return a;break;}}},r);B9f=27;break;case 25:c.histage=this.Yva;d.EJ&&this.zK&&(c.histsessionstat=this.zK.Cua(),c.initbwestimate=this.zK.Bua(),c.avghistbw=this.zK.nT());d.T5&&this.kC&&(c.ishighstable=this.s1,c.avg_avtp=this.kC.$0a,c.avg_ne=Number(this.kC.a1a).toFixed(4));g.Ib&&(d=f.qk(),c.maxAudioBufferAllowedBytes=d[q.Da.AUDIO],c.maxVideoBufferAllowedBytes=d[q.Da.VIDEO]);B9f=21;break;case 4:g=this.la;k={type:p1Z,target:q1Z,fields:{}};k.fields=c;Object.keys(a).forEach(function(b){var E9f;E9f=2;while(E9f!==1){switch(E9f){case 4:c[b]=a[b];E9f=8;break;E9f=1;break;case 2:c[b]=a[b];E9f=1;break;}}});h=this.kc.get();h&&h.Ba&&(h=h.Ba.Qa);c.actualbw=h;B9f=13;break;case 2:c={};d=this.G;B9f=4;break;case 20:m=this.XT;B9f=19;break;case 11:c.isLowEnd=this.jgb;c.histdiscbw=this.cp;B9f=20;break;case 27:c.histtdc=m;B9f=26;break;case 21:g.emit(k.type,k);B9f=35;break;case 13:c.isConserv=this.ip;c.ccs=this.KR;B9f=11;break;}}};a.prototype.y$a=function(a){var V9f,b,c,f,d,g,k,h,x1Z;V9f=2;while(V9f!==20){x1Z="n";x1Z+="o";x1Z+="n";x1Z+="e";switch(V9f){case 12:a.location={responseTime:k,httpResponseTime:h,bandwidth:g,confidence:f.Jc,name:this.Pwb};this.Ima&&(a.bt={startTime:this.bk.startTime,audioMs:this.bk.Ls,videoMs:this.bk.ku},this.bk.Ls=[],this.bk.ku=[],this.bk.x9=this.bk.r9);x1Z!==c.hx&&(a.isConserv=this.ip,a.ccs=this.KR);V9f=20;break;case 2:b=this;c=this.G;f=this.kc.get(!0);V9f=3;break;case 3:d=[];[q.Da.VIDEO,q.Da.AUDIO].forEach(function(a){var D9f,g;D9f=2;while(D9f!==3){switch(D9f){case 5:g=b.la.Bdb(a);void 0!==g&&(a===q.Da.VIDEO&&(c.Xy&&(g.parallelDownloadMs=b.SV,g.parallelDownloadBytes=b.RV,g.singleDownloadMs=b.qX,g.singleDownloadBytes=b.pX,g.switchFromParallelToSingle=b.oda,g.switchFromSingleToParallel=b.pda),f&&f.Jc&&f.Ba&&(g.asetput=f.Ba,g.aseiqr=f.fp,g.tdigest=f.Sh&&f.Sh.qt()||void 0),f&&f.avtp&&(g.avtp=f.avtp.Qa)),d.push(g));D9f=3;break;case 2:D9f=1;break;case 8:D9f=3;break;D9f=1;break;case 1:D9f=b.eb(a)?5:3;break;}}});a.stat=d;V9f=7;break;case 7:g=0;k=0;h=0;f.Jc&&(g=f.Ba?f.Ba.Qa:0,k=f.Ng?f.Ng.Qa:0,h=f.ep?f.ep.Qa:0);V9f=12;break;}}};return a;break;}}}();d.RGa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(386);f=a(11);h=a(20);g=function(){function a(a,b,f,d,g,h,p,q,l,n,t){void 0===f&&(f=0);this.mc=a;this.i2=b;this.S=f;this.ka=d;this.oT=g;this.ri=h;this.dE=p;this.config=q;this.L=l;this.Va=n;this.l$a=t;this.Nq=0;}a.create=function(c){var d,g,p,q,l,n,F,D,t,aa;function f(a){h.Ka(F,a.type,a);}d=c.bDa;g=c.S;p=c.ka;q=c.ut;l=c.jr;n=c.Va;F=c.Ob;D=c.config;t=c.L;aa=c.cqb;c=new b.Dea({Ha:c.Ha,ya:c.ya,Dl:c.Dl,eb:c.eb,Zd:c.Zd,ji:c.ji,gCa:aa&&aa.P,Ps:c.Ps,config:D,Uva:{Qeb:F,Ce:c.Ce,Xi:c.Xi,We:c.We,oz:c.oz,Zkb:n.Q1.bind(n),Qkb:n.P1.bind(n),Am:f},wL:function(a){F.emit("requestComplete",{timestamp:a.zd,mediaRequest:a});},XJ:function(){return F.Hd;},Gc:F.Ib.Gc,Lh:F.Ib.Lh,Ssa:{Zsb:{WE:F.dk.WE,ia:F.dk.ia,FD:F.dk.FD},ut:q,tA:F.pn.bind(F),vE:function(){return F.FC;},$F:F.ioa.bind(F),um:F.fa.um.bind(F.fa),jr:l,zm:n.zm.bind(n),Am:f}});return new a(c,d,g,p,function(){return F.ma;},F.ri.bind(F),F.dE.bind(F),D,t,n,!1);};a.lWa=function(a,b,d){a=a[0===b?"audio_tracks":"video_tracks"];f.assert(a&&d<a.length,"Expected valid selected track index, but got MediaType: "+b+", Index: "+d+"."+("ManifestTracks length: "+(a&&a.length)));return a[d].track_id;};a.HYa=function(a,b,f,d){var c,g;c=b;g=Math.abs(a.Ui-b.Ui);g<=f.XU?c=a.Ui>b.Ui?a:b:g>f.XU&&(c=a.Ui<b.Ui?a:b,d.warn("maxPts between streams is largely different. Choosing lower maxPts:",c));return c;};Object.defineProperties(a.prototype,{P:{get:function(){return this.mc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ha:{get:function(){return this.P.Ha;},enumerable:!0,configurable:!0}});a.prototype.ot=function(a){return this.mc.iE(this.rT(a));};a.prototype.rT=function(b){return a.lWa(this.mc.ya,b,this.sT(b));};a.prototype.sT=function(a){return this.i2[a];};a.prototype.oc=function(){this.mc.oc();delete this.mc;};a.prototype.clone=function(){return new a(this.P,this.i2,this.S,this.ka,this.oT,this.ri,this.dE,this.config,this.L,this.Va,!0);};a.prototype.Sda=function(a){this.i2[0]=a;};a.prototype.Iua=function(){return this.xl?this.xl.Ui:this.ka?this.ka:this.mc.ya.duration;};a.prototype.j2a=function(a,b){var c,f,d,g;c=this.mc.yd[1];if(c&&c.stream.md){if(this.Xo&&this.Xo[1]&&this.Xo[1].S<=a&&this.Xo[1].ka>a)return this.Xo[1].ec;f=c.X;d=f.nl(a,void 0,!0);g=void 0;b&&(a=c.stream.Hg(d).QS(a))&&(g=a.Td);void 0===g&&(g=f.Pg(d));return g;}};a.prototype.vR=function(){var a,b,f,d,g;if(!this.YL){a=this.mc.eb(0);b=this.mc.eb(1);f=this.mc.yd[0]&&this.mc.yd[0].stream.md;d=this.mc.yd[1]&&this.mc.yd[1].stream.md;if(!(a&&!f||b&&!d)){this.Vda();a=[0,0];0===this.Ha||this.mc.Rd.eL||this.mc.Rd.replace||(g=this.ri(this.Ha-1),g=this.mc.I===g.mc.I,a=this.oT().ub,g=a.yR(this.S,this.P,a,g),a=g.oA);this.S=a[1];this.oA=a;this.Xo=g&&g.Xo;this.Xpa();this.Va.wXa(this.Ha,this.Nq,this.S,this.xl.Ui,b?this.mc.yd[1].xl.Ui:this.mc.yd[0].xl.Ui);this.YL=!0;for(b=this.Ha+1;b<this.dE();++b)g=this.ri(b),g.YL=!1,g.vR();}}};a.prototype.Xpa=function(){var a;if(0===this.Ha||this.mc.Rd.replace)this.Nq=0;else{a=this.ri(this.Ha-1);this.Nq=a.Nq+a.Iua()-this.S;}};a.prototype.Vda=function(){var b,f,d,g,h,p;b=this.mc.eb(0);f=this.mc.eb(1);d=this.mc.yd[0];g=this.mc.yd[1];if((!b||d&&d.stream.md)&&(!f||g&&g.stream.md)){b=this.oT().ub;h=this.ka||Infinity;p=b.RJ(h,this.P);b=p.map(function(a){return{Ui:a.ka,ahb:a.S,lastIndex:a.index};});this.xl=b=f?!this.config.Zn||this.config.Dn?b[1]:a.HYa(b[0],b[1],this.config,this.L):b[0];this.Va.yXa(this.Ha,f?this.mc.yd[1].xl.Ui:this.mc.yd[0].xl.Ui,b.Ui);f=this.oT().t6(this.Ha);0<f.length&&f.forEach(function(a){a.Nvb(p,h);});}};return a;}();d.Uha=g;},function(g,d,a){var f,h,q,c,m,k,u,r;function b(a){return a&&"function"===typeof a.Fg?!0:!1;}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);h=a(356);q=a(5).Promise;m=function(){function a(a){var b;b=this;this.vWa=a;this.cq=!1;this.lYa=function(a){return b.sob(a);};this.Wqa();}a.GJb=function(a,b){function c(){var f;f=a.next();f.then(b);f.then(function(a){return!a.done&&c();});}c();};Object.defineProperties(a.prototype,{gw:{get:function(){return this.cq;},enumerable:!0,configurable:!0}});a.AIb=function(){return new k([]);};a.Gdb=function(){c||(c=q.resolve({done:!0}));return c;};Object.defineProperties(a.prototype,{Bwa:{get:function(){return this.Ela||!1;},enumerable:!0,configurable:!0}});a.prototype.Fg=function(){this.cancel();};a.prototype.cancel=function(){this.nna();this.Ela=!0;return this.R0;};a.prototype.next=function(){return this.Ela?this.R0:q.race([this.R0,this.vWa()]).then(this.lYa);};a.prototype.sob=function(a){a.done&&(this.cq=!0,this.Fg());this.Bwa||(this.nna(),this.Wqa());return a;};a.prototype.Wqa=function(){var a;a=this;this.R0=new q(function(b){a.nna=function(){b({done:!0});};});};return a;}();d.mHa=m;k=function(a){function c(b){var c;c=a.call(this,function(){return c.Jcb();})||this;c.jk=b;c.index=0;return c;}f.__extends(c,a);c.prototype.Fg=function(){b(this.jk)&&this.jk.Fg();a.prototype.Fg.call(this);};c.prototype.Jcb=function(){return this.jk.length>this.index?q.resolve({value:this.jk[this.index++],done:!1}):q.resolve({done:!0});};return c;}(m);d.zea=k;d.yJb=b;u=function(a){function c(b,c,f){var d;d=a.call(this,function(){return d.U$();})||this;d.console=c;d.Yu=f;d.lBa=!1;Array.isArray(b)?d.SH=new k(b):d.SH=b;return d;}f.__extends(c,a);c.prototype.uob=function(a){var c;this.lBa=!1;c=this.console;h.Oe&&c&&c.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.nC)return b(a)&&a.Fg(),m.Gdb();Array.isArray(a)?this.Yu=new k(a):this.Yu=a;return this.U$();};c.prototype.tob=function(a){var b;b=this.console;h.Oe&&b&&b.trace("CompoundIterator: processNextInnerResult",this.nC,a.done);if(!a.done||this.nC)return a;this.Yu=void 0;return this.U$();};c.prototype.Fg=function(){var c;c=this.console;h.Oe&&c&&c.trace("CompoundIterator: dispose");this.nC=!0;a.prototype.Fg.call(this);b(this.SH)&&this.SH.Fg();b(this.Yu)&&this.Yu.Fg();};c.prototype.toString=function(){return"CompoundIterator "+this.nC+" "+this.SH+" "+this.Yu;};c.prototype.U$=function(){var a,b;a=this;b=this.console;h.Oe&&b&&b.trace("CompoundIterator: nextImpl");if(this.Yu)return h.Oe&&b&&b.trace("CompoundIterator: getNextInner"),this.Yu.next().then(function(b){return a.tob(b);});this.lBa=!0;h.Oe&&b&&b.trace("CompoundIterator: getNextOuter");return this.SH.next().then(function(b){return a.uob(b);});};return c;}(m);d.Wyb=u;d.map=function(a,b,c){return new r(a,b,c);};r=function(a){function c(b,c,f){var d;d=a.call(this,function(){return d.fWa();})||this;d.source=b;d.f$=c;d.x3a=f;return d;}f.__extends(c,a);c.prototype.Fg=function(){b(this.source)&&this.source.Fg();};c.prototype.fWa=function(){var a,b,c;a=this.x3a;b=this.f$;c=this.source;h.Oe&&a&&a.trace("MappedIterator: Requesting next");return c.next().then(function(a){return a.done?a:b(a.value);});};return c;}(m);d.yta=function(a,b,c){return new u(a,b,c);};},function(g,d,a){var b,f,h,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(49);f=a(699);h=a(356);q=a(5);c=a(20);a=a(47);m=q.Promise;k=function(){function a(a,b){this.console=a;this.ag=b;this.iXa=this.Yla=0;this.uh=[];this.console=c.yw(q,this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{count:{get:function(){return this.ag;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gw:{get:function(){return 0===this.ag;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Eba:{get:function(){var a;for(a=0;a<this.uh.length&&this.uh[a].yU;a++);return a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=this.uh[0];return(a=a&&a.item)&&!a.done&&a.value;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{oza:{get:function(){var a;for(a=0;a<this.uh.length&&this.uh[a].IK;a++);return a;},enumerable:!0,configurable:!0}});a.prototype.nx=function(){return this.uh.map(function(a){return a.item;});};a.prototype.Kvb=function(a){var b;h.Oe&&this.console.trace("updateCount",{KKb:this.ag,vD:a});if(void 0!==this.ag){b=this.uh[this.ag];b&&this.S8(b);}this.ag=void 0===this.ag?a:void 0===a?a:this.ag+a;void 0!==this.ag&&(this.ag=Math.max(0,this.ag),(b=this.uh[this.ag])&&b.Dz.resolve({done:!0}));};a.prototype.enqueue=function(a){h.Oe&&this.console.trace("Enqueue called");return this.Eob(this.oza,{value:a,done:!1}).u5.Vt;};a.prototype.clear=function(a){var b,c,f,d;b=this;h.Oe&&this.console.trace("clear");this.pBa();c=this.Eba;f=this.uh.length-c;if(0<f){d={index:c,gaa:f};h.Oe&&this.console.trace("Removing items",d);this.uh.splice(c,f).forEach(function(a){return b.t5(a,"Clear");});this.emit("onRemoved",d);}for(f=1;f<c;f++)this.S8(this.uh[f]);this.ag=void 0;this.Kvb(a?a+c:a);this.Yla&&(this.Yla=0);};a.prototype.Sra=function(){var a;if(0<this.Eba){a=this.uh[0];if(a.IK)return h.Oe&&this.console.trace("dequeue",a.id),this.pBa(1),this.emit("onDequeue",a.Dz.Vt);}};a.prototype.remove=function(a){var b,c,f,d;b=this;for(c=0;c<this.uh.length;c++){f=this.uh[c];d=f.item;if(d&&!d.done&&d.value===a){a=this.uh.splice(c,1);h.Oe&&this.console.trace("removed",{id:f.id});this.emit("onRemoved",{index:c,gaa:1});a.forEach(function(a){return b.t5(a,"removed");});break;}}};a.prototype.pBa=function(a){var b;a=a||Math.min(this.Eba,this.oza);if(0<a){b=this.uh.splice(0,a);this.ag&&(this.ag-=a);h.Oe&&this.console.trace("pruned",a);setTimeout(function(){b.forEach(function(a){a.u5.resolve();});},0);this.emit("onRemoved",{index:0,gaa:a});}};a.prototype.t5=function(a,b){a&&(b=Error("Rejecting queue promise per "+b),a.IK||(a.yU&&a.Dz.reject(b),a.u5.reject(b)));};a.prototype.Eob=function(a,b){var c;c=!b.done&&b.value;c=c&&c.toJSON?c.toJSON():c;h.Oe&&this.console.trace("Providing result",{g0a:a,item:c});this.Ffb(a);a=this.uh[a];c=a.Dz.resolve;c(b);return a;};a.prototype.Ffb=function(a){var b;if(void 0===this.uh[a]){b={};this.S8(b);this.uh[a]=b;a===this.ag&&b.Dz.resolve({done:!0});h.Oe&&this.console.trace("Item initialized",{g0a:a});}};a.prototype.Q4=function(a){var b;b={};b.Vt=new m(function(c,f){b.resolve=function(b){c(b);a&&a(b);};b.reject=f;});return b;};a.prototype.S8=function(a){var b;b=this;a.Dz&&this.t5(a,"Overwriting");a.Dz=this.Q4(function(c){a.item=c;a.IK=!0;h.Oe&&b.console.trace("Item resolved",{id:a.id});});a.id&&a.yU&&!a.IK&&(a.Dz.resolve({done:!0}),h.Oe&&this.console.warn("Overwriting requested queue item",a.id));a.u5=this.Q4();a.DLb=this.Q4(function(){a.yU=!0;h.Oe&&b.console.trace("Item requested",{id:a.id});});a.id=this.iXa++;a.yU=!1;a.IK=!1;a.item=void 0;};return a;}();d.VRa=k;a.Tj(g.EventEmitter,k);g=function(a){function c(b,c,f){var d;d=a.call(this,function(){h.Oe&&d.console.trace("Next item requested",{index:d.index});return d.Kqb(d.index++);})||this;d.parent=b;d.Kqb=c;d.console=f;d.nC=!1;d.index=0;d.HH=!1;d.Yza=function(a){var b;b=a.index;a=a.gaa;d.index>=b&&(d.index=Math.max(b,d.index-a));b=d.console;h.Oe&&b&&b.trace("QueueIteratorInstance: onRemoved modified",d.index);};return d;}b.__extends(c,a);c.prototype.Fg=function(){this.console.trace("disposed");this.nC=!0;this.oc();a.prototype.Fg.call(this);};c.prototype.next=function(){this.Bwa||this.lU();return a.prototype.next.call(this);};c.prototype.cancel=function(){this.oc();return a.prototype.cancel.call(this);};c.prototype.oc=function(){this.parent.Oza("onRemoved",this.Yza);this.HH=!1;};c.prototype.lU=function(){this.HH||(this.HH=!0,this.parent.on("onRemoved",this.Yza));};return c;}(f.mHa);d.HDb=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d,g,c,h,k,u,r){this.id=a;this.P=f;this.S=d;this.pJ=c;this.mk=h;this.PF=k;this.Dl=r;this.ka=g||Infinity;}a.prototype.toString=function(){return"segmentId: "+this.id+"playlistSegmentId: "+this.Dl+" viewableId: "+this.P.nb+" pts: "+this.S+"-"+this.ka+" defaultKey: "+this.pJ+" dests: "+JSON.stringify(this.mk)+" terminal: "+!!this.PF;};a.prototype.toJSON=function(){return{id:this.id,viewable:this.P.nb,"startPts:":this.S,endPts:this.ka,defaultKey:this.pJ,"dests:":this.mk,terminal:!!this.PF,playlistSegmentId:this.Dl};};return a;}();d.SSa=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(154);a(33);g=function(){function a(a,b){this.Rb=a;this.console=b;this.Xs=this.zA=this.Jw=0;}a.prototype.G$a=function(a,f,c,d,g){var h;if(this.Rb){h=a.X;if(h){if(1===c)c=h.nl(this.Rb*a.La.Ad,void 0,!0),h=a.Hg(c),h.Qj({start:0,end:this.Rb-c*h.M5.ED(a.La)}),this.Jw=this.Rb;else{c=b.Uua(d,g)+d.J0a*a.La.Ad;c=f+c;f=Math.ceil(c/a.La.Ad);c=h.nl(c,void 0,!0);for(g=d=0;g<c;++g)h=a.Hg(g),d+=h.M5.ED(a.La);d=f-d;h=a.Hg(c);h.Qj({end:d});this.Jw=f;}h.dya();return h;}}};return a;}();d.dTa=g;},function(g,d,a){var b,f,h,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);a(5);h=a(59);q=a(20);c=a(207);m=a(94);k=a(219);g=function(a){function d(b,c,f,g,h,k){c=a.call(this,b,g,h,c,k)||this;c.IVa=f;c.Ul=void 0;c.j1=d.oB.INIT;c.UFb=g.offset;c.v1=m.Jk.prototype.toString.call(c)+" multiple";c.CC(b.url,g.offset,8,0);return c;}b.__extends(d,a);Object.defineProperties(d.prototype,{data:{get:function(){return this.Ul;},enumerable:!0,configurable:!0}});d.prototype.Ph=function(a){var b,g;this.Ul=this.Ul?q.vj(this.Ul,a.response):a.response;a.eM();switch(this.j1){case d.oB.INIT:b=new DataView(this.Ul);g=b.getUint32(0);b=b.getUint32(4);h.xH(b);this.CC(a.url,a.offset+a.aa,g,0);c.dB.prototype.Ph.call(this,a);this.j1=d.oB.Lha;break;case d.oB.Lha:b=new DataView(this.Ul);g=b.getUint32(this.Cla-8);b=b.getUint32(this.Cla-4);h.xH(b);this.CC(a.url,a.offset+a.aa,g-8,0);this.j1=d.oB.Jha;c.dB.prototype.Ph.call(this,a);break;case d.oB.Jha:c.dB.prototype.Ph.call(this,a);break;default:f.assert(!1);}};d.prototype.CC=function(a,b,c,f){a=new k.ON(this.stream,this.IVa,this.v1+" ("+this.oa.length+")",{I:this.I,M:this.M,pa:this.pa,O:this.O,offset:b,aa:c,url:a,location:this.location,xb:this.xb,responseType:f},this,this.Dc,this.L);this.push(a);this.Cla=this.oa.reduce(function(a,b){return a+b.aa;},0);};d.oB={INIT:0,Lha:1,Jha:2,name:["INIT","MOOF","MDAT"]};return d;}(c.dB);d.hHa=g;},function(g,d,a){var b,f,h,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(11);f=a(6);g=a(47);h=a(5);q=a(157);c=a(94);m=a(218);k=a(159);u=h.Zj;a=function(a){function d(b,f,d,g,h,k,m){var p;p=this;p=["cache","edit"].filter(function(a,b){return[k,g.Ra][b];});p=p.length?"("+p.join(",")+")":"";void 0===g.responseType&&(g.responseType=u.vc&&!u.vc.pF.Tx?0:1);p=a.call(this,b,d,p,g,h,f,m)||this;c.Jk.call(p,b,g);p.KWa=g.hhb;p.zg.on(p,u.Fd.RCb,p.MXa);p.zg.on(p,u.Fd.QCb,p.LXa);return p;}b.__extends(d,a);d.prototype.xc=function(a){k.tx.prototype.xc.call(this,a);this.kc||!this.Dc.ZQ&&this.Yb||(this.kc=q.ah());};d.prototype.Mw=function(){var a;a={start:this.offset,end:this.offset+this.aa-1};void 0!==this.gd&&0<=this.gd&&void 0!==this.hg&&(this.lP=this.Uma(this.lP,!0),a={start:0,end:-1});return u.prototype.open.call(this,this.lP,a,this.kP,{},void 0,void 0,this.hla);};d.prototype.$X=function(){var a,b,c;if(this.complete)return 0;a=this.nCa;b=a.P;if(!a.url)return this.L.warn("updateurl, missing url for streamId:",a.pa,"mediaRequest:",this,"stream:",a),1;c=this.Uma(a.url,!1);return this.url===c||(b.Aca(this,a.location,a.Vb),this.XM(c))?0:(this.L.warn("swapUrl failed: ",this.RD),2);};d.prototype.jQ=function(){this.sd||(this.sd=!0,this.rl=this.track.rl(),this.dz(this),this.Bk=0,this.El=this.zd);};d.prototype.gna=function(){var a;a=this.zd;this.cz(this);this.El=a;};d.prototype.ina=function(){var a;a=this.zd;this.VD(this);this.El=a;this.Bk=this.Be;};d.prototype.MXa=function(){var a;a=this.$gb;this.Ug=!0;this.kc&&(this.kc.vA(a,{requestId:this.en(),le:this.xb,type:this.M}),this.kc.Dba());};d.prototype.iQ=function(){var a;a=this.zd;this.kc&&this.Ug&&this.kc.xA(h.time.ea(),this.Ug,{requestId:this.en(),le:this.xb,type:this.M});this.Ug=this.sd=!1;this.zq(this);this.El=a;this.Bk=this.Be;this.oc();};d.prototype.LXa=function(){this.kc&&(this.kc.yy(this.MJb,this.$gb,this.Zgb,{requestId:this.en(),le:this.xb,type:this.M}),this.kc.xA(this.Zgb,this.Ug,{requestId:this.en(),le:this.xb,type:this.M}));this.Ug=!1;};d.prototype.dVa=function(a,b,c,f){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?f:a-c;};d.prototype.Uma=function(a,b){var c,d;if(f.U(this.gd)||0>this.gd||f.U(this.hg))return a;c=[];d=this.dVa(this.gd,this.hg-1,this.KWa,this.Dc.ikb);c.push("ptsRange/"+this.gd+"-"+(this.hg-1));0<d&&b&&c.push("timeDelay/"+d);a=a.split("?");b=a[0];for(var d="",g=0;g<c.length;g++)d+="/"+c[g];return a[1]?b+(d+"?"+a[1]):b+d;};return d;}(m.lG);d.dHa=a;g.Tj(c.Jk,a,!1);},function(g,d,a){var b,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);g=a(47);h=a(221);a=a(160);q=function(){function a(b,c){this.qa=[];this.Tg=void 0;this.Cc=0;this.L=b;c&&c.length&&(Array.isArray(c)?(this.qa=c.slice(),this.pH(0,this.qa.length)):c instanceof a&&(this.qa=c.qa.slice(),this.pH(0,this.qa.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.qa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.qa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.qa[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{dh:{get:function(){return this.qa[this.qa.length-1];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ab:{get:function(){return this.first&&this.first.ab;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tb:{get:function(){return this.dh&&this.dh.tb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rqa:{get:function(){return this.Tg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Cc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.first&&this.first.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wp:{get:function(){return this.first&&this.first.wp;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.qa;},enumerable:!0,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.qa.length);return this.qa[a];};a.prototype.push=function(a){this.qa.push(a);this.pH(this.qa.length-1);return this.length;};a.prototype.unshift=function(a){this.qa.unshift(a);this.pH(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.qa.length)return this.d2(this.qa.length-1),this.qa.pop();};a.prototype.shift=function(){if(0!==this.qa.length)return this.d2(0),this.qa.shift();};a.prototype.splice=function(a,c){for(var f,d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];0>a&&(a+=this.qa.length);0>a&&(a=0);a>this.qa.length&&(a=this.qa.length);if(void 0===c||0>c)c=0;c=Math.min(c,this.qa.length-a);0<c&&this.d2(a,a+c);g=(f=this.qa).splice.apply(f,b.__spreadArrays([a,c],d));0<d.length&&this.pH(a,a+arguments.length-2);return g;};a.prototype.slice=function(b,c){void 0===b&&(b=0);void 0===c&&(c=this.qa.length);0>b&&(b+=this.qa.length);if(b>=this.qa.length)return new a(this.L);c>this.qa.length&&(c=this.qa.length);0>c&&(c+=this.qa.length);return new a(this.L,this.qa.slice(b,c));};a.prototype.sm=function(a){if(0===this.qa.length||a.ab>=this.tb)this.push(a);else if(a.tb<=this.ab)this.unshift(a);else{for(var b=0,c=this.qa.length-1,d;b<c-1;)d=Math.floor((c+b)/2),f.assert(d!==c&&d!==b),a.ab>=this.qa[d].tb?b=d:c=d;f.assert(b!==c);f.assert(this.qa[b].tb<=a.ab&&this.qa[c].ab>=a.tb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.qa.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(function(a){return a.qa;});return new a(this.L,Array.prototype.concat.apply(this.qa,b));};a.prototype.forEach=function(a){var b;b=this;this.qa.forEach(function(c,f){return a(c,f,b);});};a.prototype.some=function(a){var b;b=this;return this.qa.some(function(c,f){return a(c,f,b);});};a.prototype.every=function(a){var b;b=this;return this.qa.every(function(c,f){return a(c,f,b);});};a.prototype.map=function(a){var b;b=this;return this.qa.map(function(c,f){return a(c,f,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.qa.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.indexOf=function(a){return this.qa.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.qa.some(function(f,d){c=d;return a(f,d,b);})?this.qa[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.qa.some(function(f,d){c=d;return a(f,d,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.L,this.qa.filter(function(a,f){return b(a,f,c);}));};a.prototype.YS=function(a){for(var b=this.qa.length-1;0<=b;--b)a(this.qa[b],b,this);};a.prototype.Vca=function(a){for(var b=this.qa.length-1;0<=b;--b)if(a(this.qa[b],b,this))return!0;return!1;};a.prototype.QJ=function(a){if(this.empty||a<this.ec||a>=this.pe)return-1;for(var b=0,c=this.qa.length-1,f;c>b;){f=Math.floor((c+b)/2);if(a>=this.qa[f].ec&&a<this.qa[f].pe){c=f;break;}a<this.qa[f].pe?c=f-1:b=f+1;}return c;};a.prototype.nta=function(a){a=this.QJ(a);return 0<=a?this.qa[a]:void 0;};a.prototype.TQ=function(a){var b;b=this.qa[a].tb;for(a+=1;a<this.qa.length&&b===this.qa[a].ab;++a)b=this.qa[a].tb;a<this.qa.length?void 0===this.Tg?this.Tg=new h.mG(this,{tb:b}):this.Tg.tca(b):void 0===this.Tg?this.Tg=new h.mG(this,{}):this.Tg.f4();};a.prototype.SB=function(a,b){for(var c=a;c<b;++c)this.Cc+=this.qa[c].aa;void 0===this.Tg||0===a?this.TQ(0):this.Tg.tb===this.tb?this.TQ(a-1):this.qa[a].ab===this.Tg.tb&&this.TQ(a);};a.prototype.vs=function(a,b){var c;if(0===a)this.Tg=void 0,b<this.length&&this.TQ(b);else{c=this.Tg;c.tb>this.qa[a-1].tb&&(b<this.length?c.tca(this.qa[a-1].tb):c.f4());}for(;a<b;++a)this.Cc-=this.qa[a].aa;};a.prototype.pH=function(a,b){void 0===b&&(b=a+1);this.SB(a,b);};a.prototype.d2=function(a,b){void 0===b&&(b=a+1);this.vs(a,b);};return a;}();d.yY=q;g.Tj(a.PN,q);},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(11);g=function(){function a(a,b){this.bc=a;this.aC=b;this.ns();}Object.defineProperties(a.prototype,{length:{get:function(){return this.av;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.av;},enumerable:!0,configurable:!0}});a.prototype.rab=function(){return this.jC&&this.jC.get(0);};a.prototype.h1a=function(){return this.WB&&this.WB.get(this.WB.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.bc.length;++b)if(this.eg[b+1]>a)return this.bc[b].get(a-this.eg[b]);};a.prototype.push=function(a){this.bc[this.aC(a)].push(a);this.ns();return this.av;};a.prototype.shift=function(){var a;if(this.jC){a=this.jC.shift();this.ns();return a;}};a.prototype.pop=function(){var a;if(this.WB){a=this.WB.pop();this.ns();return a;}};a.prototype.unshift=function(a){this.bc[this.aC(a)].unshift(a);this.ns();return this.av;};a.prototype.sm=function(a){var b;b=this.aC(a);this.bc[b].sm(a);this.ns();};a.prototype.remove=function(a){var b;b=this.bc.some(function(b){return b.remove(a);});b&&this.ns();return b;};a.prototype.splice=function(a,f){var l,n,F,D;for(var c,d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];for(var g=[],h,p=a+Math.max(0,f),q=0;q<this.bc.length;++q){l=this.bc[q];n=this.eg[q];F=this.eg[q+1];if(a<F){D=a-n;n=Math.min(p-n,l.length);void 0===h&&0<D&&n<l.length?Array.prototype.push.apply(g,l.splice.apply(l,b.__spreadArrays([D,n-D],d))):(Array.prototype.push.apply(g,l.splice(D,n-D)),void 0===h&&(h=0<q&&0===D?q-1:q));a=F;if(a>=p)break;}}if(d.length&&void 0!==h){for(p=this.aC(d[0]);0<h&&p<h&&this.bc[h].empty;)--h;for(;d.length&&p===h;){this.bc[h].push(d.shift());if(!d.length)break;p=this.aC(d[0]);}for(;d.length&&++h<this.bc.length&&this.bc[h].empty;)for(;d.length&&p===h;){this.bc[h].push(d.shift());if(!d.length)break;p=this.aC(d[0]);}d.length&&(c=this.bc[h]).splice.apply(c,b.__spreadArrays([0,0],d));}this.ns();return g;};a.prototype.find=function(a){var b,c;b=this;return this.bc.some(function(f,d){c=f.find(b.kv(a,d));return void 0!==c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b<this.bc.length;++b){c=this.bc[b].findIndex(this.kv(a,b));if(-1!==c)return c+this.eg[b];}return-1;};a.prototype.indexOf=function(a){var c;for(var b=0;b<this.bc.length;++b){c=this.bc[b].indexOf(a);if(-1!==c)return c+this.eg[b];}return-1;};a.prototype.map=function(a){var b,c;b=this;c=this.bc.map(function(c,f){return c.map(b.kv(a,f));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.bc.reduce(function(b,f,d){return f.reduce(c.RZa(a,d),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.bc.forEach(function(c,f){c.forEach(b.kv(a,f));});};a.prototype.YS=function(a){for(var b=this.bc.length-1;0<=b;--b)this.bc[b].YS(this.kv(a,b));};a.prototype.some=function(a){var b;b=this;return this.bc.some(function(c,f){return c.some(b.kv(a,f));});};a.prototype.Vca=function(a){for(var b=this.bc.length-1;0<=b;--b)if(this.bc[b].Vca(this.kv(a,b)))return!0;return!1;};a.prototype.every=function(a){var b;b=this;return this.bc.every(function(c,f){return c.every(b.kv(a,f));});};a.prototype.cab=function(a,b){var h,p;function c(b){return b.reduce(function(b,c,f,d){return void 0===c?b:void 0===b?f:0>a(c,d[b])?f:b;},void 0);}for(var f=this,d=this.bc.map(function(){return 0;}),g=this.bc.filter(function(a){return a.empty;}).length;g<this.bc.length;){h=d.map(function(a,b){return a<f.bc[b].length?f.bc[b].get(a):void 0;});p=c(h);b(h[p],this.eg[p]+d[p],this);++d[p];d[p]===this.bc[p].length&&++g;}};a.prototype.move=function(a){return this.remove(a)?(this.sm(a),!0):!1;};a.prototype.Ksb=function(){var a;if(this.bc[1].length){a=this.bc[1].shift();this.bc[0].push(a);this.ns();}};a.prototype.H$a=function(a){for(var b=-1,c=0;c<this.bc.length;++c)if(b=a(this.bc[c]),-1!==b){b+=this.eg[c];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.ns=function(){var b;this.av=0;this.eg=[0];this.WB=this.jC=void 0;for(var a=0;a<this.bc.length;++a){b=this.bc[a];this.av+=b.length;this.eg.push(this.eg[this.eg.length-1]+b.length);!this.jC&&b.length&&(this.jC=b);b.length&&(this.WB=b);}};a.prototype.kv=function(a,b){var c,f;c=this;f=this.eg[b];return function(b,d){return a(b,f+d,c);};};a.prototype.RZa=function(a,b){var c,f;c=this;f=this.eg[b];return function(b,d,g){return a(b,d,f+g,c);};};return a;}();d.UIa=g;},function(g,d,a){var b,f,h,q,c,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(11);f=a(706);h=a(705);g=a(160);q=a(86);c=a(47);m=a(221);a=function(a){function c(b,c){var f,d;f=this;d=[new h.yY(b),new h.yY(b),new h.yY(b)];f=a.call(this,d,function(a){return a.complete?f.empty||a.ab<=f.r3a?0:1:a.active?1:2;})||this;f.jc=d[0];f.sd=d[1];f.gq=d[2];f.nn=0;f.F0=0;f.L=b;q.Fr.call(f,c);return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{aa:{get:function(){return this.jc.aa+this.sd.aa+this.gq.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uFa:{get:function(){return this.gq;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{active:{get:function(){return this.sd;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.jc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jpb:{get:function(){return this.nn;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{fD:{get:function(){return this.jc.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bm:{get:function(){return this.jc.aa+this.sd.aa-this.nn;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{first:{get:function(){return this.rab();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{dh:{get:function(){return this.h1a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{N5:{get:function(){return!this.jc.empty||this.gq.empty||this.sd.empty?this.first:this.sd.ab<this.gq.ab?this.sd.first:this.gq.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nxa:{get:function(){return this.gq.empty||this.sd.empty?this.dh:this.sd.tb<this.gq.tb?this.gq.dh:this.sd.dh;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wta:{get:function(){return this.gq.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.first&&this.first.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ab:{get:function(){return this.N5&&this.N5.ab;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{tb:{get:function(){return this.nxa&&this.nxa.tb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wp:{get:function(){return this.first&&this.first.wp;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{p3a:{get:function(){return this.jc.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Gmb:{get:function(){return this.sd.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Afb:{get:function(){return this.hg-this.o3a||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{r3a:{get:function(){return this.jc.empty?this.ab:this.jc.tb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{o3a:{get:function(){return this.jc.empty?this.gd:this.jc.hg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{u4:{get:function(){return this.jc.empty?this.ec:this.jc.pe;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{q3a:{get:function(){return this.jc.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{yaa:{get:function(){return this.sd.pe||this.jc.pe;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ip:{get:function(){return this.gq.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{hq:{get:function(){return this.sd.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bX:{get:function(){return this.jc.concat(this.sd);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Rqa:{get:function(){return this.Tg;},enumerable:!0,configurable:!0}});c.prototype.SB=function(a){var b;a.Zl?++this.F0:this.nn+=a.Be||0;if(this.empty)this.Tg=new m.mG(this,{});else if(a.ab!==this.tb&&a.ab===this.Tg.tb){b=a.tb;this.cab(function(a,b){return a.ab-b.ab;},function(a){b=a.ab===b?a.tb:b;});b===this.tb&&this.Tg.f4();}a.ADa(this);};c.prototype.vs=function(a){a.Zl?--this.F0:this.nn-=a.Be;this.empty?this.Tg=void 0:a.ab!==this.tb&&a.tb<this.Tg.tb&&a.ab>=this.Tg.ab&&this.Tg.tca(a.ab);a.pqa();};c.prototype.push=function(b){this.SB(b);return a.prototype.push.call(this,b);};c.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.vs(b);return b;};c.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.vs(b);return b;};c.prototype.unshift=function(b){this.SB(b);return a.prototype.unshift.call(this,b);};c.prototype.sm=function(b){this.SB(b);a.prototype.sm.call(this,b);};c.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.vs(b);return!0;};c.prototype.splice=function(c,f){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];g=a.prototype.splice.apply(this,b.__spreadArrays([c,f],d));d.forEach(this.SB.bind(this));g.forEach(this.vs.bind(this));return g;};c.prototype.Gob=function(a){var b;b=this;this.reduce(function(c,f,d){f.Zl&&(a&&a(f,d,b),0===c.length||c[0].end!==d?c.unshift({start:d,end:d+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};c.prototype.QJ=function(a){return this.H$a(function(b){return b.QJ(a);});};c.prototype.nta=function(a){a=this.QJ(a);return-1!==a?this.get(a):void 0;};c.prototype.cA=function(a){this.move(a);this.dz(a);};c.prototype.DL=function(a){this.nn+=a.Be-a.Bk;this.VD(a);};c.prototype.Ph=function(a){for(this.nn+=a.Be-a.Bk;this.sd.first&&this.sd.first.complete&&(this.jc.empty?this.sd.first===this.N5:this.sd.first.ab===this.jc.tb);)this.Ksb();this.zq(a);};c.prototype.MV=function(a,b){this.nn-=a.Be;++this.F0;this.bT(a,b);};return c;}(f.UIa);d.cHa=a;c.Tj(q.Fr,a,!1);c.Tj(g.PN,a);},function(g,d,a){var b,f,h,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);h=a(6);q=a(208);c=a(707);m=a(704);k=a(703);g=a(86);u=a(5);a=function(a){function d(b,c,f,d,g,h,k){b=a.call(this,b)||this;b.G=c;b.L=f;b.ie=d;b.UH=g;b.ed=h;b.dg=k;b.Jd=b.L.error.bind(b.L);b.Ga=b.L.warn.bind(b.L);b.Yl=b.L.trace.bind(b.L);b.Lna();return b;}b.__extends(d,a);Object.defineProperties(d.prototype,{console:{get:function(){return this.L;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{M:{get:function(){return this.dg;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{cc:{get:function(){return this.ed;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{JA:{get:function(){return 0<this.wA;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zca:{get:function(){return!this.fy;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{wA:{get:function(){return this.oa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ip:{get:function(){return this.oa.Ip;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ws:{get:function(){return this.oa.u4||(this.Ak?this.Ak.Ws:0);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{KI:{get:function(){return this.P0();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ck:{get:function(){return void 0===this.oa.ec?0:this.oa.pe-this.oa.ec;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{al:{get:function(){return{aa:this.P0(!0),Ad:this.ZUa()};},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gD:{get:function(){return this.oa.p3a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{fD:{get:function(){return this.oa.fD;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{X2:{get:function(){return this.oa.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ow:{get:function(){return this.gWa();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{waa:{get:function(){return this.e2a();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ST:{get:function(){return this.oa.length>this.oa.Ip;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{hq:{get:function(){return this.oa.hq;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ak:{get:function(){return this.ed.pf&&this.ed.pf.dc(this.dg).Ua;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Umb:{get:function(){return this.oa.length-this.kn;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{X:{get:function(){return this.oa;},enumerable:!0,configurable:!0}});d.prototype.e2a=function(){return this.G.Fs?this.oa.Gmb:this.oa.Afb;};d.prototype.e6a=function(a,b,c,d){var g,p;g=this.G;h.U(d)||(b.location=d.location,b.xb=d.Vb,b.qca=d.fo);if(g.tq){p=a.P.Ica;p&&(b.lX=p.gm({F3:a.Ri(this.dg),EV:g.W8a?g.EV:void 0,UEa:String(u.time.ea())}));}f.assert(!b.Hq);a=g.V8a?new k.hHa(d,g,c.track,b,this.oa,this.L):d.P.KD(this.dg)?new m.dHa(d,g,c.track,b,this.oa,!1,this.L):q.zY.create(d,g,c.track,b,this.oa,!1,this.L);a.xc(this);this.Foa(a);return a;};d.prototype.P_a=function(a){a.xc(this);a.U2=!0;this.Foa(a);a.complete?(this.T0(a),this.UH.Dza(a.stream,a.ec,a.gd),this.nN(),this.zq(a)):(a.active&&this.dz(a),a.QBa&&this.cz(a));};d.prototype.reset=function(){this.oa.forEach(function(a){a.abort();a.oc();});this.Lna();};d.prototype.vCa=function(){this.fy=!1;};d.prototype.Foa=function(a){this.oa.sm(a);this.T0(a);a.Kq&&(this.fy=!1);};d.prototype.nN=function(){var a,b,c,f;b=this.dg;c=this.ed;if(c.active&&this.kn!==this.oa.length){if(a=c.pf){f=a.ava(b);if(0!==f&&(a.SC(b),f=a.ava(b),0!==f))return;}for(var f=this.G.ajb,d=0;this.kn<this.oa.length;){if(a=this.oa.get(this.kn)){if(this.oa.wta&&this.oa.wta.ab<a.ab)break;if(!a.wz())break;c.$ab(b).D0a(a);++d;h.na(this.ec)||(this.ec=a.ec);}++this.kn;if(!h.U(f)&&d>=f)break;}}};d.prototype.hpb=function(a){var f;for(var b,c=0;c<this.oa.length;++c){f=this.oa.get(c);f&&a<f.pe&&(h.U(b)&&(b=c),f.gi=!1);}h.U(b)||(this.kn=b,this.nN());};d.prototype.tsb=function(a,b,c){var f;f=this.G;0!==this.oa.Ip&&this.oa.uFa.first.O!==b&&(f.jf&&this.ie.Oh("setSelectedBitrate new bitrate: "+b),this.WZa(a,c));};d.prototype.WZa=function(a,b){var c,f,d;c=this;f=[];if(0!==this.oa.Ip){d=this.oa.yaa;this.oa.uFa.Vca(function(b){if(!h.U(a)&&b.P.Ha!==a||b.Kq||d>b.ec)return!0;b.TS&&(c.fy=!1);if(!c.lla(b))return c.Ga("request abort failed:",b.toString()),!0;f.unshift(b);});this.Cna();f.length&&"function"===typeof b&&b(f);}};d.prototype.EW=function(){this.Cna();};d.prototype.TL=function(a,b){var c,f,d,g,h;c=this;f=this.G;d=!1;g=0;h=this.oa.some(function(h){if(a<h.pe)return d&&c.T0(h),!0;++g;h.gi||(c.Ga("pruning unappended request:",h&&h.toString()),f.jf&&c.ie.Oh("prune pts:"+a+" unappended request:"+(h&&h.toString())),h.TS&&(c.fy=!1,d=!0),c.lla(h,b)||c.Jd("MediaRequest.abort error:",h.Gh));});0<g&&(this.oa.splice(0,g),this.kn-=Math.min(g,this.kn));return h;};d.prototype.Kcb=function(){return this.oa.empty?null:Math.min(this.oa.Rqa.pe,this.oa.yaa);};d.prototype.CT=function(a){var b,c,f;b=this.G;c=this.oa;h.na(c.ec)&&(null===a.ec||c.ec<a.ec)&&(a.ec=c.ec);f=b.Fs?c.yaa:c.pe;h.na(f)&&(null===a.aF||f>a.aF)&&(a.aF=f);a.Bm+=c.Bm;a.Uh=b.Nca?a.Uh+c.jpb:a.Uh+c.fD;Array.prototype.unshift.apply(a.X,c.bX.X);};d.prototype.xq=function(a){if(this.oa.length&&(a=this.oa.nta(a)))return a;};d.prototype.rN=function(){var a,b;a=this;b=[];this.oa.forEach(function(c){var f;f=c.$X();1===f?b.push(c):2===f&&a.cc.P.tA("swapUrl failure");});return b;};d.prototype.Yi=function(a){this.G.bM&&this.hpb(a);};d.prototype.bA=function(a){a.yz&&a.wz()&&this.nN();this.cz(a);};d.prototype.Ph=function(a){a.yz&&!a.gi&&this.nN();this.zq(a);};d.prototype.b3=function(a){var b,c,f;b=1===this.dg?"v_":"a_";c=this.oa;f=c.QJ(a);a=0<=f?c.get(f):void 0;return(c=0<=f&&f+1<c.length?c.get(f+1):void 0)&&a?a.pe!==c.ec?b+"rg":a.complete&&c.complete?b+"uk":b+"fd":b+"rm";};d.prototype.gWa=function(){return this.oa.hq+(this.G.Fs?0:this.oa.Ip);};d.prototype.ZUa=function(){return Math.max(this.oa.u4-this.oa.ec,0)||0;};d.prototype.P0=function(a){var b;b=this.oa.q3a;return a||!this.Ak?b:b+(this.Ak.oa.u4>=this.oa.ec?this.Ak.P0():0);};d.prototype.Lna=function(){this.oa=new c.cHa(this.L,this);this.kn=0;this.ec=null;this.fy=!1;};d.prototype.T0=function(a){this.fy?a.TS=!1:this.fy=a.TS=!0;};d.prototype.lla=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};d.prototype.Cna=function(){var a,b;a=this;b=0;this.oa.Gob(function(c,f){f<a.kn&&++b;});this.kn-=b;};return d;}(g.Fr);d.kSa=a;},function(g,d,a){var b,f,h,q,c,m,k,u,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(5);h=a(6);g=a(357);q=a(154);c=a(12);m=a(708);k=a(702);u=a(11);r=a(33);a=function(a){function d(b,c,d,g,h,p,q,u,l,n,y){d=a.call(this,g,u,d,b,c,g,h,r.sb.WD(p),q,n)||this;d.la=b;d.ie=c;d.Ce=l;d.ye=y;d.connected=!1;d.jla=!1;d.w9=f.time.ea();d.Ygb=void 0;d.Ua=new m.kSa(d,u,d.L,c,d.UH,g,d.M);d.Yjb=1===d.M?u.rV:u.jV;d.mV=(1===d.M?u.OE:u.KE)||u.mV;d.N0=!1;d.tH=!1;d.J3=0;d.Qz=u.Q8;d.eBa=f.time.ea();d.bI=!1;u.Rb&&(d.Rb=new k.dTa(u.Rb,d.L));d.FDa(h);return d;}b.__extends(d,a);Object.defineProperties(d.prototype,{M:{get:function(){return this.Ki.M;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{JA:{get:function(){return this.Ua.JA;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zca:{get:function(){return this.Ua.Zca;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Db:{get:function(){return this.cc.wa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ws:{get:function(){return this.Ua.Ws;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{X2:{get:function(){return this.Ua.X2;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{KI:{get:function(){return this.Ua.KI;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ck:{get:function(){return this.Ua.Ck;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{al:{get:function(){return r.sb.WD(this.Ua.al.Ad);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{D3:{get:function(){return this.Ua.al.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gD:{get:function(){return this.Ua.gD;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{fD:{get:function(){return this.Ua.fD;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ST:{get:function(){return this.Ua.ST;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{wA:{get:function(){return this.Ua.wA;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gc:{get:function(){return this.Ki.gc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ug:{get:function(){return this.jla;},set:function(a){this.jla=a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ct:{get:function(){return this.eu.Ct;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{cc:{get:function(){return this.ed;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Lfb:{get:function(){return this.AWa.Ad;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uM:{get:function(){return this.FQ.uM;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{MF:{get:function(){return this.FQ;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bb:{get:function(){return this.Xna;},set:function(a){this.Xna=a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{cl:{get:function(){return this.N0;},set:function(a){this.N0=a;},enumerable:!0,configurable:!0}});d.prototype.reset=function(a,b){this.tH=this.N0=!1;this.seeking=void 0;this.connected=this.ug=!1;this.Ua.reset();a&&(this.qF=!0);this.LW={reason:b,time:f.time.ea()};};d.prototype.Yi=function(a){this.Ua.Yi(a);this.Qz=this.G.Q8;};d.prototype.SC=function(){this.Ua.nN();};d.prototype.FDa=function(a){var b,c;b=this.la;c=this.M;u.assert(a.M===c);u.assert(a.P===this.cc.P);this.Ki=a;this.cc.P.Xda(c,a.gc);0===c&&(this.bI=q.Qoa(this.G,a.gc[0]));b.sWa(this,a.Lz);this.c2a(a.gc);this.eu.msb(a);this.cc.P.g4();this.ug=!1;};d.prototype.nsb=function(a,b){var c;if(this.G.MC){c=this.Ua.Kcb();null!==c?(this.bb=c,this.si=c===a?b:this.PS(this.bb)):(this.Ga("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.bb=a,this.si=b);}else this.bb=a,this.si=b;};d.prototype.PS=function(a){var b,c,f;b=this.cc.P;c=this.M;f=b.yd[c];if(f&&f.stream.md){if(a=f.X.nl(a),-1!==a)return a;}else if(b=b.d1a[c])return Math.round(a/b);};d.prototype.ax=function(a){var b,c,f;if(this.jg&&this.jg.S===a)b=this.jg.index,c=a;else{f=this.cc.P;b=f.yd[this.M];if(!b||!b.stream.md){this.Cm=a;return;}c=b.X;this.jg=this.lta(b.stream,a,void 0,void 0);if(void 0===this.jg){if(b=c.length-1,c=c.Pg(b),this.Ga("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.Rd.Zd),f.Rd.Zd){this.Cm=a;return;}}else b=this.jg.index,c=this.jg.S;}this.si=b;this.bb=c;this.Cm=void 0;};d.prototype.wqb=function(a){this.ax(a);this.ug=!1;this.ka=void 0;this.Ua.vCa();};d.prototype.vqb=function(a){this.jg=a;this.ug=!1;this.ka=void 0;this.si=this.jg.index;this.bb=this.jg.S;this.Cm=void 0;this.Ua.vCa();};d.prototype.Jqb=function(a){var b;if(void 0!==this.Cm)this.Cm=a;else{b=this.cc.P.yd[this.M];if(b&&b.stream.md)if(this.jg){for(var c=b.X;0<this.si&&this.bb>a;)this.bb=c.Pg(--this.si);this.si<this.jg.index&&(this.jg=b.stream.Hg(this.si));this.Cm=void 0;}else this.Cm=a;else this.Cm=a;}};d.prototype.Lwb=function(a){var b,c;b=this.Ki.Fq(a);c="verifying streamId: "+a+" stream's track: "+(b?b.pa:"unknown")+" currentTrack: "+this.Ki.cb;return b?!0:(this.ie.Oh(c),this.ie.Oh("unknown streamId: "+a),!1);};d.prototype.c2a=function(a){this.Veb=a.reduce(function(a,b){return b.inRange&&b.xf&&!b.$g&&b.O>a.O?b:a;},a[0]);};d.prototype.K9a=function(a){return 1===this.M?0:this.bI?0:this.G.Zn?a&&a.Ad||0:this.G.Dn&&a?-a.Ad:0;};d.prototype.DM=function(){return 1===this.M&&this.G.et||0===this.M&&this.G.Dn;};d.prototype.lta=function(a,b,c,f,d){var g,h,k,m,p,r,q;u.assert(b>=a.X.Pg(0));g=this.G;h=this.DM();k=a.X;m=b+0;0===this.M&&void 0===f&&h&&g.Jo&&!g.Cy&&a.Mj&&(b=Math.max(a.X.Pg(0),b+a.Mj.Ad));p=k.nl(m,void 0,!0);a.P.KD(this.M)&&(p=Math.floor(p/g.haa)*g.haa);r=a.Hg(p);if(r.ka<b)return r;if(h){m=1===this.M?m:b;q=r.QS(m);q?(0<q.Jm&&r.Qj({start:q.Jm}),0!==this.M||g.Gya||q.Td<(g.Jo&&!g.Cy&&a.Mj?Math.floor(a.Mj.Ad):0)&&r.rsa()):m>=r.ka&&p<k.length-1&&(r=a.Hg(p+1));}1===this.M&&c&&r.ka===c&&p<k.length-1?r=a.Hg(p+1):0===this.M&&!h&&void 0!==f&&!g.Zn&&(c=b+f,c-r.S>g.Iib||r.S<c-d)&&(r=a.Hg(p+1));h&&0===this.M&&!r.Ra&&(g.BK||g.uwa||g.F8a)&&void 0!==f&&r.Qj({});r.AM(b);return r;};d.prototype.I$a=function(a,b){var c,f,d,g,h;f=this.G;if(this.Rb&&(c=this.Rb.G$a(a,b,this.M,this.G,this.la.wjb)))return c;c=a.X;d=c.La;g=b?b+this.K9a(d):c.Z5(c.length-1);d=c.nl(g,void 0,!0);c=a.Hg(d);0===d||c.S!==b||1!==this.M&&f.Zn||(--d,c=a.Hg(d));if(this.DM()){g=1===this.M?g:b;if(g<c.ka){h=c.N$a(g);h&&0!==h.Jm?c.Qj({end:h.Jm}):0===this.M&&(h||g<c.S)&&0!==d?c=a.Hg(d-1):1===this.M&&h&&0!==d&&(c=a.Hg(d-1));}0!==this.M||c.Ra||!f.BK&&!f.twa||c.Qj();}else 0===this.M&&!f.Zn&&b-c.S<c.duration/2&&0!==d&&(c=a.Hg(d-1));c.AM(b);return c;};d.prototype.gX=function(a){this.uk=a;this.ka=a.ka;};d.prototype.wib=function(a,b,c,d,g){var h,k,m;h=this.cc;k=this.M;b=b.X;m=this.si;m>=b.length?this.Ga("makeRequest nextFragmentIndex:",m,"past fragments length:",b.length,"fastplay:",this.cc.P.Rd.Zd):this.jg&&this.uk?(b=a.P.KD(k)?this.aWa(a,m):this.bWa(a,m))?(m=b.M5.ED(a.La),this.Rb&&(this.Rb.zA+=m),c&&++this.J3,b.Kq&&1===k&&this.ie.ana(h.wa,b.ka),this.la.k2(k,b.S),b.zDa(new r.sb(h.Md,1E3)),this.G.Nz&&void 0!==g&&g<b.aa&&(b.Nz=this.G.Nz),f.time.ea(),a=this.Ua.e6a(h,b,d,a),a.Mw()?(a.zA=m,this.la.wH(this)||this.Ga("!continueDriving in requestCreated"),this.nsb(a.hg,b.rL),this.eu.X2a(this.qF),this.la.mVa(this),this.la.Ch()):(this.Ga("MediaRequest.open error: "+a.Gh+" native: "+a.Gj),7!==a.readyState&&(this.Ga("makeRequest caught:",a.Gh),this.cc.P.tA("MediaRequest open failed (1)",this.cc.P.Ha,"NFErr_MC_StreamingFailure")))):this.Ga("makeRequest unable to get valid fragment"):this.Ga("makeRequest delayed, first or last fragment not set","first:",!!this.jg,"last:",!!this.uk);};d.prototype.cA=function(a){a.ka&&a.S&&(this.Qz-=a.ka-a.S);a.Yb||this.UH.Dza(a.stream,a.S,a.gd);this.UH.Wkb(this.Db,a.stream,a.Yb);this.dz(a);};d.prototype.bA=function(a){a.U2||(this.connected=!0);this.cz(a);};d.prototype.Ph=function(a){this.Dva(a);this.zq(a);};d.prototype.Pvb=function(a){var b;b=f.time.ea();this.Qz+=a*(b-this.eBa);this.eBa=b;};d.prototype.uqb=function(){this.Qz=this.G.Q8;};d.prototype.ER=function(a){var b,c;b=this.G;if(!this.Rb){c=this.cc;!c.wa.PF||this.la.rC||this.la.mQ||(a-=c.Md,this.ug&&!this.su&&a+b.Gub>=this.ka&&0===this.Ua.Ow&&0===this.Ua.Ip&&(b=this.la.pc.P.Ha,a=this.la.dE(),b+1<a||(this.ie.pXa(this.M),this.su=!0,this.ye[this.M].vL())));}};d.prototype.Dva=function(a){var b,f,d,g;b=this.cc;f=this.la;d=this.G;if(!this.Ce.Yna()){this.ie.HXa(a.M,a.P.Ha,a.stream.track.lI,this.Ws);this.Rb&&(this.Rb.Xs+=a.zA,this.Ga("handleRequestDone, adding frames:",a.zA,"total frames:",this.Rb.Xs,"needed frames:",b.Ve(a.M).Rb.Jw));g=this.cc.fa.oe()||0;f.Na.Yr()||(b=b.Ve(c.Da.VIDEO),d.AS?b&&b.zv(0,this.cc.fa.Ec(),g,void 0)&&f.Na.Yr():b&&!b.cl&&b.ST&&f.Na.ET(b));this.ER(g);f.meb(a);this.Ce.wH(this)&&this.Ce.Ch();}};d.prototype.zv=function(a,b,c,f){var d;if(this.cl||0===this.M)return!0;if(void 0===this.Ct)return!1;d=this.G;c=this.qma(c);a=this.MF.zv(c,b,this.Ct,d.bY&&0===a?d.Dw:d.bV,this.cc.P.zj);a.complete?(this.cl=!0,f&&(f.JI=a.reason)):(this.cl=!1,this.Kz=a.Kz,this.Zt=a.Zt,this.Qh=a.Qh);return this.cl;};d.prototype.CR=function(a,b,c,f,d){var g,h;if(this.cl)return!0;g=this.G;h=g.Wf;if(f>=g.Wf&&(g.IW&&(h=f+1E3),g.JW&&!this.connected))return!1;f=this.qma(c);f=f.jl-f.hf;g.jf&&this.ie.Oh("Pipeline checkBufferingComplete02, buffer length: "+f);if(this.Rb){if(this.tH)return this.Ga("checkBufferingComplete02 ignored because stallAtFrameCount already hit"),!0;if(this.Rb.Xs>=this.Rb.Jw)return this.Ga("checkBufferingComplete02 with enough frames, declare bufferingComplete",this.Rb.Xs),this.tH=!0;}g=this.ug&&0===this.Ua.waa;return!g&&f<h?!1:g?!0:this.zv(a,b,c,d);};d.prototype.toJSON=function(){return{started:this.JA,startOfSequence:this.Zca,segmentId:this.Db,requestedBufferLevel:this.Ck,viewableId:this.cc.P.nb,hasFragments:this.ST};};d.prototype.bWa=function(a,b){var c,f;c=a.X;f=b===this.jg.index;b===this.uk.index?(a=a.Aua(this.uk),a.AM(this.uk.ix),a.dya()):f?(a=a.Aua(this.jg),a.AM(this.jg.ix)):a=a.Hg(b);a.rL=b+1;if(!a.Ra&&!this.la.gp)for(++b;b<c.length&&b<this.uk.index&&(a.aa<this.Yjb||a.duration<this.mV);++b)a.V2(c.get(b)),a.rL=b+1;return a;};d.prototype.aWa=function(a,b){var c,d;c=this.G;d=a.X;a=a.Hg(b);a.rL=b+1;if(!a.Ra)for(++b;b<d.length&&b<this.uk.index&&(a.duration<this.mV||0!==b%c.haa);++b)a.V2(d.get(b)),a.rL=b+1;a.hhb=this.la.SP+(f.time.ea()-this.la.TP);return a;};d.prototype.qma=function(a){var b,c;b=f.qk()[this.M];c={aF:null,ec:null,Bm:0,Uh:0,X:[]};this.Ua.CT(c);a={Ts:b,S:c.ec,hf:a,bb:c.aF||a,jl:this.Ws||a,Uh:c.Uh,Bm:c.Bm,Kta:c.X.length,X:c.X};h.na(a.S)?this.seeking&&a.hf!=a.S&&(a.hf=a.S):(a.S=0,a.bb=0);return a;};return d;}(g.rja);d.qja=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f){this.track=a;f?(this.Ct=f.Ct,this.Gz=f.Gz,this.u9=f.u9,this.PK=f.PK):this.Gz=this.Ct=void 0;}a.prototype.bda=function(a){this.Ct=a;};a.prototype.msb=function(a){this.track=a;};a.prototype.X2a=function(a){a&&(this.Ct=void 0);};return a;}();d.kTa=g;},function(g,d,a){var b,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(157);h=a(5);q=a(20);g=function(){function a(a,b,c,f,d){this.gS=a;this.BJ=b;this.G=c;this.L=f;this.dg=d;}a.prototype.Dza=function(a,b,c){var f,d;f=this.dg;d=this.gS.eu;d.bda(a);1===f&&this.G.SW&&(void 0===d.PK?d.PK=h.time.ea():h.time.ea()-d.PK>this.G.SW&&(a.O!==d.u9&&(h.storage.set("vb",a.O),d.u9=a.O),d.PK=h.time.ea()));d.Gz&&d.Gz===a||(this.gS.MF.bda(b,d.Gz,a),d.Gz=a,b=0,a.Xa&&a.Xa.Jc&&a.Xa.Ba&&(b=a.Xa.Ba.Qa),a={type:"streamSelected",nativetime:h.time.ea(),mediaType:f,streamId:a.id,manifestIndex:a.P.Ha,trackIndex:a.track.lI,streamIndex:a.sg,movieTime:c,bandwidth:b,longtermBw:b,rebuffer:0},q.Ka(this.BJ,a.type,a));};a.prototype.Wkb=function(a,c,f){var d,g,h,k,m;d=c.P;g=d.tl;h=this.gS.eu;k=d.Egb(c);m=k.h9;k=k.Fgb;f&&c.Vb&&!h.OK?(k=b.cf.Vr,c.fo=b.cf.name[k],this.Cza(d.Ha,a,c.Vb,c.fo,c.location,c.O),h.OK=c.Vb):!f&&c.Vb&&c.Vb!==h.OK&&(k=k?void 0===h.OK?b.cf.Vr:g.zF===b.cf.Q_?b.cf.vSa:b.cf.DY:b.cf.uSa,c.fo=b.cf.name[k],this.Cza(d.Ha,a,c.Vb,c.fo,c.location,c.O),h.OK=c.Vb);h.NK||(k={type:"logdata",target:"startplay",fields:{}},this.dg===b.Da.AUDIO?k.fields.alocid=c.location:this.dg===b.Da.VIDEO&&(k.fields.locid=c.location),q.Ka(this.BJ,k.type,k));f&&c.location&&!h.NK?(k=b.cf.Vr,c.fo=b.cf.name[k],this.Aza(d.Ha,a,c.location,c.G9,c.Vb,c.EA,c.fo,c.Yq),h.NK=c.location):!f&&c.location&&c.location!==h.NK&&(k=m?void 0===h.NK?b.cf.Vr:g.zF===b.cf.Q_?b.cf.yNa:b.cf.DY:b.cf.xNa,c.fo=b.cf.name[k],this.Aza(d.Ha,a,c.location,c.G9,c.Vb,c.EA,c.fo,c.Yq),c.Yq=void 0,h.NK=c.location);this.G.up||(c.kxa=c.location,c.lxa=c.Vb);};a.prototype.Cza=function(a,c,d,g,h,p){var k,m;k=this.dg===b.Da.VIDEO?"video":"audio";m=f.ah().get(!1);a={type:"serverSwitch",manifestIndex:a,segmentId:c,mediatype:k,server:d,reason:g,location:h,bitrate:p,confidence:m.Jc};m.Jc&&(a.throughput=m.Ba.Qa);this.gS.eu.OK&&(a.oldserver=d);q.Ka(this.BJ,a.type,a);};a.prototype.Aza=function(a,c,f,d,g,h,p,l){q.Ka(this.BJ,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:c,mediatype:this.dg===b.Da.VIDEO?"video":"audio",location:f,locationlv:d,serverid:g,servername:h,selreason:p,seldetail:l});};return a;}();d.gRa=g;},function(g,d,a){var b,f,h,q,c,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(357);g=a(86);h=a(5);q=a(20);c=a(11);m=q.yw;a=function(a){function d(b,c,d,g,k,p,q,u,l,n,t,ja){var r,y;r=a.call(this,b)||this;r.G=c;r.ie=k;r.wa=p;r.S=u;r.S_a=n;r.by=!1;r.Z1=!1;r.PZa=1;r.L=m(h,d,p.id&&p.id.length?"{"+p.id+"}":"");r.Jd=r.L.error.bind(r.L);r.Ga=r.L.warn.bind(r.L);r.Yl=r.L.trace.bind(r.L);void 0===l&&(l=u);r.VH=[];if(!ja){y=n.lEa;[0,1].forEach(function(a){r.VH[a]=new f.rja(r,r.G,r.L,g,k,r,q[a],l,y[a],t&&t.Ve(a));});}return r;}b.__extends(d,a);Object.defineProperties(d.prototype,{closed:{get:function(){return this.by;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Vn:{get:function(){return this.Z1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{weight:{get:function(){return this.PZa;},enumerable:!0,configurable:!0}});d.prototype.Ve=function(a){return this.VH[a];};d.prototype.Ph=function(a){this.closed?this.Ga("oncomplete ignored, pipelines shutdown, mediaRequest:",a):(a.U2||(c.assert(!a.Yb),this.S_a.Plb(a.M,a.duration,a.Be,a.rl)),this.zq(a));};return d;}(g.Fr);d.UHa=a;},function(g,d,a){var b,f,h,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(48);h=a(6);g=a(712);q=a(709);c=a(12);m=a(5);k=a(33);a=function(a){function d(b,c,f,d,g,h,k,m,p,r,u,l,n,t,Y,V,M){var y,A;y=a.call(this,r.P,c,d,b,f,r,u,l,Y,p,t,!0)||this;y.la=b;y.Ib=g;y.Uu=h;y.fa=k;y.Eo=m;y.Md=n;y.pf=t;y.XD=V;y.ye=M;y.active=!1;y.xma=[];y.children=Object.create(null);y.sr=[];y.Zc=void 0;void 0===Y&&(Y=l);A=p.lEa;[0,1].forEach(function(a){var d;if(y.eb(a)){d=new q.qja(b,f,y.L,y,u[a],Y.Ad,A[a],c,y.Uu,t&&t.Ve(a),y.ye);y.VH[a]=d;}});return y;}b.__extends(d,a);Object.defineProperties(d.prototype,{I:{get:function(){return this.P.I;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ck:{get:function(){return[this.$c[0].Ck,this.$c[1].Ck];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{al:{get:function(){return[this.$c[0].al,this.$c[1].al];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gd:{get:function(){return this.S.Ad;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{hg:{get:function(){return this.ka;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ka:{get:function(){return h.na(this.PVa)?this.PVa:this.wa.ka;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ec:{get:function(){return this.S.Ad+this.Md;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pe:{get:function(){return this.ka+this.Md;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{P:{get:function(){return this.wa.P;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{eb:{get:function(){return this.P.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$c:{get:function(){return this.VH;},enumerable:!0,configurable:!0}});d.prototype.dc=function(a){return this.$c[a];};d.prototype.Ieb=function(){return this.$c.every(function(a){return 0===a.wA;});};d.prototype.toJSON=function(){return{segment:this.wa.id,active:this.active,branchOffset:this.Md,viewableId:this.P.nb,contentStartPts:this.S,contentEndPts:this.ka,playerStartPts:this.ec,playerEndPts:this.pe,pipelines:this.$c,previousBranch:this.pf};};d.prototype.HDa=function(a,b){this.wa.P=a;this.ADa(this.P);this.$c.forEach(function(a){var c;c=b[a.M];c&&a.FDa(c);});};d.prototype.$ab=function(a){if(this.active)return this.ye[a];};d.prototype.Ve=function(a){return this.$c[a];};d.prototype.hdb=function(a){return this.$c[a].wA;};d.prototype.Ri=function(a,b){a=this.$c[a];if(!a)return 0;if(b)return a.Ck;b=a.Ws;a=this.la.fa.oe();return b-a;};d.prototype.yca=function(a,b,c){var f,d,g,h;f=this;d=this.wa;a=this.yR(d.S,this.P,a,this.I===(a?a.I:this.Ib.ub.I));g=a.oA;h=a.Xo;void 0===b&&(b=[0,1]);0===h.length||b.forEach(function(a){var b,g;b=f.$c[a];c&&(b.jg=h[a]);g=f.RJ(d.ka);b.gX(g[a]);});return g;};d.prototype.TBa=function(a,b){var c,f,d;c=this.la;f=this.$c[0];void 0===b&&(b=f.Lfb);this.pf&&(d=this.pf.dc(0));c=new q.qja(c,this.ie,this.L,this,a,b,f.uM,this.G,this.Uu,d,this.ye);c.qF=!0;c.LW={reason:"audioTrackChange",time:m.time.ea()};this.$c[0]=c;this.yca(this.pf,[0],!0);c.ax(b);f.reset(!0,"audioTrackChange");h.jd(this.children,function(b){b&&b.TBa(a);});};d.prototype.xq=function(a,b){if(b=this.$c[b])return b.Ua.xq(a);};d.prototype.SC=function(a){void 0===a?this.$c.forEach(function(a){a.SC();}):this.$c[a].SC();};d.prototype.TL=function(a,b,c){(a=this.$c[a])&&a.Ua.TL(b,c);};d.prototype.CT=function(a,b){(b=this.$c[b])&&b.Ua.CT(a);};d.prototype.ll=function(){var a;a=this;this.closed||(this.$c.forEach(function(b){b.Ua.reset();b.active&&a.Jd("Destroying active pipeline!");}),this.VH=[],this.oc());};d.prototype.oc=function(){this.pf&&(this.pf=this.pf.children[this.wa.id]=void 0);h.jd(this.children,function(a){a&&a.pf&&(a.pf=void 0);});this.children=Object.create(null);this.$B=void 0;this.by=!0;};d.prototype.ava=function(a){return this.$c[a].Ua.Umb;};d.prototype.Dib=function(a){this.xma[a]=!0;};d.prototype.G2a=function(){var a;a=this;return[0,1].every(function(b){return!a.eb(b)||a.xma[b];});};d.prototype.CR=function(a,b,f,d,g,h,k,m,p){var r,q,u;g=this.G;r=this.la;q=h===c.Fa.Bi||h===c.Fa.Up;if(!q&&void 0===k)return!0;p||(p=0);m=this.$c[0];u=this.$c[1];b=!m||m.CR(p,h,this.fa.oe(),b.Dm,d);h=!u||u.CR(p,h,this.fa.oe(),a.Dm,f);a=this.Ri(0);f=this.Ri(1);g.jf&&this.ie.Oh("Branch checkBufferingComplete02, audio: "+a+" video: "+f+" audio ready: "+b+" video ready: "+h);void 0!==k&&b&&(k=k.cb,p=r.pc.P.iE(k),this.xla(k,p.iN),r.mq=void 0);if(b&&h)return this.Eo(),!0;if(q){k=!u||f>g.Wf;if((!m||a>g.Wf)&&k&&(m=this.XD(),m>=g.Rw))return this.Ga("buffering longer than limit: "+m+" >= "+g.Rw+", audio buffer: "+a+" ms, video buffer: "+f+" ms"),this.Eo(),!0;this.ie.$ma();}return!1;};d.prototype.zv=function(a,b,f,d,g,h,k,m){var p,r,q,u;b=this.G;p=this.la;r=g===c.Fa.Bi||g===c.Fa.Up;if(!r&&void 0===h)return!0;g=this.$c[0];q=this.$c[1];if(d&&a.Dm>=b.Wf&&(b.IW&&(k=a.Dm+1E3),b.JW&&!(g&&g.connected&&q&&q.connected)))return!1;a=this.Ri(0);d=this.Ri(1);b.jf&&this.ie.Oh("Branch checkBufferingComplete, audio: "+a+" video: "+d);if(g&&g.Rb||q&&q.Rb){if(this.tH)return this.Ga("checkBufferingComplete ignored because stallAtFrameCount already hit"),!0;u=q&&q.Rb&&q.Rb.Xs<q.Rb.Jw;if(!(g&&g.Rb&&g.Rb.Xs<g.Rb.Jw||u))return this.Ga("checkBufferingComplete with enough frames, declare bufferingComplete","audio:",g&&g.Rb?g.Rb.Xs:"n/a","video:",q&&q.Rb?q.Rb.Xs:"n/a"),this.tH=!0,this.Eo(),!0;}f=this.FR(k,m,f);void 0!==h&&(a>=b.Wf||f)&&(h=h.cb,k=p.pc.P.iE(h),this.xla(h,k.iN),p.mq=void 0);if(f)return this.Eo(),!0;if(r){p=!q||d>b.Wf;if((!g||a>b.Wf)&&p&&(p=this.XD(),p>=b.Rw))return this.Ga("buffering longer than limit: "+p+" >= "+b.Rw+", audio buffer: "+a+" ms, video buffer: "+d+" ms"),this.Eo(),!0;this.ie.$ma();}return!1;};d.prototype.FR=function(a,b,c,f){var d,g,h,k,m,p,r;d=this.G;g=this.$c[0];h=this.$c[1];k=this.Ri(0,f);f=this.Ri(1,f);a||(a=d.Wf);b||(b=0);m=!this.eb(0)||g.ug&&0===g.Ua.Ow;p=!this.eb(1)||h.ug&&0===h.Ua.Ow;r=m&&p;m=!m&&k<d.Wf;if(!r&&(m||!p&&f<a))return!1;if(d.AS){if(a=this.fa.Ec(),h&&h.zv(b,a,this.fa.oe(),c)||!this.eb(1))return!0;}else if(h&&h.cl||!this.eb(1))return!0;b=g?g.Ua.Ip:0;h=h?h.Ua.Ip:0;d=d.Fs&&(0!==b||0!==h);if(r&&!d)if(this.la.mQ&&0===k&&0===f)this.Ga("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};d.prototype.Yrb=function(a,b){var c,f;c=this;f=this.G;this.$c.forEach(function(a){a.seeking=void 0;});a&&(f.jf&&this.$c.forEach(function(a){a&&(a="bufferingComplete: , mediaType: "+a.M+", bufferLevelBytes: "+a.KI+", completedMs: "+a.gD+", completedBytes: "+c.Ib.TI(c,a.M)+", partials: "+a.Ua.Ow+", streamingPts: "+a.bb+", completeStreamingPts: "+a.Ws+", fragments: "+JSON.stringify(a.Ua.X)+", toAppend: "+b(a.M),c.ie.Oh(a));}),this.ie.nXa());};d.prototype.dua=function(){var a,b;a=!0;b={};this.$c.map(function(c){var f;f=1===c.M?"v":"a";b[f+"buflmsec"]=c.al.Ad;b[f+"buflbytes"]=c.D3;a=a&&0<c.al.Ad;});return{NT:a,LI:b};};d.prototype.xX=function(a,b,c){var f,d,g;f=this;d=m.time.ea();g={};h.jd(this.children,function(a){var b,c;if(a){a.Zc?(a.Zc.l8a=d-a.Zc.iU,a.Zc.iU=void 0,b=a.Zc.weight):b=f.Ib.jva(f.wa.id,a.wa.id);c=a.dua();g[a.wa.id]={weight:b,LI:c.LI,NT:c.NT};}});c={requestTime:d,VW:a,n7a:c,vX:this.wa.id,Zc:g};a||(a=b.oe(),c.ZDa=a-this.S.Ad+this.Md,c.eS=0,c.startTime=d);this.sr.unshift(c);return c;};d.prototype.t3a=function(a){var b,c;b=this.sr[0];b.VW&&(b.ZDa=this.ka-this.S.Ad);c=a.dua();b.fFa={};f(c.LI,b.fFa);b.NT=a.al.every(function(a){return 0<a.Ad;});this.sr=[];return b;};d.prototype.Yi=function(a){var b;b=this.wa;a-=this.Md;if(b.S<a&&a<b.ka)this.sr.shift();else if(b=this.sr[0])b.Yi=!0;};d.prototype.reset=function(a,b,c){this.$c.forEach(function(b){(h.U(c)||b.M===c)&&b.reset(!1,a);});b&&this.pf&&this.pf.reset(a,b,c);};d.prototype.yR=function(a,b,c,f){var d,g,h,k,m;d=this;void 0===b&&(b=this.P);if(c){g=c.$c[1].uk;c=c.$c[0].uk;if(!g||!c)return{oA:[],Xo:[]};h=g.ka;k=c.ka;g=k-h;f||(h=void 0);k-=c.S;}m=this.mta(a,h,g,k,b);b.Ha===this.Ib.q6a&&[1,0].forEach(function(a){var b;b=d.Ve(a);b&&(b.jg=m[a]);});return{oA:m.map(function(a){return a.S;}),Xo:m};};d.prototype.mta=function(a,b,c,f,d){var g;g=this;void 0===d&&(d=this.P);return this.koa(d)?[1,0].map(function(h){if(!g.eb(h))return{};h=g.$c[h].lta(d.yd[h].stream,a,b,c,f);a=h.S;return h;}).reverse():[];};d.prototype.RJ=function(a,b){var c;c=this;void 0===b&&(b=this.P);return this.koa(b)?[1,0].map(function(f){var d;if(!c.eb(f))return{};d=b.yd[f].stream;f=c.$c[f].I$a(d,a);a=c.G.Rb?new k.sb(f.tb,d.La.ca).Ad:f.ka;return f;}).reverse():[];};d.prototype.Nvb=function(a,b){var c;c=this.wa.ka;c&&c<b&&(a=this.RJ(c));b=this.dc(1);c=this.dc(0);b&&b.gX(a[1]);c&&c.gX(a[0]);};d.prototype.koa=function(a){var b;b=a.yd;if(!b)return!1;a=b[1];a=!this.eb(1)||a&&a.stream.md;b=b[0];b=!this.eb(0)||b&&b.stream.md;return a&&b?!0:!1;};d.prototype.xla=function(a,b){this.ie.lXa(a,b);};return d;}(g.UHa);d.THa=a;},function(g,d,a){var b,f,h,q,c,m,k,u,r,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(48);h=a(5);q=a(713);c=a(701);m=a(127);k=a(700);u=a(20);r=a(11);l=a(33);g=function(){function a(a,b,c,f,d,g,m,p,q,l,n){this.la=a;this.ie=b;this.L=c;this.Hd=f;this.Eo=d;this.G=p;this.Uu=q;this.fYa=l;this.XD=n;this.Ga=this.L.warn.bind(this.L);this.Yl=this.L.trace.bind(this.L);this.jb=this.L.log.bind(this.L);this.Sl=[];this.gk={};g.XI?(r.assert(!g.Dl),this.M0=!0,this.ZXa(g,g.XI,m)):(this.ek=this.Y0(g.Dl||"",g,0,void 0,void 0,{},!0),this.ek.Z$=!0,this.ek.ka=Infinity,this.LQ=[this.ek]);this.ed=this.BP(this.ek,this.ek.S,void 0,m);this.ed.active=!0;a=u.yw(h,this.L,"BranchQueue::");this.ay=new k.VRa(a);this.ay.enqueue(this.ed);this.nQ=this.XP=void 0;}Object.defineProperties(a.prototype,{gp:{get:function(){return!!this.M0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fw:{get:function(){return this.ed.closed;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{At:{get:function(){return this.ek;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Dg:{get:function(){return this.ed.wa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{q6a:{get:function(){return this.ed.P.Ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ub:{get:function(){return this.ed;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Jpa:{get:function(){return this.Sl;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Md:{get:function(){return this.ed.Md;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ye:{get:function(){return this.la.ye;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zk:{get:function(){return this.XP?this.XP:this.Jpa[0];},enumerable:!0,configurable:!0}});a.prototype.st=function(a){return this.gk[a];};a.prototype.L7=function(a){return"m"+a;};a.prototype.jva=function(a,b){var c;c=this.gk[a];if(c)return(a=c.mk[b])&&a.weight;this.Ga("getSegmentWeight, unknown segment:",a);};a.prototype.sdb=function(a){var b;b=this.gk[a];if(b)return b.S;this.Ga("getSegmentStartPts, unknown segment:",a);};a.prototype.rdb=function(a){var c;c=this.gk[a];if(!c)this.Ga("getSegmentDuration, unknown segment:",a);else if(b.na(c.ka)&&isFinite(c.ka)&&b.na(c.S)&&isFinite(c.S))return c.ka-c.S;};a.prototype.$1a=function(a,b){var f;for(var c=0;a;){f=a.Ve(b);f&&(c+=f.X2);a=a.pf;}return c;};a.prototype.TI=function(a,b){var f;for(var c=0;a;){f=a.Ve(b);f&&(c+=f.fD);a=a.pf;}return c;};a.prototype.t6=function(a){return this.Sl.filter(function(b){if(b.P.Ha===a)return!0;});};a.prototype.D$a=function(a,b){return this.kma(a,!1,b);};a.prototype.C$a=function(a,b){return this.kma(a,!0,b);};a.prototype.bqb=function(a,c,f){b.jd(this.Sl,function(b){b.P===a&&b.HDa(c,f);});b.jd(this.gk,function(b){b.P===a&&(b.P=c);});};a.prototype.tCa=function(){var a;a=this;b.jd(this.Sl,function(b){var c;c=a.la.ri(b.P.Ha);b.Md=c.Nq;});};a.prototype.iX=function(a){b.jd(this.Sl,function(b){b.Ve(1).gc.forEach(function(b){var c;c=m.g3(b.uf,b.O,a);f(c,b);});});};a.prototype.xq=function(a,b,c,f){var d;for(;b;){d=b.xq(a,c);if(d)return d;if(f)break;b=b.pf;}};a.prototype.vra=function(a){var b,c;b=this;void 0===a&&(a=!1);c=this.Sl;a&&(c=c.filter(function(a){return a!==b.ed;}));c.forEach(function(a){a.active=!1;b.ay.remove(a);});a||this.ay.clear();return c;};a.prototype.Hob=function(){var a;for(;0<this.Sl.length;){a=this.Sl[0];if(!a.active)break;if(a===this.ed)break;if(!a.Ieb())break;a.oc();this.Sl.shift();}};a.prototype.TL=function(a,b,c,f,d){if(c>f){for(c-=f;a;)a.TL(b,c,d),a=a.pf;return c;}};a.prototype.Xxa=function(a,b){for(var c={aF:null,ec:null,Bm:0,Uh:0,X:[]};a;)a.CT(c,b),a=a.pf;return c;};a.prototype.e3a=function(a){var b,c,f;b=this.ed;if(b.Pxa)c=b.Pxa;else{f=this.ed.Md;c=this.BP(b.wa,0,b);m.wg.forEach(function(a){var f;f=c.dc(a);f&&(f.ax(0),f.gX(b.dc(a).uk));});c.Md=f+a;b.Pxa=c;}this.RB(c,b);};a.prototype.A_a=function(a,b,c){var f,d;r.assert(!a.gp());if(!this.M0){this.M0=!0;f=this.ek.id||this.L7(0);this.ek.id=f;this.gk[f]=this.ek;this.ek.ka=this.la.hcb().Iua();this.ek.bF=!0;}d=void 0!==a.Dl?a.Dl:this.L7(a.Ha);a=this.Y0(d,a,b,c,void 0,{},!0);a.bF=!0;this.LQ.forEach(function(a){a.mk={};a.mk[d]={weight:100};a.pJ=d;a.PF=!1;});this.LQ=[a];};a.prototype.Av=function(a,b){var c,f,d,g;c=this.zk;f=c.xX(b,this.la.fa);d=c.wa;g=c.children[a];if(b){if(!d.mk[a])return this.ed.Ga("chooseNextSegment, invalid destination:",a,"for current segment:",d.id),!1;if(c.Eg)return c.Eg===a;c.Eg=a;g&&c.aT&&this.RB(g,c);return!0;}if(void 0!==c.Eg)return!1;if(!g)return f.kza=!0,!1;b||(f.kza=!g.FR());this.la.f2("chooseNextSegment",!1);c.aT=void 0;c.Eg=a;this.RB(g,c);return!0;};a.prototype.Zeb=function(a,c){var f,d,g,h,k,m,p;f=this;h=a.wa;c&&!a.Eg&&(a.Eg=h.pJ,a.xX(!0,this.la.fa,!0));a.children=Object.create(null);if(this.G.Wlb)if(a.Eg)d=this.gk[a.Eg],g=this.Z0(d,a),a.children[a.Eg]=g;else{b.jd(h.mk,function(a,c){d=f.gk[c];a=d.weight;if(b.U(p)||a>p)k=d,m=c,p=a;});k&&(g=this.Z0(k,a),a.children[m]=g);}else b.jd(h.mk,function(b,c){a.Eg&&c!==a.Eg||(d=f.gk[c],g=f.Z0(d,a),a.children[c]=g);});a.Eg&&(c=a.children[a.Eg])&&this.RB(c,a);a.aT=!0;};a.prototype.Xub=function(){var a;a=0;b.jd(this.Sl,function(b){m.wg.forEach(function(c){b.eb(c)&&(a+=b.dc(c).Ua.hq);});});return a;};a.prototype.mub=function(a,b){var c,f;c=this.YVa(a,b);if(c){c!==this.ed.wa?(this.vra(),f=this.BP(c,a,this.ed),f.pf=void 0,f.yca(void 0,void 0,!0),this.AUa(this.ed),this.RB(f,this.ed)):this.vra(!0).forEach(function(a){a.oc();});c===this.zk.wa&&(this.zk.sr.shift(),f&&(f.sr=this.zk.sr,f.Eg=this.zk.Eg));this.ie.cna(c,this.ed.Md);this.ed.aT=void 0;}else this.Ga("findSegment no segment for manifestIndex:",b);};a.prototype.Wxa=function(a,b){var c;c=a.wa;b||(b=c.pJ);u.qM(c.id);a.Eg||(a.Eg=b,a.xX(!0,this.la.fa,!0));(b=a.children[a.Eg])&&this.RB(b,a);};a.prototype.sDa=function(a,b){if(this.ed!==a){if(b)for(b=this.ed;b&&b!==a;)b.active=!1,this.ay.remove(b),b=b.pf;this.ed=a;}};a.prototype.Jp=function(a,b){var c,f,d,g,h;c=this;if(this.gp){f=this.G;d=this.zk;g=d.wa;h=u.qM(g.id);!d.Eg&&!g.PF&&d.ka-b<=f.sV&&(this.Ga(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.Wxa(d));}m.wg.forEach(function(a){c.ed.eb(a)&&c.ye[a].Jp();});};a.prototype.alb=function(a,b){var c,f;if(this.gp){c=this.XP;if(this.G.pfb&&a&&this.nQ&&a.S===this.nQ)this.Yl("Ignoring pts that wiggled back into previous segment",this.nQ);else if(a=a.Ua.cc,!c||a.wa.id!==c.wa.id){f=c&&c.dc(1);this.nQ=(f=f&&f.uk)&&f.S;this.XP=a;this.UUa(c);c=c&&c.t3a(a);this.ie.EXa(a.wa,b,c);}}};a.prototype.oc=function(){this.ed.ll();this.ay.clear();};a.prototype.Nkb=function(a,b,c){b.Z$||(b.S=this.la.Zua(a,b.S,!0),c||(b.ka=this.la.Zua(a,b.ka,!1)),b.Z$=!0,!1);};a.prototype.Tda=function(a,c){var f;u.qM(a);f=this.gk[a];f?b.jd(f.mk,function(a,b){a.weight=c[b]||0;}):this.Ga("updateChoiceMapEntry, unknown segment:",a);};a.prototype.Ema=function(a,b,c){var f;f=b?c.hg:c.pe;return(b?c.gd:c.ec)<=a&&a<f;};a.prototype.kma=function(a,c,f){var k;for(var d=this.la,g=this.ed;g;){if((!b.na(f)||d.X8(f,g.P.Ha))&&this.Ema(a,c,g))return g;g=g.pf;}if(c)for(var g=Object.keys(this.ed.children),h=0;h<g.length;h++){k=this.ed.children[g[h]];if((!b.na(f)||d.X8(f,k.P.Ha))&&this.Ema(a,c,k))return k;}};a.prototype.Z0=function(a,b){var c,f;c=this.BP(a,a.S,b);f=c.yca(b,void 0,this.G.sba);m.wg.forEach(function(a){var d,g;if(c.eb(a)){d=c.dc(a);g=b.dc(a);1===a&&(g=g.bb+b.Md,c.Md=g-f[a],c.S=l.sb.WD(f[a]));d.ax(f[a]);}});this.ie.cna(a,c.Md);return c;};a.prototype.AUa=function(a){for(var b=[a.wa.id];a.pf;)a=a.pf,b.unshift(a.wa.id);this.E0(a);};a.prototype.E0=function(a){var c,f,d;c=this;f=a.wa;b.jd(a.children,function(a){a&&c.E0(a);});a.reset("abortBranch",!1);this.ay.remove(a);a.active=!1;a.oc();d=-1;this.Sl.some(function(b,c){return b===a?(d=c,!0):!1;});-1!==d?this.Sl.splice(d,1):this.Ga("Unable to find branch:",a,"in branches array");this.ie.BXa(f);};a.prototype.RB=function(a,c){var f,d,g,k;f=this;d=c.wa;c.P!==a.P&&this.la.Jma(a.P.Ha);a.active=!0;this.ay.enqueue(a);a.SC();g=h.time.ea();k={};b.jd(c.children,function(b){var c,d;if(b){if(b.Zc){c=b.dc(0);d=b.dc(1);b.Zc.F3=[c?c.al.Ad:0,d?d.al.Ad:0];b.Zc.l8a=g-b.Zc.iU;b.Zc.iU=void 0;k[b.wa.id]=b.Zc;}b.wa.id!==a.wa.id&&f.E0(b);}});c.children=Object.create(null);c.children[a.wa.id]=a;c.$B=void 0;this.sDa(a);this.ie.CXa(a.wa,k);1<Object.keys(d.mk).length&&a.FR();};a.prototype.UUa=function(a){var b,c;if(a){b=h.time.ea();c=a.sr[0];c&&void 0===c.eS?c.eS=b-c.requestTime:c||(this.Ga("missing metrics for branch:",a.wa.id),c={vX:a.wa.id,VW:!0,eS:0,Zc:{}},a.sr.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.YVa=function(a,c){var f,d,h,k;r.assert(0<=a);for(var g in this.gk){h=this.gk[g];if(this.la.X8(h.P.Ha,c)){if(h.S<=a&&(Infinity===h.ka||void 0===h.ka||a<h.ka))return h;k=Math.min(Math.abs(a-h.S),Math.abs(a-h.ka));if(b.U(f)||k<f)f=k,d=h;}}return d;};a.prototype.Y0=function(a,b,f,d,g,h,k,m){b=new c.SSa(a,b,f,d,g,h,k,m);return this.gk[a]=b;};a.prototype.ZXa=function(a,c,f){var d,g,h;d=this;this.ek=void 0;this.LQ=[];g=null;h=null;b.jd(c.segments,function(c,k){var m,p,r,q,u;m=c.startTimeMs;p=c.endTimeMs;r={};b.jd(c.next,function(a,b){r[b]={weight:a.weight||0,BMb:a.transitionHint||c.transitionHint,C8a:"number"===typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:c.earliestSkipRequestOffset};});q=c.defaultNext;b.U(q)&&(q=Object.keys(r)[0]);u=b.U(q);q=d.Y0(k,a,m,p,q,r,u,c.transitionDelayZones);m<=f&&(f<p||b.U(p))?d.ek=q:m>f&&(!g||m<h)&&(g=k,h=m);u&&d.LQ.push(q);});this.ek||(this.ek=g?this.gk[g]:this.gk[c.initialSegment]);};a.prototype.BP=function(a,b,c,f){var d,g,h,k;d=a.P;g=this.la.ri(d.Ha);h=g.Nq;k=[];[0,1].forEach(function(a){d.eb(a)&&(k[a]=g.ot(a));});a=new q.THa(this.la,this.G,this.ie,this.L,this,this.Uu,this.fYa,this.Eo,this.Hd,a,k,l.sb.WD(b),h,c,f?l.sb.WD(f):void 0,this.XD,this.la.ye);this.Sl.push(a);return a;};return a;}();d.VHa=g;},function(g,d,a){var b,f,h,q,c,m,k,u,r,l,n,t,F,D,O,aa,N,ba,Q,ja,z,X,T,Y,V,M,fa,B;Object.defineProperty(d,"__esModule",{value:!0});b=a(49);f=a(6);h=a(714);q=a(220);c=a(698);m=a(209);k=a(12);u=a(387);r=a(223);l=a(210);n=a(697);t=a(686);F=a(352);D=a(684);O=a(5);aa=O.Promise;N=O.MediaSource;ba=a(20);Q=a(11);ja=a(158);z=a(682);X=a(681);T=a(680);Y=a(679);V=a(73);M=a(678);fa=a(677);B=a(676);g=a(47);a=function(){var A1Z;A1Z=2;function a(a,f,d,g,k,m,p,r,q,u,y){var J1Z,A,F,N,d3O,C3O,t3O,z3O,e2O,J2O;J1Z=2;while(J1Z!==73){d3O="b";d3O+="ra";d3O+="nchi";d3O+="n";d3O+="g";C3O="managerde";C3O+="b";C3O+="ugeve";C3O+="nt";t3O="me";t3O+="di";t3O+="a|a";t3O+="sejs";z3O="A";z3O+="SE";z3O+="J";z3O+="S";e2O="1SIY";e2O+="bZrNJ";e2O+="Cp9";J2O="m";J2O+="edi";J2O+="ac";J2O+="a";J2O+="che";switch(J1Z){case 59:u=u.Teb;for(var I in u){d=u[I];u.hasOwnProperty(I)&&d&&(this.G[I]=d);}J1Z=57;break;case 60:J1Z=u.T5&&this.Hd.uU?59:56;break;case 23:this.fa=new fa.eHa(q);this.cI=k||0;this.ls=this.TP=this.SP=0;this.I0=r;this.yQ=this.FC=!1;J1Z=33;break;case 46:d=c.Uha.create({Ha:0,ya:f,Dl:d,bDa:g,Zd:!!m.Zd,ji:!!m.ji,Ps:y||this.sH,S:0,ka:m.ka,Va:this.Va,ut:this.vma.bind(this),jr:this.jr.bind(this),eb:this.eb.bind(this),Ob:this,config:this.G,L:this.L,Ce:this.Ce,Xi:this.Xi,We:this.joa?this.Ib.We:void 0,oz:this.oz});d.Ey=!0;d.By=!0;f=d.P;f.KD()&&(this.SP=this.cI+u.rda,this.TP=O.time.ea());this.Eb=[d];this.Hd=new n.RGa(this,this.L,a,this.Ib.Gc,u,this.gya(),k,this.eb.bind(this));J1Z=60;break;case 30:this.zg=new b.Cx();this.Xi=new B.RSa(this,this.L,this.eb.bind(this),F);this.Ce=new T.GKa(this,this.L,this.eb.bind(this));J1Z=44;break;case 13:F=new M.yPa(this,this.L);this.Va=F;this.Qqa=new z.XIa(this.L);this.tw=new Y.FNa(this,this.L,this.eb.bind(this));J1Z=20;break;case 54:0===Math.floor(1E6*Math.random())%u.vI&&(this.CYa=new D.hSa());this.ye=[];this.sca=new l.m_(this.Ib.Gc,this.Ib.Lh,!m.Zd,this.G,void 0);this.sca.LC(f);J1Z=50;break;case 43:J1Z=u.jf&&this.Ib.We?42:41;break;case 41:J1Z=(u.Zda||u.qx)&&this.Ib.We?40:39;break;case 40:this.zg.on(this.Ib.We,J2O,function(a){var D1Z,a2O;D1Z=2;while(D1Z!==1){a2O="medi";a2O+="ac";a2O+="ache";switch(D1Z){case 4:ba.Ka(A,"",a);D1Z=2;break;D1Z=1;break;case 2:ba.Ka(A,a2O,a);D1Z=1;break;}}});J1Z=39;break;case 50:a=this.sca.zdb();k=null;u.FJ&&(k=this.Ib.Bp.fv);ja.mu.ah().reset();J1Z=46;break;case 2:A=this;this.nP=!1;this.sH=[];this.oz={hs:[Object.create(null),Object.create(null)],$P:[void 0,void 0]};J1Z=9;break;case 44:this.yJ=new X.FKa(this,this.L,F);J1Z=43;break;case 9:e2O;this.L=new O.Console(z3O,t3O,"("+p.sessionId+")");this.Jd=this.L.error.bind(this.L);this.Ga=this.L.warn.bind(this.L);this.Yl=this.L.trace.bind(this.L);J1Z=13;break;case 42:this.zg.on(this.Ib.We,C3O,function(a){var c1Z;c1Z=2;while(c1Z!==1){switch(c1Z){case 2:ba.Ka(A,a.type,a);c1Z=1;break;case 4:ba.Ka(A,a.type,a);c1Z=9;break;c1Z=1;break;}}});J1Z=41;break;case 27:this.joa=!!m.bG;this.JZa=!!m.aY;this.rC=m.$K;this.uQ=void 0;J1Z=23;break;case 20:this.mZa=[!m.VMb,!m.kGb];this.eb(0)&&this.eb(1);this.Ib=a;this.dk=p;this.G=u=this.Qqa.KUa(f,u);this.mQ=m.Naa;J1Z=27;break;case 33:this.FH=void 0;this.dna=0;this.aQ=-1;J1Z=30;break;case 39:a=Math.floor(1E6*Math.random());this.jm=0===a%u.u8&&0<u.pK.length;f&&f.choiceMap&&d3O===f.choiceMap.type&&(this.jm=!1,u.Xy&&!u.I8a&&(u.set?u.set({enableAdaptiveParallelStreaming:!1}):u.Xy=!1));this.DJ=this.jm&&0===a%u.t8;J1Z=54;break;case 76:J1Z=this.jm?75:73;break;case 56:this.ma=new h.VHa(this,this.Va,this.L,this.Hd,this.Eo.bind(this),f,this.cI,this.G,this.Ce,this.fa,this.XD.bind(this));I={$K:this.$K,fr:this.fr,jm:this.jm,DJ:this.DJ,dj:this.dj,qY:this.qY.bind(this)};this.Na=new t.hTa(this.L,this.Hd,this.G,this.eb.bind(this),this.Eb,this.fa,I,this.Ib.Gc,this.Va,this.Ce,this.ma,this.RE.bind(this));J1Z=76;break;case 57:this.Hd.Uda(this.G);J1Z=56;break;case 75:N=this;this.fa.addListener(function(a){var n1Z,S1Z;n1Z=2;while(n1Z!==1){switch(n1Z){case 2:try{S1Z=2;while(S1Z!==1){switch(S1Z){case 2:N.Na.Svb.bind(N.Na)(a);S1Z=1;break;}}}catch(ta){var u3O;u3O="Hindsight";u3O+=": Error";u3O+=" when adding updatePlaySegment";u3O+=" Listener: ";V5ii.f2O(0);N.Va.zm(V5ii.n2O(u3O,ta));}n1Z=1;break;}}});J1Z=73;break;}}}while(A1Z!==119){switch(A1Z){case 104:a.prototype.ioa=function(){var f2e,a,b,c,d,g,h,G3O,F3O;f2e=2;while(f2e!==16){G3O="ma";G3O+="nifest";G3O+="s";G3O+=":";F3O="updateRequest";F3O+="Urls, no ma";F3O+="nifestEntry:";switch(f2e){case 7:d=d.P;g=d.tl;r.wg.forEach(function(c){var o2e,W3O,K3O;o2e=2;while(o2e!==1){W3O="location selector is gone, ses";W3O+="sion has be";W3O+="en closed";K3O="location selector returned null str";K3O+="eam";K3O+="List";switch(o2e){case 2:a.eb(c)&&(c=a.ma.ub.dc(c),g?g.YX(a.ls,c.Db,c.gc)?(c=c.Ua.rN(),0<c.length&&b.push.apply(b,c)):c.Ga(K3O):c.Ga(W3O));o2e=1;break;}}});d=d.rN();f2e=12;break;case 9:f2e=!d?8:7;break;case 12:0<d.length&&b.push.apply(b,d);f2e=11;break;case 2:a=this;b=[];c=0;d=this.pc;f2e=9;break;case 8:return this.Jd(F3O,this.ls,G3O,this.Eb.length),!1;break;case 11:f2e=0<b.length?10:17;break;case 17:return!0;break;case 10:h={};b.forEach(function(b){var M2e;M2e=2;while(M2e!==1){switch(M2e){case 2:b.Yb&&(b=b.P.Ha,b>a.ls&&(h[b]=!0,++c));M2e=1;break;}}});f.jd(h,function(b,c){var K2e;K2e=2;while(K2e!==1){switch(K2e){case 2:a.Eb[c].P.nF();K2e=1;break;}}});return c===b.length?!0:!1;break;}}};a.prototype.nYa=function(a,b){var G2e,c;G2e=2;while(G2e!==3){switch(G2e){case 2:c=this.ye[a.M];a=this.ma.TL(a.cc,a.M,b,this.Ib.tX||0,function(a){var N2e;N2e=2;while(N2e!==1){switch(N2e){case 2:c.EW(a);N2e=1;break;case 4:c.EW(a);N2e=3;break;N2e=1;break;}}});f.U(a)||this.Ce.Ch();G2e=3;break;}}};a.prototype.oWa=function(a){var T2e,b;T2e=2;while(T2e!==8){switch(T2e){case 9:this.Eb.forEach(function(a,b){var X2e;X2e=2;while(X2e!==1){switch(X2e){case 2:a.k8||0===b||a.P.nF();X2e=1;break;}}});T2e=8;break;case 2:b=a.mediaType;a=this.Eb[a.manifestIndex].P.Fq(b,a.streamId);this.SYa(this.ma.ub.Ve(b),a);this.G=this.Qqa.MUa(a.uf,this.G);T2e=9;break;}}};a.prototype.rWa=function(a){var Q2e,b,c;Q2e=2;while(Q2e!==7){switch(Q2e){case 2:b=a.request;a=a.mediaType;Q2e=4;break;case 4:c=b.Ua;c.cc.Dib(a);b.TS&&this.Va.qXa(b);b.Kq&&this.Va.DXa(a,b.P.Ha,c.cc.wa);Q2e=7;break;}}};a.prototype.SYa=function(a,b){var Z2e;Z2e=2;while(Z2e!==1){switch(Z2e){case 2:this.Na.xm[a.M].Lq={id:b.pa,index:b.sg,O:b.O,Ba:b.Xa&&b.Xa.Jc&&b.Xa.Ba?b.Xa.Ba.Qa:0,location:b.location};Z2e=1;break;}}};a.prototype.V8=function(a){var u2e,b,c,f,d,g,h;u2e=2;while(u2e!==16){switch(u2e){case 4:u2e=!this.ma.ub.closed?3:17;break;case 8:u2e=d&&f?7:18;break;case 3:f=this.ma.ub.dc(0);d=this.ma.ub.dc(1);u2e=8;break;case 18:a&&c&&(a=c[1],c=c[0],a&&c&&(b.atoappend=a.cX(),b.vtoappend=c.cX()));u2e=17;break;case 2:b={};c=this.ye;u2e=4;break;case 7:g=f.al;h=d.al;b.vspts=d.bb;b.aspts=f.bb;u2e=12;break;case 12:b.vbuflbytes=d.D3;b.abuflbytes=f.D3;u2e=10;break;case 10:b.vbuflmsec=h.Ad;b.abuflmsec=g.Ad;u2e=19;break;case 19:a&&(b.a=f.Ua.X.toJSON(),b.v=d.Ua.X.toJSON());u2e=18;break;case 17:return b;break;}}};a.prototype.Bdb=function(a){var Y2e,b,c,f,d,g,h,k;Y2e=2;while(Y2e!==12){switch(Y2e){case 4:Y2e=c?3:12;break;case 3:f=this.Na.xm[a];d=this.ma.TI(b,a);Y2e=8;break;case 2:Y2e=1;break;case 1:b=this.ma.ub;c=b.Ve(a);Y2e=4;break;case 8:f=f.Lq?f.Lq.O:0;g=c.Ua.waa;h=this.ma.Md;k=O.qk()[a];return{type:a,availableMediaBuffer:k-d,completeBuffer:b.Ri(a),incompleteBuffer:g,playbackBitrate:c.KAa,streamingBitrate:f,streamingTime:c.bb+h,usedMediaBuffer:d,toappend:c.Ywb};break;}}};a.prototype.nqb=function(){var r2e,a,P3O;r2e=2;while(r2e!==4){P3O="re";P3O+="questGa";P3O+="rbageCollection";switch(r2e){case 2:a={type:P3O,time:O.time.ea()};ba.Ka(this,a.type,a);r2e=4;break;}}};a.prototype.pn=function(a,b,c,d,g,h){var w2e,r3O;w2e=2;while(w2e!==1){r3O="NF";r3O+="Err_MC_Stream";r3O+="ing";r3O+="Failure";switch(w2e){case 2:this.FC||(f.U(c)&&(c=r3O),this.FC=!0,this.Va.GXa(c,a,d,g,h,b));w2e=1;break;}}};a.prototype.vma=function(){var O2e,U3O;O2e=2;while(O2e!==5){U3O="Netw";U3O+="ork failu";U3O+="res reset!";switch(O2e){case 2:this.Ga(U3O);this.Ce.Ch();O2e=5;break;}}};A1Z=94;break;case 27:a.prototype.qY=function(){var k5e;k5e=2;while(k5e!==1){switch(k5e){case 2:return this.G.xwb?!this.yQ:!1;break;case 4:return this.G.xwb?+this.yQ:~4;break;k5e=1;break;}}};a.prototype.ri=function(a){var h5e;h5e=2;while(h5e!==1){switch(h5e){case 4:return this.Eb[a];break;h5e=1;break;case 2:return this.Eb[a];break;}}};a.prototype.hcb=function(){var U5e,a;U5e=2;while(U5e!==4){switch(U5e){case 2:a=this.Eb[0];return a.P.Rd.Zd?this.Eb[1]:a;break;}}};a.prototype.dE=function(){var E5e;E5e=2;while(E5e!==1){switch(E5e){case 2:return this.Eb.length;break;case 4:return this.Eb.length;break;E5e=1;break;}}};a.prototype.X8=function(a,b){var f5e;f5e=2;while(f5e!==9){switch(f5e){case 1:return!0;break;case 5:a=this.Eb[a];b=this.Eb[b];return a.P.Rd.Zd&&b.P.Rd.eL||b.P.Rd.Zd&&a.P.Rd.eL;break;case 2:f5e=a===b?1:5;break;}}};a.prototype.kua=function(a){var o5e;o5e=2;while(o5e!==5){switch(o5e){case 1:return{Md:a.Md,ec:a.ec,pe:a.pe,gd:a.gd,hg:a.hg};break;case 2:o5e=(a=this.ma.zk.children[a])?1:5;break;}}};a.prototype.G7=function(){var M5e,a;M5e=2;while(M5e!==4){switch(M5e){case 2:a=this.ma.zk;return{id:a.wa.id,Md:a.Md,ec:a.ec,pe:a.pe,gd:a.gd,hg:a.hg};break;}}};a.prototype.rsb=function(){var K5e,a,b;K5e=2;while(K5e!==9){switch(K5e){case 4:b=this.fa.oe()||0;r.wg.forEach(function(c){var G5e;G5e=2;while(G5e!==1){switch(G5e){case 2:(c=a.ma.ub.dc(c))&&c.ER(b);G5e=1;break;}}});K5e=9;break;case 2:a=this;this.mQ=!1;K5e=4;break;}}};a.prototype.Tda=function(a,b){var N5e;N5e=2;while(N5e!==1){switch(N5e){case 4:return this.ma.Tda(a,b);break;N5e=1;break;case 2:return this.ma.Tda(a,b);break;}}};a.prototype.lVa=function(){var T5e,a,b;T5e=2;while(T5e!==9){switch(T5e){case 2:b=0;T5e=1;break;case 4:++b;T5e=1;break;case 5:a=this.Eb[b],a.oc();T5e=4;break;case 3:this.Eb.length=0;T5e=9;break;case 1:T5e=b<this.Eb.length?5:3;break;}}};A1Z=32;break;case 94:a.prototype.sWa=function(a,b){var p2e;p2e=2;while(p2e!==1){switch(p2e){case 2:this.I0[a.M]=m.t_.Qua(b);p2e=1;break;}}};Object.defineProperties(a.prototype,{mq:{set:function(a){var q2e;q2e=2;while(q2e!==1){switch(q2e){case 4:this.Na.mq=a;q2e=7;break;q2e=1;break;case 2:this.Na.mq=a;q2e=1;break;}}},enumerable:!0,configurable:!0}});a.prototype.eK=function(a){var x2e,b;x2e=2;while(x2e!==4){switch(x2e){case 2:this.Eb.some(function(c){var A2e;A2e=2;while(A2e!==1){switch(A2e){case 2:return c.P.Dl===a?(b=c.P.Ha,!0):!1;break;}}});return b;break;}}};return a;break;case 72:a.prototype.Sna=function(a,b){var A9e,J9e;A9e=2;while(A9e!==6){switch(A9e){case 2:a.ug=!0;a.ka=f.na(b)?b:a.bb;a.su=!1;b=this.fa.oe()||0;A9e=3;break;case 3:a.ER(b);this.Na.Yr();A9e=8;break;case 8:A9e=this.jm&&1===a.M?7:6;break;case 7:try{J9e=2;while(J9e!==1){switch(J9e){case 2:this.d6(k.Fa.XO,{ka:a.ka});J9e=1;break;}}}catch(ka){var c3O;c3O="Hind";c3O+="si";c3O+="ght: Error evaluating QoE at endOfStream: ";V5ii.B2O(0);this.Va.zm(V5ii.n2O(c3O,ka));}A9e=6;break;}}};a.prototype.xYa=function(){var c9e,a;c9e=2;while(c9e!==4){switch(c9e){case 2:a=this.Ib.Gc;a&&(a=a.get())&&a.avtp&&this.Bp.j_a({avtp:a.avtp.Qa});c9e=4;break;}}};a.prototype.cZa=function(){var D9e,a,b,c,v3O,w3O,Z3O;D9e=2;while(D9e!==8){v3O="startup, p";v3O+="lay";v3O+="erState n";v3O+="o longer S";v3O+="TARTING:";w3O="faile";w3O+="d to start audio ";w3O+="pipeline";Z3O="failed";Z3O+=" to ";Z3O+="start video pipelin";Z3O+="e";switch(D9e){case 2:this.fa.Ud(k.Fa.ci);D9e=5;break;case 5:a=this.ma.ub;b=a.dc(0);c=a.dc(1);this.dj&&!this.Wna(c)?this.Ga(Z3O):this.sn&&!this.Wna(b)?this.Ga(w3O):(this.qna=!0,this.Eb[0].k8=!0,b=this.Na.we[1],c=this.Na.we[0],(b&&0<b.Dm||c&&0<c.Dm)&&this.Va.rXa(String(a.P.I),c?c.Dm:0,b?b.Dm:0,c?c.OL:0,b?b.OL:0),this.fa.Uwa()?(this.BQ(0),this.sn&&(a=this.pc.sT(0),b=this.pc.rT(0),this.Va.tXa(a,b))):this.Ga(v3O,this.fa.Ec()));D9e=8;break;}}};a.prototype.Wna=function(a){var n9e,b,c,H3O,V3O;n9e=2;while(n9e!==12){H3O="N";H3O+="FErr_M";H3O+="C_";H3O+="S";H3O+="treamingInitFailure";V3O="start";V3O+="Pipeline ";V3O+="failed";switch(n9e){case 4:n9e=f.U(c)?3:9;break;case 8:n9e=a.P.pi(b,a.pa)?7:6;break;case 9:a=a.gc[c];n9e=8;break;case 2:b=a.M;c=this.Na.udb(a);n9e=4;break;case 3:return this.Re()||this.pn(V3O,a.cc.P.Ha,H3O),!1;break;case 7:return!0;break;case 6:c=this.pc.P;a.P.Ny(a,{offset:0,Iv:!c.Rd.Zd&&!c.ji&&1===b,yq:!this.Na.we[b].V$a});return!0;break;}}};a.prototype.BQ=function(a,b){var S9e,c,f,d,g,h,Y3O;S9e=2;while(S9e!==27){Y3O="start";Y3O+="Buf";Y3O+="fe";Y3O+="ring";switch(S9e){case 2:c=this;f=this.G;d=this.Na.we[0]||{};g=this.Na.we[1]||{};S9e=9;break;case 20:this.O0=O.time.ea();d.cm=g.cm=this.O0;S9e=18;break;case 9:h=this.Na.Cp[1]||{};(this.Na.Cp[0]||{}).MI=void 0;h.MI=void 0;this.yQ=!1;this.fa.Ud(2===a?k.Fa.Up:k.Fa.Bi);this.Va.oXa(b);S9e=12;break;case 12:this.Eb.forEach(function(a){var g9e;g9e=2;while(g9e!==1){switch(g9e){case 2:a.P.iaa();g9e=1;break;case 4:a.P.iaa();g9e=4;break;g9e=1;break;}}});this.emit(Y3O);r.wg.forEach(function(b){var y9e;y9e=2;while(y9e!==5){switch(y9e){case 1:b.J3=0,b.seeking=0===a||1===a;y9e=5;break;case 2:y9e=(b=c.ma.ub.dc(b))?1:5;break;}}});S9e=20;break;case 18:0===a&&(!this.dj||0<g.Dm)&&(!this.sn||0<d.Dm)&&this.Na.Yr();f.FJ&&(this.e1=setTimeout(function(){var z9e;z9e=2;while(z9e!==1){switch(z9e){case 4:c.xYa();z9e=6;break;z9e=1;break;case 2:c.xYa();z9e=1;break;}}},f.P5));S9e=16;break;case 16:this.fa.um()&&(this.YB=setTimeout(function(){var t9e;t9e=2;while(t9e!==1){switch(t9e){case 2:c.Na.Yr();t9e=1;break;case 4:c.Na.Yr();t9e=5;break;t9e=1;break;}}},f.Rw));this.Ce.Ch();S9e=27;break;}}};a.prototype.SQ=function(a){var C9e,b,T3O;C9e=2;while(C9e!==4){T3O="wipeH";T3O+="eaderCac";T3O+="h";T3O+="e:";switch(C9e){case 2:b=this.G;b.R$||(b.jf&&this.Va.Oh(T3O+a),this.Ib.tR(),this.Rf&&(this.Rf=void 0));C9e=4;break;}}};a.prototype.Fla=function(a){var F9e,c,d,g,D3O,s3O;F9e=2;while(F9e!==6){D3O="c";D3O+="a";D3O+="tch";s3O="chec";s3O+="kF";s3O+="orHcdStart";switch(F9e){case 3:return this.Ib.P3(),aa.resolve();break;case 2:c=this;d=this.G;F9e=4;break;case 4:F9e=!this.JZa||!this.Ib.We?3:9;break;case 9:this.Va.qs(s3O);this.Eb.forEach(function(b){var i2e;i2e=2;while(i2e!==1){switch(i2e){case 2:b.P.I===a&&(g=b);i2e=1;break;}}});return this.Ib.We.mib(a,g?g.P:void 0).then(function(a){var l2e,g,h,k,b3O,A3O,I3O,y3O;l2e=2;while(l2e!==11){b3O="a";b3O+="doptH";b3O+="cdS";b3O+="tart";A3O="heade";A3O+="rCacheDataNotFo";A3O+="und";I3O="adopt";I3O+="H";I3O+="c";I3O+="dEnd";y3O="c";y3O+="heckFo";y3O+="r";y3O+="HcdEnd";switch(l2e){case 5:l2e=f.U(a)?4:3;break;case 2:l2e=1;break;case 1:c.Va.qs(y3O);l2e=5;break;case 13:c.yma=a;c.Va.qs(I3O);l2e=11;break;case 4:d.rI||c.SQ(A3O);l2e=11;break;case 3:g=c.ma.ub.dc(0);h=c.ma.ub.dc(1);c.Va.qs(b3O);k=!0;c.dj&&(k=b(h,a));!c.sn||d.Oeb&&!k||b(g,a);l2e=13;break;}}}).then(function(){var P2e,L3O;P2e=2;while(P2e!==1){L3O="adoptedComplet";L3O+="e";L3O+="dRequests";switch(P2e){case 2:d.rI||c.Rf&&0!==c.Rf.length||c.SQ(L3O);P2e=1;break;}}})[D3O](function(a){var d2e,R3O;d2e=2;while(d2e!==1){R3O="headerCa";R3O+="che:lookupDataPromise";R3O+=" caught err";R3O+="or";R3O+=":";switch(d2e){case 2:c.Ga(R3O,a);d2e=1;break;case 4:c.Ga("",a);d2e=2;break;d2e=1;break;}}});break;}}function b(a,b){var B9e,d,g,h,k,m,p,O3O;B9e=2;while(B9e!==18){O3O="adoptPi";O3O+="peline no header ";O3O+="for streamId:";switch(B9e){case 2:d=a.M;g=b[d];B9e=4;break;case 4:B9e=g?3:18;break;case 3:h=g.pa;B9e=9;break;case 9:k=g.Hq.stream;m=c.Na.we[d];B9e=7;break;case 11:B9e=g.Hq?10:19;break;case 7:p=c.Na.Cp[d];f.U(b.cp)||c.Hd.wDa(b.cp,b.rm,b.ql);p.Kn=b.Kn;p.om=b.om;B9e=12;break;case 12:B9e=a.Lwb(h)?11:18;break;case 19:a.Jd(O3O,h);B9e=18;break;case 10:B9e=(b=c.pc.P,b.$Q(g.Hq,!b.Rd.Zd&&!b.ji&&1===d,!0))?20:18;break;case 20:return void 0!==a.Cm&&a.ax(a.Cm),b=b.pi(d,h).X.nl(a.bb,void 0,!0),p=k.Hg(b),k=p.S,a.DM()&&(p=p.QS(a.bb))&&0<p.Td&&(k=p.Td),a.bb!==k&&(a.bb=k,a.si=b,c.k2(d,k)),c.GUa(a,g.data),m.V$a=!0,0===d&&c.Hd.DF(g.Hq.O),h;break;}}}};a.prototype.GUa=function(a,b){var R2e,c,d,g,p,h,k,m,h3O,m3O;R2e=2;while(R2e!==20){h3O="adoptDa";h3O+="ta, not adopting failed mediaReque";h3O+="st:";m3O="adoptData, not adopt";m3O+="ing";m3O+=" aborted med";m3O+="iaRe";m3O+="quest:";switch(R2e){case 14:7===p.readyState?a.Ga(m3O,p.toString()):6===p.readyState?(a.Ga(h3O,p.toString()),this.vy(p,!1)):a.bb>=p.gd&&a.bb<p.hg&&(a.bb<g||!f.na(g))?(this.HUa(a,p),a.bb=p.hg,f.na(g)&&a.bb>=g&&this.Va.ana(d,p.hg),0===h&&this.Hd.DF(p.O),p.complete?(k.Dm+=p.duration,p.Rhb&&(k.OL+=p.duration),m=p):(this.Rf||(this.Rf=[]),this.Rf.push(p))):this.vy(p,!1);R2e=7;break;case 5:c=a.cc;d=c.wa;g=Math.min(this.Eb[0].ka||Infinity,c.ka||Infinity);this.nP=!0;R2e=8;break;case 2:R2e=1;break;case 1:R2e=0!==b.length?5:20;break;case 6:p=b.shift();R2e=14;break;case 8:h=a.M,k=this.Na.we[h];R2e=7;break;case 11:R2e=m||this.Rf&&this.Rf.length?10:20;break;case 7:R2e=0<b.length?6:13;break;case 13:m&&a.Dva(m);this.nP=!1;R2e=11;break;case 10:b=this.Eb[c.P.Ha],c=a.PS(a.bb),void 0!==c?(a.si=c,a.jg=b.P.yd[h].stream.Hg(a.si)):a.si=a.uk?a.uk.index+1:a.si+1;R2e=20;break;}}};a.prototype.HUa=function(a,b){var L2e,c,k3O,q3O,i3O;L2e=2;while(L2e!==9){k3O=",";k3O+=" ";k3O+="pts";k3O+=": ";q3O=",";q3O+=" ";q3O+="sta";q3O+="te";q3O+=": ";i3O="adoptMediaRe";i3O+="que";i3O+="s";i3O+="t: type: ";switch(L2e){case 2:c=a.M;this.G.jf&&this.Va.Oh(i3O+c+q3O+b.readyState+k3O+b.gd);L2e=4;break;case 4:this.k2(c,b.gd);a.Ua.P_a(b);L2e=9;break;}}};a.prototype.f2=function(a,b,c){var b2e,f;b2e=2;while(b2e!==3){switch(b2e){case 4:(void 0===c?r.wg:[c]).forEach(function(a){var e2e;e2e=2;while(e2e!==4){switch(e2e){case 2:f.ye[a].reset();f.GYa(a);f.Hd.Klb(a);e2e=4;break;}}});b2e=3;break;case 2:f=this;this.ma.ub.reset(a,b,c);b2e=4;break;}}};A1Z=87;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var g1Z;g1Z=2;while(g1Z!==1){switch(g1Z){case 4:return this.addListener.bind(this);break;g1Z=1;break;case 2:return this.addListener.bind(this);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var y1Z;y1Z=2;while(y1Z!==1){switch(y1Z){case 4:return this.removeListener.bind(this);break;y1Z=1;break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!0,configurable:!0}});a.prototype.RE=function(){var z1Z;z1Z=2;while(z1Z!==1){switch(z1Z){case 4:return this.dna;break;z1Z=1;break;case 2:return this.dna;break;}}};Object.defineProperties(a.prototype,{ia:{get:function(){var t1Z,o3O;t1Z=2;while(t1Z!==1){o3O="depreca";o3O+="te";o3O+="d";switch(t1Z){case 2:throw Error(o3O);t1Z=1;break;case 4:throw Error("");t1Z=3;break;t1Z=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gp:{get:function(){var C1Z;C1Z=2;while(C1Z!==1){switch(C1Z){case 2:return this.ma.gp;break;case 4:return this.ma.gp;break;C1Z=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wjb:{get:function(){var F1Z;F1Z=2;while(F1Z!==1){switch(F1Z){case 2:return this.Te.vc;break;case 4:return this.Te.vc;break;F1Z=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sn:{get:function(){var B1Z;B1Z=2;while(B1Z!==1){switch(B1Z){case 4:return this.eb(6);break;B1Z=1;break;case 2:return this.eb(0);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{dj:{get:function(){var i5e;i5e=2;while(i5e!==1){switch(i5e){case 4:return this.eb(4);break;i5e=1;break;case 2:return this.eb(1);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var l5e;l5e=2;while(l5e!==1){switch(l5e){case 2:return this.I0;break;case 4:return this.I0;break;l5e=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uw:{get:function(){var P5e;P5e=2;while(P5e!==1){switch(P5e){case 4:return this.zg;break;P5e=1;break;case 2:return this.zg;break;}}},enumerable:!0,configurable:!0}});A1Z=13;break;case 13:Object.defineProperties(a.prototype,{QL:{get:function(){var d5e;d5e=2;while(d5e!==1){switch(d5e){case 2:return 0<=this.aQ?this.aQ:0;break;case 4:return 6>this.aQ?this.aQ:3;break;d5e=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pc:{get:function(){var R5e;R5e=2;while(R5e!==1){switch(R5e){case 2:return this.Eb[this.ls];break;case 4:return this.Eb[this.ls];break;R5e=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bp:{get:function(){var L5e;L5e=2;while(L5e!==1){switch(L5e){case 2:return this.Ib.Bp;break;case 4:return this.Ib.Bp;break;L5e=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fr:{get:function(){var b5e;b5e=2;while(b5e!==1){switch(b5e){case 4:return this.CYa;break;b5e=1;break;case 2:return this.CYa;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$K:{get:function(){var e5e;e5e=2;while(e5e!==1){switch(e5e){case 2:return this.rC;break;case 4:return this.rC;break;e5e=1;break;}}},enumerable:!0,configurable:!0}});a.prototype.eb=function(a){var s5e;s5e=2;while(s5e!==1){switch(s5e){case 2:return this.mZa[a];break;case 4:return this.mZa[a];break;s5e=1;break;}}};a.prototype.XD=function(){var m5e;m5e=2;while(m5e!==1){switch(m5e){case 2:return O.time.ea()-this.O0;break;case 4:return O.time.ea()%this.O0;break;m5e=1;break;}}};a.prototype.jr=function(a){var H5e;H5e=2;while(H5e!==1){switch(H5e){case 4:this.FC=a;H5e=0;break;H5e=1;break;case 2:this.FC=a;H5e=1;break;}}};a.prototype.Pua=function(){var v5e;v5e=2;while(v5e!==1){switch(v5e){case 2:return(this.Eb||[]).reduce(function(a,b){var j5e,c;j5e=2;while(j5e!==3){switch(j5e){case 2:c=b.P;r.wg.forEach(function(b){var W5e;W5e=2;while(W5e!==1){switch(W5e){case 2:c.aL[b]>a[b]&&(a[b]=c.aL[b]);W5e=1;break;}}});return a;break;}}},[0,0]);break;}}};a.prototype.gya=function(){var I5e,a;I5e=2;while(I5e!==3){switch(I5e){case 2:a=0;f.forEach(this.pc.P.ya.audio_tracks,function(b){var V5e;V5e=2;while(V5e!==1){switch(V5e){case 2:f.forEach(b.streams,function(b){var a5e;a5e=2;while(a5e!==1){switch(a5e){case 2:a=Math.max(a,b.bitrate);a5e=1;break;}}});V5e=1;break;}}});I5e=4;break;case 4:return a;break;}}};A1Z=27;break;case 87:a.prototype.GYa=function(a){var s2e,b;s2e=2;while(s2e!==9){switch(s2e){case 2:b=this.Na.we[a];this.Na.xm[a].v9=void 0;b.Dm=0;b.OL=0;s2e=9;break;}}};a.prototype.k2=function(a,b){var m2e,c,d,g,M3O;m2e=2;while(m2e!==7){M3O="ptsc";M3O+="h";M3O+="a";M3O+="ng";M3O+="ed";switch(m2e){case 2:c=this.ma.ub;m2e=5;break;case 5:m2e=c.Ve(a)?4:7;break;case 4:d=this.Na.we[a];m2e=3;break;case 3:g=this.Na.Cp[a];f.U(d.Xk)&&(d.Xk=b,1===a&&this.sn&&(a=this.Na.we[0],f.U(a.Xk)&&(c=c.Ve(0),c.ax(b)),this.emit(M3O,b)));f.U(g.MI)&&(g.MI=b);m2e=7;break;}}};a.prototype.meb=function(a){var H2e,b,l3O;H2e=2;while(H2e!==4){l3O="allCo";l3O+="mpl";l3O+="eted";switch(H2e){case 2:b=this.G;this.Rf&&(a=this.Rf.indexOf(a),-1!=a&&this.Rf.splice(a,1),0===this.Rf.length&&(this.Rf=void 0,b.rI||this.nP||this.SQ(l3O)));H2e=4;break;}}};a.prototype.hI=function(){var v2e,a,b,c,d,g,h,m,p;v2e=2;while(v2e!==18){switch(v2e){case 8:h=this.fa.oe()||0;m=this.My(c,h);this.yQ=!0;p=b.XX;this.Ib.We&&d.xl&&d.xl.Ui-h<=b.Pya&&this.Ib.We.sI(!0,this.dk.sessionId);this.fa.Ec()===k.Fa.dd&&([1,0].forEach(function(b){var j2e,c,d,k,r,q,u,l,p3O;j2e=2;while(j2e!==33){p3O="Unable to find";p3O+=" reque";p3O+="st presenting";p3O+=" at player";p3O+="Pts:";switch(j2e){case 5:c=g.Ve(b);j2e=4;break;case 20:j2e=!a.dj||1===b?19:26;break;case 1:j2e=a.eb(b)?5:33;break;case 7:j2e=u?6:34;break;case 13:r=a.Na.xm[b];d=u.P;k=d.Ha;q=u.Ua;j2e=20;break;case 34:c.Ga(p3O,h);j2e=21;break;case 27:a.rC&&u.Gm!=r.dhb&&a.Va.JXa(u.Gm);j2e=26;break;case 15:m=a.My(k,h);j2e=26;break;case 19:j2e=(a.ma.alb(u,u.Gm),k>a.aQ)?18:27;break;case 18:a.aQ=k;l=0<k?k-1:null;a.Va.vXa(d,h,u.Gm,null!==l?a.Eb[l].P.I:null,l);j2e=15;break;case 6:q=u.pe-h;q<p&&(p=q);j2e=13;break;case 26:r.dhb=u.Gm;d=u.pa;d!=r.v9&&(r.v9=d,b=a.Eb[k].P.Fq(b,d),k=a.My(k,u.ec),a.Va.FXa(b,u.ec,k,b.P.Ha));u=u.O;j2e=22;break;case 3:q=c.Ua;c.ER(h);(u=a.ma.xq(h,g,b))&&!u.gi&&(u=a.ye[b].Vgb);j2e=7;break;case 21:a.nYa(q,h);a.ma.Hob();j2e=33;break;case 4:j2e=c?3:33;break;case 2:j2e=1;break;case 22:f.U(u)||u==c.KAa||(c.KAa=u);j2e=21;break;}}}),this.ma.Jp(h,m));v2e=11;break;case 2:a=this;b=this.G;c=this.QL;d=this.Eb[c];g=this.ma.ub;v2e=8;break;case 11:this.Ce.Ch();v2e=10;break;case 10:p=Math.max(p,1);this.jv&&clearTimeout(this.jv);this.jv=setTimeout(this.hI.bind(this),p);v2e=18;break;}}};a.prototype.wH=function(a){var W2e;W2e=2;while(W2e!==1){switch(W2e){case 2:return this.Ce.wH(a);break;case 4:return this.Ce.wH(a);break;W2e=1;break;}}};a.prototype.Ch=function(){var I2e;I2e=2;while(I2e!==1){switch(I2e){case 4:return this.Ce.Ch();break;I2e=1;break;case 2:return this.Ce.Ch();break;}}};a.prototype.vy=function(a,b){var V2e,c,f,d,g,N3O;V2e=2;while(V2e!==10){N3O="abortReque";N3O+="st";N3O+=" with no requ";N3O+="estManagaer:";switch(V2e){case 2:c=this.G;f=a.Ua;V2e=4;break;case 4:V2e=!f?3:9;break;case 6:a.zg&&a.zg.clear();c.MC||f.EW(a);this.ye[d].EW(a);V2e=12;break;case 9:d=a.M;g=a.abort();a.oc();V2e=6;break;case 3:return this.Ga(N3O,a),!1;break;case 12:!0===b&&this.Ce.Ch();V2e=11;break;case 11:return g;break;}}};a.prototype.bZa=function(a){var a2e,b,c,Q3O;a2e=2;while(a2e!==3){Q3O="no";Q3O+=" newA";Q3O+="udioT";Q3O+="rac";Q3O+="k set";switch(a2e){case 5:c=this.Na.we[b];f.U(c.CV)?a.Ga(Q3O):(this.ye[b].pause(),c.gG=!0,a=this.pc.ot(0),c=this.pc.P.iE(c.CV.cb),this.Va.mXa(a,c));a2e=3;break;case 2:b=a.M;a2e=5;break;}}};a.prototype.kYa=function(a){var k2e,b,c,f,d,g,h,k,X3O,x3O;k2e=2;while(k2e!==23){X3O="au";X3O+="d";X3O+="ioSwit";X3O+="ch";x3O="a";x3O+="udi";x3O+="oTrackC";x3O+="hange";switch(k2e){case 4:a=a.cc;f=this.Na.we[0];this.Na.mq=f.CV;d=this.pc;k2e=7;break;case 2:b=this;c=this.G;k2e=4;break;case 11:c=this.Ib.mT(d.P.ya,[h],0);this.I0[0]=c[0];this.yJ.Jna(0,a.P);f.CV=void 0;this.Hd.DF(null);this.f2(x3O,!0,0);this.ma.sDa(a,!0);k2e=15;break;case 15:c=this.ls;k2e=27;break;case 7:d.rT(0);g=d.P.iE(this.Na.mq.cb);h=g.iN;k=this.fa.oe()-a.Md;this.Rf&&0<this.Rf.length&&(this.Rf=this.Rf.filter(function(a){var h2e;h2e=2;while(h2e!==4){switch(h2e){case 5:b.vy(a,!1);h2e=4;break;case 9:h2e=9!=a.M?2:8;break;h2e=0!==a.M?1:5;break;case 2:h2e=0!==a.M?1:5;break;case 1:return!0;break;}}}),0===this.Rf.length&&(this.Rf=void 0,c.rI||this.SQ(X3O)));k2e=11;break;case 27:k2e=c<this.Eb.length?26:24;break;case 25:++c;k2e=27;break;case 24:a.TBa(g,k);k2e=23;break;case 26:this.rob(c,h,k);k2e=25;break;}}};a.prototype.rob=function(a,b,c){var U2e,f;U2e=2;while(U2e!==7){switch(U2e){case 9:U2e=a.k8?8:7;break;case 8:(b=a.ot(0).gc.some(function(a){var E2e;E2e=2;while(E2e!==4){switch(E2e){case 1:E2e=!(f&&f.stream&&f.stream.X&&c<f.stream.X.Pg(0))?5:4;break;case 2:f=a.P.pi(0,a.pa);E2e=1;break;case 7:return f;break;E2e=4;break;case 5:return f;break;}}}))?(a.P.yd[0]=f,a.YL=!1,f.stream.md&&a.vR()):(a.P.yd[0]=void 0,a.YL=!1,a.P.nF(!0,0));U2e=7;break;case 2:q.Rm.In(0);a=this.Eb[a];a.Sda(b);b=!1;U2e=9;break;}}};A1Z=104;break;case 39:a.prototype.VYa=function(){var z5e,a;z5e=2;while(z5e!==7){switch(z5e){case 3:this.sP||(this.sP=setInterval(this.Va.Zma.bind(this.Va),a.XC));this.GQ||(this.GQ=setInterval(this.Va.IXa.bind(this.Va),a.eda));this.fr&&!this.qP&&(this.qP=setInterval(this.Va.Yma.bind(this.Va),a.l3));z5e=7;break;case 2:a=this.G;this.jv&&clearTimeout(this.jv);this.jv=setTimeout(this.hI.bind(this),a.XX);z5e=3;break;}}};a.prototype.yP=function(){var t5e;t5e=2;while(t5e!==7){switch(t5e){case 8:this.Ce.yP();t5e=7;break;case 2:this.jv&&(clearTimeout(this.jv),this.jv=void 0);this.sP&&(clearInterval(this.sP),this.sP=void 0);this.GQ&&(clearInterval(this.GQ),this.GQ=void 0);this.qP&&(clearInterval(this.qP),this.qP=void 0);this.YB&&(clearTimeout(this.YB),this.YB=void 0);this.e1&&(clearTimeout(this.e1),this.e1=void 0);t5e=8;break;}}};a.prototype.play=function(){var C5e;C5e=2;while(C5e!==1){switch(C5e){case 4:this.tw.play();C5e=9;break;C5e=1;break;case 2:this.tw.play();C5e=1;break;}}};a.prototype.stop=function(){var F5e;F5e=2;while(F5e!==1){switch(F5e){case 4:this.tw.stop();F5e=6;break;F5e=1;break;case 2:this.tw.stop();F5e=1;break;}}};a.prototype.vF=function(a,b,c){var B5e;B5e=2;while(B5e!==5){switch(B5e){case 2:c&&(Q.assert(void 0===b),b=this.eK(c));return this.Xi.vF(a,b);break;}}};a.prototype.seek=function(a,b){var i9e;i9e=2;while(i9e!==1){switch(i9e){case 2:return this.Xi.seek(a,b);break;case 4:return this.Xi.seek(a,b);break;i9e=1;break;}}};a.prototype.Cvb=function(a){var l9e,L9e,b,c,f,d,g,f3O,g3O,n3O,S3O,j3O;l9e=2;while(l9e!==15){f3O="branchOf";f3O+="fse";f3O+="t";f3O+=":";g3O="entry";g3O+=".m";g3O+="a";g3O+="nif";g3O+="estOffset:";n3O="co";n3O+="nte";n3O+="nt";n3O+="P";n3O+="ts:";S3O="underflow: going to";S3O+=" BUFFE";S3O+="RING a";S3O+="t player pts";S3O+=":";j3O="u";j3O+="nderf";j3O+="low";switch(l9e){case 13:this.Eb.forEach(function(a){var R9e;R9e=2;while(R9e!==1){switch(R9e){case 2:a.P.aA();R9e=1;break;case 4:a.P.aA();R9e=2;break;R9e=1;break;}}});this.emit(j3O);this.BQ(2);l9e=10;break;case 19:try{L9e=2;while(L9e!==1){switch(L9e){case 4:this.d6(k.Fa.Bi);L9e=2;break;L9e=1;break;case 2:this.d6(k.Fa.Bi);L9e=1;break;}}}catch(Qa){var E3O;E3O="H";E3O+="in";E3O+="d";E3O+="sight: Error when evaluating";E3O+=" QoE at Buffering: ";V5ii.f2O(0);this.Va.zm(V5ii.g2O(E3O,Qa));}l9e=18;break;case 2:b=this;c=this.G;f=this.My(this.QL,a);this.Ga(S3O,a,n3O,f,g3O,this.pc.Nq,f3O,this.ma.Md);l9e=9;break;case 10:this.Ce.Ch();l9e=20;break;case 9:d=c.YU;this.ye.forEach(function(b){var P9e;P9e=2;while(P9e!==1){switch(P9e){case 2:d=Math.max(0,Math.min(d,b.qcb-a));P9e=1;break;}}});l9e=7;break;case 7:this.pc.P.KD()&&(this.SP=f+c.rda,this.TP=O.time.ea());g=this.ma.ub;r.wg.forEach(function(f){var d9e,d,h,K4O,u4O,d4O,C4O,t4O,z4O,e3O,a3O,J3O,B3O;d9e=2;while(d9e!==7){K4O="reb";K4O+="uffe";K4O+="r";u4O=", toAp";u4O+="p";u4O+="end";u4O+=": ";d4O=", f";d4O+="ragments:";d4O+=" ";C4O=",";C4O+=" compl";C4O+="et";C4O+="eStreaming";C4O+="Pts: ";t4O=",";t4O+=" s";t4O+="tream";t4O+="ingPts:";t4O+=" ";z4O=", ";z4O+="partia";z4O+="ls:";z4O+=" ";e3O=",";e3O+=" c";e3O+="omple";e3O+="tedBytes: ";a3O=", comp";a3O+="l";a3O+="etedM";a3O+="s: ";J3O=", ";J3O+="mediaTyp";J3O+="e";J3O+=": ";B3O="u";B3O+="nd";B3O+="er";B3O+="f";B3O+="low: ";switch(d9e){case 4:c.jf&&(h=b.ye[f],h=B3O+a+J3O+f+a3O+d.gD+e3O+b.ma.TI(g,f)+z4O+d.Ua.Ow+t4O+d.bb+C4O+d.Ws+d4O+JSON.stringify(d.Ua.X)+u4O+(h&&h.cX()));c.jf&&b.Va.Oh(h);d.cl=!1;c.tq&&b.pc.P.Ica&&b.pc.P.Ica.hca(K4O,b.Na.xm[f].y9);d9e=7;break;case 5:d9e=d?4:7;break;case 2:d=g.dc(f);d9e=5;break;}}});l9e=13;break;case 20:l9e=this.jm?19:18;break;case 18:f=this.Ib.Gc.get(!1);f=f.Jc?f.Ba.Qa:0;d>c.o$a&&f>c.n$a&&this.Eo();l9e=15;break;}}};a.prototype.Yi=function(a){var b9e;b9e=2;while(b9e!==1){switch(b9e){case 4:this.Xi.Yi(a);b9e=3;break;b9e=1;break;case 2:this.Xi.Yi(a);b9e=1;break;}}};a.prototype.Av=function(a,b,c){var e9e;e9e=2;while(e9e!==1){switch(e9e){case 2:return this.Xi.Av(a,b,c);break;case 4:return this.Xi.Av(a,b,c);break;e9e=1;break;}}};a.prototype.Jma=function(a){var s9e,b;s9e=2;while(s9e!==9){switch(s9e){case 2:this.ls=a;b=this.Eb[a];this.Va.xXa(a,b);this.Va.bna(b.P.aL);s9e=9;break;}}};A1Z=48;break;case 59:a.prototype.iX=function(a,b,c){var N9e,f;N9e=2;while(N9e!==9){switch(N9e){case 4:this.sH=a;void 0!==b?this.ri(b).ot(1).gc.forEach(function(a){var T9e,b;T9e=2;while(T9e!==4){switch(T9e){case 2:b=u.g3(a.uf,a.O,f.sH);V(b,a);T9e=4;break;}}}):this.ma.iX(this.sH);N9e=9;break;case 2:f=this;c&&(Q.assert(void 0===b),b=this.eK(c));N9e=4;break;}}};a.prototype.xq=function(a,b,c){var X9e;X9e=2;while(X9e!==1){switch(X9e){case 2:return this.ma.xq(a,this.ma.zk,b,c);break;}}};a.prototype.$C=function(a){var Q9e;Q9e=2;while(Q9e!==1){switch(Q9e){case 4:return this.Xi.$C(a);break;Q9e=1;break;case 2:return this.Xi.$C(a);break;}}};a.prototype.d6=function(a,b){var Z9e,u9e,c,f;Z9e=2;while(Z9e!==14){switch(Z9e){case 7:b=f.ebb();try{u9e=2;while(u9e!==1){switch(u9e){case 2:this.Va.sXa(b);u9e=1;break;case 4:this.Va.sXa(b);u9e=7;break;u9e=1;break;}}}catch(Fa){var F4O,W4O;F4O="]";F4O+=" ";F4O+="[";W4O="e";W4O+="xcep";W4O+="tio";W4O+="n: [";console.error(W4O+Fa.message+F4O+Fa.jMb+"]");}Z9e=14;break;case 4:f=this.Hd.hba;a&&!a.NC&&f.c6(a);Z9e=9;break;case 2:c=this.Na;a=c.s6(a,b);Z9e=4;break;case 9:Z9e=b?8:7;break;case 8:c.Fba();Z9e=14;break;}}};a.prototype.mVa=function(a){var Y9e,b,c,f;Y9e=2;while(Y9e!==9){switch(Y9e){case 2:b=this.Na.we[a.M];c=this.Na.Cp[a.M];Y9e=4;break;case 4:f=this.Na.xm[a.M];a.qF&&(f.Lq=void 0,b.VS=void 0,c.om=void 0,a.qF=void 0);Y9e=9;break;}}};a.prototype.k2a=function(a,b,c,f){var r9e;r9e=2;while(r9e!==4){switch(r9e){case 2:f&&(Q.assert(void 0===b),b=this.eK(f));V5ii.B2O(1);Q.assert(V5ii.n2O(b,0));return this.Eb[b].j2a(a,c||!1);break;}}};a.prototype.My=function(a,b,c){var w9e,d;w9e=2;while(w9e!==8){switch(w9e){case 4:(c=this.ma.D$a(b,a))?d=c.Md:(c=this.ma.t6(a),0<c.length&&(c=c[0],d=c.Md));f.na(d)||(d=this.Eb[a].Nq);V5ii.B2O(2);return V5ii.g2O(d,b);break;case 2:c&&(Q.assert(void 0===a),a=this.eK(c),Q.assert(void 0!==a));void 0===a&&(a=this.QL);w9e=4;break;}}};a.prototype.D4=function(a,b,c){var O9e,d;O9e=2;while(O9e!==8){switch(O9e){case 2:c&&(Q.assert(void 0===a),a=this.eK(c),Q.assert(void 0!==a));void 0===a&&(a=this.QL);(c=this.ma.C$a(b,a))?d=c.Md:(c=this.ma.t6(a),0<c.length&&(c=c[0],d=c.Md));f.na(d)||(d=this.Eb[a].Nq);O9e=9;break;case 9:V5ii.f2O(0);return V5ii.g2O(b,d);break;}}};a.prototype.Zua=function(a,b,c){var p9e;p9e=2;while(p9e!==9){switch(p9e){case 5:return b;break;case 1:p9e=!a.length?5:4;break;case 2:a=c?a.mta(b):a.RJ(b);p9e=1;break;case 4:b=a[1];return c?b.S:b.ka;break;}}};a.prototype.Eo=function(){var q9e,a,b;q9e=2;while(q9e!==6){switch(q9e){case 2:a=this;q9e=5;break;case 8:this.fa.Ud(k.Fa.dd);this.Ce.Ch();q9e=6;break;case 5:b=this.fa.um();this.ma.ub.Yrb(b,function(b){var x9e;x9e=2;while(x9e!==1){switch(x9e){case 2:return a.ye[b]?a.ye[b].cX():"";break;}}});this.hI();this.YB&&(clearTimeout(this.YB),this.YB=void 0);q9e=8;break;}}};A1Z=72;break;case 32:a.prototype.open=function(){var X5e,a,b,c,d,g,h,k,m,p,D4O,Y4O,H4O,V4O,w4O,Z4O,c4O,U4O,r4O,P4O,G4O;X5e=2;while(X5e!==29){D4O="Err";D4O+="o";D4O+="r";D4O+=":";Y4O="s";Y4O+="tartpl";Y4O+="ay";H4O="l";H4O+="o";H4O+="g";H4O+="dat";H4O+="a";V4O="creat";V4O+="eM";V4O+="e";V4O+="diaSourceSt";V4O+="art";w4O="head";w4O+="er";w4O+="s";Z4O="creat";Z4O+="eMe";Z4O+="diaSourceEnd";c4O="NFErr";c4O+="_MC_Stream";c4O+="ingInitFailure";U4O="startPts mu";U4O+="st be ";U4O+="a positive num";U4O+="be";U4O+="r, not ";r4O="NFErr_M";r4O+="C_Stre";r4O+="amingIni";r4O+="tFailur";r4O+="e";P4O="except";P4O+="ion in in";P4O+="it";G4O="E";G4O+="r";G4O+="ro";G4O+="r";G4O+=":";switch(X5e){case 3:b=this.G;X5e=9;break;case 30:this.Yl(G4O,m.error),this.pn(P4O,void 0,r4O);X5e=29;break;case 4:this.pn(U4O+this.cI,void 0,c4O);X5e=29;break;case 15:this.Va.qs(Z4O);m.vc||(m.vc=N.vc);this.Te=m;X5e=25;break;case 9:c=this.pc.P.I;d=[];g=[w4O];this.dj&&(d.push(1),g.push(1));X5e=14;break;case 12:this.yQ=!1;h=b.rI;this.Ib.We&&this.Ib.We.sI(h,this.dk.sessionId);X5e=20;break;case 25:X5e=!m.R2(d)?24:23;break;case 20:k=this.yJ.uVa(g,c);g.forEach(function(b,c){var Q5e,v4O;Q5e=2;while(Q5e!==1){v4O="h";v4O+="ead";v4O+="er";v4O+="s";switch(Q5e){case 2:v4O===b?a.FH=k[c]:a.Na.we[b].Fl=k[c];Q5e=1;break;}}});this.Va.qs(V4O);m=new N(this.fa.YI);X5e=16;break;case 33:b.o7a?setTimeout(function(){var O5e;O5e=2;while(O5e!==1){switch(O5e){case 4:a.Fla(c).then(p);O5e=3;break;O5e=1;break;case 2:a.Fla(c).then(p);O5e=1;break;}}},0):this.Fla(c).then(function(){var p5e;p5e=2;while(p5e!==1){switch(p5e){case 4:setTimeout(p,5);p5e=3;break;p5e=1;break;case 2:setTimeout(p,0);p5e=1;break;}}});d={type:H4O,target:Y4O,fields:{audiogapconfig:b.LE,audiogapdpi:this.Te.vc&&this.Te.vc.LE}};this.emit(d.type,d);X5e=29;break;case 23:m.sourceBuffers.forEach(function(c){var Z5e,f,b4O,A4O,y4O,s4O,T4O;Z5e=2;while(Z5e!==14){b4O="ma";b4O+="na";b4O+="gerdebugeven";b4O+="t";A4O="l";A4O+="og";A4O+="da";A4O+="t";A4O+="a";y4O="e";y4O+="r";y4O+="r";y4O+="o";y4O+="r";s4O="requestAppe";s4O+="n";s4O+="ded";T4O="hea";T4O+="derAppe";T4O+="n";T4O+="de";T4O+="d";switch(Z5e){case 2:f=c.M;c=new F.XHa(a,a.Na.we[f].L,f,m,c,b);c.addListener(T4O,a.oWa.bind(a));Z5e=3;break;case 3:c.addListener(s4O,a.rWa.bind(a));c.addListener(y4O,function(b){var u5e,I4O;u5e=2;while(u5e!==1){I4O="NF";I4O+="Err";I4O+="_MC_StreamingFailure";switch(u5e){case 2:a.pn(b.errorstr,void 0,I4O);u5e=1;break;}}});c.addListener(A4O,function(b){var Y5e;Y5e=2;while(Y5e!==1){switch(Y5e){case 2:ba.Ka(a,b.type,b);Y5e=1;break;case 4:ba.Ka(a,b.type,b);Y5e=5;break;Y5e=1;break;}}});b.jf&&c.addListener(b4O,function(b){var r5e;r5e=2;while(r5e!==1){switch(r5e){case 4:ba.Ka(a,b.type,b);r5e=8;break;r5e=1;break;case 2:ba.Ka(a,b.type,b);r5e=1;break;}}});Z5e=6;break;case 6:a.ye[f]=c;Z5e=14;break;}}});this.fr&&this.Va.kXa();d=this.Pua();this.Va.bna(d);p=function(){var w5e,L4O;w5e=2;while(w5e!==5){L4O="s";L4O+="hutdow";L4O+="n detected before startRequests";switch(w5e){case 2:a.Va.zXa();a.Re()?a.Ga(L4O):a.cZa();w5e=5;break;}}};X5e=33;break;case 16:X5e=1===m.readyState?15:30;break;case 5:X5e=!f.na(this.cI)||0>this.cI?4:3;break;case 14:this.sn&&(d.push(0),g.push(0));this.yJ.BWa();X5e=12;break;case 2:a=this;X5e=5;break;case 24:throw this.Yl(D4O,m.error),m.error;X5e=23;break;}}};a.prototype.flush=function(){var q5e;q5e=2;while(q5e!==1){switch(q5e){case 4:this.tw.flush();q5e=8;break;q5e=1;break;case 2:this.tw.flush();q5e=1;break;}}};a.prototype.paused=function(){var x5e;x5e=2;while(x5e!==1){switch(x5e){case 2:this.fa.paused();x5e=1;break;case 4:this.fa.paused();x5e=4;break;x5e=1;break;}}};a.prototype.TX=function(){var A5e;A5e=2;while(A5e!==1){switch(A5e){case 4:this.fa.TX();A5e=6;break;A5e=1;break;case 2:this.fa.TX();A5e=1;break;}}};a.prototype.close=function(){var J5e;J5e=2;while(J5e!==4){switch(J5e){case 2:this.sca.close();this.Eb.forEach(function(a){var c5e;c5e=2;while(c5e!==1){switch(c5e){case 4:a.P.close();c5e=8;break;c5e=1;break;case 2:a.P.close();c5e=1;break;}}});this.tw.close();J5e=4;break;}}};a.prototype.Ypb=function(){var D5e;D5e=2;while(D5e!==1){switch(D5e){case 4:this.Ib.tYa(this);D5e=8;break;D5e=1;break;case 2:this.Ib.tYa(this);D5e=1;break;}}};a.prototype.oc=function(){var n5e,a,R4O;n5e=2;while(n5e!==12){R4O="Error ";R4O+="on MediaSour";R4O+="ce destroy: ";switch(n5e){case 8:this.lVa();this.zg.clear();a=this.Te;n5e=14;break;case 2:this.Hd.Blb();this.yP();this.ma.oc();this.yJ.FVa();this.fa.Ud(k.Fa.WO);n5e=8;break;case 14:this.Te=void 0;f.U(a)||a.ll()||this.Ga(R4O,a.error);n5e=12;break;}}};a.prototype.suspend=function(){var S5e;S5e=2;while(S5e!==1){switch(S5e){case 2:this.tw.suspend();S5e=1;break;case 4:this.tw.suspend();S5e=6;break;S5e=1;break;}}};a.prototype.resume=function(){var g5e;g5e=2;while(g5e!==1){switch(g5e){case 2:this.tw.resume();g5e=1;break;case 4:this.tw.resume();g5e=7;break;g5e=1;break;}}};a.prototype.Re=function(){var y5e;y5e=2;while(y5e!==1){switch(y5e){case 4:return this.tw.Re();break;y5e=1;break;case 2:return this.tw.Re();break;}}};A1Z=39;break;case 48:a.prototype.LC=function(a,b,d){var m9e,g,h,k,m,p,r,q,Q4O,N4O,p4O,l4O,M4O,o4O,k4O,q4O,i4O,h4O,m4O,O4O;m9e=2;while(m9e!==28){Q4O="addMan";Q4O+="ifest ignor";Q4O+="ed, pipelines already set EOS:";N4O=",";N4O+=" ";p4O=") lastSt";p4O+="reamAppe";p4O+="nded";p4O+=": (";l4O=",";l4O+=" ";M4O=" st";M4O+="r";M4O+="eamCount: (";o4O=" ";o4O+="playerStat";o4O+="e: ";k4O="addManifest,";k4O+=" curre";k4O+="ntPts: ";q4O="video";q4O+="_tra";q4O+="ck";q4O+="s";i4O="aud";i4O+="i";i4O+="o_t";i4O+="r";i4O+="acks";h4O="addManifest in fastplay but not";h4O+=" d";h4O+="rm man";h4O+="ifest, leaving space for";h4O+=" it";m4O="bo";m4O+="o";m4O+="l";m4O+="ea";m4O+="n";O4O="addMa";O4O+="nifes";O4O+="t: ";O4O+="pipelines already shu";O4O+="tdown";switch(m9e){case 3:this.Ga(O4O);m9e=28;break;case 9:k=this.ma.ub.dc(0);m=this.ma.ub.dc(1);m9e=7;break;case 10:m=b.S||0;p=b.ka;a=c.Uha.create({Ha:k,ya:a,Dl:d,bDa:b.Yub||[this.pc.sT(0),this.pc.sT(1)],Zd:!1,ji:!!b.ji,Ps:b.Ps||this.sH,S:m,ka:p,Va:this.Va,ut:this.vma.bind(this),jr:this.jr.bind(this),eb:this.eb.bind(this),Ob:this,config:this.G,L:this.L,Ce:this.Ce,Xi:this.Xi,We:this.joa?this.Ib.We:void 0,oz:this.oz,cqb:b.replace?this.Eb[this.Eb.length-1]:void 0});m9e=18;break;case 27:d.forEach(function(a,b){var j9e,c;j9e=2;while(j9e!==4){switch(j9e){case 5:c&&Object.keys(c).forEach(function(a){var W9e,f;W9e=2;while(W9e!==3){switch(W9e){case 4:c[a].yFa(f,r.gp()?h.kya:0);W9e=3;break;case 2:f=O.qk()[b];1===b&&0<h.Rq&&(f=Math.min(f,h.Rq));W9e=4;break;}}});j9e=4;break;case 2:c=r.hE(b);j9e=5;break;}}});m4O===typeof b.Ey?(a.Ey=b.Ey,a.By=b.Ey):(a.Ey=!0,a.By=!0);this.Eb[k]&&this.Eb[k].oc();this.Eb[k]=a;a.Xpa();b.replace||this.ma.A_a(r,m,p);b=this.Na.xm[0].Lq;m9e=35;break;case 33:m9e=this.sn&&f.U(b)||this.dj&&f.U(d)?32:31;break;case 14:b||(b={});b.Naa&&(this.mQ=!0);k=this.Eb.length;b.replace&&1!==k?k=1:this.pc.P.Rd.Zd&&!b.replace&&1===k&&(this.Ga(h4O),k=this.Eb[0].clone(),this.Eb.push(k),k=this.Eb.length);m9e=10;break;case 18:r=a.P;d=[i4O,q4O];q=this.Pua();b.replace&&d.forEach(function(a,b){var H9e,c,f;H9e=2;while(H9e!==9){switch(H9e){case 4:f=g.Eb[0].P;Object.keys(c).forEach(function(a){var v9e,d;v9e=2;while(v9e!==4){switch(v9e){case 2:d=f.Fq(b,a);d&&d.md&&(c[a].PR(d),a=r.aL,a[b]>q[b]&&(q[b]=a[b]));v9e=4;break;}}});H9e=9;break;case 5:H9e=c?4:9;break;case 2:c=r.hE(b);H9e=5;break;}}});m9e=27;break;case 7:m9e=this.sn&&k.su||this.dj&&m.su?6:14;break;case 31:a.P.nF();this.RQ();return!0;break;case 35:d=this.Na.xm[1].Lq;h.jf&&this.Va.Oh(k4O+this.fa.oe()+o4O+this.fa.Ec()+M4O+a.ot(0).gc.length+l4O+a.ot(1).gc.length+p4O+b+N4O+d+")");m9e=33;break;case 32:return!0;break;case 4:m9e=this.Re()?3:9;break;case 6:this.Ga(Q4O,k.su,m.su);m9e=28;break;case 2:g=this;h=this.G;m9e=4;break;}}};a.prototype.WQ=function(a){var I9e;I9e=2;while(I9e!==1){switch(I9e){case 2:return this.Xi.WQ(a);break;case 4:return this.Xi.WQ(a);break;I9e=1;break;}}};a.prototype.sS=function(a){var V9e,b,c,d,g,E4O,j4O,X4O,x4O;V9e=2;while(V9e!==14){E4O=" ready";E4O+="St";E4O+="at";E4O+="e:";E4O+=" ";j4O=" for m";j4O+="ovieId";j4O+=": ";X4O=",";X4O+=" ";x4O="drmReady a";x4O+="t streami";x4O+="ng pt";x4O+="s";x4O+=": ";switch(V9e){case 4:f.U(b)&&(b=!0);d=this.ma.ub.dc(0);g=this.ma.ub.dc(1);V9e=8;break;case 2:c=this.G;V9e=5;break;case 5:V9e=!this.Re()?4:14;break;case 8:c.jf&&this.Va.Oh(x4O+(d?d.bb:null)+X4O+(g?g.bb:null)+j4O+a+E4O+b);V5ii.f2O(0);this.fa.csb(V5ii.n2O(a,""),b);b&&(this.ye.forEach(function(a){var a9e;a9e=2;while(a9e!==5){switch(a9e){case 2:c.E6&&a.dab();c.oY&&a.resume();a9e=5;break;}}}),this.pc.P.Rd.Zd&&this.QQ(this.Xi.Ji?this.Xi.Ji.Ha:this.ls+1),this.Xi.i1());V9e=14;break;}}};a.prototype.dw=function(){var k9e,a;k9e=2;while(k9e!==4){switch(k9e){case 2:a=this.pc.P;return this.fa.dw(a.I)||a.ji;break;}}};a.prototype.Gla=function(a){var h9e,b,c,f;h9e=2;while(h9e!==11){switch(h9e){case 1:h9e=a>=this.Eb.length?5:4;break;case 5:return!1;break;case 2:h9e=1;break;case 13:a=!this.dj||c.yd[1]&&c.yd[1].stream.md;return(!this.sn||c.yd[0]&&c.yd[0].stream.md)&&a?!0:!1;break;case 4:b=this.ma.ub.dc(0);c=this.ma.ub.dc(1);h9e=9;break;case 9:b=!b||b.ug;f=!c||c.ug;c=this.Eb[a].P;h9e=6;break;case 14:return!1;break;case 6:h9e=!(a===this.ls+1&&c.Rd.replace||b&&f)||!this.fa.dw(c.I)&&!c.ji?14:13;break;}}};a.prototype.RQ=function(){var U9e;U9e=2;while(U9e!==1){switch(U9e){case 2:this.QQ(this.ls+1);U9e=1;break;case 4:this.QQ(this.ls*6);U9e=9;break;U9e=1;break;}}};a.prototype.QQ=function(a){var E9e,b;E9e=2;while(E9e!==14){switch(E9e){case 2:E9e=1;break;case 1:E9e=!this.Gla(a)?5:4;break;case 5:return!1;break;case 3:E9e=b.l$a||!b.P.Rd.replace?9:8;break;case 4:b=this.Eb[a];E9e=3;break;case 9:return!1;break;case 8:this.nZa(a);this.Ce.Ch();return!0;break;}}};a.prototype.nZa=function(a){var f9e,b,c,f,d,g,h,g4O,n4O,S4O;f9e=2;while(f9e!==27){g4O=",";g4O+=" ";n4O=",";n4O+=" ";n4O+="streamingPts:";n4O+=" ";S4O="switchManif";S4O+="est";S4O+=" manifestInde";S4O+="x: ";switch(f9e){case 2:b=this.Eb[a];c=this.ma.ub;f=c.Ve(0);f=f?f.bb:void 0;d=c.Ve(1);f9e=8;break;case 14:d=f.P.Rd.Zd;b.Ey&&(b.By=!0);g=[1,0];h=[];g.forEach(function(a){var o9e;o9e=2;while(o9e!==1){switch(o9e){case 2:b.P.eb(a)&&(h[a]=b.ot(a));o9e=1;break;}}});d?this.ma.bqb(f.P,b.P,h):c.HDa(b.P,h);g.forEach(function(a){var M9e,f;M9e=2;while(M9e!==4){switch(M9e){case 2:f=c.Ve(a);f&&!b.P.Rd.replace&&(b.Xo?f.vqb(b.Xo[a]):(a=b.oA[a],f.wqb(a)));M9e=4;break;}}});f9e=18;break;case 8:d=d?d.bb:void 0;this.G.jf&&this.Va.Oh(S4O+a+n4O+f+g4O+d);f=this.pc;f9e=14;break;case 18:this.Jma(a);b.Vda();this.Xi.i1();f9e=15;break;case 15:this.Ce.Ch();f9e=27;break;}}};a.prototype.zlb=function(){var K9e,a,b,c,f,B4O,f4O;K9e=2;while(K9e!==12){B4O="onAudioTrackSw";B4O+="itchStarted ig";B4O+="nored, no a";B4O+="udio pip";B4O+="eline";f4O="onAudioTrackSwitch";f4O+="Started but c";f4O+="urrent playing requ";f4O+="est ";f4O+="not found";switch(K9e){case 3:c=this.fa.oe();f=this.Na.we[b.M];(a=this.ma.xq(c,a,0))?b=a.Ua:(this.Ga(f4O),b=b.Ua);this.kYa(b);f.gG=!1;this.Ce.Ch();K9e=12;break;case 4:K9e=b?3:13;break;case 13:this.Ga(B4O);K9e=12;break;case 2:a=this.ma.ub;b=a.Ve(0);K9e=4;break;}}};a.prototype.nub=function(a){var G9e,b,c,f,d,g,u5O,d5O,C5O,t5O,z5O,e4O,a4O,J4O;G9e=2;while(G9e!==21){u5O="swi";u5O+="tchTr";u5O+="acks";u5O+=" can't find track";u5O+="Id:";d5O="switchTracks rejected, p";d5O+="revious switch still waiting to ";d5O+="start";C5O="switchTracks";C5O+=" rejected";C5O+=", audio disabled";t5O="switchTracks r";t5O+="ejecte";t5O+="d, buffering";z5O="switchT";z5O+="racks rejecte";z5O+="d, bufferLe";z5O+="velMs";e4O="switchTracks re";e4O+="jected, previous swi";e4O+="tch still in progress: ";a4O=" ";a4O+="t";a4O+="o";a4O+=":";a4O+=" ";J4O="switchT";J4O+="r";J4O+="a";J4O+="cks c";J4O+="urrent: ";switch(G9e){case 3:G9e=this.Na.mq?9:8;break;case 6:c=this.Na.we[0];G9e=14;break;case 26:return!1;break;case 25:b.jf&&this.Va.Oh(J4O+g+a4O+d.cb);c.CV={cb:a};this.bZa(f.Ve(0));return!0;break;case 9:return this.Ga(e4O+JSON.stringify(this.Na.mq)),!1;break;case 17:G9e=!d?16:15;break;case 5:G9e=!this.sn?4:3;break;case 20:return this.Ga(z5O,d,"<",b.lV),!1;break;case 7:return this.Ga(t5O),!1;break;case 14:G9e=c.gG?13:12;break;case 4:return this.Ga(C5O),!1;break;case 2:b=this.G;G9e=5;break;case 10:G9e=d<b.lV?20:19;break;case 19:a=a.TC;d=this.pc.P.iE(a);G9e=17;break;case 13:return this.Ga(d5O),!1;break;case 16:return this.Ga(u5O,a),!1;break;case 15:g=this.pc.rT(0);G9e=27;break;case 8:G9e=this.fa.um()?7:6;break;case 27:G9e=g===d.cb?26:25;break;case 12:f=this.ma.ub;d=f.Ri(1);G9e=10;break;}}};A1Z=59;break;}}}();d.XSa=a;g.Tj(b.EventEmitter,a);},function(g,d,a){var f,h,q,c,m,k;function b(a,b,d){m=d;k=d.map(function(a,b){return a.xf&&a.inRange&&!a.$g?b:null;}).filter(function(a){return null!==a;});if(null===c)return a=h(d),c=d[a].O,new q(a);if(!k.length)return null;a=k.filter(function(a){return d[a].O==c;})[0];return void 0===a?(f.log("Defaulting to first stream due to unvalid bitrate requested: "+c),new q(k[0])):new q(a);}a(6);a(12);d=a(43);a=a(5);f=d.console;h=d.v6;q=d.Vp;c=null;m=null;k=null;a.C2a&&(a.C2a.MF={xc:function(){k=m=c=null;},gca:function(a){c=a;},UIb:function(){return{all:m,LFa:k};}});g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var K5O,b,K0F;K5O=2;while(K5O!==8){K0F="1";K0F+="SIYbZ";K0F+="rN";K0F+="J";K0F+="Cp9";switch(K5O){case 5:b=a(12);a(43);g.T={checkBuffering:function(a,d,g,c,h,k){var R6v=V5ii;var W5O,m,p,q,l,n,t,W0F,Q0F,w0F,g0F,P5O,r5O,U5O;function f(b){var F5O;F5O=2;while(F5O!==5){switch(F5O){case 2:b=g.X.OS(a.hf+b,void 0,!0);return(l-a.Bm)/(l+(b.offset+b.aa)-n);break;}}}W5O=2;while(W5O!==39){W0F="o";W0F+="u";W0F+="t";W0F+="ofra";W0F+="nge";Q0F="hi";Q0F+="gh";Q0F+="t";Q0F+="p";w0F="m";w0F+="a";w0F+="xsize";g0F="n";g0F+="or";g0F+="ebu";g0F+="ff";switch(W5O){case 7:return{complete:!1,Kz:!0};break;case 3:W5O=m>=c?9:8;break;case 20:l=0;a.X.forEach(function(b){var G5O;G5O=2;while(G5O!==1){switch(G5O){case 2:l+=b.S+b.duration>a.hf?b.aa:0;G5O=1;break;}}});W5O=18;break;case 18:W5O=!g.X||!g.X.length?17:16;break;case 16:d=g.X.nl(a.bb);W5O=15;break;case 41:0<p&&p<g.O&&(q=Math.min(c,Math.max(k.cM*(g.O/p-1),q)));W5O=40;break;case 24:W5O=p>g.O*k.MS?23:22;break;case 15:W5O=-1===d?27:26;break;case 42:return{complete:!0,reason:g0F};break;case 6:R6v.R0F(0);P5O=R6v.r0F(21,6,14);q=k.Wf*(d===b.Fa.Up?k.rba:P5O);k.Y8a&&g.Xa&&g.Xa.Ng&&g.Xa.Ng.Qa>k.O9&&(q+=k.S2+g.Xa.Ng.Qa*k.zaa);h&&(q+=h.TR*k.T2);q=c?Math.min(c,q):q;W5O=11;break;case 10:return{complete:!1,Zt:q};break;case 28:return q=Math.min(c,m+t),{complete:!1,Zt:q,Qh:f(q)};break;case 8:W5O=p<=k.U9&&(0<p||!k.g6)?7:6;break;case 29:W5O=0<t?28:44;break;case 2:m=a.jl-a.hf;p=g.Ba||0;q=0;W5O=3;break;case 40:return{complete:!1,Zt:q,Qh:f(q)};break;case 25:W5O=m>=q?24:41;break;case 11:W5O=!p?10:20;break;case 31:h=g.X.get(k);R6v.R0F(1);r5O=R6v.q0F(16,11,13);t=r5O*t/p-h.S-q;W5O=29;break;case 44:t=h.offset;W5O=43;break;case 32:W5O=k>d?31:42;break;case 9:return{complete:!0,reason:w0F};break;case 23:return{complete:!0,reason:Q0F};break;case 17:return p<g.O&&(q=Math.min(c,Math.max(k.cM*(g.O/p-1),q))),{complete:!1,Zt:q,Qh:(l-a.Bm)/(l+(q-(a.bb-a.hf))*g.O/8)};break;case 27:return{complete:!0,reason:W0F};break;case 43:--k;W5O=32;break;case 33:--k;W5O=32;break;case 26:n=g.X.pg(d);W5O=25;break;case 22:q=g.X.Vc(d);k=Math.min(d+Math.floor(k.cM/q),g.X.length-1);t=g.X.pg(k);R6v.G0F(2);U5O=R6v.r0F(6,12,5,22,192);q=U5O*n/p-a.hf;W5O=33;break;}}}};K5O=9;break;case 9:K0F;K5O=8;break;case 2:a(6);K5O=5;break;}}}());},function(g,d,a){(function(){var j0F,f,d,h,c,D5B;function b(a,b,d,g){var u0F,k,P5B,j5B,M0F;u0F=2;while(u0F!==11){P5B="pla";P5B+="yer missing streamingIn";P5B+="dex";j5B="Mus";j5B+="t ";j5B+="have at least one s";j5B+="electe";j5B+="d stream";switch(u0F){case 3:V5ii.t5B(0);M0F=V5ii.w5B(4,16,63);g=d.length-M0F;u0F=9;break;case 4:b=c(g);u0F=3;break;case 9:u0F=-1<g?8:13;break;case 6:return b.Cd=g,b;break;case 2:h(!f.U(g),j5B);h(f.na(b.dx),P5B);u0F=4;break;case 7:u0F=k.Xa&&k.Xa.Ba&&k.O<k.Xa.Ba.Qa-a.Dub?6:14;break;case 8:k=d[g];u0F=7;break;case 14:--g;u0F=9;break;case 13:b.Cd=0;return b;break;}}}j0F=2;while(j0F!==13){D5B="1";D5B+="SIY";D5B+="bZrNJC";D5B+="p";D5B+="9";switch(j0F){case 2:f=a(6);a(12);d=a(43);a(5);j0F=9;break;case 6:g.T={STARTING:d.STARTING,BUFFERING:d.BUFFERING,REBUFFERING:d.REBUFFERING,PLAYING:b,PAUSED:b};D5B;j0F=13;break;case 9:h=d.assert;c=d.Vp;d=a(203);j0F=6;break;}}}());},function(g,d,a){var f;function b(a,b,c){return new f(c.length-1);}a(6);f=a(43).Vp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var f;function b(){return new f(0);}a(6);f=a(43).Vp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var M5B,h,c,m,k,u,r,l,n,t,F,e6B;function d(a,b,c,f){var F5B;F5B=2;while(F5B!==1){switch(F5B){case 2:return f&&a>c.ww&&(h.U(this.ow)||this.GU>this.ow||b-this.ow>c.OU);break;}}}M5B=2;function b(a,b){var X5B,c;X5B=2;while(X5B!==3){switch(X5B){case 5:b.some(function(b){var G5B,f;G5B=2;while(G5B!==3){switch(G5B){case 2:f=b.profiles;(f=f&&0<=f.indexOf(a))&&(c=b.override);return f;break;}}});return c;break;case 2:c=void 0;X5B=5;break;}}}while(M5B!==10){e6B="1SIYbZ";e6B+="rNJCp";e6B+="9";switch(M5B){case 2:h=a(6);c=a(43);M5B=4;break;case 4:m=c.console;k=c.debug;M5B=9;break;case 9:u=c.assert;r=a(48);l=a(12);n=c.Bz;t=c.Vp;F=a(358);g.T={STARTING:function(a,c,f,d){var N5B,g,h,y6B,a5B,v5B;N5B=2;while(N5B!==14){y6B=" k";y6B+="b";y6B+="ps, prof";y6B+="il";y6B+="e :";a5B="selectAudioStreamSta";a5B+="rti";a5B+="ng: se";a5B+="lected stream";a5B+=" :";v5B="selectAudioSt";v5B+="reamStartin";v5B+="g: ";v5B+="overriding config with ";switch(N5B){case 2:g=a;h=f[d||0].uf;N5B=4;break;case 4:N5B=(h=a&&a.YM&&0<=a.YM.indexOf(h)?b(h,a.vEa):b(h,a.K0a))?3:9;break;case 3:g={minInitAudioBitrate:a.nL,minHCInitAudioBitrate:a.mL,maxInitAudioBitrate:a.bL,minRequiredAudioBuffer:a.oV},k&&m.log(v5B+JSON.stringify(h)),r(h,g);N5B=9;break;case 9:a=F[l.Fa.name[l.Fa.ci]](g,c,f,d);f=f[a.Cd];k&&m.log(a5B+f.O+y6B+f.uf);N5B=6;break;case 6:return a;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};M5B=11;break;case 11:e6B;M5B=10;break;}}function f(a,b,c,f){var S5B,g,p,r,q,l,y,A,F,D,Z6B,m6B,o6B,n6B,L6B,u6B,p6B,k6B,U6B,T6B,I6B,Y6B,O6B,R6B,H6B,J6B,K6B,V6B,h6B,W6B,z6B,d6B,x6B;S5B=2;while(S5B!==28){Z6B="m";Z6B+="s";m6B=", buf";m6B+="fe";m6B+="r level";m6B+=" = ";o6B=", lastUp";o6B+="switchPt";o6B+="s = ";n6B="  Upsw";n6B+="itch not allowed. lastDownswitc";n6B+="hPts =";n6B+=" ";L6B=" kbp";L6B+="s, try to downsw";L6B+="itch";u6B=" ";u6B+="kbps <";u6B+=" ";p6B="throughput for au";p6B+="dio";p6B+=" ";k6B="kbps, stream";k6B+="ingPts ";k6B+=":";U6B=", audio throu";U6B+="gh";U6B+="put:";T6B=" kbps";T6B+=", prof";T6B+="i";T6B+="le :";I6B="sele";I6B+="ctAudi";I6B+="oSt";I6B+="ream: selected stream ";I6B+=":";Y6B=", st";Y6B+="re";Y6B+="amingPt";Y6B+="s = ";O6B=", la";O6B+="stUpswitc";O6B+="hPts = ";R6B="  Upswitch";R6B+=" al";R6B+="lowed. lastDownswit";R6B+="chPts ";R6B+="= ";H6B="Must ha";H6B+="ve at least one s";H6B+="elected stream";J6B=" k";J6B+="b";J6B+="p";J6B+="s";K6B=" ";K6B+="kbps,";K6B+=" to ";V6B="switchi";V6B+="ng audi";V6B+="o ";V6B+="fro";V6B+="m ";h6B="d";h6B+="o";h6B+="w";h6B+="n";W6B="u";W6B+="p";z6B=" ";z6B+="k";z6B+="bps";d6B=" kb";d6B+="p";d6B+="s ";d6B+=">";d6B+=" ";x6B="throughpu";x6B+="t ";x6B+="for au";x6B+="d";x6B+="io ";switch(S5B){case 24:S5B=y<r.length-1&&A>F.wFa*l&&(k&&m.log(x6B+A+d6B+F.wFa+"*"+l+z6B),l=b.buffer,D=l.jl-l.hf,q.X&&q.X.length)?23:32;break;case 20:p=0;S5B=32;break;case 32:A=c[p];p!==f&&k&&m.log((p>f?W6B:h6B)+V6B+q.O+K6B+A.O+J6B);S5B=30;break;case 10:S5B=0>y?20:19;break;case 2:u(!h.U(f),H6B);g=c[f].uf;S5B=4;break;case 9:p=f;a.vEa.some(function(f){var s5B,d,h,k,m,p,q;s5B=2;while(s5B!==13){switch(s5B){case 2:d=f.profiles;h=d&&0<=d.indexOf(g);s5B=4;break;case 14:return h;break;case 3:k=(f=f.UE)&&f.oV||a.oV;m=f&&f.lKb||-Infinity;p=f&&f.gya||Infinity;s5B=7;break;case 4:s5B=h?3:14;break;case 6:r=c.filter(function(a){var E5B,b;E5B=2;while(E5B!==4){switch(E5B){case 2:b=a.O;return b>=m&&b<=p&&0<=d.indexOf(a.uf)&&b*k/8<q;break;}}}).map(function(a){var g5B;g5B=2;while(g5B!==1){switch(g5B){case 2:return a.sg;break;case 4:return a.sg;break;g5B=1;break;}}});s5B=14;break;case 7:q=b.buffer.Ts;s5B=6;break;}}});S5B=7;break;case 22:k&&m.log(R6B+this.ow+O6B+this.GU+Y6B+l.bb);S5B=21;break;case 21:S5B=++y<r.length?35:32;break;case 25:y--;S5B=17;break;case 4:S5B=!(a&&a.YM&&0<=a.YM.indexOf(g))?3:9;break;case 35:S5B=(l=r[y],D=c[l],n(D)&&A>F.wFa*D.O)?34:21;break;case 27:S5B=n(D)&&(0==y||D.O*F.lsa<A)?26:25;break;case 30:k&&m.log(I6B+A.O+T6B+g+U6B+A.Ba+k6B+b.buffer.bb);return new t(p);break;case 23:S5B=d(D,l.bb,F,b.zz)?22:33;break;case 18:k&&m.log(p6B+A+u6B+F.lsa+"*"+l+L6B),--y;S5B=17;break;case 6:q=c[f];l=q.O;y=r.indexOf(f);A=q.Ba;F=a.M0a;S5B=10;break;case 26:p=l;S5B=32;break;case 19:S5B=y&&A<F.lsa*l?18:24;break;case 7:S5B=r&&1<r.length?6:32;break;case 17:S5B=0<=y?16:32;break;case 34:p=l;S5B=32;break;case 3:return new t(f);break;case 33:k&&m.log(n6B+this.ow+o6B+this.GU+m6B+D+Z6B);S5B=32;break;case 16:l=r[y];D=c[l];S5B=27;break;}}}}());},function(g,d,a){var f,h,q,c;function b(a,b,d){var g,k;g=this.y1;b=b.buffer.bb;k="forward"===a.Lqb;if(f.U(g))return g=k?h(d):h(d,d.length),this.z1=b,this.y1=g,new c(g);q(d[g])||(g=h(d,g),this.z1=b,this.y1=g);if(0>g)return null;if(b>this.z1+a.Fub){a=d.map(function(a,b){return a.xf&&a.inRange&&!a.$g?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;k?g=(a.indexOf(g)+1)%a.length:(g=a.indexOf(g)-1,0>g&&(g=a.length-1));this.y1=a[g];this.z1=b;return new c(a[g]);}return new c(g);}f=a(6);a(12);d=a(43);h=d.v6;q=d.Bz;c=d.Vp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var f;function b(a,b,c){a=c.map(function(a,b){return a.xf&&a.inRange&&!a.$g?b:null;}).filter(function(a){return null!==a;});return a.length?new f(a[Math.floor(Math.random()*a.length)]):null;}a(12);f=a(43).Vp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var f,h,q,c;function b(a,b,d,g){if(f.U(g))a=h(d);else if(q(d[g]))a=g;else if(a=h(d,g),0>a)return null;return new c(a);}f=a(6);a(12);d=a(43);h=d.v6;q=d.Bz;c=d.Vp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.gpa=function(a,f){var b;return a.some(function(a){b=a;return f(a);})?b:void 0;};a.PC=function(a,f){var b;b=-1;return a.some(function(a,c){b=c;return f(a);})?b:-1;};a.mKb=function(a){return function(b,d){return a(b)<a(d)?b:d;};};return a;}();d.MN=g;},function(g,d,a){var b,f,h,q,c,m,k,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(5);h=a(6);q=a(725);c=new f.Console("ASEJS_STREAM_SELECTOR","media|asejs");m=[b.Fa.name[b.Fa.ci],b.Fa.name[b.Fa.Bi],b.Fa.name[b.Fa.Up],b.Fa.name[b.Fa.dd],b.Fa.name[b.Fa.Ci],"checkBuffering"];k={first:a(724),random:a(723),optimized:a(203),roundrobin:a(722),selectaudio:a(358),selectaudioadaptive:a(721),"default":a(203),lowest:a(720),highest:a(719),throughputthreshold:a(718),checkdefault:a(717),testscript:a(716)};u={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};g=function(){var b6B;b6B=2;while(b6B!==6){switch(b6B){case 8:Object.defineProperties(a.prototype,{ehb:{get:function(){var g6B;g6B=2;while(g6B!==1){switch(g6B){case 2:return this.iy;break;case 4:return this.iy;break;g6B=1;break;}}},enumerable:!0,configurable:!0}});return a;break;case 5:a.prototype.bda=function(a,b,c){var G6B;G6B=2;while(G6B!==1){switch(G6B){case 2:h.U(b)?this.w1=this.A1=void 0:b.O<c.O&&(this.A1=a);G6B=1;break;}}};a.prototype.YS=function(a,b){var O6v=V5ii;var S6B,c,F6B,N6B;S6B=2;while(S6B!==3){switch(S6B){case 4:--c;S6B=1;break;case 2:O6v.b3y(0);F6B=O6v.Z3y(15,2,10,1);c=a.length-F6B;S6B=1;break;case 1:S6B=0<=c?5:3;break;case 14:++c;S6B=3;break;S6B=1;break;case 7:S6B=2>=c?1:5;break;S6B=0<=c?5:3;break;case 5:b(a[c],c,a);S6B=4;break;case 8:O6v.v3y(1);N6B=O6v.Y3y(17,3,15,17);c=a.length+N6B;S6B=8;break;S6B=1;break;}}};Object.defineProperties(a.prototype,{ow:{get:function(){var s6B;s6B=2;while(s6B!==1){switch(s6B){case 2:return this.w1;break;case 4:return this.w1;break;s6B=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{GU:{get:function(){var E6B;E6B=2;while(E6B!==1){switch(E6B){case 2:return this.A1;break;case 4:return this.A1;break;E6B=1;break;}}},enumerable:!0,configurable:!0}});b6B=8;break;case 2:a.prototype.gca=function(a,d,g,k,m,p,r){var A6B,u,l,n,y,A,t,F,I,D,O,aa,B,G,C6B,x3y;A6B=2;while(A6B!==56){x3y="Stream selector called with in";x3y+="valid player st";x3y+="ate ";switch(A6B){case 32:D=g.jl-g.hf;m=void 0;A6B=30;break;case 51:return null;break;case 44:A6B=D<d.length?43:40;break;case 50:this.iy=u.Cd;m=d[u.Cd];u.reason&&(m.fo=u.reason,m.fca=u.yt,m.tz=u.tz,m.rm=u.rm,m.ql=u.ql);h.na(F)&&m.O<d[F].O&&(this.w1=g.bb);A6B=46;break;case 36:m.X&&m.X.length||(I=!0,u.xD.push(m.pa));A6B=53;break;case 42:m.X&&m.X.length||(I=!0,u.xD.push(m.pa));A6B=40;break;case 33:A6B=(u.xD=[],d.forEach(function(a,b){var P6B;P6B=2;while(P6B!==4){switch(P6B){case 2:a===u.Ap&&(u.Cd=b);a.dda&&u.xD.push(a.pa);a.dda=!1;P6B=4;break;}}}),!u.xD.length)?32:52;break;case 37:A6B=(m=d[D],m.xf&&m.inRange&&!m.$g)?36:54;break;case 20:B=D[O-1].O,D=q.MN.PC(d,function(a){var f6B;f6B=2;while(f6B!==1){switch(f6B){case 2:return a.O>B;break;case 4:return a.O>=B;break;f6B=1;break;}}}),F=0<D?D-1:0===D?0:d.length-1;A6B=19;break;case 12:aa=D[O-1].pa;F=q.MN.PC(d,function(a){var q6B;q6B=2;while(q6B!==1){switch(q6B){case 2:return a.pa===aa;break;case 4:return a.pa==aa;break;q6B=1;break;}}});A6B=10;break;case 61:A6B=C6B===b.Fa.Up?62:60;break;case 19:h.U(F)&&(F=this.iy);this.YS(d,function(c){var l6B;l6B=2;while(l6B!==1){switch(l6B){case 2:c.xf&&c.inRange&&!c.$g&&c.Xa&&c.Xa.Jc?(l!==c.Xa&&(l=c.Xa,a&&a.ip&&c.Xa&&(c.Xa.ip=!0),n===b.Fa.ci&&t.EJ&&a.gU&&t.h3&&(c.Xa.Ba.Qa=a.gU),A=Math.floor(k(c.Xa,a.buffer)),A=0===A?1:A),c.Ba=A):c.Ba=void 0;l6B=1;break;}}});n===b.Fa.ci&&h.na(F)&&(n=b.Fa.Bi);G=d.filter(function(a){var r6B;r6B=2;while(r6B!==1){switch(r6B){case 2:return a&&a.xf&&a.inRange&&!a.$g;break;}}});A6B=15;break;case 43:A6B=(m=d[D],m.xf&&m.inRange&&!m.$g)?42:41;break;case 60:A6B=C6B===b.Fa.dd?35:59;break;case 9:F=this.iy;h.na(F)&&a&&a.state===b.Fa.ci&&(F=this.iy=void 0);h.na(F)&&F>=d.length&&(F=this.iy=void 0);D=g.X;A6B=14;break;case 14:O=D.length;A6B=13;break;case 63:A6B=C6B===b.Fa.Bi?62:61;break;case 65:return u;break;case 2:g=a&&a.buffer;n=a&&a.state;A6B=4;break;case 28:D=u.Cd+1;A6B=44;break;case 46:a.state!==b.Fa.dd&&a.state!==b.Fa.Ci?(p=this.zv(a.buffer,a.state,m,p,r),(u.cl=p.complete)?u.reason=p.reason:(u.cl=!1,u.Zt=p.Zt,u.Kz=p.Kz,u.Qh=p.Qh)):u.cl=!0;a.xS&&(u.bb=g.bb,p=a&&a.dx,r=m.X,u.wj=r&&void 0!==p&&!isNaN(p)&&0<=p&&p<r.length?r.Pg(p):g.bb,u.Qnb=m.Ba||0,u.plb=m.Xa&&m.Xa.Ba&&m.Xa.Ba.Qa||0,u.K1a=g.jl-g.hf,u.Opa=g.Uh,u.Bnb=n,u.hq=a&&a.hq,u.nFa=y,u.uub=f.time.ea());A6B=65;break;case 30:I=!1;A6B=29;break;case 21:this.QP=b.wO.ci;A6B=35;break;case 38:A6B=0<=D?37:53;break;case 34:A6B=u.Ap?33:64;break;case 52:A6B=!u||null===u.Cd?51:50;break;case 54:--D;A6B=38;break;case 4:y=f.time.ea();t=this.G;A6B=9;break;case 62:this.QP=b.wO.ci;A6B=35;break;case 35:u=this.Hd[b.Fa.name[n]].call(this,t,a,G,I,k,m);A6B=34;break;case 15:G.length||(G=d.filter(function(a){var w6B;w6B=2;while(w6B!==1){switch(w6B){case 2:return a&&a.xf&&!a.$g;break;case 4:return a||a.xf||+a.$g;break;w6B=1;break;}}}),G.forEach(function(a){var Q6B;Q6B=2;while(Q6B!==1){switch(Q6B){case 2:a.inRange=!0;Q6B=1;break;case 4:a.inRange=-3;Q6B=7;break;Q6B=1;break;}}}));D=G;t.EX?D=G.filter(function(a){var B6B;B6B=2;while(B6B!==1){switch(B6B){case 2:return a.Ov;break;case 4:return a.Ov;break;B6B=1;break;}}}):t.Iz||a.state===b.Fa.dd||a.state===b.Fa.Ci||(D=G.filter(function(a){var t6B;t6B=2;while(t6B!==1){switch(t6B){case 2:return!a.ODa;break;case 4:return-a.ODa;break;t6B=1;break;}}}));G=0<D.length?D:G.slice(0,1);void 0!==F&&(D=q.MN.PC(G,function(a){var j6B;j6B=2;while(j6B!==1){switch(j6B){case 4:return a.O<=d[F].O;break;j6B=1;break;case 2:return a.O>d[F].O;break;}}}),I=0<D?D-1:0===D?0:G.length-1);A6B=23;break;case 41:++D;A6B=44;break;case 23:C6B=a.state;A6B=C6B===b.Fa.ci?22:63;break;case 58:return c.error(x3y+b.Fa.name[a.state]),null;break;case 64:u.Cd=function(a){var D6B;D6B=2;while(D6B!==1){switch(D6B){case 2:return q.MN.PC(d,function(b){var M6B;M6B=2;while(M6B!==1){switch(M6B){case 4:return b!=G[a];break;M6B=1;break;case 2:return b===G[a];break;}}});break;}}}(u.Cd);A6B=52;break;case 53:I||(u.xD=void 0);A6B=52;break;case 40:A6B=!I?39:53;break;case 10:A6B=!(0<=F)?20:19;break;case 29:A6B=t.TDa&&D>t.kV?28:53;break;case 59:A6B=C6B===b.Fa.Ci?35:58;break;case 22:this.A1=this.w1=void 0;A6B=21;break;case 13:A6B=0<O?12:19;break;case 39:D=u.Cd-1;A6B=38;break;}}};a.prototype.zv=function(a,b,c,f,d){var X6B;X6B=2;while(X6B!==1){switch(X6B){case 2:return this.Hd.checkBuffering.call(this,a,b,c,f,d,this.G);break;}}};b6B=5;break;}}function a(a,b,c){var c6B,f,r3y;c6B=2;while(c6B!==6){r3y="1S";r3y+="IYbZrN";r3y+="JCp";r3y+="9";switch(c6B){case 4:this.G=b;r3y;c&&(this.iy=c.iy,this.QP=c.QP);a=a||this.G.cda;this.Hd=m.reduce(function(b,c){var i6B;i6B=2;while(i6B!==5){switch(i6B){case 2:b[c]=((k[a]||k[u[c]])[c]||k[u[c]][c]).bind(f);return b;break;}}},{});c6B=6;break;case 2:f=this;this.uM=a;c6B=4;break;}}}}();d.o0=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(20);g=a(47);h=a(94);a=function(a){function c(b,c,f,d,g,p){d=a.call(this,b,c,d,g,p)||this;c.aa=f.byteLength;h.Jk.call(d,b,c);d.yC=f;d.YUa=c.aa;return d;}b.__extends(c,a);Object.defineProperties(c.prototype,{Yb:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rl:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{zd:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Gj:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Gh:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{response:{get:function(){return this.yC;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Rhb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{readyState:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Be:{get:function(){return this.YUa;},enumerable:!0,configurable:!0}});c.prototype.wz=function(){return!0;};c.prototype.OC=function(a){this.gi=a.appendBuffer(this.response,f.Ej(this));return{W:this.gi};};c.prototype.Si=function(){return-1;};c.prototype.abort=function(){return!0;};c.prototype.oc=function(){};c.prototype.XM=function(){return!1;};return c;}(a(159).tx);d.bHa=a;g.Tj(h.Jk,a);},function(g,d,a){var f,h,q,c,m;function b(a){return{mediaType:a.M,streamId:a.pa,movieId:a.I,bitrate:a.O,location:a.location,serverId:a.xb,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ca,frameDuration:a.stream.La&&a.stream.La.Vd,encrypted:a.li,initSegments:1<a.tk.length?a.tk.map(function(a){return{fi:a.ez,s:a.data.byteLength,e:!!a.li};}):void 0};}Object.defineProperty(d,"__esModule",{value:!0});f=a(6);h=a(727);q=a(379);c=a(20);m=a(33);d.bOa={DO:"movieEntry",YLa:"header",p_:"metadata",EMa:"headerData",RAb:"headerMetadata",FLa:"sizes",ELa:"durations",mga:"fragments",lOa:"response",hj:"billboard",Fu:{lifespan:259200}};d.Yta=function(a,b,c){var f,d;f=b.headerData;c&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(d={Zi:c.startTicks,offset:c.offset,ca:c.timescale,sizes:new Uint32Array(b.sizes),Vc:new Uint32Array(b.durations)});return{Yb:!0,M:a.mediaType,I:a.movieId,pa:a.streamId,O:a.bitrate,location:a.location,xb:a.serverId,aa:a.bytes,offset:a.offset,j8:f,fU:a.initSegments,li:a.encrypted,ca:a.timescale,La:a.frameDuration,ve:a.saveToDisk,X:d};};d.Xta=function(a,b){var c,f,d;b=b.response;c=a.startTicks;f=a.durationTicks;void 0!==c&&void 0!==f&&(d=c+f);return{Yb:!1,M:a.mediaType,I:a.movieId,pa:a.streamId,O:a.bitrate,location:a.location,xb:a.serverId,aa:a.bytes,offset:a.offset,response:b,ca:a.timescale,ab:a.startTicks,im:f,ve:a.saveToDisk,tb:d};};d.Vua=function(a){return{ee:a.priority,I:a.movieId,headers:{},bp:0,sD:0,TT:0,ve:a.saveToDisk,Pb:a.stats,om:a.firstSelectedStreamBitrate,Kn:a.initSelectionReason,cp:a.histDiscountedThroughputValue,ql:a.histTdigest,rm:a.histAge,Xk:void 0};};d.Xua=function(a,b,c,d,g){var k,p;k={headers:{},data:{}};d.forEach(function(f){var d,p,l;d=f.M;if(d=g&&g.Fq(d,f.pa))if(f.X&&d.IV(f.ca,f.La?new m.sb(f.La,f.ca):void 0,f.X),f.Yb&&d&&d.md){void 0===k.headers&&(k.headers={});p=[];if(!Array.isArray(f.fU)||2>f.fU.length)p.push({ez:0,data:f.j8});else for(var r=0,u=0;u<f.fU.length;++u){l=f.fU[u];p.push({ez:l.fi,data:f.j8.slice(r,r+l.s),li:l.e});r+=l.s;}k.headers[f.pa]=new q.AY(d,{aa:f.aa,offset:f.offset,tk:p,li:f.li},b);}else f.response instanceof ArrayBuffer&&void 0!==d.X&&void 0!==f.ab&&void 0!==f.ca&&void 0!==f.tb&&(p=d.X.OS(new m.sb(f.ab,f.ca).Ad),void 0!==p&&(d=new h.bHa(d,{ca:f.ca,ab:f.ab,tb:f.tb,index:p.index,offset:f.offset,aa:f.aa},f.response,c,a,b),void 0===k.data&&(k.data={}),k.data[f.pa]||(k.data[f.pa]=[]),k.data[f.pa].push(d)));else b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+f.pa+" movieId: "+f.I);});if(!f.U(k.data)){p=k.data;Object.keys(p).forEach(function(a){p[a].sort(function(a,b){return a.ab-b.ab;});});}return k;};d.Rua=function(a){return{mediaType:a.M,streamId:a.pa,movieId:a.I,bitrate:a.O,location:a.location,serverId:a.xb,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ca,startTicks:a.ab,durationTicks:a.im};};d.bcb=b;d.Xbb=function(a){var f,d,g,h;f=b(a);a.stream.md&&a.stream&&a.stream.X&&(d={timescale:a.stream.X.ca,startTicks:a.stream.X.Zi,offset:a.stream.X.pg(0)},h=a.stream.X.EF,g=h.sizes.buffer,h=h.Vc.buffer);return{mediaType:f.mediaType,streamId:f.streamId,movieId:f.movieId,bitrate:f.bitrate,location:f.location,serverId:f.serverId,saveToDisk:!0,offset:f.offset,bytes:f.bytes,timescale:f.timescale,frameDuration:f.frameDuration,headerData:c.vj(a.tk.map(function(a){return a.data;})),initSegments:f.initSegments,encrypted:a.li,fragments:d,sizes:g,durations:h};};d.Wua=function(a){return{priority:a.ee,movieId:a.I,saveToDisk:a.ve,firstSelectedStreamBitrate:a.om,initSelectionReason:a.Kn,histDiscountedThroughputValue:a.cp,histTdigest:a.ql,histAge:a.rm};};d.egb=function(a){return!f.has(a,"startTicks");};d.Fwa=function(a){return!a.j8||!a.ca||!a.X||void 0===a.X.Zi||void 0===a.X.offset||void 0===a.X.Vc||!a.X.Vc.length||void 0===a.X.sizes||!a.X.sizes.length;};d.Ewa=function(a){return void 0===a.aa||void 0===a.offset||void 0===a.ca||void 0===a.ab||void 0===a.im;};},function(g,d,a){var q,c;function b(a,c,f){Object.keys(a).forEach(function(d){var g,h;if(q.Xe(a[d]))if(a[d].pU){g=a[d];h=f+g.offset;a[d]=c.slice(h,h+g.byteLength);}else a[d]=b(a[d],c,f);});return a;}function f(a,b,c){Object.keys(a).forEach(function(d){var g;if(q.pU(a[d])){g=a[d];b.push(g);a[d]={pU:!0,offset:c.X4,byteLength:g.byteLength};c.X4+=g.byteLength;}else q.Xe(a[d])&&f(a[d],b,c);});return a;}function h(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}q=a(109);c=a(48);g.T={T3a:function(a){var b,d,g;b=c(a,{});a=[];b=f(b,a,{X4:0});b=JSON.stringify(b);d=new ArrayBuffer(b.length+4);g=new DataView(d);g.setUint32(0,b.length);for(var m=4,p=0,q=b.length;p<q;p++)g.setUint8(m,b.charCodeAt(p)),m++;a=[d].concat(a);return h.apply(null,a);},S3a:function(a){var c;c=new DataView(a,0,4).getInt32(0);for(var f=new Uint8Array(a,4,c),d="",g=0;g<f.byteLength;g++)d+=String.fromCharCode(f[g]);c=4+c;d=JSON.parse(d);return b(d,a,c);}};},function(g,d,a){var h;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function f(a,b){var c,d,g;c=[];if(h.Xe(b)){d={};g={};g[a]=d;c.push(g);c=Object.keys(b).reduce(function(c,g){var k,m,p;k=b[g];p={};h.pU(k)?(m=a+".__embed__."+g,p[m]=k,c.push(p)):h.Xe(k)?(m=a+".__sub__."+g,k=f(m,k),d[g]=k[0][m],c=c.concat(k.slice(1))):d[g]=k;return c;},c);}else g={},g[a]=b,c.push(g);return c;}h=a(109);g.T={S7a:f,Pfb:function(a){var c,n;c=Object.keys(a).map(function(a){return a.split(".");});c.sort(b);for(var f=c[0],d=f.length,f=a[f.join(".")],g=1;g<c.length;g++)for(var h=!1,p=!1,q=f,l=d;l<c[g].length;l++){n=c[g][l];switch(n){case"__metadata__":break;case"__sub__":p=!0;break;case"__embed__":h=!0;break;default:p?(q=q[n],p=!1):h&&(q[n]=a[c[g].join(".")],h=!1);}}return f;},hgb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(g,d,a){function b(a){return a;}function f(){return b;}a(6);g.T={$J:f,N7:f};},function(g,d,a){var b,f,h,q;b=a(6);f=a(109);h={};h[f.Tm.yx]=function(a){return a;};h[f.Tm.YO]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[f.Tm.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};q={};q[f.Tm.yx]=function(a){return a;};q[f.Tm.YO]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),f=0,d=a.length;f<d;f++)c[f]=a.charCodeAt(f);return b;};q[f.Tm.OBJECT]=function(a){return b.U(a)||b.Ma(a)?a:q[f.Tm.YO](JSON.stringify(a));};g.T={$J:function(a){return h[a]||h[f.Tm.yx];},N7:function(a){return q[a]||q[f.Tm.yx];}};},function(g){function d(a,f,d,g){a.trace(":",d,":",g);f(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,f,g,h){g=h?g.bind(h):g;h=!1;if(a){this.console&&(g=d.bind(null,this.console,g,f));if("function"===typeof a.addEventListener)h=a.addEventListener(f,g);else if("function"===typeof a.addListener)h=a.addListener(f,g);else throw Error("Emitter does not have a function to add listeners for '"+f+"'");this.listeners.push([a,f,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,f;b=a[0];f=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(f,a):"function"===typeof b.removeListener&&b.removeListener(f,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.T=a;},function(g){function d(a,f){var b;if(void 0===f||"function"!==typeof f||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.Vl)return this.Vl={},this.Vl[a]=[f],!0;b=this.Vl[a];return void 0===b?(this.Vl[a]=[f],!0):0>b.indexOf(f)?(b.push(f),!0):!1;}function a(a,f){a=this.Vl?this.Vl[a]:void 0;if(!a)return!1;a.forEach(function(a){a(f);});return!0;}g.T={addEventListener:d,on:d,removeEventListener:function(a,f){var b;if(void 0===f||"function"!==typeof f||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.Vl)return!1;b=this.Vl[a];if(void 0===b)return!1;f=b.indexOf(f);if(0>f)return!1;if(1===b.length)return delete this.Vl[a],!0;b.splice(f,1);return!0;},Ka:a,emit:a,removeAllListeners:function(a){this.Vl&&(void 0===a?delete this.Vl:delete this.Vl[a]);return this;}};},function(g){function d(a){if(!(this instanceof d))return new d(a);if("undefined"===typeof a)this.ck=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.ck=a;}this.hn=[];}function a(f,d){var g,c,h,k,p,r,l;g=f.hn;c=f.ck;h=2*d+1;k=2*d+2;p=g[d];r=g[h];l=g[k];r&&c(r.ee,p.ee)&&(!l||c(r.ee,l.ee))?(b(g,d,h),a(f,h)):l&&c(l.ee,p.ee)&&(b(g,d,k),a(f,k));}function b(a,b,d){var c;c=a[b];a[b]=a[d];a[d]=c;}d.prototype.clear=function(){this.hn=[];};d.prototype.sm=function(a,d){this.hn.push({ee:a,value:d});a=this.hn;d=this.ck;for(var f=a.length-1,c=0===f?null:Math.floor((f-1)/2);null!==c&&d(a[f].ee,a[c].ee);)b(a,f,c),f=c,c=0===f?null:Math.floor((f-1)/2);};d.prototype.remove=function(){var f;if(0!==this.hn.length){f=this.hn[0];b(this.hn,0,this.hn.length-1);this.hn.pop();a(this,0);return f.value;}};d.prototype.XE=function(){if(0!==this.hn.length)return this.hn[0].value;};d.prototype.enqueue=d.prototype.sm;d.prototype.Sra=d.prototype.remove;d.prototype.nx=function(){return this.hn.map(function(a){return a.value;});};g.T=d;},function(g,d,a){var f,h,q,c,m,k,u,r;function b(a,d,g){var I,ja;function p(a,b,c,f){a.info.call(a,function(a,d){var g;if(a)f(a);else{try{g=d.values[this.context].entries[b][c].size;}catch(ma){g=-1;}-1<g?f(null,g):this.Lp(function(a,b){a?f(a):(b[c]&&(g=b[c].size),f(null,g));});}}.bind(a));}function l(a,c,f,d,g,k,r){var q;k?k.ik||(k.ik={}):k={ik:{}};I(d);q=h.time.now();d=new u(function(b,d){a.create(h.storage.DB,c,f,function(a,c){a?d(a):b(c);});}).then(function(f){f.W?p(a,h.storage.DB,c,function(a,d){a?r(a):(ja(d),I(d),k.ik[b.KN.h_]={W:!0,time:g,hi:d,kw:c,xBa:f,duration:h.time.now()-q},k.Qi=f.Qi,r(null,k));}):(k.ik[b.KN.h_]={W:!1,kw:c,error:f.error},r(null,k));},function(a){r(a);});m.ar(d);}function n(a,b,c,f,d,g){f.sm(c.time,c);for(var h=c.time-864E5,k=f.XE();k&&!isNaN(k.time)&&k.time<h;)k=f.Sra(),I(0-(k.aa||0)),k=f.XE();f=f.nx().map(function(a){return a.time+";"+a.aa;});l(a,b,Array.prototype.join.call(f,"|"),c.aa,c.time,d,g);}function y(a,c,f,d,g,m,r,u,l){var y;y=h.time.now();a.create(f,d,g,function(g,A){var t;if(g)k.error("Failed to replace item",d,g);else if(A.W){t=A.Qi;p(a,f,d,function(f,g){var k,p;if(f)l(f);else{f={time:u,aa:g||0};k={Qi:t,ik:{}};p=h.time.now()-y;k.ik[b.KN.REPLACE]={W:!0,time:u,hi:g,kw:d,xBa:A,duration:p};m?n(a,c,f,r,k,l):(I(g),l(null,k));}});}else l(q.iP.Qm(A.error||"Failed to create item"));});}function A(a,c,f,d,g,m,r,u,l){var y;y=h.time.now();a.append(f,d,g,function(g,A){var t;if(g)k.error("Failed to save item "+d,g),l(g);else if(A.W){t=A.Qi;p(a,f,d,function(f,g){var k,p;if(f)l(f);else{f={time:u,aa:g||0};k={Qi:t,ik:{}};p=h.time.now()-y;k.ik[b.KN.pSa]={W:!0,time:u,hi:g,kw:d,xBa:A,duration:p};m?n(a,c,f,r,k,l):(I(g),l(null,k));}});}else l(q.iP.Qm(A.error||"Failed to save item"));});}function t(a,b){a&&f.Gb(a.remove)&&a.Gi.valid&&a.remove(h.storage.DB,b.oC,function(c,d){if(c)k.error("Failed to delete old journal key",c);else try{d&&(f.U(d.error)||d.error.some(function(a){return"NFErr_FileNotFound"===a.gIb;}))&&n(a,b.oC,{time:0,aa:0},b.ZH,0,function(){});}catch(V){}});}if(!a.Gi.valid)return r;this.Wla=f.U(d)||f.Ma(d)?0:d;this.c1=a;this.u1=this.uH=0;this.ZH=new c();this.bYa=g||"default";this.oC=this.bYa+".NRDCACHEJOURNALKEY";I=function(a){isNaN(a)||(this.uH+=a);return this.uH;}.bind(this);ja=function(a){isNaN(a)||(this.u1+=a);return this.u1;}.bind(this);this.s7=function(){return this.oC;};this.save=function(a,b,c,f){var d;d=h.time.now();A(this.c1,this.oC,a,b,c,0<=this.Wla,this.ZH,d,f);};this.replace=function(a,b,c,f){var d;d=h.time.now();y(this.c1,this.oC,a,b,c,0<=this.Wla,this.ZH,d,f);};this.fua=function(a){var b,d;b=this.uH;a-=864E5;for(var c=this.ZH.nx(),f=0;f<c.length;f++){d=c[f];d.time<a&&!isNaN(d.aa)&&(b-=d.aa);}return b;};(function(a){var b;b=a.c1;a.uH=0;b.read(h.storage.DB,a.oC,0,-1,function(c,f){var d,g,m,r;d=[];g=0;m=!0;if(c)k.error("Failed to compile records",c);else if(f.W){c=String.fromCharCode.apply(null,new Uint8Array(f.value));c=String.prototype.split.call(c,"|");f=c.reduce(function(a,b){return a+(b.length+40);},0);I(f);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),aa:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.aa;},0)))for(var m=!1,p=h.time.now()-864E5;g<d.length;g++){r=d[g];r.time<p||(a.ZH.sm(r.time,r),I(r.aa));}}catch(P){}}m&&t(b,a);});}(this));}f=a(6);h=a(110);q=a(205);c=a(735);d=a(48);m=a(204);k=new h.Console("DISKWRITEMANAGER","media|asejs");u=h.Promise;d({KN:{pSa:"saveitem",REPLACE:"replaceitem",h_:"journalupdate"}},b);r={save:function(a,b,c,f){f(q.Kha);},replace:function(a,b,c,f){f(q.Kha);},s7:function(){return"";},fua:function(){return 0;}};b.prototype.constructor=b;g.T={create:function(a,c,f){return new b(a,c,f);},BCb:r};},function(g,d,a){var m,k,u,r,l,n,t,F,D;function b(){}function f(c,d,g,p,r){var u;u=m.Gb(p)?p:b;this.bv=c;this.Xr=g.Ts;this.Ds=0;this.RVa=g.Z9a||"NONE";this.$r=m.U(r)||m.Ma(r)?0:r;this.ud={};this.Ao=g.fKb||k.storage.DB;this.Yp=d;this.KC=l.create(this.Yp,g.s6a*this.$r,this.bv);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.Ka=D.Ka;this.wma=q(this,f.Fd.REPLACE);this.tWa=q(this,f.Fd.dla);this.ny;this.ny=g.PFa?a(732):a(731);this.Yp.query(this.Ao,this.ym(""),function(a,b){var c;if(a)u(a);else{c=this.KC.s7();a=Object.keys(b).filter(function(a){return a!==c&&n.sE(a);}).map(this.Nda.bind(this));this.uW(a,function(a,c){Object.keys(c).map(function(a){var f,d;f=c[a];this.ud[n.KS(a)]=f;if(f.Hba&&1<Object.keys(f.Hba).length){d=0;Object.keys(f.Hba).forEach(function(a){b[this.ym(a)]&&m.na(b[this.ym(a)].size)&&(d+=b[this.ym(a)].size);}.bind(this));a=n.KS(a);this.ud[a].size=d;}else a=n.KS(a),b[this.ym(a)]&&(this.ud[a].size=b[this.ym(a)].size);}.bind(this));h(this.Yp,this.Ao,this.bv,function(a,b){this.Ds=b;a?u(a):u(null,this);}.bind(this));}.bind(this));}}.bind(this));}function h(a,c,f,d){var g;g=m.Gb(d)?d:b;a.query(c,f,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),g(null,a));});}function q(a,b){return function(c,d,g,p,r){return function(q,u){var l;if(q)d||a.Ka(f.Fd.ERROR,{itemKey:c,error:q}),g(q);else{l={hi:0,duration:0,items:[],time:k.time.now()};Object.keys(u.ik).map(function(b){var c;c=u.ik[b];b={key:a.Nda(c.kw),zf:b};c.W?(l.hi+=c.hi,b.AU=c.hi,m.na(c.duration)&&(l.duration+=c.duration)):b.error=c.error;l.items.push(b);});q=m.Gb(p)?p():0;0<r&&(l.rD=r-q);h(a.Yp,a.Ao,a.bv,function(c,f){c?g(c):(a.Ds=f,l.Qi=a.Xr-f,d||a.Ka(b,F.lua(l)),g(null,l));});}};};}function c(a,b){return 0<b&&a>=b?!0:!1;}m=a(6);k=a(110);u=a(205);d=a(48);r=new k.Console("MEDIACACHE","media|asejs");l=a(736);n=a(361);t=a(109);F=a(204);D=a(108).EventEmitter;d({Fd:{dla:"writeitem",REPLACE:"replaceitem",h_:"journalupdate",ERROR:"mediacache-error"}},f);f.prototype.getName=function(){return this.bv;};f.prototype.Nda=function(a){return a.slice(this.bv.length+1);};f.prototype.k7=function(){return Object.keys(this.ud).filter(function(a){a=n.N6(this.ud[a]);return void 0===a||0>=a.Iqa();}.bind(this));};f.prototype.Rcb=function(){return Object.keys(this.ud).reduce(function(a,b){var c;c=this.ud[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:k.time.now()}).GLb;};f.prototype.Pbb=function(){var a;switch(this.RVa){case"FIFO":a=this.Rcb();}return a;};f.prototype.r7a=function(a){var c;c=m.Gb(a)?a:b;this.Gua(function(b){var f,d,g;f=this.ud;d=Object.keys(f).reduce(function(a,b){b=f[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!n.sE(a)&&0>d.indexOf(a);}))&&0<b.length){g=this;b=k.Promise.all(b.map(function(a){return new k.Promise(function(b,c){g["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{uba:!0});},function(a){c(a,{uba:!1});});F.ar(b);}else a(void 0,{uba:!1});}.bind(this));};f.prototype.dpb=function(a,c,f){var d,g;d=m.Gb(c)?c:b;c=this.ym(a);g=k.time.now();this.Yp.read(this.Ao,c,0,-1,function(b,c){var h;if(b)d(b);else if(c&&c.W&&c.value){m.Gb(f)||(f=this.ny.$J(t.Tm.yx),n.sE(a)?f=this.ny.$J(t.Tm.OBJECT):(b=this.ud[a],!m.U(b)&&m.na(b.resourceIndex[a])?(b=b.resourceIndex[a],m.U(b)&&(b=t.Tm.yx),f=this.ny.$J(b)):r.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{h=f(c.value);}catch(T){return d(u.KB.Qm(T.message));}c={duration:k.time.now()-g};this.ud[a]&&m.na(this.ud[a].size)&&(c.Rs=m.na(this.ud[a].size)?this.ud[a].size:0);d(null,h,c);}else d(u.KB.Qm(c.error));}.bind(this));};f.prototype.read=function(a,b,c){this.dpb(a,b,c);};f.prototype.uW=function(a,c,f){var d,g,h;d=m.Gb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))d(u.KB.Qm("item keys must be an array"));else{g={};h=[];a=k.Promise.all(a.map(function(a){return new k.Promise(function(b,c){var d;f&&!m.U(f[a])&&(d=this.ny.$J(f[a]));this.read(a,function(f,d,k){f?(d={},d[a]=f,c(d)):(g[a]=d,h.push({duration:k.duration,Rs:k.Rs}),b());},d);}.bind(this));}.bind(this))).then(function(){var a;a={};0<h.length&&(a=h.reduce(function(a,b){m.na(b.duration)&&(a.duration+=b.duration);m.na(b.Rs)&&(a.Rs+=b.Rs);return a;},{duration:0,Rs:0}));d(null,g,a);},function(a){d(a);});F.ar(a);}};f.prototype.write=function(a,f,d,g,h){var k,p,r;d=m.Gb(d)?d:b;k=this.ym(a);p="function"===typeof h?h():0;r=t.X7(f);r=this.ny.N7(r)(f);r.byteLength+this.Ds>=this.Xr?d(u.hB):c(r.byteLength+p,this.$r)?d(u.jP):this.KC.save(this.Ao,k,f,this.tWa(a,g,d,h,this.$r),r.byteLength);};f.prototype.replace=function(a,f,d,g,h){var k,p,q,l;k=m.Gb(d)?d:b;p=this.ym(a);q=0;"function"===typeof h&&(q=h());d=t.X7(f);l=this.ny.N7(d)(f);d=(this.ud[a]||{}).size||0;0>=d&&this.ud[a]?this.bva([a],function(b){r.trace("Replacing key",a,"which exists:",!!this.ud[a],this.ud[a]?this.ud[a]:void 0,"and has size",b,"with",f,"with size",l.byteLength,"plus _used",this.Ds,"vs capacity",this.Xr);l.byteLength-b+this.Ds>=this.Xr?k(u.hB):c(l.byteLength-b+q,this.$r)?k(u.jP):this.KC.replace(this.Ao,p,f,this.wma(a,g,k,h,this.$r),l.byteLength);}.bind(this)):(r.trace("Replacing key",a,"which exists:",!!this.ud[a],this.ud[a]?this.ud[a]:void 0,"and has size",d,"with",f,"with size",l.byteLength,"plus _used",this.Ds,"vs capacity",this.Xr),l.byteLength-d+this.Ds>=this.Xr?k(u.hB):c(l.byteLength-d+q,this.$r)?k(u.jP):this.KC.replace(this.Ao,p,f,this.wma(a,g,k,h,this.$r),l.byteLength));};f.prototype.dqb=function(a,c,d,g){var h;h=m.Gb(c)?c:b;"[object Object]"!==Object.prototype.toString.call(a)?h(u.iP.Qm("items must be a map of keys to objects")):(c=k.Promise.all(Object.keys(a).map(function(b){return new k.Promise(function(c){this.replace(b,a[b],function(a,f){a?c({error:a,Im:b}):c(f);},!0,g);}.bind(this));}.bind(this))).then(function(a){var b,c,p,r;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.hi+=c.hi,m.na(c.duration)&&(a.duration+=c.duration),!m.U(c.Qi)&&c.Qi<b&&(b=c.Qi),c.items.map(function(b){a.items.push({key:b.key,zf:b.zf,AU:b.AU,fib:b.fib,duration:b.duration});}),b<Number.MAX_VALUE&&(a.Qi=b));return a;},{hi:0,items:[],time:k.time.now(),duration:0});0<this.$r&&(c.rD=this.$r-g());p=a.filter(function(a){return!m.U(a.error);});r=F.Ava(p);d||(r?r.forEach(function(a){this.Ka(f.Fd.ERROR,a);}.bind(this)):this.Ka(f.Fd.REPLACE,F.lua(c)));h(r,c);}catch(V){h(V);}}.bind(this),function(a){d||this.Ka(f.Fd.ERROR,a);h(a);}.bind(this)),F.ar(c));};f.prototype["delete"]=function(a,c){var f;f=m.Gb(c)?c:b;this.Yp.remove(this.Ao,this.ym(a),function(a,b){a?f(a):b&&b.W?h(this.Yp,this.Ao,this.ym(""),function(a,b){a?f(a):(this.Ds=b,f());}.bind(this)):f(u.BJa.Qm(b.error));}.bind(this));};f.prototype.Gua=function(a){this.query("",function(b,c){b?(r.error("Failed to get keys",b),a([])):a(c);});};f.prototype.query=function(a,c){var f,d;f=m.Gb(c)?c:b;d=this.KC.s7();this.Yp.query(this.Ao,this.ym(a),function(a,b){a?f(a):f(null,Object.keys(b).filter(function(a){return a!==d;}).map(this.Nda.bind(this)));}.bind(this));};f.prototype.ym=function(a){return this.bv+"."+a;};f.prototype.clear=function(a){var c;c=m.Gb(a)?a:b;this.Gua(function(a){var b;b=k.Promise.all(a.map(function(a){return new k.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){c(a);},function(a){this.Ka(f.Fd.ERROR,a);c([],a);}.bind(this));F.ar(b);}.bind(this));};f.prototype.bva=function(a,c){var f,d;f=m.Gb(c)?c:b;d=(a||[]).map(function(a){return this.ym(a);}.bind(this));this.Yp.query(this.Ao,this.bv,function(b,c){b?(r.error("failed to get persisted size for keyset ",a,b),f(0)):(b=Object.keys(c).filter(function(a){return 0<=d.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),f(b));}.bind(this));};f.prototype.cbb=function(a){return this.KC.fua(a);};f.prototype.constructor=f;g.T=f;},function(g,d,a){var f,h,q,c,m;function b(a){this.Gi=a;this.context=a.context;this.xza="NULLCONTEXT"===a.context?!0:!1;}f=a(6);h=a(110);q=new h.Console("DISKCACHE","media|asejs");c={context:"NULLCONTEXT",read:function(a,b,c,f,d){d("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,f){f("MediaCache is not supported");},append:function(a,b,c,f){f("MediaCache is not supported");},query:function(a,b,c){c([]);}};b.prototype.ty=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.xza)throw Error("Media Cache not supported");b.apply(this.Gi,a);}catch(y){c(y);}};b.prototype.query=function(a,b,c,f){try{if(this.xza)throw Error("Media Cache not supported");this.Gi.query(a,b,function(a){c(null,a);},f);}catch(A){c(A);}};b.prototype.read=function(a,b,c,f,d){this.ty(this.Gi.read,a,b,c,f,d);};b.prototype.remove=function(a,b,c){this.ty(this.Gi.remove,a,b,c);};b.prototype.create=function(a,b,c,f){this.ty(this.Gi.create,a,b,c,f);};b.prototype.append=function(a,b,c,f){this.ty(this.Gi.append,a,b,c,f);};b.prototype.info=function(a){this.ty(this.Gi.info,a);};b.prototype.Lp=function(a){this.ty(this.Gi.Lp,a);};b.prototype.flush=function(a){this.ty(this.Gi.flush,a);};b.prototype.clear=function(){this.Gi.clear();};g.T={L5a:function(a){var d,g,k,p,l;d=a.THb||"NRDMEDIADISKCACHE";m=a.Gv||0;0!==m||f.U(h.options)||f.U(h.options.HE)||(m=h.options.HE);a=m;try{p=h.storage.DD;if(!p||!f.Xe(p))throw q.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(k=p[d])q.warn("Disk store exists, returning"),g=new b(k);else{if(f.U(h.storage)||!f.Gb(h.storage.QR)||h.options&&0===h.options.HE)throw q.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";q.warn("Disk store context doesn't exist, creating with size "+a);l=h.storage.QR({context:d,size:a,encrypted:!0,signed:!0});if(!l||!l.valid)throw"Failed to create disk store context";g=new b(l);}}catch(F){q.warn("Exception creating disk store context - returning NullContext (noops)",F);g=new b(c);}return g;},Cbb:function(){return m;},tzb:b};},function(g,d,a){var b,f,h,q,c;b=a(6);h=[];c=!1;g.T={lU:function(d,g,p){var k;if(c)b.Gb(p)&&(f.Ln||f.uz?setTimeout(function(){p(f);},0):h.push(p));else{c=!0;k=a(110);k.wK(d);q=new k.Console("MEDIACACHE","media|asejs");f=new(a(362))(g,function(a){a&&q.warn("Failed to initialize MediaCache",a);b.Gb(p)&&setTimeout(function(){p(f);},0);h.map(function(a){setTimeout(function(){a(f);},0);});});}return f;},tIb:function(c,d){f=new(a(362))(c,function(a,c){a&&q.warn("Failed to initialize MediaCache",a);b.Gb(d)&&setTimeout(function(){d(c);},0);});}};},function(g,d,a){var b,f,h,q,c,m,k;Object.defineProperty(d,"__esModule",{value:!0});a(11);b=a(739);f=a(49);h=a(6);q=a(208);c=a(20);g=a(47);m=a(728);k=m.bOa;a=function(){var u3y;u3y=2;while(u3y!==27){switch(u3y){case 2:a.prototype.xc=function(a,c){var q3y,f,j7y;q3y=2;while(q3y!==4){j7y="Medi";j7y+="a cache is disable";j7y+="d";switch(q3y){case 2:f=this;return this.aq=this.y2?new Promise(function(d,g){var w3y;w3y=2;while(w3y!==1){switch(w3y){case 2:(void 0!==c&&null!==c?c.lU:function(a){var R3y;R3y=2;while(R3y!==1){switch(R3y){case 4:return b.lU(f.Rk,f.G,a);break;R3y=1;break;case 2:return b.lU(f.Rk,f.G,a);break;}}})(function(b){var T3y,c,C7y;T3y=2;while(T3y!==3){C7y="Media cache did n";C7y+="o";C7y+="t ";C7y+="initialize";switch(T3y){case 2:f.xh=b;T3y=5;break;case 5:c=b.Ln;(b=b.uz)?g(b):c?(f.Isb(a),d()):g(Error(C7y));T3y=3;break;}}});w3y=1;break;}}}):Promise.reject(j7y);break;}}};a.prototype.Ohb=function(a){var H3y,b,c,f;H3y=2;while(H3y!==9){switch(H3y){case 3:return this.aq.then(function(){var l3y;l3y=2;while(l3y!==1){switch(l3y){case 2:return new Promise(function(d){var i3y;i3y=2;while(i3y!==1){switch(i3y){case 2:b.xh.pA(k.hj,c,function(c){var K3y,g,A7y;K3y=2;while(K3y!==9){A7y="mediac";A7y+="a";A7y+="che";A7y+="loo";A7y+="kup";switch(K3y){case 5:d(),b.AF(A7y,{RU:b.Rk.time.ea()-f,VR:!1});K3y=9;break;case 2:K3y=1;break;case 1:K3y=!c||0>=c.length?5:4;break;case 4:g=c[0];b.xh.read(k.hj,g,function(c,f){var E3y,I3y,k,p,L7y,O7y;E3y=2;while(E3y!==14){L7y=" f";L7y+="aile";L7y+="d";O7y="Read";O7y+="i";O7y+="ng movie entr";O7y+="y ";switch(E3y){case 5:E3y=!h.U(f)?4:8;break;case 4:E3y=f instanceof ArrayBuffer?3:9;break;case 3:try{I3y=2;while(I3y!==1){switch(I3y){case 2:k=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));I3y=1;break;}}}catch(ja){}E3y=8;break;case 2:c&&b.L.warn(O7y+g+L7y,c);E3y=5;break;case 9:k={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};E3y=8;break;case 8:h.U(k)||(p=m.Vua(k));h.U(p)||h.Ma(p)||(p.Pb=p.Pb||{},p.headers=p.headers||{});b.Gwa(p)?d(p):(b.KYa(a),d());E3y=14;break;}}});K3y=9;break;}}});i3y=1;break;}}});break;}}});break;case 2:b=this;c=[k.DO,a].join(".");f=this.Rk.time.ea();H3y=3;break;}}};a.prototype.Jhb=function(a,b,c){var P3y,f,d,S7y;P3y=2;while(P3y!==8){S7y="Media ";S7y+="ca";S7y+="che is not enabled";switch(P3y){case 3:d=this.Rk.time.ea();P3y=9;break;case 4:return Promise.reject(S7y);break;case 2:f=this;P3y=5;break;case 9:return this.aq.then(function(){var h3y;h3y=2;while(h3y!==1){switch(h3y){case 2:return new Promise(function(g){var W3y;W3y=2;while(W3y!==1){switch(W3y){case 2:f.xh.pA(k.hj,a,function(k){var X3y;X3y=2;while(X3y!==5){switch(X3y){case 2:k=k.reduce(function(a,b){var z3y,c,G7y;z3y=2;while(z3y!==8){G7y="drmH";G7y+="eade";G7y+="r.__embe";G7y+="d";G7y+="__";switch(z3y){case 5:z3y=-1!==c.indexOf(G7y)?4:3;break;case 2:c=b.substr(0,b.lastIndexOf("."));z3y=5;break;case 4:return a;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});f.Mob(k,b).then(function(b){var Q3y,k,m,n7y,s7y;Q3y=2;while(Q3y!==6){n7y="medi";n7y+="acachel";n7y+="ooku";n7y+="p";s7y="No ";s7y+="c";s7y+="ont";s7y+="ent ";s7y+="data found for ";switch(Q3y){case 5:return g();break;case 2:Q3y=1;break;case 1:Q3y=void 0===c||void 0===b?5:4;break;case 4:k=f.Rk.time.ea()-d;m=!1;h.U(b)||h.U(b.data)||!h.Xe(b.data)?f.L.trace(s7y+a,c):m=!0;f.AF(n7y,{RU:k,VR:m});g(b);Q3y=6;break;}}},function(){var J3y;J3y=2;while(J3y!==1){switch(J3y){case 4:g();J3y=2;break;J3y=1;break;case 2:g();J3y=1;break;}}});X3y=5;break;}}});W3y=1;break;}}});break;}}});break;case 5:P3y=!this.aq?4:3;break;}}};a.prototype.Khb=function(a,b){var p3y,c,f;p3y=2;while(p3y!==3){switch(p3y){case 2:c=this;f=this.Rk.time.ea();return this.aq.then(function(){var y3y;y3y=2;while(y3y!==1){switch(y3y){case 4:return c.Dma(a);break;y3y=1;break;case 2:return c.Dma(a);break;}}}).then(function(d){var t3y,a7y;t3y=2;while(t3y!==5){a7y="mediaca";a7y+="chel";a7y+="ook";a7y+="u";a7y+="p";switch(t3y){case 1:return c.qYa(a.toString(),b,f);break;case 4:c.AF(a7y,{RU:c.Rk.time.ea()-f,VR:!1});t3y=5;break;case 2:t3y=d?1:4;break;}}});break;}}};u3y=3;break;case 6:a.prototype.Gwa=function(a){var L3y;L3y=2;while(L3y!==1){switch(L3y){case 2:return!(h.U(a)||h.Ma(a)||h.U(a.Pb)||h.Ma(a.Pb)||h.U(a.I)||h.Ma(a.I)||h.U(a.ee)||h.Ma(a.ee));break;}}};a.prototype.nib=function(a){var S3y,b,c;S3y=2;while(S3y!==3){switch(S3y){case 2:b=this;c=h.U(a)?"":a.toString();return new Promise(function(a){var G3y,s3y;G3y=2;while(G3y!==4){switch(G3y){case 5:try{s3y=2;while(s3y!==1){switch(s3y){case 2:b.xh.pA(k.hj,"",function(b){var n3y;n3y=2;while(n3y!==5){switch(n3y){case 2:b=b.filter(function(a){var a3y,D7y;a3y=2;while(a3y!==5){D7y="mo";D7y+="vieEnt";D7y+="r";D7y+="y";switch(a3y){case 2:a=a.split(".");return c&&(c===a[0]||D7y===a[0]&&c===a[1]);break;}}}).reduce(function(a,b){var D3y,c,U7y;D3y=2;while(D3y!==3){U7y="movieE";U7y+="n";U7y+="try";switch(D3y){case 2:c=b.split(".");U7y!==c[0]&&(b=c[1],c=c[2],h.U(a[b])&&(a[b]={}),h.U(a[b][c])&&(a[b][c]=!0));return a;break;}}},{});a(b);n3y=5;break;}}});s3y=1;break;}}}catch(F){a();}G3y=4;break;case 2:G3y=h.U(b.xh)?1:5;break;case 1:a();G3y=4;break;}}});break;}}};a.prototype.Nhb=function(a,b){var U3y,c;U3y=2;while(U3y!==4){switch(U3y){case 9:c=this;U3y=6;break;U3y=5;break;case 5:return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var V3y,c,f;V3y=2;while(V3y!==7){switch(V3y){case 9:Object.keys(f).forEach(function(a){var F7y;F7y=2;while(F7y!==5){switch(F7y){case 2:c[a]||(c[a]={});f[a].forEach(function(b){var N7y;N7y=2;while(N7y!==1){switch(N7y){case 2:h.U(b.gd)||(c[a][b.gd]=!0);N7y=1;break;}}});F7y=5;break;}}});V3y=8;break;case 4:V3y=b.data?3:8;break;case 3:f=b.data;V3y=9;break;case 8:return a(c);break;case 2:c={};b.headers&&Object.keys(b.headers).forEach(function(a){var g7y;g7y=2;while(g7y!==5){switch(g7y){case 2:c[a]||(c[a]={});c[a].header=!0;g7y=5;break;}}});V3y=4;break;}}}):this.Dma(a).then(function(b){var d7y;d7y=2;while(d7y!==5){switch(d7y){case 2:d7y=b?1:5;break;case 1:return new Promise(function(b){var f7y;f7y=2;while(f7y!==1){switch(f7y){case 2:c.xh.read(k.hj,a,function(c,f){var Z7y,d,g;Z7y=2;while(Z7y!==4){switch(Z7y){case 2:Z7y=1;break;case 1:Z7y=c?5:3;break;case 9:b(void 0);Z7y=4;break;case 5:b();Z7y=4;break;case 13:b(g);Z7y=4;break;case 8:d=f[a];g={};d.headers&&Object.keys(d.headers).forEach(function(a){var Y7y;Y7y=2;while(Y7y!==5){switch(Y7y){case 2:g[a]||(g[a]={});g[a].header=!0;Y7y=5;break;}}});d.data&&Object.keys(d.data).forEach(function(a){var v7y;v7y=2;while(v7y!==5){switch(v7y){case 2:g[a]||(g[a]={});Object.keys(d.data[a]).forEach(function(b){var b7y;b7y=2;while(b7y!==1){switch(b7y){case 2:g[a][b]=!0;b7y=1;break;case 4:g[a][b]=+6;b7y=2;break;b7y=1;break;}}});v7y=5;break;}}});Z7y=13;break;case 3:Z7y=h.U(f)?9:8;break;}}});f7y=1;break;}}});break;}}});break;case 2:c=this;U3y=5;break;}}};a.prototype.Gcb=function(){var x7y,a,V7y;x7y=2;while(x7y!==4){V7y="Me";V7y+="dia cache is not ";V7y+="e";V7y+="nable";V7y+="d";switch(x7y){case 2:a=this;return this.aq?this.aq.then(function(){var r7y;r7y=2;while(r7y!==1){switch(r7y){case 2:return new Promise(function(b){var u7y;u7y=2;while(u7y!==1){switch(u7y){case 2:a.xh.pA(k.hj,k.DO,function(a){var M7y,c;M7y=2;while(M7y!==8){switch(M7y){case 1:M7y=!a||0>=a.length?5:4;break;case 5:b([]);M7y=8;break;case 2:M7y=1;break;case 4:c=[];a.forEach(function(a){var q7y;q7y=2;while(q7y!==1){switch(q7y){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);q7y=1;break;}}});b(c);M7y=8;break;}}});u7y=1;break;}}});break;}}}):Promise.reject(V7y);break;}}};a.prototype.AF=function(a,b){var w7y,c,d1y,N1y,F1y,g1y;w7y=2;while(w7y!==8){d1y="s";d1y+="a";d1y+="vet";d1y+="o";d1y+="disk";N1y="media";N1y+="cac";N1y+="hest";N1y+="at";N1y+="s";F1y="m";F1y+="ediac";F1y+="ache";g1y="me";g1y+="diac";g1y+="achelookup";switch(w7y){case 4:g1y===a&&(c.lookupTime=b.RU,c.dataFound=b.VR);c.oneObject=this.jn;this.OVa&&this.emit(F1y,c);w7y=8;break;case 2:c={type:N1y,operation:a};d1y===a&&(c.saveTime=b.PCa);w7y=4;break;}}};a.prototype.Mob=function(a,b){var R7y,c,f;R7y=2;while(R7y!==3){switch(R7y){case 2:c=this;f=Object.keys(a).map(function(b){var T7y;T7y=2;while(T7y!==1){switch(T7y){case 2:return c.J5a(a[b]);break;case 4:return c.J5a(a[b]);break;T7y=1;break;}}});return Promise.all(f).then(function(a){var H7y;H7y=2;while(H7y!==5){switch(H7y){case 1:return m.Xua(c.G,c.L,c.Sf,a,b);break;case 2:a.sort(function(a,b){var l7y;l7y=2;while(l7y!==1){switch(l7y){case 2:return a.Yb===b.Yb?0:a.Yb?-1:1;break;}}});H7y=1;break;}}});break;}}};a.prototype.J5a=function(a){var i7y,b,c,f,d;i7y=2;while(i7y!==3){switch(i7y){case 2:i7y=1;break;case 1:b=this;d={};return new Promise(function(g,h){var K7y,p;K7y=2;while(K7y!==5){switch(K7y){case 2:b.xh.uW(k.hj,a,function(a,b){var E7y,q,I7y,Y1y,Z1y,f1y;E7y=2;while(E7y!==5){switch(E7y){case 2:try{I7y=2;while(I7y!==19){Y1y="Missing ";Y1y+="or invalid ";Y1y+="media data parts";Y1y+=" for stream ";Z1y="Header fragments was an";Z1y+=" array buffer,";Z1y+=" is";Z1y+=" invali";Z1y+="d type ";f1y="Missing ";f1y+="o";f1y+="r inval";f1y+="id header data p";f1y+="arts for stream ";switch(I7y){case 4:I7y=m.egb(f)?3:20;break;case 1:return h(a);break;case 6:I7y=p.Yb?14:11;break;case 14:I7y=m.Fwa(p)?13:12;break;case 7:p=m.Yta(f,d,c);I7y=6;break;case 3:I7y=c instanceof ArrayBuffer?9:7;break;case 2:I7y=a||void 0===b?1:5;break;case 5:Object.keys(b).map(function(a){var P7y,h7y,g,h;P7y=2;while(P7y!==9){switch(P7y){case 5:P7y=g===k.p_?4:3;break;case 3:g===k.mga?c=b[a]:d[g]=b[a];P7y=9;break;case 4:try{h7y=2;while(h7y!==5){switch(h7y){case 2:h=new Uint8Array(b[a]);f=JSON.parse(String.fromCharCode.apply(null,h));h7y=5;break;}}}catch(T){f=b[a];}P7y=9;break;case 2:g=a.substr(a.lastIndexOf(".")+1);P7y=5;break;}}});I7y=4;break;case 11:I7y=m.Ewa(p)?10:12;break;case 13:return q=f1y+p.pa,h(q);break;case 9:q=Z1y+p.pa;return h(q);break;case 20:p=m.Xta(f,{response:d.response});I7y=6;break;case 12:g(p);I7y=19;break;case 10:return q=Y1y+p.pa,h(q);break;}}}catch(ja){h(ja);}E7y=5;break;}}});K7y=5;break;}}});break;}}};u3y=19;break;case 3:a.prototype.Wqb=function(a,b){var k3y,c;k3y=2;while(k3y!==4){switch(k3y){case 2:c=m.Wua(a);this.xh.save(k.hj,[k.DO,a.I].join("."),c,k.Fu,function(){var o3y;o3y=2;while(o3y!==1){switch(o3y){case 2:b();o3y=1;break;case 4:b();o3y=7;break;o3y=1;break;}}});k3y=4;break;}}};a.prototype.Vqb=function(a,b){var m3y,f,d,g,p,q,r;m3y=2;while(m3y!==19){switch(m3y){case 3:p=m.bcb(a);q={};q[d+"."+k.p_]={Im:p,od:k.Fu};m3y=7;break;case 10:q[d+"."+k.ELa]={Im:r.Vc.buffer,od:k.Fu};m3y=20;break;case 2:f=this;d=[a.I,a.pa,k.YLa].join(".");g=this.Rk.time.ea();m3y=3;break;case 7:q[d+"."+k.EMa]={Im:c.vj(a.tk.map(function(a){var e3y;e3y=2;while(e3y!==1){switch(e3y){case 4:return a.data;break;e3y=1;break;case 2:return a.data;break;}}})),od:k.Fu};m3y=6;break;case 6:m3y=a.stream.md&&!h.U(a.stream.X)?14:20;break;case 14:p={timescale:a.stream.X.ca,startTicks:a.stream.X.Zi,offset:a.stream.X.pg(0)};r=a.stream.X.EF;q[d+"."+k.mga]={Im:p,od:k.Fu};m3y=11;break;case 11:q[d+"."+k.FLa]={Im:r.sizes.buffer,od:k.Fu};m3y=10;break;case 20:this.xh.OCa(k.hj,q,function(c){var B3y;B3y=2;while(B3y!==5){switch(B3y){case 2:c||(c=f.Rk.time.ea()-g,a.Vi&&(h.U(a.Vi.Pb.Mm)&&(a.Vi.Pb.Mm=0),a.Vi.Pb.Mm+=c));b();B3y=5;break;}}});m3y=19;break;}}};a.prototype.Uqb=function(a,b,c){var c3y,f,d,g,p,q,b1y;c3y=2;while(c3y!==11){b1y="Unabl";b1y+="e to save ";b1y+="fragment because response is not an Arr";b1y+="ayBuffer";switch(c3y){case 6:q[p+"."+k.p_]={Im:a,od:k.Fu};h.U(d)||(q[p+"."+k.lOa]={Im:d,od:k.Fu});this.xh.OCa(k.hj,q,function(a){var C3y,v1y;C3y=2;while(C3y!==5){v1y="Failed to save f";v1y+="ra";v1y+="gme";v1y+="nt";switch(C3y){case 2:a?f.L.warn(v1y,a):(a=f.Rk.time.ea()-g,h.U(b.Pb.Mm)&&(b.Pb.Mm=0),b.Pb.Mm+=a);c();C3y=5;break;}}});c3y=11;break;case 4:c3y=d instanceof ArrayBuffer?3:12;break;case 2:f=this;d=a.response;c3y=4;break;case 3:g=this.Rk.time.ea();p=[a.I,a.pa,a.gd].join(".");a=m.Rua(a);q={};c3y=6;break;case 12:c(Error(b1y));c3y=11;break;}}};a.prototype.Xqb=function(a){var j3y,b,c,f,d,g,l,n,t,B,T,p,r,u,z;j3y=2;while(j3y!==32){switch(j3y){case 2:b=this;c=this.Rk.time.ea();f={};d=m.Wua(a);f.movieEntry=d;j3y=8;break;case 21:f.data=d;j3y=35;break;case 7:g={};Object.keys(a.headers).forEach(function(b){var A3y,c;A3y=2;while(A3y!==4){switch(A3y){case 2:c=m.Xbb(a.headers[b]);g[b]=c;A3y=4;break;}}});j3y=14;break;case 27:j3y=B instanceof q.zY&&B.response instanceof ArrayBuffer&&!h.U(B.gd)?26:24;break;case 23:d[l]=t;j3y=22;break;case 18:j3y=n?17:22;break;case 26:T=m.Rua(B);j3y=25;break;case 12:d={},p=a.data,r=0,u=Object.keys(a.data);j3y=11;break;case 14:f.headers=g;j3y=13;break;case 8:j3y=a.headers?7:13;break;case 24:z++;j3y=16;break;case 22:r++;j3y=11;break;case 10:l=u[r];n=p[l];t={};j3y=18;break;case 16:j3y=z<n.length?15:23;break;case 13:j3y=a&&a.data?12:35;break;case 25:t[B.gd]={mediaType:T.mediaType,streamId:T.streamId,movieId:T.movieId,bitrate:T.bitrate,location:T.location,serverId:T.serverId,saveToDisk:T.saveToDisk,offset:T.offset,bytes:T.bytes,timescale:T.timescale,startTicks:T.startTicks,durationTicks:T.durationTicks,response:B.response};j3y=24;break;case 15:B=n[z];j3y=27;break;case 11:j3y=r<u.length?10:21;break;case 17:z=0;j3y=16;break;case 35:d={lifespan:259200};this.VWa&&(d.convertToBinaryData=!0);j3y=33;break;case 33:this.xh.save(k.hj,a.I,f,d,function(a){var O3y,x1y;O3y=2;while(O3y!==1){x1y="savetod";x1y+="i";x1y+="sk";switch(O3y){case 2:a||b.AF(x1y,{PCa:b.Rk.time.ea()-c});O3y=1;break;}}});j3y=32;break;}}};u3y=6;break;case 19:a.prototype.qYa=function(a,b,c){var W7y,f;W7y=2;while(W7y!==4){switch(W7y){case 2:f=this;return new Promise(function(d,g){var X7y,p;X7y=2;while(X7y!==5){switch(X7y){case 2:f.xh.read(k.hj,a,function(k,q){var z7y,n,y,t,r,A,u,l,q1y,M1y,u1y,r1y;z7y=2;while(z7y!==4){q1y="Missing o";q1y+="r invalid media ";q1y+="data parts for stream ";M1y="m";M1y+="edi";M1y+="acach";M1y+="el";M1y+="ookup";u1y="Missing or i";u1y+="nvalid he";u1y+="ader data parts for strea";u1y+="m ";r1y="Header fra";r1y+="gmen";r1y+="ts ";r1y+="was an array buffer, is invalid t";r1y+="ype ";switch(z7y){case 22:n=l[u],y=0,t=Object.keys(r[n]);z7y=21;break;case 19:z7y=n.fragments instanceof ArrayBuffer?18:17;break;case 10:n=l[u];n=r.headers[n];z7y=19;break;case 17:n=m.Yta(n,n,n.fragments);z7y=16;break;case 18:return k=r1y+n.streamId,g(k);break;case 33:z7y=m.Ewa(A)?32:31;break;case 26:u++;z7y=11;break;case 5:g(k);z7y=4;break;case 8:r=q[a];z7y=7;break;case 1:z7y=k?5:3;break;case 3:z7y=h.U(q)?9:8;break;case 15:return k=u1y+n.pa,g(k);break;case 9:d();z7y=4;break;case 43:f.AF(M1y,{RU:f.Rk.time.ea()-c,VR:!0});d(p);z7y=4;break;case 23:z7y=u<l.length?22:28;break;case 30:y++;z7y=21;break;case 16:z7y=m.Fwa(n)?15:27;break;case 29:u++;z7y=23;break;case 2:z7y=1;break;case 24:r=r.data,u=0,l=Object.keys(r);z7y=23;break;case 28:p=m.Xua(f.G,f.L,f.Sf,q,b);z7y=44;break;case 25:z7y=r.data?24:28;break;case 12:u=0,l=Object.keys(r.headers);z7y=11;break;case 35:A=r[n][t[y]];A=m.Xta(A,A);z7y=33;break;case 32:return k=q1y+A.pa,g(k);break;case 44:void 0!==p&&(p.Vi=k);z7y=43;break;case 11:z7y=u<l.length?10:25;break;case 31:q.push(A);z7y=30;break;case 7:z7y=r.movieEntry?6:43;break;case 6:k=m.Vua(r.movieEntry);q=[];z7y=13;break;case 27:q.push(n);z7y=26;break;case 13:z7y=r.headers?12:25;break;case 21:z7y=y<t.length?35:29;break;}}});X7y=5;break;}}});break;}}};a.prototype.Dma=function(a){var Q7y,b,w1y;Q7y=2;while(Q7y!==4){w1y="Me";w1y+="dia ";w1y+="cache is";w1y+=" n";w1y+="ot enabled";switch(Q7y){case 1:b=this;return this.aq?this.aq.then(function(){var J7y;J7y=2;while(J7y!==1){switch(J7y){case 2:return new Promise(function(c){var p7y;p7y=2;while(p7y!==1){switch(p7y){case 2:b.xh.pA(k.hj,a.toString(),function(b){var y7y;y7y=2;while(y7y!==1){switch(y7y){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?c(!0):c(!1):c(!1);y7y=1;break;}}});p7y=1;break;}}});break;}}}):Promise.reject(w1y);break;case 2:Q7y=1;break;}}};a.prototype.KYa=function(a){var t7y,f,d;function c(a){var o7y;o7y=2;while(o7y!==1){switch(o7y){case 4:a.map(b);o7y=6;break;o7y=1;break;case 2:a.map(b);o7y=1;break;}}}t7y=2;function b(a){var k7y,R1y;k7y=2;while(k7y!==1){R1y="del";R1y+="e";R1y+="te";switch(k7y){case 2:f.xh[R1y](k.hj,a);k7y=1;break;}}}while(t7y!==9){switch(t7y){case 2:f=this;d=a.toString();this.xh.pA(k.hj,[k.DO,a].join("."),c);this.xh.pA(k.hj,d,c);t7y=9;break;}}};u3y=16;break;case 16:a.prototype.Isb=function(a){var m7y,b,l1y,T1y;m7y=2;while(m7y!==3){l1y="med";l1y+="ia";l1y+="cache-";l1y+="er";l1y+="ror";T1y="media";T1y+="ca";T1y+="ch";T1y+="e";switch(m7y){case 2:b=new f.Cx();b.on(this.xh,T1y,function(b){var e7y,H1y;e7y=2;while(e7y!==4){H1y="me";H1y+="d";H1y+="i";H1y+="acach";H1y+="e";switch(e7y){case 9:e7y=b.keys&&b.items?2:3;break;e7y=b.keys||b.items?1:5;break;case 2:e7y=b.keys||b.items?1:5;break;case 1:b.keys||b.items.map(function(a){var B7y;B7y=2;while(B7y!==1){switch(B7y){case 2:return a.key;break;case 4:return a.key;break;B7y=1;break;}}});e7y=5;break;case 5:a.emit(H1y,b);e7y=4;break;}}});m7y=4;break;case 4:b.on(this.xh,l1y,function(b){var c7y,K1y,i1y;c7y=2;while(c7y!==5){K1y="medi";K1y+="ac";K1y+="ach";K1y+="e";i1y="er";i1y+="ro";i1y+="r";switch(c7y){case 2:b.type=i1y;a.emit(K1y,b);c7y=5;break;}}});m7y=3;break;}}};return a;break;}}function a(a,b,c){var M3y,h1y,P1y,I1y,E1y;M3y=2;while(M3y!==13){h1y="1S";h1y+="IYbZrNJ";h1y+="Cp9";P1y="Media c";P1y+="ache has not";P1y+=" been initiaized";I1y="medi";I1y+="a|a";I1y+="se";I1y+="j";I1y+="s";E1y="MEDIACAC";E1y+="H";E1y+="E";switch(M3y){case 2:this.L=new b.Console(E1y,I1y);this.y2=(a.qx||a.Zda)&&0<(a.Gv||(b.options||{}).HE||0);this.OVa=a.U8a?a.U8a:!1;M3y=4;break;case 4:this.jn=a.w$?a.w$:!1;this.VWa=a.Aya?a.Aya:!1;this.G=a;this.Rk=b;this.Sf=c;this.aq=Promise.reject(P1y);h1y;M3y=13;break;}}}}();d.KOa=a;g.Tj(f.EventEmitter,a);},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(49);g=function(a){function d(b,d){var c;c=a.call(this)||this;c.track=b;c.Ro=!1;c.uw=new f.Cx();c.uw.on(b,"networkfailing",function(){c.emit("networkfailing");});c.uw.on(b,"error",function(){c.emit("error");});if(d)c.Ro=!0,setTimeout(function(){return c.emit("created");},0);else c.uw.on(b,"created",function(){c.Ro=!0;c.emit("created");});return c;}b.__extends(d,a);Object.defineProperties(d.prototype,{n6:{get:function(){return this.track.n6;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gh:{get:function(){return this.track.Gh;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gj:{get:function(){return this.track.Gj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{cta:{get:function(){return this.track.cta;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{config:{get:function(){return this.track.config;},enumerable:!0,configurable:!0}});d.prototype.ll=function(){this.uw.clear();};d.prototype.rl=function(){return this.track.rl();};d.prototype.GW=function(){return this.track.GW();};d.prototype.toString=function(){return this.track.toString();};d.prototype.toJSON=function(){return this.track;};return d;}(f.EventEmitter);d.mSa=g;},function(g,d,a){var b,f,h,q,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(154);f=a(12);h=a(206);q=a(20);a(11);c=a(33);a(5);g=function(){var W1y;W1y=2;function a(){var X1y,j9Y;X1y=2;while(X1y!==1){j9Y="1";j9Y+="SIYbZ";j9Y+="rNJCp9";switch(X1y){case 4:"";X1y=2;break;X1y=1;break;case 2:j9Y;X1y=1;break;}}}while(W1y!==13){switch(W1y){case 7:a.prototype.KVa=function(a,b,c,d,g){var e1y,k,m,p,r,v9Y,T9Y;e1y=2;while(e1y!==6){v9Y=" fr";v9Y+="om";v9Y+=" [ ";T9Y="AseFragm";T9Y+="entMedia";T9Y+="Request: Fragment ";T9Y+="edit failed for ";switch(e1y){case 2:m={mr:0};k=!1;r=!0;this.M===f.Da.AUDIO&&c&&(d?g&&this.rsa():this.Mla(c)?c.Ra&&this.Ra&&this.Ra.start!==c.Ra.end&&this.Qj({start:c.Ra.end}):(m=this.fVa(b),c.pe===this.ec&&(m.mr=0)));e1y=9;break;case 9:0>=this.duration&&(r=!1,k=!0);r&&(this.Ra&&(0<this.Ra.start||m.mr)?(k=new h.GO(this.stream,this.response),(b=k.$Ba(this.Ra.start,this.Iw,m.mr,m.Gba))?(k=a.appendBuffer(q.vj(b.kg),q.Ej(this)),p=this.rQ(m),this.kQ(b.kg)):(this.L.error(T9Y+this.toString()+v9Y+this.Qv+"-"+this.dT+"]"),k=!0)):k=a.appendBuffer(this.response,q.Ej(this)));return{W:k,wm:p};break;}}};a.prototype.LVa=function(a,b,c,d,g){var B1y,k,m,p,r,a0I,n0I;B1y=2;while(B1y!==6){a0I=" ";a0I+="fr";a0I+="o";a0I+="m [ ";n0I="AseFragm";n0I+="entM";n0I+="ediaRequest: ";n0I+="Fragment edit failed for ";switch(B1y){case 8:m?this.Ra&&this.Ra.end<this.UJ||p.mr?(m=new h.GO(this.stream,this.response),(m=m.dCa(this.Ra&&this.Ra.end,this.ca,p.mr,p.Gba))?(a=a.appendBuffer(q.vj(m.kg),q.Ej(this)),r=this.rQ(p),this.kQ(m.kg)):(this.L.error(n0I+this.toString()+a0I+this.Qv+"-"+this.dT+"]"),a=!0)):a=a.appendBuffer(this.response,q.Ej(this)):a=!0;return{W:a,wm:r};break;case 2:k=this.Dc;p={mr:0};m=!0;this.M===f.Da.AUDIO&&(d?g&&(this.s8a(),m=0<this.Ra.end):this.Mla(c)?c.Ra&&0!==c.Ra.start?this.Qj({start:0,end:c.Ra.start}):m=!1:(p=this.gVa(b),k.Zn||(b=this.LUa(b,c,p.Dta),(m=b.Msb)&&b.qib&&!p.Gba&&(p.mr=0))));m&&0===this.duration&&(m=!1);B1y=8;break;}}};return a;break;case 2:a.prototype.Mla=function(a){var z1y;z1y=2;while(z1y!==1){switch(z1y){case 2:return a&&a.I===this.I&&a.Jta===this.Jta?!0:!1;break;}}};a.prototype.eVa=function(a){var Q1y,b,c,f;Q1y=2;while(Q1y!==7){switch(Q1y){case 3:a=a&&a.lq;Array.isArray(a)&&Array.isArray(b.lq)?a=a.filter(function(a){var U3v=V5ii;var J1y,c1y,C1y;J1y=2;while(J1y!==1){switch(J1y){case 4:U3v.E9Y(0);c1y=U3v.G9Y(6,5,7,13);return!c1y!=b.lq.indexOf(a);break;J1y=1;break;case 2:U3v.V9Y(1);C1y=U3v.L9Y(11,2,13);return C1y!==b.lq.indexOf(a);break;}}}):Array.isArray(b.lq)?a=b.lq:Array.isArray(a)||(a=[]);return-1!==a.indexOf(this.profile)?{Dta:!!c,wCa:!c,Lca:!c||!f}:{Dta:!1,wCa:!1,Lca:!f};break;case 2:b=this.Dc;c=void 0!==b.gx?b.gx:a&&a.gx;f=void 0!==b.fx?b.fx:a&&a.fx;Q1y=3;break;}}};a.prototype.Dla=function(a,b,c){var p1y,f,d,g,d0I,D0I;p1y=2;while(p1y!==13){d0I="d";d0I+="e";d0I+="fa";d0I+="ul";d0I+="t";D0I="de";D0I+="f";D0I+="au";D0I+="lt";switch(p1y){case 3:p1y=(f=(void 0!==b?b:g.BK)||0,b=g.swa&&g.swa[this.stream.profile])?9:8;break;case 4:p1y=void 0!==g.BK&&null!==g.BK?3:14;break;case 8:a.mr=a.Lca?void 0!==f?f:1:0;a.Gba=void 0!==d?d:a.wCa;p1y=6;break;case 6:return a;break;case 2:g=this.Dc;a=this.eVa(a);p1y=4;break;case 9:d=b.name,f=void 0!==b[c]?b[c]:void 0!==b[D0I]?b[d0I]:f;p1y=8;break;case 14:a.Lca=!1;p1y=8;break;}}};a.prototype.fVa=function(a){var y1y,y0I;y1y=2;while(y1y!==1){y0I="onEn";y0I+="tr";y0I+="y";switch(y1y){case 2:return this.Dla(a,this.Dc.twa,y0I);break;case 4:return this.Dla(a,this.Dc.twa,"");break;y1y=1;break;}}};a.prototype.gVa=function(a){var t1y,h0I;t1y=2;while(t1y!==1){h0I="o";h0I+="n";h0I+="Ex";h0I+="i";h0I+="t";switch(t1y){case 2:return this.Dla(a,this.Dc.uwa,h0I);break;case 4:return this.Dla(a,this.Dc.uwa,"");break;t1y=1;break;}}};a.prototype.LUa=function(a,f,d){var k1y,h,k,m,p,q,r,l,u,n;k1y=2;function g(a){var o1y,b,c;o1y=2;while(o1y!==9){switch(o1y){case 2:a=Math.floor(Math.min(r,a)/p.Vd);b=p.Vd*a;o1y=4;break;case 4:V5ii.E9Y(2);c=V5ii.L9Y(b,u);return{bo:a,im:b,xIb:c,sza:0<a&&c<q/1E3};break;}}}while(k1y!==18){switch(k1y){case 3:a=b.Uua(k,a);k1y=9;break;case 9:p=this.La;q=p.ca;r=this.im;l=f?f.ML:this.cW-2*p.Vd;k1y=14;break;case 2:k=this.Dc;m=!0;h=!1;k1y=3;break;case 14:u=l-this.Mta;d=k.fab||d;f&&!d&&(h=g(u),n=h.bo,h=h.sza);k1y=11;break;case 11:h||(n=l-c.sb.aza(a,q),n=new c.sb(n-this.Mta,q),f=g(k.Rb?Infinity:Math.max(0,n.Vd)),n=f.bo,(f=f.sza)&&0<n&&!k.Rb&&--n);this.Qj({start:0,end:n});n<(k.ekb||1)&&(m=!1);return{Msb:m,qib:h};break;}}};a.prototype.OC=function(a,b,c,d,g,h){var m1y,k,m;m1y=2;while(m1y!==6){switch(m1y){case 5:m1y=this.gi?4:3;break;case 4:return{W:!1};break;case 3:this.Nta?a=a.appendBuffer(q.vj(this.zsa),q.Ej(this)):this.Ra&&!this.Kq?(k=this.KVa(a,b,c,g,h),a=k.W,k=k.wm):this.Ra&&this.Kq?(k=this.LVa(a,b,d,g,h),a=k.W,k=k.wm):a=this.M===f.Da.AUDIO&&m.Zn&&c&&this.ix&&c.pe>=this.pe&&this.hg-this.ix<this.ix-this.gd?!0:a.appendBuffer(this.response,q.Ej(this));this.gi=!0;this.eM();m1y=7;break;case 7:return{W:a,wm:k};break;case 2:m=this.Dc;m1y=5;break;}}};W1y=7;break;}}}();d.Nxb=g;d["default"]=new g();},function(g){var d,a,b,f;d={name:"heaac-2-dash reset sample",profile:53,fl:2,sampleRate:24E3,duration:1024,cu:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,fl:2,sampleRate:24E3,duration:1024,cu:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,fl:6,sampleRate:48E3,duration:1536,cu:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,fl:2,sampleRate:48E3,duration:1536,cu:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};g.T={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":b,"ddplus-5.1hq-dash":b,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":d,"heaac-2hq-dash":d},"heaac-2-dash":d,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":f};},function(g,d,a){var b,f,h,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(368);f=a(367);h=a(216);q=a(365);g=function(){function a(a,b){this.stream=a;this.view=b instanceof ArrayBuffer?new DataView(b):new DataView(b.data,b.offset,b.length);}a.prototype.parse=function(a){var c;c=new q.Gfa(this.view.byteLength);this.Kg=new b.JY(f.pL.Ic,c,this.view,h.console,{vaa:!0});a=this.Kg.parse(a);this.Ic=this.Kg.Ic;return a.done;};return a;}();d.cPa=g;},function(g,d,a){var b,f,h,q,c,m,k,l,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(12);g=a(5);h=a(20);a(11);q=a(206);c=a(206);m=a(207);k=a(94);l=a(219);r=g.Zj;a=function(a){function d(b,c,d,g,h,m,p){var q,u;g=a.call(this,b,d,g,m,p)||this;h=k.Jk.prototype.toString.call(g)+(h?"(cache)":"");q={offset:d.offset,aa:d.K$,responseType:0};g.push(new l.ON(b,c,h+"(moof)",q,g,m,p));q={offset:d.offset+q.aa+8,aa:d.aa-(q.aa+8),responseType:r.vc&&!r.vc.pF.Tx?0:1};if(g.M===f.Da.VIDEO&&g.Ra){if(0<g.Ra.start){if(u=g.qta(g.Ra.start))q.offset=d.offset+u,q.aa=d.aa-u;}else g.Ra.end<g.UJ&&(u=g.qta(g.Ra.end))&&(q.aa-=d.aa-u);}g.push(new l.ON(b,c,h+"(mdat)",q,g,m,p));return g;}b.__extends(d,a);d.prototype.OC=function(a){var b,f;if(this.gi)return{W:!0};if(!this.wz())return{W:!1};f=!1;if(this.Nta)f=a.appendBuffer(h.vj(this.zsa),h.Ej(this));else if(this.Ra&&0<this.Ra.start){b=new c.GO(this.stream,this.oa[0].response);if(b=b.$Ba(this.Ra.start,this.ca))f=a.appendBuffer(h.vj(b.kg),h.Ej(this)),this.kQ(b.kg);b=this.rQ();}else if(this.Ra&&this.Ra.end<this.UJ){b=new c.GO(this.stream,this.oa[0].response);if(b=b.dCa(this.Ra.end,this.ca))f=a.appendBuffer(h.vj(b.kg),h.Ej(this)),this.kQ(b.kg);b=this.rQ();}else f=a.appendBuffer(this.oa[0].response,h.Ej(this));f&&(f=a.appendBuffer(q.tib(this.oa[1].aa),h.Ej(this)))&&(f=a.appendBuffer(this.oa[1].response,h.Ej(this)));this.gi=f;this.Qpb();return{W:f,wm:b};};return d;}(m.dB);d.aHa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){var l,r,n,t,I,F,D;function b(a){var c,f,d;a=a.parent;c=!1;if(a&&a.children){f={};f[F.jj]=[];f[F.Di]=[];f[F.TEMPORARY]=[];d=a.children;d.forEach(function(a){a&&f[a.Yd].push(a);});0<f[F.jj].length||(f[F.Di].length===d.length?a.Yd!==F.Di&&(a.Yd=F.Di,I.error("PERM failing :",n.Qf.name[a.Yy]+" "+a.id),c=!0):(a.Yd===F.jj&&(a.Yd=F.TEMPORARY,I.error("TEMP failing :",n.Qf.name[a.Yy]+" "+a.id),c=!0),f[F.TEMPORARY].forEach(function(a){a.Yd=F.jj;})),c&&b(a));}}function f(a){var c;for(var b=[];a;a=a.parent)switch(a.Yy){case n.Qf.Sx:c=a;b.unshift(c.id+"("+c.name+")");break;case n.Qf.tha:b.unshift(a.id);break;case n.Qf.URL:b.unshift("<url for "+a.stream.O+">");}return b.length?"/"+b.join("/"):"";}function h(a){var b;if((a=a.parent)&&0<a.children.length&&a.Yd!==F.jj){b={};b[F.jj]=[];b[F.Di]=[];b[F.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.Yd].push(a);});0<b[F.jj].length&&(a.Yd=F.jj,h(a));}}function q(a){return a.Yd!==F.jj;}function c(a){switch(a.Yd){case F.jj:return"OK";case F.Di:return"FAILED PERMANENTLY";case F.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function m(a){a.eea=a.Xa.Jc>=n.Gd.xu&&!a.Xa.wq?a.Xa.Ba.Qa*a.weight:0;}function k(a,b){if(a.Yd===F.TEMPORARY||a.Yd===F.Di&&b)a.Yd=F.jj;a.children&&a.children.forEach(function(a){a&&k(a,b);});}Object.defineProperty(d,"__esModule",{value:!0});l=a(0);r=a(6);g=a(49);n=a(12);t=a(5);I=new t.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.jj=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.Di=2]="PERMANENT";}(F||(F={})));(function(a){a[a.Vr=0]="STARTUP";a[a.YRa=1]="REBUFFER";a[a.Ku=2]="SEEK";a[a.qAb=3]="FAILURE";a[a.ZCb=4]="PERFORMANCE";}(D||(D={})));a=function(a){var q0I;function d(b,c,f,d,g){var U0I,h,B9u,k9u;U0I=2;while(U0I!==25){B9u="1SI";B9u+="YbZrN";B9u+="J";B9u+="C";B9u+="p9";k9u="n";k9u+="e";k9u+="t";k9u+="work";switch(U0I){case 3:h.Zq=f;h.config=d;h.uXa=g;h.Zq=d.LD&&f;h.qob=D.Vr;h.Mq=void 0;h.vk={};U0I=12;break;case 12:h.io={};h.ad={};h.uc={};h.Mt=[];U0I=19;break;case 2:h=a.call(this)||this;h.Gc=b;h.Lh=c;U0I=3;break;case 19:h.AV=!1;h.yl={id:k9u,Yy:n.Qf.Or,Yd:F.jj,Yq:void 0,parent:void 0,children:h.Mt};h.dQ=null;h.yF=null;h.zF=n.cf.Vr;B9u;U0I=26;break;case 26:return h;break;}}}q0I=2;while(q0I!==24){switch(q0I){case 12:d.prototype.Hm=function(a,d,g,h){var H0I,I0I,k,m,p,y9u,M9u,h9u,q9u,J9u,o9u,G9u,W9u,f9u;H0I=2;while(H0I!==25){y9u="Unable to find fa";y9u+="ilure entity";y9u+=" for URL ";M9u="Invalid ";M9u+="failu";M9u+="r";M9u+="e ";M9u+="state";h9u="net";h9u+="work";h9u+="Fai";h9u+="led";q9u="Emitt";q9u+="ing networkFail";q9u+="ed, permanent =";J9u=" :";J9u+=" w";J9u+="a";J9u+="s ";o9u=" ";o9u+="a";o9u+="t";o9u+=" ";G9u=" ";G9u+="fail";G9u+="u";G9u+="re reported for ";W9u="T";W9u+="E";W9u+="M";W9u+="P";f9u="P";f9u+="E";f9u+="R";f9u+="M";switch(H0I){case 17:this.dump();H0I=25;break;case 3:H0I=p!==k.Yd?9:25;break;case 6:H0I=I0I===F.TEMPORARY?14:16;break;case 16:H0I=I0I===F.jj?14:15;break;case 14:k.Yd=p;b(k);this.AV=this.AV||q(this.yl);a=this.yl.Yd;H0I=10;break;case 8:I0I=k.Yd;H0I=I0I===F.Di?7:6;break;case 9:I.warn((d?f9u:W9u)+G9u+n.Qf.name[a]+o9u+f(k)+J9u+c(k));H0I=8;break;case 10:a>m&&(I.warn(q9u,a===F.Di),this.emit(h9u,a===F.Di));this.yF=null;this.zF=n.cf.ERROR;h&&(this.zF=n.cf.EQa,k.Yq=h);H0I=17;break;case 2:k=a!==n.Qf.Or&&g?this.ad[g]:this.yl,m=this.yl.Yd,p=d?F.Di:F.TEMPORARY;H0I=1;break;case 7:return;break;case 1:H0I=k&&k.parent&&k.Yy!==a?5:4;break;case 4:H0I=k?3:26;break;case 27:throw Error(M9u);H0I=14;break;case 26:V5ii.i9u(0);I.warn(V5ii.I9u(g,y9u));H0I=25;break;case 15:H0I=27;break;case 5:k=k.parent;H0I=1;break;}}};d.prototype.uCa=function(a,b){var P0I;P0I=2;while(P0I!==3){switch(P0I){case 2:P0I=(a=this.io[a])?1:5;break;case 1:k(a,b),h(a);P0I=5;break;case 4:this.zF=n.cf.Q_;P0I=3;break;case 5:this.yF=null;P0I=4;break;case 6:this.yF=1;P0I=9;break;P0I=4;break;}}};d.prototype.jM=function(a){var F0I;F0I=2;while(F0I!==1){switch(F0I){case 2:k(this.yl,a);F0I=1;break;case 4:k(this.yl,a);F0I=6;break;F0I=1;break;}}};d.prototype.Am=function(a){var e0I,b;e0I=2;while(e0I!==5){switch(e0I){case 2:null===(b=this.uXa)||void 0===b?void 0:b.call(this,a);e0I=5;break;}}};d.prototype.aA=function(){var X0I;X0I=2;while(X0I!==1){switch(X0I){case 2:this.lqb(D.YRa);X0I=1;break;case 4:this.lqb(D.YRa);X0I=7;break;X0I=1;break;}}};q0I=18;break;case 3:d.prototype.lDa=function(a){var i0I;i0I=2;while(i0I!==5){switch(i0I){case 2:i0I=(a=this.ad[a])&&a.parent?1:5;break;case 9:return a.parent.id;break;i0I=5;break;case 1:return a.parent.id;break;}}};d.prototype.NU=function(a){var A0I;A0I=2;while(A0I!==5){switch(A0I){case 1:return a.Vb.location;break;case 2:A0I=(a=this.ad[a])&&a.Vb?1:5;break;}}};d.prototype.kEa=function(a){var p0I;p0I=2;while(p0I!==5){switch(p0I){case 2:p0I=(a=this.ad[a])?1:5;break;case 1:return a.stream;break;case 9:return a.stream;break;p0I=5;break;}}};d.prototype.Cta=function(a){var o0I,b;o0I=2;while(o0I!==3){switch(o0I){case 7:o0I=a?3:6;break;o0I=a?5:3;break;case 2:o0I=1;break;case 1:o0I=a?5:3;break;case 5:b=a.bind(this);r.forEach(this.ad,function(a){var u0I,c;u0I=2;while(u0I!==4){switch(u0I){case 2:c=a.Vb;b(c.location,c,a.stream,a);u0I=4;break;}}});o0I=3;break;}}};q0I=6;break;case 2:l.__extends(d,a);d.prototype.zdb=function(){var W0I;W0I=2;while(W0I!==1){switch(W0I){case 4:return this.Mt[8].Xa;break;W0I=1;break;case 2:return this.Mt[0].Xa;break;}}};q0I=5;break;case 4:d.prototype.wq=function(){var k0I;k0I=2;while(k0I!==1){switch(k0I){case 2:return q(this.yl);break;case 4:return q(this.yl);break;k0I=1;break;}}};q0I=3;break;case 5:d.prototype.w7=function(){var N0I;N0I=2;while(N0I!==1){switch(N0I){case 4:return this.Mt;break;N0I=1;break;case 2:return this.Mt;break;}}};q0I=4;break;case 18:d.prototype.close=function(){var J0I;J0I=2;while(J0I!==1){switch(J0I){case 2:this.config.Whb&&this.$mb();J0I=1;break;}}};d.prototype.hBa=function(a){var c0I,b;c0I=2;while(c0I!==4){switch(c0I){case 2:b=this;a.streams.forEach(function(a){var Q0I,c,f,d,P9u;Q0I=2;while(Q0I!==13){P9u="n";P9u+="o";P9u+="ne";P9u+="-";switch(Q0I){case 2:c=a.downloadable_id;f=b.uc[c];Q0I=4;break;case 3:d=a.content_profile;f={id:c,O:a.bitrate,Ac:a.vmaf,type:a.type,profile:d,clear:0===d.indexOf(P9u),xf:!0,ad:[],sN:{},vk:[]};Q0I=8;break;case 8:b.uc[f.id]=f;Q0I=7;break;case 4:Q0I=r.U(f)?3:7;break;case 7:a.urls.forEach(function(a){var M0I,c,d,g;M0I=2;while(M0I!==11){switch(M0I){case 2:c=a.url;d=b.ad[c];M0I=4;break;case 4:M0I=r.U(d)&&(a=b.io[a.cdn_id])?3:11;break;case 6:f.ad.push(d);0===f.vk.filter(function(a){var K0I;K0I=2;while(K0I!==1){switch(K0I){case 4:return a.id!=g.id;break;K0I=1;break;case 2:return a.id===g.id;break;}}}).length&&f.vk.push(g);g.uc[f.id]=f;(c=f.sN[g.id])?c.push(d):f.sN[g.id]=[d];M0I=11;break;case 3:g=a.location;d={id:c,Yy:n.Qf.URL,Yd:F.jj,Yq:void 0,parent:a,children:[],url:c,Vb:a,stream:f};b.ad[c]=d;a.children.push(d);M0I=6;break;}}});r.jd(f.sN,function(a){var S0I;S0I=2;while(S0I!==1){switch(S0I){case 2:a.sort(function(a,b){var L0I;L0I=2;while(L0I!==1){switch(L0I){case 2:return a.Vb.se-b.Vb.se;break;case 4:return a.Vb.se/b.Vb.se;break;L0I=1;break;}}});S0I=1;break;}}});f.vk=f.vk.sort(function(a,b){var G0I;G0I=2;while(G0I!==1){switch(G0I){case 2:return a.level-b.level||a.se-b.se;break;}}});Q0I=13;break;}}});c0I=4;break;}}};d.prototype.Ovb=function(){var E0I,a,b,c,f,d,g;E0I=2;while(E0I!==16){switch(E0I){case 6:b.forEach(function(b){var j0I;j0I=2;while(j0I!==1){switch(j0I){case 2:b.id!==a.Gc.location&&(b.Xa=a.Lh.get(b.id));j0I=1;break;}}}),this.dQ=f;E0I=14;break;case 14:d=null;E0I=13;break;case 9:return null;break;case 13:E0I=this.Zq?12:17;break;case 10:b.every(function(b){var v0I;v0I=2;while(v0I!==5){switch(v0I){case 2:r.Ma(g)&&(g=b.level);return g!==b.level?(a.Zq=!1,d=n.cf.Gea,!1):b.Xa.Jc<n.Gd.Np?!1:b.Xa.Ba.Qa>c.o6?(a.Zq=!1,d=n.cf.zLa,!1):!0;break;}}})&&(this.Zq=!1,d=n.cf.Gea);E0I=20;break;case 2:a=this;c=this.config;b=this.Mt.filter(function(a){var V0I;V0I=2;while(V0I!==1){switch(V0I){case 2:return!q(a)&&0!==a.level;break;case 4:return+q(a)||2===a.level;break;V0I=1;break;}}});E0I=3;break;case 12:b.forEach(function(a){var T0I;T0I=2;while(T0I!==1){switch(T0I){case 2:a.Xa.Jc>=n.Gd.Np?(a.fBa=a.fBa||a.Ut,a.Ut=!1,a.JR=n.Gd.Np):(a.Ut=!0,a.JR=a.Xa.Jc);T0I=1;break;}}});g=null;E0I=10;break;case 8:f=t.time.ea();E0I=7;break;case 7:E0I=null===this.dQ||this.dQ+c.F9<f?6:14;break;case 3:E0I=0===b.length?9:8;break;case 20:c.LD?b.sort(function(b,c){var n1I;n1I=2;while(n1I!==1){switch(n1I){case 2:return b.level-c.level||(a.Zq&&b.Ut&&!c.Ut?-1:0)||(a.Zq&&c.Ut&&!b.Ut?1:0)||(a.Zq&&b.Ut&&c.Ut?b.se-c.se:0)||c.JR-b.JR||c.eea-b.eea||b.se-c.se;break;}}}):b.sort(function(a,b){var a1I;a1I=2;while(a1I!==1){switch(a1I){case 2:return a.level-b.level||a.se-b.se;break;}}});this.Mq||r.Ma(d)||(this.Mq=!0);return b;break;case 17:d=c.LD?n.cf.aOa:this.zF;E0I=20;break;}}};d.prototype.lqb=function(a){var D1I,b;D1I=2;while(D1I!==8){switch(D1I){case 2:D1I=1;break;case 1:b=this.Gc.location;this.Mq=!1;this.Zq=this.config.LD&&!0;this.qob=a;this.Mt.forEach(function(a){var d1I;d1I=2;while(d1I!==1){switch(d1I){case 2:a.id!==b&&a.Xa&&a.Xa.Jc>n.Gd.xu&&(a.Xa.Jc=n.Gd.xu);d1I=1;break;}}});D1I=8;break;}}};q0I=27;break;case 6:d.prototype.LC=function(a){var R0I,b,N9u;R0I=2;while(R0I!==20){N9u="man";N9u+="i";N9u+="fe";N9u+="stAdded";switch(R0I){case 2:b=this;a.locations.forEach(function(a){var r0I,c,f,d,g;r0I=2;while(r0I!==13){switch(r0I){case 5:r0I=!b.vk[c]?4:13;break;case 2:c=a.key;r0I=5;break;case 4:f=[];d=b.Lh.get(c);g=b.yl;a={id:c,Yy:n.Qf.tha,Yd:F.jj,se:a.rank,level:a.level,weight:a.weight,Yq:void 0,parent:g,children:f,io:f,uc:{},Ut:!1,fBa:!1,Xa:d,eea:null,JR:void 0};r0I=7;break;case 7:b.vk[a.id]=a;g.children.push(a);m(a);r0I=13;break;}}});this.dQ=t.time.ea();this.Mt.sort(function(a,b){var t0I;t0I=2;while(t0I!==1){switch(t0I){case 2:return a.level-b.level||a.se-b.se;break;}}});a.servers.forEach(function(a){var z0I,c,f,d;z0I=2;while(z0I!==14){switch(z0I){case 3:z0I=f?9:14;break;case 4:f=b.vk[a.key];z0I=3;break;case 2:c=a.id;z0I=5;break;case 9:d=[];a={id:c,Yy:n.Qf.Sx,Yd:F.jj,Yq:void 0,parent:f,children:d,ad:d,name:a.name,type:a.type,se:a.rank,location:f};b.io[a.id]=a;f.children.push(a);z0I=14;break;case 5:z0I=!b.io[c]?4:14;break;}}});R0I=8;break;case 8:a.audio_tracks.forEach(function(a){var b0I;b0I=2;while(b0I!==1){switch(b0I){case 4:b.hBa(a);b0I=0;break;b0I=1;break;case 2:b.hBa(a);b0I=1;break;}}});a.video_tracks.forEach(function(a){var s0I;s0I=2;while(s0I!==1){switch(s0I){case 2:b.hBa(a);s0I=1;break;case 4:b.hBa(a);s0I=9;break;s0I=1;break;}}});a=this.Mt.filter(function(a){var w0I,c;w0I=2;while(w0I!==3){switch(w0I){case 2:c=a.io.every(function(a){var C0I,q1I;C0I=2;while(C0I!==1){switch(C0I){case 4:V5ii.i9u(1);q1I=V5ii.l9u(23,9,15);return q1I==a.ad.length;break;C0I=1;break;case 2:return 0===a.ad.length;break;}}});c&&(a.io.forEach(function(a){var Y0I;Y0I=2;while(Y0I!==1){switch(Y0I){case 2:b.io[a.id]=void 0;Y0I=1;break;}}}),b.vk[a.id]=void 0,a.parent=void 0,a.children.length=0,a.uc={});return!c;break;}}});R0I=14;break;case 11:this.emit(N9u);this.dump();R0I=20;break;case 14:a.forEach(function(a){var Z0I;Z0I=2;while(Z0I!==1){switch(Z0I){case 2:a.io.sort(function(a,b){var O0I;O0I=2;while(O0I!==1){switch(O0I){case 4:return a.se+b.se;break;O0I=1;break;case 2:return a.se-b.se;break;}}});Z0I=1;break;}}});this.Mt=a;this.yl.children=a;R0I=11;break;}}};d.prototype.YX=function(a,b,c){var f0I,f,d,g,h,k,p,l,A9u,m9u,X9u,x9u;f0I=2;while(f0I!==26){A9u="(em";A9u+="pty st";A9u+="ream list)";m9u="D";m9u+="id not find a URL";m9u+=" fo";m9u+="r ANY ";m9u+="stream...";X9u="net";X9u+="wor";X9u+="kFai";X9u+="led";x9u="Network has failed, not ";x9u+="updating stream sel";x9u+="ection";switch(f0I){case 7:f0I=q(this.yl)?6:14;break;case 19:return this.Hm(n.Qf.Or,!1),!1;break;case 18:l=this.yF;f0I=17;break;case 10:this.yF=this.Ovb();f0I=20;break;case 11:f0I=r.Ma(this.yF)||h?10:20;break;case 2:f=this;d=this.config;g=this.Gc.get();h=this.Zq;f0I=9;break;case 20:f0I=!this.yF?19:18;break;case 9:k=0;t.Po&&t.Po(a,b);f0I=7;break;case 14:p=n.Gd.xu;d.qL&&(p=n.Gd.Np);this.Gc.location&&g.Jc>=p&&(a=this.vk[this.Gc.location])&&(a.Xa=g,m(a));f0I=11;break;case 17:f0I=!l.length?16:15;break;case 16:return this.Hm(n.Qf.Or,!1),!1;break;case 6:return!1;break;case 15:c.forEach(function(a,b){var m0I,c,O9u,F9u,a9u,C9u;m0I=2;while(m0I!==4){O9u=" ";O9u+="Kb";O9u+="p";O9u+="s)";F9u=" ";F9u+="(";a9u="]";a9u+=" ";C9u="Fai";C9u+="l";C9u+="ing stre";C9u+="am [";switch(m0I){case 2:c=a.id;l.some(function(b){var x0I,f,k;x0I=2;while(x0I!==7){switch(x0I){case 5:x0I=!f?4:3;break;case 8:return f.sN[b.id].some(function(c){var l0I,f,w9u,r9u,e9u,n9u,t9u;l0I=2;while(l0I!==11){w9u="lo";w9u+="cation";w9u+="f";w9u+="ailove";w9u+="r";r9u="ser";r9u+="verf";r9u+="ail";r9u+="ove";r9u+="r";e9u="p";e9u+="er";e9u+="forman";e9u+="c";e9u+="e";n9u="p";n9u+="r";n9u+="obe";t9u="u";t9u+="nk";t9u+="n";t9u+="own";switch(l0I){case 5:return c.Vb.Yd===F.TEMPORARY&&(a.Yd=F.TEMPORARY),d.up&&a.Vb===c.Vb.id&&c.Vb.Yq&&(a.Yq=c.Vb.Yq),!1;break;case 1:l0I=q(c.Vb)?5:4;break;case 3:return!1;break;case 4:l0I=q(c)?3:9;break;case 9:f=t9u;a.location!==b.id&&(d.up?a.h9=b.id===k.id:f=b!==l[0]?""+n.cf.DY:void 0===a.location?""+n.cf.Vr:h?n9u:r.U(a.kxa)||a.kxa===b.id?r.U(a.lxa)||a.lxa===c.Vb.id?e9u:r9u:w9u,a.location=b.id,a.G9=b.level,a.fo=f);a.url=c.url;l0I=6;break;case 6:a.Vb=c.Vb.id;a.EA=c.Vb.name;l0I=13;break;case 2:l0I=1;break;case 13:a.Xa=d.A3?b.Xa.Jc>=n.Gd.Np||g.Jc<p?b.Xa:g:g.Jc===n.Gd.HAVE_NOTHING||b.Xa.Jc>=n.Gd.Np?b.Xa:g;return!0;break;}}});break;case 2:f=b.uc[c];x0I=5;break;case 4:return!1;break;case 3:k=f.vk[0];void 0===a.iW&&(a.iW=k.id,a.Xaa=f.sN[k.id][0].Vb.id);x0I=8;break;}}})?(a.$g=void 0,a.Yd=void 0,a.xf&&++k):a.Yd&&a.Yd===F.TEMPORARY?f.yl.Yd=F.TEMPORARY:a.$g||(I.warn(C9u+b+a9u+c+F9u+a.O+O9u),a.$2a(),a.$g=!0);m0I=4;break;}}});return q(this.yl)?(I.warn(x9u),this.AV=!0,this.emit(X9u,this.yl.Yd===F.Di),!1):k?!0:(I.warn(m9u+(c.length?"":A9u)),this.Hm(n.Qf.Or,!0),!1);break;}}};d.prototype.Trb=function(a,b){var g0I,c,f;g0I=2;while(g0I!==9){switch(g0I){case 2:c={};f=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;r.forEach(this.ad,function(d,g){var B0I,h,k,m,p,S9u,b9u,U1I;B0I=2;while(B0I!==13){S9u="8";S9u+="0";b9u="4";b9u+="4";b9u+="3";switch(B0I){case 4:k=g.match(f);B0I=3;break;case 2:d=d.parent?d.parent.id:"";h=c[d];B0I=4;break;case 9:V5ii.i9u(2);U1I=V5ii.l9u(18,19);m="s"===k[U1I];p=k[2];k=k[3];k.length||(k=m?b9u:S9u);B0I=14;break;case 3:B0I=k&&4===k.length?9:13;break;case 14:r.ae(p)&&r.ae(k)&&p===a&&k==b&&(h?h.push(g):c[d]=[g]);B0I=13;break;}}});return c;break;}}};q0I=12;break;case 27:d.prototype.$mb=function(){var y1I,a;y1I=2;while(y1I!==4){switch(y1I){case 9:a=this;y1I=2;break;y1I=5;break;case 5:this.AV||this.Mt.forEach(function(b){var h1I;h1I=2;while(h1I!==1){switch(h1I){case 2:b.Yd===F.TEMPORARY&&a.Lh.fail(b.id,t.time.ea());h1I=1;break;}}});y1I=4;break;case 2:a=this;y1I=5;break;}}};d.prototype.dump=function(){};return d;break;}}}(g.EventEmitter);d.m_=a;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var a,b,f,d,g;this.Bf();a=this.er([{Gda:"int32"},{Nra:"int32"},{bS:"int32"},{dS:"int32"},{cS:"int32"}]);b=a.Gda;f=a.Nra;d=a.bS;g=a.cS;a=a.dS;this.ld={cb:b,g7a:f,uD:d,Jra:g,Kra:a};this.Gda=b;this.Nra=f;this.bS=d;this.dS=a;this.cS=g;return!0;};f.Je="trex";f.Xb=!1;return f;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(85);a=a(25);f=g.z_;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Bf();this.ld=this.er([{GV:"int32"},{tJ:"int16"}]);return!0;};d.Je=f;d.Xb=!1;return d;}(a.Cf);d["default"]=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(214);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Bf();this.bLa=f.aga.BBa(this.K);return!0;};d.Je="esds";d.Xb=!1;return d;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.TD=function(){var a;a=this.az("esds");if(a=a&&a.bLa.az(5))this.eT=a.eT;return!0;};f.Je="mp4a";f.Xb=!0;return f;}(a(155)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var a;this.K.te();this.PGa=this.K.te();this.K.te();this.K.te();this.K.te();this.YDa=this.c2(this.K.te()&31);this.c2(this.K.te());this.lW=this.YDa.length?this.YDa[0][0]:this.PGa;this.Ana=this.K.offset;this.startOffset+this.length<this.K.offset&&(100===this.lW||110===this.lW||122===this.lW||144===this.lW)&&(this.K.te(),this.K.te(),this.c2(this.K.te()));a=this.startOffset+this.length-this.Ana;0<a&&this.Oj(a,this.Ana);return!0;};f.prototype.c2=function(a){var d;for(var b=[],f=0;f<a;++f){d=this.K.Yf();b.push(this.K.sW(d));}return b;};f.Je="avcC";f.Xb=!1;return f;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(25);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Bf();this.SCa=this.K.Vw();f.Oe&&this.K.console.trace("SchemeTypeBoxTranslator: "+this.SCa);"cenc"===this.SCa&&(this.K.offset-=4,f.Oe&&this.K.console.trace("SchemeTypeBoxTranslator: writing type piff at offset "+this.K.offset),this.Ya.hGa("piff"));this.K.rb();return!0;};d.Je="schm";d.Xb=!1;return d;}(f.Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var b;this.glb=this.K.Yf()&7;this.Ztb=[];for(var a=0;a<this.glb;a++){b={sab:this.K.Af(2),F1a:this.K.Af(5),G1a:this.K.Af(5),a_a:this.K.Af(3),OJb:this.K.Af(1),elb:this.K.Af(4)};0<b.elb?b.PGb=this.K.Af(9):this.K.Af(1);this.Ztb.push(b);}return!0;};f.Je="dec3";return f;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.sab=this.K.Af(2);this.F1a=this.K.Af(5);this.G1a=this.K.Af(3);this.a_a=this.K.Af(3);this.K.Af(1);this.K.Af(5);this.K.Af(5);return!0;};f.Je="dac3";return f;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b,f,h,q,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(85);h=a(33);q=a(155);g=a(25);c=a(84);a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Bf();this.km=this.K.rb();return!0;};d.prototype.TD=function(a){var b;b=Object.keys(this.Ic);b.length&&(b=b[0],this.Ic[b].length&&(b=this.Ic[b][0],b instanceof q["default"]?this.La=new h.sb(b.eT,b.NCa):b instanceof c["default"]&&(b=b.Ic[f.z_])&&b.length&&(b=b[0].ld,1E3!==b.tJ&&1001!==b.tJ||0!==b.GV%1E3?this.K.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+b.GV+"/"+b.tJ):this.La=new h.sb(b.tJ,b.GV)),this.La&&(a.La=this.La)));return!0;};d.prototype.cCa=function(a){void 0!==this.Ic[a]&&0!==this.Ic[a].length&&(this.Ya.no(this.km-1,this.byteOffset+12),a=this.Ic[a][0],this.Oj(a.byteLength,a.byteOffset));};d.Je="stsd";d.Xb=!0;return d;}(g.Cf);d["default"]=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(59);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Bf();this.ld=this.er([{jLb:"int32"},{Fva:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.ld.Fva=f.xH(this.ld.Fva);return!0;};d.Je="hdlr";d.Xb=!1;return d;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.K.Vw();this.K.Vw();for(this.s4=[];this.K.offset<=this.byteOffset+this.byteLength-4;)this.s4.push(this.K.Vw());return!0;};d.Je="ftyp";d.Xb=!1;return d;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.ld=this.er([{AGb:"int32"},{Pn:"int32"},{c1a:"int32"}]);return!0;};d.Je="btrt";d.Xb=!1;return d;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.ld=this.er([{dJb:"int32"},{TMb:"int32"}]);return!0;};d.Je="pasp";d.Xb=!1;return d;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Bf();this.ld=this.er(1===this.version?[{Lta:"int64"}]:[{Lta:"int32"}]);return!0;};d.Je="mehd";d.Xb=!1;return d;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.Bf();a=1===this.version?[{Wg:"int64"},{modificationTime:"int64"},{cb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Wg:"int32"},{modificationTime:"int32"},{cb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{ihb:"int16"},{W_a:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.ld=this.er(a);this.ld.xMb=!!(this.Ue&1);this.ld.yMb=!!(this.Ue&2);this.ld.zMb=!!(this.Ue&4);this.ld.AMb=!!(this.Ue&8);this.K.console.trace("Finished parsing track box");return!0;};d.Je="tkhd";d.Xb=!1;return d;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.Je="trak";d.Xb=!0;return d;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Bf();this.ld=1===this.version?this.er([{Wg:"int64"},{modificationTime:"int64"},{ca:"int32"},{duration:"int64"}]):this.er([{Wg:"int32"},{modificationTime:"int32"},{ca:"int32"},{duration:"int32"}]);return!0;};d.Je="mvhd";d.Xb=!1;return d;}(a(25).Cf);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(128);a(128);f=a(59);g=function(){function a(a,b,d){this.view=a;this.console=b;this.config=d;this.view=a;this.console=b;this.Vz=this.nR=this.offset=0;}a.prototype.wbb=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.Af=function(a){for(;this.Vz<a;)this.nR=(this.nR<<8)+this.te(),this.Vz+=8;this.Vz-=a;return this.nR>>>this.Vz&(1<<a)-1;};a.prototype.te=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Yf=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.rb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.oba=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.Smb=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(c&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};a.prototype.vi=function(a,b){a=this.Smb(a,b);this.offset+=8;return a;};a.prototype.Tmb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.epb=function(){var a;a=this.Tmb();this.offset+=8;return a;};a.prototype.Vw=function(){return f.xH(this.rb());};a.prototype.vW=function(){var b,d,f,g,h,p;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.rb(!0);d=this.Yf(!0);f=this.Yf(!0);g=this.Yf();h=this.Yf();p=this.rb();return[a(b,4),a(d,2),a(f,2),a(g,2),a(h,2)+a(p,4)].join("-");};a.prototype.ABa=function(a){var b;b=this.view.byteOffset+this.offset;return this.view.buffer.slice(b,b+a);};a.prototype.Yob=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var d=this.te();0!==d&&0<=--a;)b.push(d),d=this.te();return String.fromCharCode.apply(null,b);};a.prototype.sW=function(a){var c,d;void 0===c&&(c=1);void 0===d&&(d=!0);return this.Bd(this.config.ZA&&b.Vdb||b.jE,1,a,c,d);};a.prototype.Xob=function(a){var c,d,f;d=10;f=!1;void 0===d&&(d=2);void 0===f&&(f=!0);void 0===c&&(c=!1);return this.Bd(this.config.ZA&&b.Udb||b.IT,2,a,d,f,c);};a.prototype.rW=function(a,c,d){var f;void 0===c&&(c=4);void 0===d&&(d=!0);void 0===f&&(f=!1);return this.Bd(this.config.ZA&&b.vva||b.lz,4,a,c,d,f);};a.prototype.apb=function(){for(var a=this.te(),b=a&127;a&128;)a=this.te(),b=b<<7|a&127;return b;};a.prototype.Bd=function(a,b,d,f,g,h){void 0===g&&(g=!0);void 0===h&&(h=!1);a=a(this.view,this.offset,d,f,h);this.offset=g||!f||f===b?this.offset+d*(f||b):this.offset+b;return a;};return a;}();d.qUa=g;},function(g,d,a){var b,f,h,q,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);h=a(20);q=a(59);g=a(765);c=function(){function a(a){a?(this.Il=a.Il.slice(),this.oo=a.oo.slice(),this.pg=a.pg.slice(),this.trim=a.trim):(this.Il=[],this.oo=[],this.pg=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Il.length&&0===this.oo.length&&0===this.pg.length;},enumerable:!0,configurable:!0}});return a;}();g=function(a){function d(b,d,f){b=a.call(this,b,d,f)||this;b.xsa=[];b.Wc=new c();return b;}b.__extends(d,a);d.e0a=function(a,b){if(b.offset+b.size<=a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.EM?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.EM?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:f.assert(!b.EM);a.setUint32(b.offset,Math.floor(b.value/4294967296));a.setUint32(b.offset+4,b.value&4294967295);break;default:f.assert(!1);}};Object.defineProperties(d.prototype,{uS:{get:function(){return!this.Wc.empty;},enumerable:!0,configurable:!0}});d.prototype.sY=function(a,b){this.Wc.oo.push({offset:void 0!==b?b:this.offset,value:a,size:1});void 0===b&&(this.offset+=1);};d.prototype.kxb=function(a){this.Wc.oo.push({offset:!1,value:a,size:2,EM:!1});};d.prototype.no=function(a,b){this.Wc.oo.push({offset:void 0!==b?b:this.offset,value:a,size:4,EM:!1});void 0===b&&(this.offset+=4);};d.prototype.lxb=function(a,b){this.Wc.oo.push({offset:void 0!==b?b:this.offset,value:a,size:8,EM:!1});void 0===b&&(this.offset+=8);};d.prototype.hGa=function(a){this.no(q.Nla(a));};d.prototype.fea=function(a,b){this.Wc.pg.push({offset:this.offset,am:a,value:b});this.offset+=4;};d.prototype.Oj=function(a,b,c){this.Wc.Il.push({offset:b,remove:a,zb:c});};d.prototype.BW=function(a,b,c,d){this.Wc.Il.push({offset:c,remove:a,replace:b,zb:d});};d.prototype.trim=function(a){this.Wc.trim=a;};d.prototype.Nob=function(){this.xsa.push(new c(this.Wc));};d.prototype.Fnb=function(){this.Wc=this.xsa.pop()||new c();};d.prototype.Ra=function(){var a,b,c,f,g,h,k;a=this;if(0===this.Wc.Il.length&&0===this.Wc.oo.length&&0===this.Wc.pg.length)return[void 0===this.Wc.trim?this.view.buffer:this.view.buffer.slice(0,this.Wc.trim)];this.Wc.Il.sort(function(a,b){return a.offset-b.offset;});this.Wc.oo.sort(function(a,b){return a.offset-b.offset;});this.zqb();b=this.E$a();c=this.view.buffer.slice(0,b);f=new DataView(c);this.Wc.oo.forEach(d.e0a.bind(void 0,f));this.Lvb(f);this.Jvb(f);g=[];h=void 0!==this.Wc.trim?Math.min(this.Wc.trim,this.view.byteLength):this.view.byteLength;k=0;this.Wc.Il.filter(function(a){return a.offset<=h;}).forEach(function(c){c.offset>k&&(g.push(f.buffer.slice(k,c.offset)),c.offset>f.byteLength&&f!==a.view&&(f=a.view,g.push(f.buffer.slice(b,c.offset))));c.replace&&g.push(c.replace);k=c.offset+c.remove;});k<b&&g.push(c.slice(k));k<h&&g.push(this.view.buffer.slice(Math.max(c.byteLength,k),h));return g;};d.prototype.E$a=function(){var a,b,c;a=[];b=this.Wc.oo[this.Wc.oo.length-1];c=this.Wc.pg[this.Wc.pg.length-1];b&&a.push(b.offset+b.size);c&&a.push(c.offset+4);this.Wc.Il.filter(function(a){return a.zb;}).forEach(function(b){return a.push(b.zb.byteOffset+4);});b=Math.max.apply(void 0,a);return void 0!==this.Wc.trim?Math.min(b,this.Wc.trim):b;};d.prototype.zqb=function(){this.Wc.Il=this.Wc.Il.reduce(function(a,b){var c,d;if(0===a.length)return a.push(b),a;c=a[a.length-1];d=c.offset+c.remove;b.offset>=d?a.push(b):b.offset+b.remove>d&&(f.assert(c.zb===b.zb),c.remove+=b.offset+b.remove-d,b.replace&&(c.replace=c.replace?h.vj(c.replace,b.replace):b.replace));return a;},[]);};d.prototype.Lvb=function(a){var b;b=this;this.Wc.pg.forEach(function(c){var d,f,g,h;d=a;f=c.offset;b.Wc.Il.some(function(a){return a.offset<=c.offset&&a.replace&&a.offset+a.replace.byteLength>=c.offset+4?(d=new DataView(a.replace),f=c.offset-a.offset,!0):!1;});g=c.am+(void 0!==c.value?c.value:d.getInt32(f));h=b.Wc.Il.reduce(function(a,b){return b.offset>c.am&&b.offset<g?a+(b.remove-(b.replace?b.replace.byteLength:0)):a;},0);d.setInt32(f,g-c.am-h);});};d.prototype.Jvb=function(a){this.Wc.Il.forEach(function(b){var c;c=(b.remove||0)-(b.replace?b.replace.byteLength:0);if(0!==c)for(b=b.zb;b;)a.setUint32(b.byteOffset,a.getUint32(b.byteOffset)-c),b=b.parent;});};return d;}(g.qUa);d.pUa=g;},function(g){var d,a,b;d=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;b=Object.prototype.propertyIsEnumerable;g.T=function(){var a,d;try{if(!Object.assign)return!1;a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a];}).join(""))return!1;d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},d)).join("")?!1:!0;}catch(c){return!1;}}()?Object.assign:function(f,g){var h,c;if(null===f||void 0===f)throw new TypeError("Object.assign cannot be called with null or undefined");c=Object(f);for(var m,k=1;k<arguments.length;k++){h=Object(arguments[k]);for(var p in h)a.call(h,p)&&(c[p]=h[p]);if(d){m=d(h);for(var r=0;r<m.length;r++)b.call(h,m[r])&&(c[m[r]]=h[m[r]]);}}return c;};},function(g,d,a){(function(b){var aa,N,ba,Q,B,z,G,T;function d(a,b){if(a===b)return 0;for(var c=a.length,d=b.length,f=0,g=Math.min(c,d);f<g;++f)if(a[f]!==b[f]){c=a[f];d=b[f];break;}return c<d?-1:d<c?1:0;}function h(a){return b.Pea&&"function"===typeof b.Pea.isBuffer?b.Pea.isBuffer(a):!(null==a||!a.QFb);}function q(a){return h(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function c(a){if(N.Gb(a))return B?a.name:(a=a.toString().match(G))&&a[1];}function m(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function k(a){if(B||!N.Gb(a))return N.DK(a);a=c(a);return"[Function"+(a?": "+a:"")+"]";}function l(a,b,c,d,f){throw new z.AssertionError({message:c,xy:a,Gn:b,dA:d,itb:f});}function r(a,b){a||l(a,!0,b,"==",z.ok);}function n(a,b,c,f){var g;if(a===b)return!0;if(h(a)&&h(b))return 0===d(a,b);if(N.FK(a)&&N.FK(b))return a.getTime()===b.getTime();if(N.Qwa(a)&&N.Qwa(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!q(a)||!q(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(h(a)!==h(b))return!1;f=f||{xy:[],Gn:[]};g=f.xy.indexOf(a);if(-1!==g&&g===f.Gn.indexOf(b))return!0;f.xy.push(a);f.Gn.push(b);return t(a,b,c,f);}return 0===d(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return c?a===b:a==b;}function t(a,b,c,d){var f,g,h;if(null===a||void 0===a||null===b||void 0===b)return!1;if(N.Mwa(a)||N.Mwa(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;f="[object Arguments]"==Object.prototype.toString.call(a);g="[object Arguments]"==Object.prototype.toString.call(b);if(f&&!g||!f&&g)return!1;if(f)return a=Q.call(a),b=Q.call(b),n(a,b,c);f=T(a);h=T(b);if(f.length!==h.length)return!1;f.sort();h.sort();for(g=f.length-1;0<=g;g--)if(f[g]!==h[g])return!1;for(g=f.length-1;0<=g;g--)if(h=f[g],!n(a[h],b[h],c,d))return!1;return!0;}function I(a,b,c){n(a,b,!0)&&l(a,b,c,"notDeepStrictEqual",I);}function F(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(M){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function D(a,b,c,d){var f,g,h;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof c&&(d=c,c=null);try{b();}catch(ra){f=ra;}b=f;d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:".");a&&!b&&l(b,c,"Missing expected exception"+d);f="string"===typeof d;g=!a&&N.qU(b);h=!a&&b&&!c;(g&&f&&F(b,c)||h)&&l(b,c,"Got unwanted exception"+d);if(a&&b&&c&&!F(b,c)||!a&&b)throw b;}function O(a,b){a||l(a,!0,b,"==",O);}aa=a(767);N=a(439);ba=Object.prototype.hasOwnProperty;Q=Array.prototype.slice;B=function(){return"foo"===function(){}.name;}();z=g.T=r;G=/\s*function\s+([^\(\s]*)\s*/;z.AssertionError=function(a){var b;this.name="AssertionError";this.xy=a.xy;this.Gn=a.Gn;this.dA=a.dA;this.message=a.message?a.message:m(k(this.xy))+" "+this.dA+" "+m(k(this.Gn));b=a.itb||l;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=c(b),b=a.indexOf("\n"+b),0<=b&&(a=a.substring(a.indexOf("\n",b+1)+1)),this.stack=a));};N.Cfb(z.AssertionError,Error);z.fail=l;z.ok=r;z.equal=function(a,b,c){a!=b&&l(a,b,c,"==",z.equal);};z.uL=function(a,b,c){a==b&&l(a,b,c,"!=",z.uL);};z.Fra=function(a,b,c){n(a,b,!1)||l(a,b,c,"deepEqual",z.Fra);};z.Gra=function(a,b,c){n(a,b,!0)||l(a,b,c,"deepStrictEqual",z.Gra);};z.vza=function(a,b,c){n(a,b,!1)&&l(a,b,c,"notDeepEqual",z.vza);};z.Okb=I;z.mEa=function(a,b,c){a!==b&&l(a,b,c,"===",z.mEa);};z.wza=function(a,b,c){a===b&&l(a,b,c,"!==",z.wza);};z["throws"]=function(a,b,c){D(!0,a,b,c);};z.UHb=function(a,b,c){D(!1,a,b,c);};z.mJb=function(a){if(a)throw a;};z.fda=aa(O,z,{equal:z.mEa,Fra:z.Gra,uL:z.wza,vza:z.Okb});z.fda.fda=z.fda;T=Object.keys||function(a){var b,c;b=[];for(c in a)ba.call(a,c)&&b.push(c);return b;};}.call(this,a(174)));},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(371);g=function(){var K9u;K9u=2;while(K9u!==9){switch(K9u){case 2:a.prototype.add=function(a,d,c,f){var s9u,g;s9u=2;while(s9u!==3){switch(s9u){case 2:g=this.qQ;void 0===g[f]&&(g[f]=new b());g[f].add(a,d,c);s9u=3;break;}}};a.prototype.start=function(a,d){var v9u,c;v9u=2;while(v9u!==3){switch(v9u){case 2:c=this.qQ;v9u=5;break;case 5:void 0===c[d]&&(c[d]=new b());c[d].start(a);v9u=3;break;}}};a.prototype.stop=function(a,b){var c9u,c;c9u=2;while(c9u!==4){switch(c9u){case 2:c=this.qQ;void 0!==c[b]&&c[b].stop(a);c9u=4;break;}}};a.prototype.get=function(){var R9u,a,b,c,d,f,g;R9u=2;while(R9u!==6){switch(R9u){case 1:a=this.qQ,b=Object.keys(a),c=[],d=0;R9u=5;break;case 2:R9u=1;break;case 7:return c;break;case 4:f=b[d];g=a[f].get();g&&c.push({cdnid:f,avtp:g.Qa,tm:g.C5});R9u=8;break;case 8:d++;R9u=5;break;case 5:R9u=d<b.length?4:7;break;}}};K9u=3;break;case 3:return a;break;}}function a(){var L9u,U9u;L9u=2;while(L9u!==5){U9u="1SIYbZrN";U9u+="JCp";U9u+="9";switch(L9u){case 2:this.qQ={};U9u;L9u=5;break;case 3:this.qQ={};"";L9u=0;break;L9u=5;break;}}}}();d.FIa=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(769);new(a(5)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");g=function(){var E2u;E2u=2;function a(a){var V2u,Z2u;V2u=2;while(V2u!==4){Z2u="1S";Z2u+="IYb";Z2u+="Zr";Z2u+="N";Z2u+="JCp9";switch(V2u){case 2:this.K8=a;this.ht={};Z2u;V2u=4;break;}}}while(E2u!==7){switch(E2u){case 4:a.prototype.yy=function(a,b,c,d){var Y2u;Y2u=2;while(Y2u!==1){switch(Y2u){case 2:d.le&&(this.K8?this.lx.add(a,b,c,d.le):this.nI===d.le&&this.lx.add(a,b,c,d.le));Y2u=1;break;}}};a.prototype.ol=function(){var p2u;p2u=2;while(p2u!==1){switch(p2u){case 4:return this.lx.get();break;p2u=1;break;case 2:return this.lx.get();break;}}};a.prototype.xFa=function(a){var T2u,b,c;T2u=2;while(T2u!==3){switch(T2u){case 1:b=Object.keys(this.ht);c=this.ht[b[0]];T2u=4;break;case 8:T2u=0;break;T2u=1;break;case 2:T2u=1;break;case 4:1===b.length&&!1===c.NS?(this.lx.start(a,c.le),this.nI=c.le):1<b.length&&this.nI&&(b=this.ht[this.nI],this.lx.stop(a,this.nI),b.NS=!1,this.nI=void 0);T2u=3;break;}}};return a;break;case 2:a.prototype.reset=function(){var j2u;j2u=2;while(j2u!==1){switch(j2u){case 2:this.lx=new b.FIa();j2u=1;break;case 4:this.lx=new b.FIa();j2u=2;break;j2u=1;break;}}};a.prototype.vA=function(a,b){var d2u;d2u=2;while(d2u!==1){switch(d2u){case 2:b.le&&(this.K8?this.lx.start(a,b.le):1===b.type&&(this.ht[b.le]?this.ht[b.le].CN+=1:this.ht[b.le]={le:b.le,CN:1,NS:!1},this.xFa(a)));d2u=1;break;}}};a.prototype.xA=function(a,b){var g2u,c;g2u=2;while(g2u!==8){switch(g2u){case 1:g2u=b.le?5:8;break;case 5:g2u=this.K8?4:3;break;case 2:g2u=1;break;case 4:this.lx.stop(a,b.le);g2u=8;break;case 3:c=this.ht[b.le];1===b.type&&c&&(--c.CN,0===c.CN&&(c.NS&&this.lx.stop(a,b.le),c.NS=!1,delete this.ht[b.le]),this.xFa(a));g2u=8;break;}}};E2u=4;break;}}}();d.nLa=g;},function(g,d,a){var f;function b(a){var b,c;b=a.sw;c=a.mw;this.A2=b;this.L0={uhd:a.uhdl,hd:a.hdl};this.Dh=Math.max(Math.ceil(1*b/c),1);this.eXa=a.mins||1;f.call(this,b,c);this.reset();}f=a(156);new(a(5)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(f.prototype);b.prototype.flush=function(){this.Hc.map(function(a,b){this.Ioa(a,this.S6(b));},this);};b.prototype.Y1a=function(){var a,b,c,d,f,g,h,F;a=this.L0;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.t2[b];f=this.r2[b];if(d.first){g=d.first;h=d.lA;void 0!==h&&(f[g][h]+=1);d.first=void 0;}for(var d=[],g=0,c=h=c.length+1,l=0;l<h;l++){for(var n=0,t=0;t<c;t++)n+=f[t][l];g+=n;d.push(n);}n=-1;if(g>this.eXa){for(l=n=0;l<h;l++)if(0<d[l])for(t=0;t<c;t++){F=f[t][l];0<F&&(n-=F*Math.log(1*F/d[l]));}n/=g*Math.log(2);}this.h1[b]=n;}return this.h1;};b.prototype.Ioa=function(a,b){var c,g,h;for(var c=this.Dh,d=this.L0;this.HP.length>=c;)this.HP.shift();for(;this.IP.length>=c;)this.IP.shift();this.HP.push(a);this.IP.push(b);a=this.HP.reduce(function(a,b){return a+b;},0);b=this.IP.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var f in d)if(d.hasOwnProperty(f)){b=this.t2[f];c=this.r2[f];g=this.Pob(a,d[f]);h=b.lA;void 0!==h?c[g][h]+=1:b.first=g;b.lA=g;}}};b.prototype.Pob=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.Ioa(this.Hc[0],this.S6(0));f.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.t2={};this.HP=[];this.IP=[];this.r2={};this.h1={};a=this.L0;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.r2,d=b,g,h=void 0,l=Array(h),h=g=a[b].length+1,n=0;n<h;n++){l[n]=Array(g);for(var t=0;t<g;t++)l[n][t]=0;}c[d]=l;this.t2[b]={first:void 0,lA:void 0};this.h1[b]=0;}f.prototype.reset.call(this);};g.T=b;},function(g,d,a){var f;function b(){this.Bh=void 0;this.ev=0;}f=a(6);b.prototype.Ec=function(){return 0!==this.ev&&this.Bh?{p25:this.Bh.Hj,p50:this.Bh.ti,p75:this.Bh.Ij,c:this.ev}:null;};b.prototype.Ud=function(a){if(!(!f.Ma(a)&&f.has(a,"p25")&&f.has(a,"p50")&&f.has(a,"p75")&&f.has(a,"c")&&f.isFinite(a.p25)&&f.isFinite(a.p50)&&f.isFinite(a.p75)&&f.isFinite(a.c)))return this.Bh=void 0,this.ev=0,!1;this.Bh={Hj:a.p25,ti:a.p50,Ij:a.p75};this.ev=a.c;};b.prototype.get=function(){return{XV:this.Bh,bo:this.ev};};b.prototype.set=function(a,b){this.Bh=a;this.ev=b;};b.prototype.reset=function(){this.Bh=void 0;this.ev=0;};b.prototype.toString=function(){return"IQRHist("+this.Bh+","+this.ev+")";};g.T=b;},function(g,d,a){var f,h,q,c,m,k,l,r,n;function b(a){this.CVa=a;}d=a(376);f=d.yKa;h=d.wKa;q=a(375).xKa;c=a(374);m=a(373);k=a(372);l=a(772);r=a(771);n=a(371);b.prototype.constructor=b;b.prototype.create=function(a,b){var d,g,p,u;g=this.CVa[a];p=b[a];u={};g&&Object.keys(g).forEach(function(a){u[a]=g[a];});p&&Object.keys(p).forEach(function(a){u[a]=p[a];});switch(u.type){case"slidingwindow":d=new q(u.mw);break;case"discontiguous-ewma":d=new h(u.mw);break;case"iqr":d=new c(u.mx,u.mn,u.bw,u.iv);break;case"tdigest":d=new m(u);break;case"discrete-ewma":d=new f(u.hl);break;case"tdigest-history":d=new k(u);break;case"iqr-history":d=new l(u);break;case"avtp":d=new n();break;case"entropy":d=new r(u);}d&&(d.type=u.type);return d;};g.T=b;},function(g){function d(a){this.dC=a;this.Kd=0;this.DC=null;}d.prototype.add=function(a,b,d){null!==this.DC&&b>this.DC&&(this.Kd+=b-this.DC,this.DC=null);this.dC.add(a,b-this.Kd,d-this.Kd,this.Kd);};d.prototype.stop=function(a){null===this.DC&&(this.DC=a);};d.prototype.Taa=function(a,b){return this.dC.Taa(a,b);};d.prototype.get=function(){return this.dC.get();};d.prototype.reset=function(){this.dC.reset();};d.prototype.toString=function(){return this.dC.toString();};g.T=d;},function(g){function d(a,b,d){this.JC=a;this.Dh=Math.floor((a+b-1)/b);this.Bc=b;this.rYa=d;this.reset();}d.prototype.shift=function(){this.Hc.shift();this.eg.shift();};d.prototype.update=function(a,b){this.Hc[a]+=b;};d.prototype.push=function(a){this.Hc.push(0);this.eg.push(a?a:0);this.Pa+=this.Bc;};d.prototype.add=function(a,b,d,g){var f,c;if(null===this.Pa){f=Math.max(Math.floor((d-b+this.Bc-1)/this.Bc),1);for(this.Pa=b;this.Hc.length<f;)this.push(g);}for(;this.Pa<d;)if(this.push(g),this.rYa)for(;1<this.Hc.length&&d+g-(this.Pa-this.Bc*this.Hc.length+this.eg[0])>this.JC;)this.shift();else this.Hc.length>this.Dh&&this.shift();if(b>this.Pa-this.Bc)this.update(this.Hc.length-1,a);else if(b==d)g=this.Hc.length-Math.max(Math.ceil((this.Pa-d)/this.Bc),1),0<=g&&this.update(g,a);else for(g=1;g<=this.Hc.length;++g){f=this.Pa-g*this.Bc;c=f+this.Bc;if(!(f>d)){if(c<b)break;this.update(this.Hc.length-g,Math.round(a*(Math.min(c,d)-Math.max(f,b))/(d-b)));}}for(;this.Hc.length>this.Dh;)this.shift();};d.prototype.reset=function(){this.Hc=[];this.eg=[];this.Pa=null;};d.prototype.setInterval=function(a){this.Dh=Math.floor((a+this.Bc-1)/this.Bc);};g.T=d;},function(g,d,a){var h,l,c,m;function b(a,b,c){h.call(this,a,b,c);}function f(a,c){l.call(this,new b(a,c,!1));}h=a(775);l=a(774);c=a(65).Pab;m=a(65).Zdb;b.prototype=Object.create(h.prototype);b.prototype.Qa=function(){return Math.floor(8*c(this.Hc)/this.Bc);};b.prototype.ph=function(){return Math.floor(64*m(this.Hc)/(this.Bc*this.Bc));};b.prototype.get=function(){return{Qa:this.Qa(),ph:this.ph(),zGb:this.Hc.length};};b.prototype.toString=function(){return"bsw("+this.JC+","+this.Bc+","+this.Dh+")";};f.prototype=Object.create(l.prototype);f.prototype.setInterval=function(a){this.dC.setInterval(a);};g.T=f;},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;}function f(a){this.Ld=null;this.ck=a;this.size=0;}d=a(378);b.prototype.Gf=function(a){return a?this.right:this.left;};b.prototype.Lm=function(a,b){a?this.right=b:this.left=b;};f.prototype=new d();f.prototype.sm=function(a){if(null===this.Ld)return this.Ld=new b(a),this.size++,!0;for(var d=0,c=null,f=this.Ld;;){if(null===f)return f=new b(a),c.Lm(d,f),ret=!0,this.size++,!0;if(0===this.ck(f.data,a))return!1;d=0>this.ck(f.data,a);c=f;f=f.Gf(d);}};f.prototype.remove=function(a){var d,c,f,p,h;if(null===this.Ld)return!1;d=new b(void 0);c=d;c.right=this.Ld;for(var f=null,g=null,h=1;null!==c.Gf(h);){f=c;c=c.Gf(h);p=this.ck(a,c.data);h=0<p;0===p&&(g=c);}return null!==g?(g.data=c.data,f.Lm(f.right===c,c.Gf(null===c.left)),this.Ld=d.right,this.size--,!0):!1;};g.T=f;},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function f(a){this.Ld=null;this.ck=a;this.size=0;}function h(a){return null!==a&&a.red;}function l(a,b){var c;c=a.Gf(!b);a.Lm(!b,c.Gf(b));c.Lm(b,a);a.red=!0;c.red=!1;return c;}function c(a,b){a.Lm(!b,l(a.Gf(!b),!b));return l(a,b);}d=a(378);b.prototype.Gf=function(a){return a?this.right:this.left;};b.prototype.Lm=function(a,b){a?this.right=b:this.left=b;};f.prototype=new d();f.prototype.sm=function(a){var d,f,g,m,p,q,n,t,O;d=!1;if(null===this.Ld)this.Ld=new b(a),d=!0,this.size++;else{f=new b(void 0);g=0;m=0;p=null;q=f;n=null;t=this.Ld;for(q.right=this.Ld;;){null===t?(t=new b(a),n.Lm(g,t),d=!0,this.size++):h(t.left)&&h(t.right)&&(t.red=!0,t.left.red=!1,t.right.red=!1);if(h(t)&&h(n)){O=q.right===p;t===n.Gf(m)?q.Lm(O,l(p,!m)):q.Lm(O,c(p,!m));}O=this.ck(t.data,a);if(0===O)break;m=g;g=0>O;null!==p&&(q=p);p=n;n=t;t=t.Gf(g);}this.Ld=f.right;}this.Ld.red=!1;return d;};f.prototype.remove=function(a){var d,f,n,g,t,q,O;if(null===this.Ld)return!1;d=new b(void 0);f=d;f.right=this.Ld;for(var g=null,m,p=null,q=1;null!==f.Gf(q);){n=q;m=g;g=f;f=f.Gf(q);t=this.ck(a,f.data);q=0<t;0===t&&(p=f);if(!h(f)&&!h(f.Gf(q)))if(h(f.Gf(!q)))m=l(f,q),g.Lm(n,m),g=m;else if(!h(f.Gf(!q))&&(t=g.Gf(!n),null!==t))if(h(t.Gf(!n))||h(t.Gf(n))){O=m.right===g;h(t.Gf(n))?m.Lm(O,c(g,n)):h(t.Gf(!n))&&m.Lm(O,l(g,n));n=m.Gf(O);n.red=!0;f.red=!0;n.left.red=!1;n.right.red=!1;}else g.red=!1,t.red=!0,f.red=!0;}null!==p&&(p.data=f.data,g.Lm(g.right===f,f.Gf(null===f.left)),this.size--);this.Ld=d.right;null!==this.Ld&&(this.Ld.red=!1);return null!==p;};g.T=f;},function(g,d,a){g.T={XRa:a(778),myb:a(777)};},function(g,d,a){var b,f,h,l,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(220);h=a(381);l=a(127);c=a(5);g=function(a){function d(b,c,d,f,g,h,k,m,p,l,q){var r;r=a.call(this,c)||this;r.nj=b;r.mc=c;r.Uu=d;r.NYa=f;r.L=g;r.G=h;r.Ef=k;r.gn=m;r.Q1=p;r.P1=l;r.Am=q;return r;}b.__extends(d,a);Object.defineProperties(d.prototype,{hs:{get:function(){return this.gn.hs;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ZP:{get:function(){return this.gn.ZP;},set:function(a){this.gn.ZP=a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{YP:{get:function(){return this.gn.YP;},set:function(a){this.gn.YP=a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$P:{get:function(){return this.gn.$P;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bo:{get:function(){return this.gn.Bo;},set:function(a){this.gn.Bo=a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{eC:{get:function(){return this.gn.eC;},set:function(a){this.gn.eC=a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uy:{get:function(){return this.gn.uy;},set:function(a){this.gn.uy=a;},enumerable:!0,configurable:!0}});d.prototype.oc=function(){var a;a=this;this.hs.forEach(function(b,c){for(var d in b)b[d].oc(),a.s5(c,d);});};d.prototype.pi=function(a,b){return this.hs[a][b];};d.prototype.g4=function(){this.Bo=void 0;};d.prototype.uca=function(a,b){var c;if(b)this.Bo=b;else if(!(this.Bo&&0<this.Bo.length||(b=this.G,b.TDa||(f.Rm.In(1),a.Ri(1)<b.kV))))for(a=a.Ve(1).gc,b=0;b<a.length;++b){c=a[b];if(c.xf&&c.inRange&&!c.$g&&!this.Iva(c.pa)){this.Bo=[c.pa];break;}}};d.prototype.c$=function(){var a,b;if(this.Bo&&0!==this.Bo.length&&!this.eC)for(f.Rm.In(1);0<this.Bo.length;){a=this.Bo.shift();b=this.mc.Fq(1,a);if(b&&!this.Iva(a)&&b.xf){this.eC=a;this.Ny(b,{offset:0,HF:!0});break;}}};d.prototype.Xda=function(a,b){var c;c=this;b.forEach(function(b){var d;d=c.pi(a,b.pa);d&&!b.md&&(d.stream.md?b.PR(d.stream):(d.EL||(d.EL=[]),d.EL.push(c.mc)));});};d.prototype.nF=function(a,b){var c,d,f,g;c=this;d=this.mc;f=this.nj.ri(d.Ha);g=d.tl;l.wg.forEach(function(h){var k,m,p;if(d.eb(h)&&(void 0===b||h===b)){k=f.ot(h);m=c.nj.ma.ub.dc(h);if(c.mc.fw)c.L.warn("requestHeadersFromManifest, shutdown detected");else if(g.YX(d.Ha,m.Db,k.gc)){p=c.nj.Na.xm[h];p=c.nj.Hd.ota(k.gc,p.Lq?p.Lq.O:0);k=k.gc[p];(p=d.pi(h,k.pa))&&p.X?d.Mvb(m.M,p):d.Ny(k,{offset:0,HF:!1,Iv:1===h,yq:!0,PE:d!==c.nj.ma.ub.P},a);}else m.Ga("requestHeadersFromManifest, unable to update urls");}});f.k8=!0;f.vR();};d.prototype.z7=function(a){var b,d,f,g;b=this.G;d=this.pi(a.M,a.pa);if(d&&!d.X)d.HF&&this.qqa(d);else{if(d)return d;d=this.YP;f=this.ZP;if(void 0!==b.H$&&void 0!==d&&void 0!==f){g=c.time.ea();if(g-d<b.H$||g-f<b.H$)return;}this.Ny(a,{url:a.url,offset:0});this.ZP=c.time.ea();}};d.prototype.Ny=function(a,c,d,g){var h,k,m,p,l,q;h=a.M;f.Rm.In(h);k=a.pa;if(!this.kVa(k,!!c.yq)){k=this.pi(h,k);if(!k){k=b.__assign(b.__assign({},c),{aa:this.QVa(a)});m=!!k.Iv;p=this.nj.Na.we[h];l=this.nj.Na.xm[h];q=!!k.PE;d=!k.yq||m||q||d?this.nj.FH:p.Fl;a.url&&(l.y9=a.url);k=d=this.X0(a,d,k);if(!d.Mw()){this.mc.tA("MediaRequest open failed (2)",a.P.Ha,"NFErr_MC_StreamingFailure");return;}}c.yq&&g&&(this.mc.yd[h]=k);}this.Uu.Ch();};d.prototype.rN=function(){var a,b;a=this;b=[];this.hs.forEach(function(c,d){var h;f.Rm.In(d);for(var g in c){d=c[g];h=d.$X();1===h?b.push(d):2===h&&a.mc.tA("swapUrl failure");}});return b;};d.prototype.Ph=function(a){var b,d,g;d=a.M;g=f.Rm.In(d);this.mc.fw?g.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(null===(b=this.Am)||void 0===b?void 0:b.call(this,{type:"logdata",target:"startplay",ld:{usedNativeDataView:a.Awb}}),a.UV>a.Zlb&&(this.$P[d]=a.UV),a.HF&&this.qqa(a),this.qWa(a),a.li?this.nj.RQ():a.Iv&&(g.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),this.nj.sS(a.I)),this.YP=c.time.ea(),b=Object.getOwnPropertyNames(this.hs[d]),this.nj.ye[d].Rkb(a,1===b.length&&b[0]===a.pa),this.Uu.ema(),this.nj.nqb(),this.zq(a));};d.prototype.$Q=function(a,b,c){var d;d=a.M;f.Rm.In(d);d=this.mc.Fq(d,a.pa);if(b!==!!a.li)return!1;this.xoa(a);a.O_a(d);this.nla(a);a.li&&this.nj.RQ();c&&this.P1(a.I,a.pa);return!0;};d.prototype.E2=function(a,b){var c,d,f,g;c=[];d=this.hs[a];for(f in d){g=d[f];g&&!g.X&&g.fh===b&&(this.s5(a,f),c.push({stream:g.stream,offset:g.offset,aa:g.aa,Iv:g.Iv,yq:g.yq,PE:g.PE,xaa:g.xaa}));}return c;};d.prototype.Jba=function(a){var b;b=this;a.forEach(function(a){b.Ny(a.stream,a);});};d.prototype.xoa=function(a){this.hs[a.M][a.pa]=a;};d.prototype.Iva=function(a){return!!this.pi(1,a);};d.prototype.qWa=function(a){var b,c,d,g,k;b=this.G;c=f.Rm.In(a.M);d=a.X;if(b.c5){g=d.length;c.trace("fragment count:",g);for(var h=0;h<g;++h){k=d.get(h);c.trace("fragment: "+h+", startPts: "+k.S+", duration: "+k.duration+", offset: "+k.offset);}}this.nla(a);if(b.WV&&b.WV.enabled&&void 0===d.mo&&b.WV.simulatedFallback){g=d.length;b=[];for(h=0;h<g;++h)b[h]=Math.max(0,a.stream.Ac+this.pYa(h));d.Asb(b);}};d.prototype.nla=function(a){var b,d,g,h,k,m,p,l,q,u,n;b=this.G;d=a.M;g=f.Rm.In(d);h=a.P;k=h.Ha;m=this.nj.ri(k);if(m){p=a.X;l=p.length;q=p.get(l-1);u=a.pa;a.xl={Ui:q.S+q.duration,ahb:q.S,lastIndex:l-1};h.Cva(d,p);a.EL&&(a.EL.forEach(function(b){(b=b.Fq(d,u))&&b!==a.stream&&!b.md&&b.PR(a.stream);}),a.EL=void 0);l=h.Fq(d,u);q=h.gp()?b.kya:0;n=c.qk()[d];1===d&&0<b.Rq&&(n=Math.min(n,b.Rq));l.yFa(n,q);h.yd[d]&&a!==h.yd[d]?a.yq&&(m=h.yd[d],b=a.stream,l=m&&m.stream,g.warn("first header received for non-current track (trackId "+b.cb+"streamId "+b.pa+"), expected track "+(l&&l.cb)+", stream "+(l&&l.pa)+", "+m)):(h.yd[d]=a,g=this.nj.ma.ub,0===k&&(b=h.eb(1)?g.Ve(1).bb:g.Ve(0).bb,g.yR(b,h)),m.YL=!1,m.vR(),this.nj.RQ());this.NYa.i1();this.Q1(k,d,u,h.I,p);this.Uu.Ch();}else g.warn("addFragments for stale manifestIndex:",k);};d.prototype.X0=function(a,b,c){var d,g;d=this;g=f.Rm.In(a.M);a=new h.Cea(a,this.G,b,c,this,!1,g);a.addListener("headerRequestCancelled",function(a){d.pWa(a.request);});a.xc(void 0);this.xoa(a);return a;};d.prototype.kVa=function(a,b){return this.Ef&&(a=this.Ef.ZK(this.mc.I,a))&&this.$Q(a,!1,b)?!0:!1;};d.prototype.QVa=function(a){var b,c,d;b=a.kr;c=a.P;d=this.G;return c.Rd.Zd?d.LS?d.LS:d.UT:d.SFa&&b?b.offset+b.size:(a=this.$P[a.M])?a+128:2292+12*Math.ceil(c.duration/2E3);};d.prototype.pWa=function(a){this.s5(a.M,a.pa);};d.prototype.s5=function(a,b){delete this.hs[a][b];};d.prototype.qqa=function(a){this.eC===a.pa&&(this.eC=void 0);};d.prototype.pYa=function(a){var b;b=this.G.WV.fallbackBound;void 0===this.uy&&(this.uy=[]);void 0===this.uy[a]&&(this.uy[a]=Math.floor(2*Math.random()*b)-b);return this.uy[a];};return d;}(a(86).Fr);d.fMa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(49);h=a(5).Ur;g=function(a){function c(b){var c;c=a.call(this)||this;c.yna=b;c.PP=b.groupId;c.zg=new f.Cx();c.zg.on(c,h.Fd.VG,c.iQ);c.zg.on(c,h.Fd.Ox,c.RH);return c;}b.__extends(c,a);c.prototype.Ylb=function(a,b,c){h.prototype.open.call(this,a,b,c);};c.prototype.hsb=function(a){this.PP=a;};Object.defineProperties(c.prototype,{groupId:{get:function(){return this.PP;},enumerable:!0,configurable:!0}});c.prototype.oc=function(){this.zg&&this.zg.clear();h.prototype.oc.call(this);};c.prototype.iQ=function(a){this.yna.nob(a.probed,a.affected);this.oc();};c.prototype.RH=function(a){this.yna.kob(a.probed,a.affected);this.oc();};return c;}(h);d.iHa=g;},function(g,d,a){var f,h,l;function b(a,b){this.MH=a;this.ky=0===Math.floor(1E6*Math.random())%b.mA;this.groupId=1;this.config=b;this.mt={};this.Uw={};}f=a(6);h=a(5);new h.Console("ASEJS_PROBE_MANAGER","asejs");l=a(781).iHa;b.prototype.constructor=b;b.prototype.mob=function(a,b){var c,d,g,m,p,l,q,n,t,aa,N;c=this.MH;d=a.xb;g=c.kEa(a.url);m=c.NU(a.url);p=this.config;l=h.time.ea();n=b;t=[];aa=g.vk[0];N=!1;q=this.mt[d];if(!q)q=this.mt[d]={count:0,dh:l,Yt:!1,error:b,rca:[],aba:{}};else if(q.dh>=l-p.JX)return;q.Yt||(aa&&m.id===aa.id&&(a.isPrimary=!0),q.dh=l,q.Yt=!1,q.error=b,++q.count,g&&g.ad&&0!==g.ad.length&&(f.forEach(g.ad,function(b){var c,f,g;c=b.Vb.id;f=c+"-"+d;g=this.Uw[f];if(void 0===g||void 0===g.kW)g&&g.Kl&&clearTimeout(g.Kl),b=this.cra(b.url,a,c),this.Uw[f]={W:!1,count:0,kW:b.Si()},t.push(b.Si()),N=!0;-1===q.rca.indexOf(c)&&q.rca.push(c);},this),this.ky&&0<t.length&&(g={type:"logdata",target:"endplay",fields:{}},b=n,n={ts:h.time.ea(),es:b.Noa,fc:b.Gh,fn:b.dta,nc:b.Gj,pb:t,gid:this.groupId},b.rK&&(n.hc=b.rK),g.fields.errpb={type:"array",value:n,adjust:["ts"]},c.Am(g)),N&&this.groupId++));};b.prototype.cra=function(a,b,d){var c,f,g;c=this.MH.NU(b.url);c&&c.Xa&&c.Xa.ep&&c.Xa.ep.Qa||Math.random(0,1);c=new l(this);f=a.split("?");g="random="+parseInt(1E7*Math.random(),10);c.Ylb(1<f.length?a+"&"+g:a+"?"+g,b,d);return c;};b.prototype.nob=function(a,b){var c,d,f,g,m,p,l,q;c=this.MH;d=this.config;f=b.xb;g=this.mt[f];p=a.url;l=this.Uw[a.xb+"-"+f];if(g&&(m=g.error,l)){l&&l.Kl&&clearTimeout(l.Kl);l.W=!0;l.count=0;l.kW=void 0;g.aba[a.xb]=!0;(l=this.mt[a.xb])&&!0===l.Yt&&d.Is&&(c.uCa(a.xb,l.error.oN[1]),this.ky&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.errst={type:"array",value:{ts:h.time.ea(),id:a.requestId,servid:b.xb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Am(l)),this.mt[a.xb]=void 0);if(p!==b.url){q=this.Uw[f+"-"+f];q&&q.W||(f=(f=c.NU(p))&&f.Xa&&f.Xa.ep&&f.Xa.ep.Qa||Math.random(0,1)*d.WU,f=Math.min(f,d.WU),setTimeout(function(){var d;if(!(!1!==g.Yt||q&&q.W)&&(g.Yt=!0,c.Hm(m.oN[0],m.oN[1],b.url,m),this.ky)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:h.time.ea(),id:a.requestId,servid:b.xb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.Am(d);}}.bind(this),f));}this.ky&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.pbres={type:"array",value:{ts:h.time.ea(),id:a.requestId,result:1,servid:a.xb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Am(l));}};b.prototype.kob=function(a,b){var c,d,g,m,p,l,q,n,t,aa;c=this.MH;d=parseInt(b.xb,10);g=this.mt[d];m=parseInt(a.xb,10);p=this.Uw[m+"-"+d];l=0;t=this.config;if(p&&g){p.W=!1;p.kW=void 0;g.aba[m]=!1;n=g.rca;if(t.Is&&m===d&&b.isPrimary){aa=c.NU(b.url);aa=aa&&aa.Xa&&aa.Xa.ep&&aa.Xa.ep.Qa||300*Math.random(0,1);aa=aa*Math.pow(2,p.count);aa=Math.min(aa,12E4);aa=aa+Math.random(0,1)*(1E4>aa?100:1E4);p.Kl=setTimeout(function(){var c;p.Kl=void 0;c=this.cra(a.url,b,m);c.hsb(a.groupId);p.kW=c.Si();}.bind(this),aa);}++p.count;m===d&&(l=0,n.forEach(function(a){!1===g.aba[a]&&l++;}),n.length===l&&g.count>=t.cV&&(q=g.error,g.Yt=!0,f.forEach(c.kEa(b.url).ad,function(a){var b;c.Hm(q.oN[0],q.oN[1],a.url,q);if(this.ky){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:h.time.ea(),id:-1,servid:a.Vb.id},adjust:["ts"]};c.Am(b);}},this)));this.ky&&(d={type:"logdata",target:"endplay",fields:{}},d.fields.pbres={type:"array",value:{ts:h.time.ea(),id:a.requestId,result:0,servid:a.xb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Am(d));}};b.prototype.UX=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.MH;b=a.lDa(b);c=this.mt[b];d=this.Uw[b+"-"+b];c&&c.Yt&&this.config.Is&&(a.uCa(c.error.Noa,!1),this.ky&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:h.time.ea(),id:-1,servid:b},adjust:["ts"]},a.Am(c)),this.mt[b]=void 0,d&&d.Kl&&clearTimeout(d.Kl));}};b.prototype.reset=function(){var a,b,d;a=this.Uw;for(d in a)a.hasOwnProperty(d)&&(b=a[d+"-"+d])&&b.Kl&&clearTimeout(b.Kl);this.Uw={};this.mt={};};g.T=b;},function(g,d,a){var b,f,h,l,c,m,k,n,r,t,A,I,F,D;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(12);h=a(5);l=new h.Console("ASEJS_ERROR_DIRECTOR","asejs");c=a(782);m=h.Zj;k=m.tu;n={};r={};g=[f.Qf.Or,!1];a=[f.Qf.Or,!0];t=[f.Qf.Sx,!1];A=[f.Qf.Sx,!0];I=[f.Qf.URL,!0];F=[-1,!1];D=[f.Qf.Sx,!1];n[k.yxb]=t;n[k.RJa]=t;n[k.ufa]=t;n[k.cKa]=t;n[k.VJa]=A;n[k.nIa]=A;n[k.Vea]=D;n[k.KY]=D;n[k.oIa]=F;n[k.pIa]=D;n[k.qIa]=D;n[k.kIa]=t;n[k.mIa]=t;n[k.Uea]=g;n[k.lIa]=t;n[k.jIa]=D;n[k.Myb]=A;n[k.aMa]=D;n[k.Aga]=D;n[k.zga]=D;n[k.WZ]=D;n[k.xga]=D;n[k.$La]=I;n[k.YZ]=A;n[k.xO]=I;n[k.ZZ]=a;n[k.$Z]=A;n[k.cMa]=I;n[k.yO]=D;n[k.Bga]=A;n[k.bMa]=A;n[k.YJa]=A;n[k.SJa]=t;n[k.BSa]=t;n[k.IJa]=t;n[k.JJa]=t;n[k.KJa]=t;n[k.LJa]=t;n[k.MJa]=t;n[k.NJa]=t;n[k.OJa]=t;n[k.PJa]=t;n[k.QJa]=t;n[k.TJa]=t;n[k.UJa]=t;n[k.WJa]=t;n[k.XJa]=t;n[k.ZJa]=t;n[k.$Ja]=t;n[k.aKa]=t;n[k.bKa]=t;n[k.dKa]=t;n[k.eKa]=t;n[k.ASa]=D;n[k.TIMEOUT]=g;r[k.Vea]=!0;r[k.Aga]=!0;r[k.zga]=!0;r[k.xga]=!0;r[k.ufa]=!0;g=function(){var D2u;D2u=2;while(D2u!==12){switch(D2u){case 8:a.prototype.iaa=function(){var o2u;o2u=2;while(o2u!==1){switch(o2u){case 4:this.TR=1;o2u=5;break;o2u=1;break;case 2:this.TR=0;o2u=1;break;}}};a.prototype.aA=function(){var J2u,a,b,c,U2S,G2S;J2u=2;while(J2u!==8){U2S="m";U2S+="s";G2S="Setti";G2S+="ng";G2S+=" underflow t";G2S+="ime";G2S+="out in ";switch(J2u){case 4:c=b.j$;this.yE=Math.max(h.time.ea(),this.yE);b.pwb&&!this.pN&&(l.info(G2S+c+U2S),this.pN=setTimeout(function(){var q2u,u2S,X2S;q2u=2;while(q2u!==4){u2S="F";u2S+="or";u2S+="cing per";u2S+="manent network failure after ";X2S="ms,";X2S+=" since underflow w";X2S+="i";X2S+="th no ";X2S+="success";switch(q2u){case 2:V5ii.K2S(0);l.info(V5ii.S2S(c,X2S,u2S));a.pN=void 0;a.tl.Hm(f.Qf.Or,!0);q2u=4;break;}}},c));J2u=8;break;case 2:a=this;b=this.config;J2u=4;break;}}};a.prototype.rqa=function(){var h2u,T2S;h2u=2;while(h2u!==1){T2S="Cleared und";T2S+="erflo";T2S+="w t";T2S+="imeout";switch(h2u){case 2:this.pN&&(clearTimeout(this.pN),this.pN=void 0,l.info(T2S));h2u=1;break;}}};a.prototype.Efb=function(){var M2u,b,c,d,f,c8S,v8S,s8S;M2u=2;while(M2u!==11){c8S="I";c8S+="nitialized network failure simulation";c8S+=" \"";v8S="m";v8S+="anifes";v8S+="tAdded";s8S="m";s8S+="anifestA";s8S+="dd";s8S+="ed";switch(M2u){case 9:M2u=d==="1"?8:6;break;case 2:b=this;c=this.tl;d=this.config.e5;f={n:0};M2u=9;break;case 13:return;break;case 8:c.on(s8S,function(){var P2u,d;P2u=2;while(P2u!==9){switch(P2u){case 3:a(d).forEach(function(a){var t2u;t2u=2;while(t2u!==5){switch(t2u){case 1:f.n+=1E3;t2u=5;break;case 2:setTimeout(function(){var n2u;n2u=2;while(n2u!==1){switch(n2u){case 2:b.Hm({url:a},m.tu.$Z);n2u=1;break;}}},4E3+f.n);t2u=1;break;}}});P2u=9;break;case 2:d=[];f.n=f.n||0;c.Cta(function(a,b,c,g){var N2u;N2u=2;while(N2u!==1){switch(N2u){case 2:f[g.id]||(f[g.id]=!0,d.push(g.id));N2u=1;break;}}});P2u=3;break;}}});M2u=7;break;case 6:M2u=d==="2"?14:13;break;case 14:c.on(v8S,function(){var e2u,a;e2u=2;while(e2u!==9){switch(e2u){case 3:a.sort(function(a,b){var w2u;w2u=2;while(w2u!==1){switch(w2u){case 4:return b.O/a.O;break;w2u=1;break;case 2:return b.O-a.O;break;}}}).map(function(a){var C2u;C2u=2;while(C2u!==1){switch(C2u){case 4:return a.url;break;C2u=1;break;case 2:return a.url;break;}}}).forEach(function(a){var a2u;a2u=2;while(a2u!==5){switch(a2u){case 2:setTimeout(function(){var F2u;F2u=2;while(F2u!==1){switch(F2u){case 2:c.wq()||b.Hm({url:a},m.tu.xO);F2u=1;break;}}},5E3*Math.random());f.n+=1E3;a2u=5;break;}}});e2u=9;break;case 2:a=[];f.n=f.n||0;c.Cta(function(b,c,d,g){var r2u;r2u=2;while(r2u!==1){switch(r2u){case 2:f[g.id]||(f[g.id]=!0,a.push({O:d.O,url:g.id}));r2u=1;break;}}});e2u=3;break;}}});M2u=7;break;case 7:V5ii.b2S(0);l.warn(V5ii.W2S(d,'"',c8S));M2u=11;break;}}function a(a){var y2u,b,c,d;y2u=2;while(y2u!==3){switch(y2u){case 7:y2u=b?9:7;break;y2u=b?5:4;break;case 2:b=a.length;y2u=1;break;case 1:y2u=b?5:4;break;case 5:d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c;y2u=1;break;case 4:return a;break;}}}};return a;break;case 4:a.prototype.seb=function(a){var B2u,b,c,d,f,g,k,m,R8S,l8S,q8S,n8S,d8S;B2u=2;while(B2u!==6){R8S=" l";R8S+="ast success ";R8S+="was";R8S+=" ";l8S=" ms";l8S+=" a";l8S+="go";q8S="Network ";q8S+="has faile";q8S+="d ";n8S="te";n8S+="m";n8S+="por";n8S+="aril";n8S+="y";d8S="per";d8S+="m";d8S+="a";d8S+="nent";d8S+="ly";switch(B2u){case 2:b=this;c=h.time.ea()-this.yE;d=a;m=this.config;V5ii.K2S(1);l.warn(V5ii.S2S(c,a?d8S:n8S,q8S,l8S,R8S));!a&&c>m.O$&&(d=!0);B2u=7;break;case 7:d?(this.oF&&(clearTimeout(this.oF),this.oF=void 0),this.rqa(),this.Zaa.reset(),this.DU&&(f=this.DU.Gh,g=this.DU.rK,k=this.DU.Gj),this.zeb({ogb:a,$lb:f,amb:g,bmb:k})):this.oF||(this.oF=setTimeout(function(){var f2u;f2u=2;while(f2u!==5){switch(f2u){case 2:b.oF=void 0;b.jM();f2u=5;break;}}},m.P$));B2u=6;break;}}};a.prototype.jM=function(a){var W2u;W2u=2;while(W2u!==1){switch(W2u){case 2:this.oF||(this.tl.jM(!!a),this.vda={},this.ut());W2u=1;break;}}};a.prototype.UX=function(a){var G2u,b;G2u=2;while(G2u!==9){switch(G2u){case 2:b=this.config;this.yE=Math.max(a.timestamp||h.time.ea(),this.yE);this.rqa();b.up&&this.Zaa.UX(a);G2u=9;break;}}};D2u=8;break;case 2:a.prototype.usb=function(a){var z2u;z2u=2;while(z2u!==1){switch(z2u){case 2:this.mX=a;z2u=1;break;case 4:this.mX=a;z2u=4;break;z2u=1;break;}}};a.prototype.Hm=function(a,c,d,g){var Q2u,h,k,p,q,u,y,A,I,O,w8S,t8S,m8S,f8S,r8S;Q2u=2;while(Q2u!==23){w8S="Inval";w8S+="id a";w8S+="ffected for network fai";w8S+="lure";t8S=" : cri";t8S+="tic";t8S+="al er";t8S+="ror cou";t8S+="nt = ";m8S=" ";m8S+="o";m8S+="n";m8S+=" ";f8S="F";f8S+="ailur";f8S+="e";f8S+=" ";r8S="Unmapped fa";r8S+="ilure ";r8S+="code in JSASE err";r8S+="or director : ";switch(Q2u){case 14:y=n[d];this.DU={rK:c,Gh:d,dta:p,Gj:g};r[d]&&++this.TR;Q2u=11;break;case 18:I=y[0];O=y[1];q.up?b.forEach(k,function(b,k){var l2u,h8S;l2u=2;while(l2u!==5){h8S="e";h8S+="rr";h8S+="o";h8S+="r";switch(l2u){case 2:y===D||y===t?h.Zaa.mob({url:void 0!==a.url?a.url:b[0],xb:k},{Noa:k,oN:y,rK:c,Gh:d,dta:p,Gj:g}):b.some(function(a){var I2u;I2u=2;while(I2u!==5){switch(I2u){case 2:u.Hm(I,O,a);return I===f.Qf.Sx;break;}}});!q.tq||0!==c&&void 0!==c||(b=void 0!==a.url?a.url:b[0],h.mX&&b&&h.mX.hca(h8S,b));l2u=5;break;}}}):b.forEach(k,function(b,d){var i2u,j8S;i2u=2;while(i2u!==5){j8S="e";j8S+="r";j8S+="ro";j8S+="r";switch(i2u){case 2:i2u=y!==D||h.hqb(d)?1:5;break;case 1:b.some(function(a){var u2u;u2u=2;while(u2u!==5){switch(u2u){case 2:u.Hm(I,O,a);return I===f.Qf.Sx;break;}}}),!q.tq||0!==c&&void 0!==c||(b=void 0!==a.url?a.url:b[0],h.mX&&b&&h.mX.hca(j8S,b));i2u=5;break;}}});Q2u=23;break;case 27:k=u.Trb(a.host,a.port);Q2u=18;break;case 2:h=this;k=m.tu.name;Q2u=4;break;case 19:A&&(k[A]=[a.url]);Q2u=18;break;case 24:V5ii.b2S(2);l.error(V5ii.W2S(d,r8S));Q2u=23;break;case 20:A=u.lDa(a.url);Q2u=19;break;case 11:Q2u=y!==F?10:23;break;case 6:Q2u=d&&b.isArray(n[d])?14:24;break;case 10:Q2u=void 0!==a.url?20:15;break;case 4:p=d?k[d]:void 0;k={};q=this.config;u=this.tl;l.warn(f8S+p+m8S+JSON.stringify(a)+t8S+this.TR);Q2u=6;break;case 26:l.error(w8S);return;break;case 15:Q2u=void 0!==a.host&&void 0!==a.port?27:26;break;}}};a.prototype.hqb=function(a){var k2u,b,c,d;k2u=2;while(k2u!==13){switch(k2u){case 3:k2u=d?9:14;break;case 8:d.dh=b,d.count=1;k2u=13;break;case 2:b=h.time.ea();c=this.config;d=this.vda[a];k2u=3;break;case 7:k2u=!(d.dh>=b-c.JX||d.Yt||(d.dh=b,++d.count,d.count<c.cV))?6:13;break;case 6:return d.Yt=!0;break;case 9:k2u=d.dh<this.yE?8:7;break;case 14:this.vda[a]={dh:b,count:1};k2u=13;break;}}};D2u=4;break;}}function a(a,b,d,f){var H2u,i8S,z8S;H2u=2;while(H2u!==11){i8S="networkFa";i8S+="il";i8S+="ed";z8S="1S";z8S+="IYbZr";z8S+="NJ";z8S+="Cp9";switch(H2u){case 5:this.zeb=d;this.ut=f;z8S;n[k.WZ]=b.gfb?A:D;this.tl.on(i8S,this.seb.bind(this));H2u=7;break;case 2:this.tl=a;this.config=b;H2u=5;break;case 7:this.yE=h.time.ea();this.TR=0;this.vda={};this.Zaa=new c(a,b);H2u=12;break;case 12:this.Efb();H2u=11;break;}}}}();d.qLa=g;},function(g,d,a){var f,h,l,c,m,k,n;function b(a,b){var c,d;c=Math.floor(1E3*a/b);d=1E3*Math.round(c/1E3);return new m.sb(d,Math.abs(Math.floor(1001*a/b)-d)>Math.abs(c-d)?1E3:1001);}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);h=a(48);l=a(6);c=a(385);m=a(33);k=a(384);a(11);n=a(127);g=function(){function a(c,d,f){this.G=d;this.L=f;this.D1=c.Lz;this.mc=c.P;this.dg=c.M;this.vZa=c.iN;this.BUa=c.lI;1===this.dg&&(d=this.D1.streams[0],void 0!==d.framerate_value&&void 0!==d.framerate_scale&&(this.C1=b(d.framerate_value,d.framerate_scale).opb()));this.Bs=(this.iC=this.C1)&&this.iC.ca;this.o1=this.fma=!1;this.r8=-Infinity;this.Sxa=Infinity;c=a.xVa(this,c.Zd,c.Ps);d=c.Pn;f=c.gc;this.uWa=c.RT;this.UWa=d;this.zs=f;this.gZa=f.reduce(function(a,b){a[b.pa]=b;return a;},{});!1;}a.xVa=function(a,b,c){var d,g,m,p,q,r;d=a.G;g=1===a.M;m={};d.MM&&d.MM.enabled&&d.MM.profiles&&d.MM.profiles.forEach(function(a){m[a]={action:d.MM.action,applied:!1};});p=!1;q=0;r=[];a.Lz.streams.forEach(function(u,t){var y,A,F,D,I;A=u.bitrate;F=u.vmaf;D=u.content_profile;I={inRange:!0,xf:!0};if(g){y=-1===u.content_profile.indexOf("none");I.xf=b&&!y||!b&&y;I.xf&&c&&h(n.g3(u.content_profile,u.bitrate,c),I);if(A<d.Ojb||A>d.Gib)I.inRange=!1;!l.Ma(F)&&(F<d.Pjb||F>d.Hib)&&(I.inRange=!1);m.hasOwnProperty(D)&&"keepLowest"===m[D].action&&(m[D].applied?I.inRange=!1:m[D].applied=!0);p=p||y;}I.inRange&&I.xf&&A>q&&(q=A);u=new k.jHa(f.__assign({Aib:u,sg:t,track:a},I),d,a.L);r.push(u);});return{RT:p,Pn:q,gc:r};};Object.defineProperties(a.prototype,{md:{get:function(){return!!this.Fp;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{K5:{get:function(){return this.fma;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.mc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return String(this.mc.I);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cb:{get:function(){return this.D1.track_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.dg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{La:{get:function(){return this.iC;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.Bs;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Iw:{get:function(){return this.hXa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Fp:{get:function(){return this.Qb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lz:{get:function(){return this.D1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{iN:{get:function(){return this.vZa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{lI:{get:function(){return this.BUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{RT:{get:function(){return this.uWa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Pn:{get:function(){return this.UWa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gc:{get:function(){return this.zs;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{L6:{get:function(){return this.La.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{K6:{get:function(){return this.La.Vd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return 0;},enumerable:!0,configurable:!0}});a.prototype.Fq=function(a){return this.hE()[a];};a.prototype.hE=function(){return this.gZa;};a.prototype.equals=function(a){return this.I===a.I&&this.M===a.M&&this.cb===a.cb;};a.prototype.IV=function(a,b,d,f,g){if(f&&void 0!==f.Zi&&(this.md||void 0!==f.Vc&&f.Vc.length))if(a.hp&&(this.fma=!0),this.md)!this.o1&&f.Vc&&f.Vc.length>this.Fp.length&&(this.Qb=new c.Kka(this.M,this.La,f,g),this.r8=-Infinity,this.o1=!0);else{this.Una(b);if(d=d||this.C1)this.Tna(d||this.C1),void 0===this.ca&&this.Vna(d.ca);this.Qb=new c.Kka(this.M,this.La,f,g);a.hp&&(this.o1=!0);}else this.L&&this.L.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.X3a=function(a){this.md||(this.Vna(a.ca),this.Una(a.Iw),this.Tna(a.La),this.Qb=a.Fp);};a.prototype.toJSON=function(){return{movieId:this.I,mediaType:this.M,trackId:this.cb};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.cb;};a.prototype.Vna=function(a){this.Bs=a;};a.prototype.Una=function(a){this.hXa=a;};a.prototype.Tna=function(a){this.iC=a;};return a;}();d.kHa=g;},function(g,d,a){var f;function b(a){this.uF=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.uF[b]=a.charCodeAt(b);}f=new(a(5)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,c;b=this.uF.length;if(void 0===this.uF)f.warn("XORCiper.encrypt is called with undefined secret!");else{c="";for(var d=0;d<a.length;++d)c+=String.fromCharCode(this.uF[d%b]^a.charCodeAt(d));return encodeURIComponent(c);}};b.prototype.decrypt=function(a){var b,c;b="";c=this.uF.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)b+=String.fromCharCode(this.uF[d%c]^a.charCodeAt(d));return b;};g.T=b;},function(g,d,a){var b;b=0;g.T.J_=function(d,g){var c,h,k,p;function f(a,b){return(a["$ASE$order"+p]||0)-(b["$ASE$order"+p]||0);}c=a(48);h=this;k=g?[g]:[];p="$op$"+b++;c({value:d,addListener:function(a,b){a["$ASE$order"+p]=b;k=k.slice();k.push(a);k.sort(f);},removeListener:function(a){var b;k=k.slice();0<=(b=k.indexOf(a))&&k.splice(b,1);},set:function(a,b){var d;if(h.value!==a){d={oldValue:h.value,newValue:a};b&&c(b,d);h.value=a;a=k;b=a.length;for(var f=0;f<b;f++)a[f](d);}}},h);};},function(g){function d(a,b){this.Qa=a;this.ph=b;}d.prototype.Raa=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,d=Math.sqrt(-2*Math.log(b/2)),d=-.70711*((2.30753+.27061*d)/(1+d*(.99229+.04481*d))-d),g=0;2>g;g++)var h=Math.abs(d),c=1/(1+h/2),h=c*Math.exp(-h*h-1.26551223+c*(1.00002368+c*(.37409196+c*(.09678418+c*(-.18628806+c*(.27886807+c*(-1.13520398+c*(1.48851587+c*(-.82215223+.17087277*c))))))))),h=(0<=d?h:2-h)-b,d=d+h/(1.1283791670955126*Math.exp(-(d*d))-d*h);a=1>a?d:-d;}return this.Qa-Math.sqrt(2*this.ph)*a;};g.T=d;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(20);g=a(5);f=g.Zj;new g.Console("ASEJS_SIDECHANNEL","media|asejs");g=function(){function a(a,c,d){this.zm=d;this.TZa=new b.yUa(a);this.SZa=c.ia;this.VUa=1E3*c.fjb/c.H1a;this.HVa=c.FD;}a.prototype.gm=function(a){var c;c={s_xid:this.SZa,dl:this.HVa?1:0};a.F3&&(c.bs=b.dD(Math.floor(a.F3/this.VUa)+1,1,5));a.EV&&(c.limit_rate=a.EV);a.Epa&&(c.bb_reason=a.Epa);a.UEa&&(c.tm=a.UEa);return this.KXa(c);};a.prototype.hca=function(a,b){var c,d;try{c=new f(void 0,"notification");d=this.gm({Epa:a});b&&d&&c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(u){this.zm("SideChannel: Error when sending sendBlackBoxNotification. Error: "+u);}};a.prototype.KXa=function(a){var b;try{b=this.PYa(a);return this.TZa.encrypt(b);}catch(m){this.zm("SideChannel: Error when obfuscating msg. Error: "+m);}};a.prototype.PYa=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();d.YSa=g;},function(g,d,a){var b,f,h,l,c,m,k,n,r,t,A,I,F,D,O,aa,N,B,Q,G,z,X,T;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);g=a(49);h=a(6);l=a(386);c=a(208);m=a(381);k=a(86);a(384);n=a(364);r=a(363);t=a(12);A=a(210);I=a(740);F=a(73);D=a(5);O=a(360);aa=a(359);N=D.Promise;B=new D.Console("HEADERCACHE","media|asejs");a=new D.Console("MEDIACACHE","media|asejs");Q=D.kB;G=B.trace.bind(B);a.trace.bind(a);z=B.warn.bind(B);X=B.error.bind(B);T=B.info.bind(B);a=function(a){var H8S;H8S=2;function d(b,c,d,f){var e8S,t0v,E0v,X0v;e8S=2;while(e8S!==25){t0v="1SI";t0v+="Yb";t0v+="ZrNJCp";t0v+="9";E0v="c";E0v+="atc";E0v+="h";X0v="fun";X0v+="c";X0v+="ti";X0v+="o";X0v+="n";switch(e8S){case 26:return b;break;case 3:b.PFb=T;b.GH=Object.create(null);e8S=8;break;case 2:b=a.call(this)||this;b.Yl=G;b.Jd=X;b.Ga=z;e8S=3;break;case 8:b.Qk=c;b.he=Object.create(null);b.Qu=0;b.Sk=[];e8S=13;break;case 10:b.fC=[];b.zC={};b.y2=(b.Qk.qx||b.Qk.Zda)&&0<(b.Qk.Gv||(D.options||{}).HE||0);b.jn=b.Qk.w$;e8S=17;break;case 13:b.PH=c.aS;b.ss=[];b.GP=!1;e8S=10;break;case 17:b.Se=void 0;b.y2&&(b.Qk.Gv||(c=(D.options||{}).HE||0,X0v===typeof b.Qk.set?b.Qk.set({Gv:c}):b.Qk.Gv=(D.options||{}).HE||0),b.Se=new I.KOa(b.Qk,D,b),b.Se.xc(b,f).then(function(){var y8S,d0v;y8S=2;while(y8S!==1){d0v="Media cac";d0v+="he i";d0v+="nitialized";switch(y8S){case 2:G(d0v);y8S=1;break;case 4:G("");y8S=5;break;y8S=1;break;}}})[E0v](function(a){var Z8S,p0v;Z8S=2;while(Z8S!==1){p0v="Media cache did not initial";p0v+="i";p0v+="ze";switch(Z8S){case 4:X("",a);Z8S=7;break;Z8S=1;break;case 2:X(p0v,a);Z8S=1;break;}}}));b.dk=d;t0v;e8S=26;break;}}}while(H8S!==49){switch(H8S){case 39:d.prototype.pla=function(a,b){var B7S,c,d,f,g;B7S=2;while(B7S!==14){switch(B7S){case 1:c=this;B7S=5;break;case 2:B7S=1;break;case 5:B7S=b?4:14;break;case 4:d=this.he[a];B7S=3;break;case 3:f=b.headers;d&&f&&Object.keys(f).forEach(function(a){var E7S;E7S=2;while(E7S!==1){switch(E7S){case 4:c.CUa(f[a],d);E7S=9;break;E7S=1;break;case 2:c.CUa(f[a],d);E7S=1;break;}}});B7S=8;break;case 8:B7S=b.data?7:14;break;case 7:g=b.data;Object.keys(g).forEach(function(a){var F7S,b,c;F7S=2;while(F7S!==8){switch(F7S){case 2:b=g[a];h.U(d.data)&&(d.data={});h.U(d.data[a])&&(d.data[a]=[]);c=d.data;b.forEach(function(b){var k7S;k7S=2;while(k7S!==1){switch(k7S){case 4:c[a].push(b);k7S=2;break;k7S=1;break;case 2:c[a].push(b);k7S=1;break;}}});F7S=8;break;}}});B7S=14;break;}}};d.prototype.jW=function(a,b){var o7S;o7S=2;while(o7S!==1){switch(o7S){case 2:return b.ee-a.ee;break;case 4:return b.ee%a.ee;break;o7S=1;break;}}};d.prototype.iBa=function(a){var J7S,b,c,d;J7S=2;while(J7S!==10){switch(J7S){case 2:b={};J7S=5;break;case 5:J7S=a&&a.data?4:10;break;case 4:for(c in a.data){d=a.data[c];0<d.length&&(b[d[0].M]={pa:c,Hq:a.headers[c],data:d});}J7S=3;break;case 3:b.Xk=a.Xk;b.bp=a.bp;b.Pb=a.Pb;b.om=a.om;b.Kn=a.Kn;J7S=14;break;case 14:b.cp=a.cp;b.rm=a.rm;b.ql=a.ql;return b;break;}}};d.prototype.aqa=function(a,b,c,d,f){var V7S,Y0v,u0v;V7S=2;while(V7S!==8){Y0v="upd";Y0v+="ateStreamSel";Y0v+="ection re";Y0v+="turned n";Y0v+="ull list";u0v="selectStrea";u0v+="m ret";u0v+="urned nu";u0v+="ll";switch(V7S){case 1:d=O(d,f);V7S=5;break;case 2:V7S=a.location.YX(void 0,void 0,b)?1:9;break;case 4:return b=b[a.Cd],b.Kn=a.reason,b.cp=a.yt,b.Web=a.rm,b.XT=a.ql,b;break;case 5:V7S=(a=a.stream[c?1:0].gca(a.fa,b,void 0,c?d.XAa:d.WAa))?4:3;break;case 3:z(u0v);V7S=8;break;case 9:z(Y0v);V7S=8;break;}}};d.prototype.mva=function(a,b,c,d,f){var a7S,g,h,k,m;a7S=2;while(a7S!==14){switch(a7S){case 2:g=a.M===t.Da.VIDEO;a7S=5;break;case 5:h=[];k=[];a.gc.forEach(function(a){var M7S;M7S=2;while(M7S!==1){switch(M7S){case 2:(a.hp?k:h).push(a);M7S=1;break;}}});a=[];a7S=8;break;case 8:c&&0!==h.length&&(m=this.aqa(b,h,g,d,f))&&a.push(m);m||(m=this.aqa(b,k,g,d,f))&&a.push(m);return a;break;}}};d.prototype.Cdb=function(a,b,c,d,f,g){var N7S,k,m,p,q,k0v,c0v;N7S=2;while(N7S!==10){k0v="U";k0v+="nable to find audio nor vi";k0v+="deo trac";k0v+="ks in manifest:";c0v="Unable to find requested audi";c0v+="o tr";c0v+="ack in manifest:";switch(N7S){case 7:a.getTracks(0).some(function(a){var Q7S;Q7S=2;while(Q7S!==1){switch(Q7S){case 2:return a.cb===d?(q=k.mva(a,b,f,g,m),!0):!1;break;}}});N7S=6;break;case 12:z(c0v,d);N7S=10;break;case 8:a.getTracks(1).some(function(a){var P7S;P7S=2;while(P7S!==3){switch(P7S){case 8:P7S=a.Lz.stereo?6:6;break;P7S=a.Lz.stereo?1:5;break;case 2:P7S=a.Lz.stereo?1:5;break;case 1:return!1;break;case 5:p=k.mva(a,b,f,g,m);return!0;break;}}});N7S=7;break;case 2:k=this;a=new l.Dea({Ha:0,ya:c,Dl:void 0,eb:function(){var O7S;O7S=2;while(O7S!==1){switch(O7S){case 4:return+2;break;O7S=1;break;case 2:return!0;break;}}},Zd:!!f,ji:!1,gCa:void 0,Ps:[],config:g,Uva:void 0,XJ:void 0,Gc:a.Gc,Lh:a.Lh,wL:void 0,Ssa:void 0});m=a.aL[0];c=D.qk();b.fa.buffer.Ts=c[t.Da.VIDEO];N7S=8;break;case 13:N7S=h.U(q)&&d?12:11;break;case 14:z(k0v,d);N7S=10;break;case 6:N7S=h.U(p)&&h.U(q)?14:13;break;case 11:return[].concat(p||[]).concat(q||[]);break;}}};H8S=52;break;case 42:d.prototype.OYa=function(a,b){var p7S,y0v;p7S=2;while(p7S!==4){y0v="pr";y0v+="ebuffst";y0v+="ats";switch(p7S){case 2:a.Pb.dW=b;a={type:y0v,movieId:a.I,stats:{prebuffstarted:a.Pb.dF,prebuffcomplete:a.Pb.dW}};p7S=5;break;case 5:this.emit(a.type,a);p7S=4;break;}}};d.prototype.MWa=function(a,b){var Y7S,c,P0v;Y7S=2;while(Y7S!==4){P0v="Media ";P0v+="c";P0v+="ach";P0v+="e is n";P0v+="ot enabled";switch(Y7S){case 2:c=this;return this.Se?this.Se.Khb(a,b).then(function(b){var A7S;A7S=2;while(A7S!==5){switch(A7S){case 1:return c.he[a]=b.Vi,++c.Qu,c.wP(),c.Sk.push(b.Vi),c.Sk.sort(c.jW),c.pla(a,b),c.cache[a];break;case 2:A7S=b&&b.Vi?1:5;break;}}}):N.reject(P0v);break;}}};d.prototype.LWa=function(a,b){var g7S,c,d,f,B0v;g7S=2;while(g7S!==6){B0v="Me";B0v+="dia cache is";B0v+=" n";B0v+="ot enabled";switch(g7S){case 4:d=void 0;f=!1;this.Se.Gwa(this.he[a])?(d=N.resolve(this.he[a]),f=!0):d=this.Se.Ohb(a);return d.then(function(d){var C7S;C7S=2;while(C7S!==1){switch(C7S){case 2:return!h.U(d)&&c.Se?c.Se.Jhb(a,b,d).then(function(b){var D7S;D7S=2;while(D7S!==5){switch(D7S){case 2:b&&(f||(c.he[a]=d,++c.Qu,c.wP(),c.Sk.push(d),c.Sk.sort(c.jW)),c.pla(a,b));return c.he[a];break;}}}):N.resolve(void 0);break;}}});break;case 2:c=this;g7S=5;break;case 5:g7S=this.Se?4:7;break;case 7:return N.reject(B0v);break;}}};H8S=39;break;case 15:d.prototype.Qla=function(){var K8S;K8S=2;while(K8S!==1){switch(K8S){case 2:0===this.ss.length&&(this.ss=[r.qu.ah.SR(0,void 0,!1,!1,this.dk,this.Qk),r.qu.ah.SR(1,void 0,!1,!1,this.dk,this.Qk)],Q.lf());K8S=1;break;}}};d.prototype.Zla=function(){var G8S,a;G8S=2;while(G8S!==3){switch(G8S){case 2:a=this.ss;this.ss=[];G8S=4;break;case 4:a.forEach(function(a){var U8S;U8S=2;while(U8S!==1){switch(U8S){case 4:r.qu.ah.w5(a);U8S=9;break;U8S=1;break;case 2:r.qu.ah.w5(a);U8S=1;break;}}});G8S=3;break;}}};d.prototype.QWa=function(){var X8S,a;X8S=2;while(X8S!==4){switch(X8S){case 2:a=this;X8S=5;break;case 9:a=this;X8S=1;break;X8S=5;break;case 5:!this.GP&&0<this.fC.length&&(this.fC.forEach(function(b){var u8S;u8S=2;while(u8S!==1){switch(u8S){case 2:a.sQ(b.Reb,b.Td);u8S=1;break;}}}),this.fC=[]);X8S=4;break;}}};d.prototype.DYa=function(a,b){var T8S,c,d,g,k,m,p,l,q,r,u,y,F,D,o0v;T8S=2;while(T8S!==24){o0v="A config mus";o0v+="t";o0v+=" be passed to _request";o0v+="Header";switch(T8S){case 4:g=b.ee;T8S=3;break;case 2:c=this;d=b.I;T8S=4;break;case 11:r=n.Pqa(r,l);b={stream:[new aa.o0(r.rpa,r,void 0),new aa.o0(r.cda,r,void 0)],location:new A.m_(a.Gc,a.Lh,!q,r,void 0),fa:{state:t.Fa.ci,Z8:!0,buffer:{Ts:void 0,S:0,hf:0,bb:0,jl:0,Bm:0,X:[],Uh:void 0,Kta:void 0}}};b.location.LC(l);u=this.Cdb(a,b,l,p,q,r);T8S=18;break;case 3:k=b.Td;m=b.ve;p=b.ycb();l=p.ya;T8S=6;break;case 6:q=p.Zd;p=p.TC;f.assert(b.config,o0v);r=b.config;T8S=11;break;case 18:T8S=!u?17:16;break;case 17:return N.reject();break;case 16:y=this.he[d];y||(y={ee:g,I:d,headers:Object.create(null),bp:0,TT:0,sD:0,data:void 0,ve:m,Pb:{},fS:void 0,Joa:void 0},!y.ve||this.jn?this.he[d]=y:y.Pb.Mm=0,this.Sk.push(y),this.Sk.sort(this.jW));F=[];r.Peb&&(D=2292+12*Math.ceil(l.duration/2E3));return(m&&this.Se?this.jn?this.Se.Nhb(d,y):this.Se.nib(d):N.resolve(void 0)).then(function(a){var s7S;s7S=2;while(s7S!==5){switch(s7S){case 2:u.forEach(function(b){var v7S,d;v7S=2;while(v7S!==4){switch(v7S){case 5:r.GJ&&y.headers[b.pa]||(h.U(y.om)&&b.M===t.Da.VIDEO&&(y.om=b.O,y.Kn=b.Kn,y.cp=b.cp,y.rm=b.Web,y.ql=b.XT),q&&b.M===t.Da.VIDEO&&r.LS?d=r.LS:r.SFa&&b.kr&&(d=b.kr.offset+b.kr.size),b={stream:b,url:b.url,offset:0,aa:d,ve:m},m&&(y.Pb.pjb=!h.U(a)&&0<Object.keys(a).length,b.Ew=a),b=c.EYa(b,k,y,r),F.push(b));v7S=4;break;case 2:d=D?D:r.UT;v7S=5;break;}}});return N.all(F);break;}}}).then(function(a){var c7S;c7S=2;while(c7S!==1){switch(c7S){case 2:return new N(function(b){var d7S;d7S=2;while(d7S!==1){switch(d7S){case 2:c.Se&&m&&!c.jn?c.Se.Wqb(y,function(){var n7S;n7S=2;while(n7S!==1){switch(n7S){case 4:b(a);n7S=8;break;n7S=1;break;case 2:b(a);n7S=1;break;}}}):b(a);d7S=1;break;}}});break;}}}).then(function(a){var q7S;q7S=2;while(q7S!==3){switch(q7S){case 2:a=Math.max.apply(Math,a);y.Pb.WS=y.Pb.Vva;y.Pb.JU=a;return{firstheadersent:y.Pb.WS,lastheadercomplete:y.Pb.JU};break;}}});break;}}};H8S=24;break;case 24:d.prototype.X0=function(a,b){var l7S,c;l7S=2;while(l7S!==7){switch(l7S){case 2:c=a.stream.M;2>this.ss.length&&this.Qla();b=new m.Cea(a.stream,b,this.ss[c],a,this,!0,B);b.ve=a.ve;b.We=this;return b;break;}}};d.prototype.sVa=function(a,b){var R7S,d;R7S=2;while(R7S!==7){switch(R7S){case 2:d=a.stream.M;2>this.ss.length&&this.Qla();R7S=4;break;case 4:b=c.zY.create(a.stream,b,this.ss[d].track,a,this,!0,B);b.ve=a.ve;b.We=this;return b;break;}}};d.prototype.zP=function(a){var h7S,b,f0v;h7S=2;while(h7S!==8){f0v="s";f0v+="av";f0v+="e";f0v+="to";f0v+="disk";switch(h7S){case 3:b=this.he[a.I]||a.Vi;b&&0===b.TT&&0===b.sD&&(this.OYa(b,a.zd),b.ve&&this.Se&&(b.Pb.pjb||(this.jn?this.Se.Xqb(b):this.Se.AF(f0v,{PCa:b.Pb.Mm}))));h7S=8;break;case 2:this.Yb(a)&&delete this.GH[a.pa];this.Yb(a)||delete a.response;a.oc();h7S=3;break;}}};d.prototype.EYa=function(a,b,c,d){var j7S,f;j7S=2;while(j7S!==11){switch(j7S){case 3:f.Ew=a.Ew;j7S=9;break;case 14:j7S=a.oK?13:12;break;case 2:f=this.X0(a,d);f.mCa=b;f.Vi=c;j7S=3;break;case 8:return N.reject();break;case 12:return new N(function(a){var r7S;r7S=2;while(r7S!==1){switch(r7S){case 2:f.oK=a;r7S=1;break;case 4:f.oK=a;r7S=2;break;r7S=1;break;}}});break;case 9:j7S=!f.Mw()?8:7;break;case 7:c.TT++;this.GH[f.pa]=f;j7S=14;break;case 13:f.oK=a.oK;j7S=11;break;}}};d.prototype.WWa=function(a,b,c){var f7S,d,f;f7S=2;while(f7S!==7){switch(f7S){case 9:f=c&&c.length<a.n5?c.length:a.n5;return function(a){var d3v=V5ii;var t7S;t7S=2;while(t7S!==1){switch(t7S){case 2:d3v.U0v(0);return d3v.R8v(f,a);break;case 4:d3v.G0v(1);return d3v.i8v(a,f);break;t7S=1;break;}}};break;case 2:d=a.o5;b.ve&&this.Se&&(a.fV?d=a.fV:a.nya&&0<a.nya&&(d=2E3*a.nya));f7S=4;break;case 4:f7S=0<d?3:9;break;case 3:return function(a,b){var c3v=V5ii;var m7S;m7S=2;while(m7S!==1){switch(m7S){case 4:c3v.U0v(2);return c3v.R8v(d,b);break;m7S=1;break;case 2:c3v.U0v(0);return c3v.R8v(d,b);break;}}};break;}}};d.prototype.sQ=function(a,b){var w7S,n,g,c,d,f,k,m,p,l,q,r,w0v,K0v,h0v,g0v,F0v,r0v,z0v;w7S=2;while(w7S!==47){w0v="no proper ";w0v+="fragment found to request ";w0v+="data a";w0v+="t pts";K0v="u";K0v+="ndef";K0v+="i";K0v+="n";K0v+="ed";h0v="ma";h0v+="n";h0v+="agerdebug";h0v+="event";g0v=",";g0v+=" sta";g0v+="rt";g0v+="Pts";g0v+=": ";F0v=", ";F0v+="p";F0v+="ts:";F0v+=" ";r0v=", st";r0v+="reamI";r0v+="d";r0v+=": ";z0v=", headerCache requestData: m";z0v+="ovi";z0v+="eI";z0v+="d";z0v+=": ";switch(w7S){case 6:this.fC.shift();w7S=7;break;case 35:g.jf&&(b="@"+D.time.ea()+z0v+c+r0v+d+F0v+b+g0v+l.S,this.emit(h0v,{message:b}));w7S=34;break;case 22:q=l.QS(b);w7S=21;break;case 13:w7S=k?12:47;break;case 53:a.ve&&this.Se&&a.Ew&&a.Ew[d]&&K0v!==typeof l.S&&a.Ew[d][l.S]||(r=this.sVa(l,a.Dc),r.ve&&(r.Vi=a.Vi),r.Mw(),++k.sD,b.push(r));++q;f+=l.duration;w7S=50;break;case 36:h.U(k.Xk)&&(k.Xk=l.S);l.ve&&(l.responseType=0);w7S=53;break;case 31:c=this.WWa(g,a,m);w7S=30;break;case 8:this.fC.push({Reb:a,Td:b});w7S=7;break;case 27:X(w0v,b);w7S=47;break;case 44:w7S=p<(m&&m.length||0)&&!c(q,f)?43:48;break;case 48:k.fS&&!h.U(k.Xk)&&(a=k.fS,delete k.fS,this.sQ(a,k.Xk));w7S=47;break;case 40:V5ii.G0v(3);r=V5ii.R8v(1,p);w7S=39;break;case 43:w7S=(void 0===l&&(l=a.stream.Hg(p)),void 0!==l)?42:49;break;case 38:l.V2(m.get(r)),l.rL=r+1,p=r;w7S=37;break;case 9:w7S=this.GP?8:14;break;case 15:w7S=-1===p||void 0===p?27:26;break;case 28:n=r===t.Da.VIDEO?g.rV:g.jV,g=r===t.Da.VIDEO?g.ckb:g.Rjb;w7S=44;break;case 7:w7S=this.fC.length>g.h8?6:47;break;case 41:w7S=!h.U(m)&&!l.Ra?40:36;break;case 37:++r;w7S=39;break;case 2:c=a.I;d=a.pa;f=a.stream;g=a.Dc;w7S=9;break;case 49:++p;w7S=44;break;case 21:q&&(l.M===t.Da.AUDIO&&!g.Gya&&q.Td<(g.Jo&&!g.Cy&&f.Mj?Math.floor(f.Mj.Ad):0)&&(++q.Jm,q.Td+=l.La.Ad),0<q.Jm&&l.Qj({start:q.Jm}));w7S=35;break;case 23:w7S=this.DM(a.M,g)?22:35;break;case 14:k=this.he[c]||a.Vi;w7S=13;break;case 39:w7S=r<m.length&&(l.aa<n||l.duration<g)?38:36;break;case 25:w7S=!h.U(l)?24:34;break;case 18:a.M===t.Da.AUDIO&&g.Dn&&g.Jo&&!g.Cy&&f.Mj&&(b=Math.max(f.X&&f.X.Pg(0)||0,b+f.Mj.Ad));m=a.X;p=m&&m.nl(b);w7S=15;break;case 19:b=k.Xk;w7S=18;break;case 10:k.fS=a;return;break;case 11:w7S=void 0===k.Xk?10:19;break;case 26:l=a.stream.Hg(p);w7S=25;break;case 24:l.ve=a.ve;w7S=23;break;case 42:l.ve=a.ve;w7S=41;break;case 50:l=void 0;w7S=49;break;case 12:w7S=a.M===t.Da.AUDIO?11:18;break;case 34:void 0===k.data&&(k.data={});void 0===k.data[d]&&(k.data[d]=[]);b=k.data[d];w7S=31;break;case 30:q=f=0;r=l&&l.M;w7S=28;break;}}};H8S=33;break;case 31:d.prototype.ola=function(a,b){var H7S,c;H7S=2;while(H7S!==3){switch(H7S){case 4:b.Joa||b.ve&&!this.jn||(b.Joa=!0,++this.Qu),b.headers||(b.headers={}),b.headers[c]=a,this.Qk.GJ&&(b.bp||(b.bp=0),++b.bp),this.wP();H7S=3;break;case 8:c=a.pa;H7S=6;break;H7S=5;break;case 2:c=a.pa;H7S=5;break;case 5:H7S=(b=this.he[a.I]||b)?4:3;break;}}};d.prototype.wP=function(){var e7S,b,c,d;e7S=2;while(e7S!==11){switch(e7S){case 2:d=0;e7S=5;break;case 5:e7S=!(this.Qu<=this.PH)?4:11;break;case 8:e7S=c.data?7:6;break;case 3:e7S=(c=this.Sk.shift())?9:4;break;case 4:e7S=this.Qu>this.PH?3:12;break;case 9:b=c.I;e7S=8;break;case 7:for(var f in c.data){c.data[f].forEach(a);delete c.data[f];}e7S=6;break;case 13:this.vYa(b);e7S=4;break;case 12:this.wYa(d);e7S=11;break;case 6:delete this.he[b];--this.Qu;e7S=13;break;}}function a(a){var y7S;y7S=2;while(y7S!==5){switch(y7S){case 2:a.abort();d+=a.Be;y7S=5;break;}}}};d.prototype.wYa=function(a){var Z7S,N0v;Z7S=2;while(Z7S!==1){N0v="dis";N0v+="cardedByt";N0v+="es";switch(Z7S){case 2:0!==a&&(a={type:N0v,bytes:a},this.emit(a.type,a));Z7S=1;break;}}};d.prototype.yYa=function(a){var L7S,l0v;L7S=2;while(L7S!==1){l0v="f";l0v+="lus";l0v+="hedBytes";switch(L7S){case 2:0!==a&&(a={type:l0v,bytes:a},this.emit(a.type,a));L7S=1;break;}}};d.prototype.vYa=function(a){var I7S,q0v;I7S=2;while(I7S!==5){q0v="ca";q0v+="cheEvi";q0v+="c";q0v+="t";switch(I7S){case 2:a={type:q0v,movieId:a};this.emit(a.type,a);I7S=5;break;}}};d.prototype.FYa=function(a,b){var x7S,c;x7S=2;while(x7S!==9){switch(x7S){case 2:c=a.Dc;h.U(a.mCa)||this.sQ(a,a.mCa);x7S=4;break;case 4:!this.Se||!a.ve||this.jn||h.U(a.Ew)||a.Ew[a.pa]&&a.Ew[a.pa].header?b():this.Se.Vqb(a,b);c.aY||0!==Object.keys(this.GH).length||this.Zla();x7S=9;break;}}};H8S=42;break;case 52:d.prototype.DM=function(a,b){var W7S;W7S=2;while(W7S!==1){switch(W7S){case 2:return a===t.Da.VIDEO&&b.et||a===t.Da.AUDIO&&b.Dn;break;}}};d.prototype.Yb=function(a){var S7S;S7S=2;while(S7S!==1){switch(S7S){case 2:return!!a.Yb;break;case 4:return+~a.Yb;break;S7S=1;break;}}};return d;break;case 12:d.prototype.Oxa=function(a){var k8S;k8S=2;while(k8S!==1){switch(k8S){case 2:return this.iBa(this.he[a]);break;case 4:return this.iBa(this.he[a]);break;k8S=1;break;}}};d.prototype.Ft=function(){var o8S,Q0v;o8S=2;while(o8S!==1){Q0v="M";Q0v+="edia cac";Q0v+="he is not en";Q0v+="abled";switch(o8S){case 2:return this.Se?this.Se.Gcb():N.reject(Q0v);break;}}};d.prototype.zta=function(){var J8S,c,d,f,J0v,n0v;function b(a,b){var a8S;a8S=2;while(a8S!==1){switch(a8S){case 2:a&&a.data&&a.data[b].forEach(function(a){var M8S;M8S=2;while(M8S!==5){switch(M8S){case 2:a.abort();c+=a.Be;M8S=5;break;}}});a8S=1;break;}}}function a(a){var V8S;V8S=2;while(V8S!==1){switch(V8S){case 4:a.pqa();V8S=2;break;V8S=1;break;case 2:a.pqa();V8S=1;break;}}}J8S=2;while(J8S!==3){switch(J8S){case 5:for(d in this.he){f=this.he[d];if(f.data){for(var g in f.data){J0v="in e";J0v+="n";J0v+="try:";n0v="mi";n0v+="ssing ";n0v+="head";n0v+="erEntry for strea";n0v+="mId:";f.headers[g]||X(n0v,g,J0v,f);b(f,g);f.data[g].forEach(a);delete f.data[g];}delete f.data;}}this.yYa(c);J8S=3;break;case 2:c=0;J8S=5;break;}}};d.prototype.cA=function(a){var N8S,b;N8S=2;while(N8S!==4){switch(N8S){case 2:b=this.he[a.I];b&&(this.Yb(a)?h.U(b.Pb.Vva)&&!h.U(a.nf)&&(b.Pb.Vva=a.nf):h.U(b.Pb.dF)&&!h.U(a.nf)&&(b.Pb.dF=a.nf));N8S=4;break;}}};H8S=19;break;case 33:d.prototype.DUa=function(a){var z7S;z7S=2;while(z7S!==1){switch(z7S){case 2:this.ola(a,a.Vi);z7S=1;break;case 4:this.ola(a,a.Vi);z7S=6;break;z7S=1;break;}}};d.prototype.CUa=function(a,b){var i7S;i7S=2;while(i7S!==1){switch(i7S){case 4:this.ola(a,b);i7S=9;break;i7S=1;break;case 2:this.ola(a,b);i7S=1;break;}}};H8S=31;break;case 5:d.prototype.GW=function(){var I8S;I8S=2;while(I8S!==1){switch(I8S){case 2:return this.ss.map(function(a){var x8S;x8S=2;while(x8S!==1){switch(x8S){case 4:return a.GW();break;x8S=1;break;case 2:return a.GW();break;}}});break;}}};d.prototype.ll=function(){var p8S;p8S=2;while(p8S!==5){switch(p8S){case 2:this.flush();this.Zla();p8S=5;break;case 3:this.flush();this.Zla();p8S=6;break;p8S=5;break;}}};d.prototype.sI=function(a,b,c){var Y8S,d,f;Y8S=2;while(Y8S!==7){switch(Y8S){case 4:Y8S=(d[b]=a)?3:9;break;case 2:d=this.zC;f=a;Y8S=4;break;case 9:c&&delete d[b];f?(this.GP=!1,this.QWa()):this.GP=!0;Y8S=7;break;case 3:for(var g in d){d.hasOwnProperty(g)&&!1===d[g]&&(f=!1);}Y8S=9;break;}}};d.prototype.aob=function(a,b){var A8S,c,d,g,k,s0v,e0v,j0v;A8S=2;while(A8S!==25){s0v="A config mu";s0v+="st be passed to prepare";s0v+="P";e0v="); igno";e0v+="ring prepare for mov";e0v+="ieId";e0v+=": ";j0v="PTS passe";j0v+="d to HeaderCache.prepareP is not undefined or a po";j0v+="sitive number (";switch(A8S){case 10:A8S=!this.jn||!c.ve?20:17;break;case 17:return N.resolve();break;case 27:return N.reject();break;case 6:return N.reject();break;case 20:A8S=(c.ee=d,this.Sk.sort(this.jW),!h.U(g))?19:17;break;case 14:A8S=!h.U(g)&&(!h.na(g)||0>g)?13:12;break;case 13:return X(j0v+g+e0v+c),N.reject();break;case 18:for(var m in c.headers){a=c.headers[m];!h.U(a.url)&&null!==a.url&&(void 0===c.data||void 0===c.data[m]||c.data[m].length<k.n5)?this.sQ(a,g):(h.U(a.url)||null===a.url)&&void 0!==c.data&&void 0!==c.data[m]&&0<c.data[m].length&&delete c.headers[m];}A8S=17;break;case 26:return this.DYa(a,b);break;case 11:A8S=!h.U(c)&&(2<=c.bp||!k.GJ)?10:16;break;case 12:c=this.he[c];A8S=11;break;case 4:g=b.Td;f.assert(b.config,s0v);k=b.config;this.xca(k.aS);A8S=7;break;case 19:void 0===c.data&&(c.Pb.dF=void 0);A8S=18;break;case 16:A8S=!b.ve||!this.Se||this.jn?15:26;break;case 15:A8S=d>k.i8||this.Qu+1>this.PH&&d>this.Sk[0].ee?27:26;break;case 2:c=b.I;d=b.ee;A8S=4;break;case 7:A8S=k.sjb?6:14;break;}}};H8S=8;break;case 2:b.__extends(d,a);Object.defineProperties(d.prototype,{cache:{get:function(){var L8S;L8S=2;while(L8S!==1){switch(L8S){case 4:return this.he;break;L8S=1;break;case 2:return this.he;break;}}},enumerable:!0,configurable:!0}});H8S=5;break;case 19:d.prototype.Ph=function(a){var O8S;O8S=2;while(O8S!==1){switch(O8S){case 2:this.Yb(a)?this.Vlb(a):this.Xlb(a);O8S=1;break;}}};d.prototype.CL=function(a){var P8S,a0v;P8S=2;while(P8S!==5){a0v="_on";a0v+="Er";a0v+="r";a0v+="or";a0v+=": ";switch(P8S){case 2:z(a0v,a.toString());this.zP(a);P8S=5;break;}}};d.prototype.Vlb=function(a){var Q8S,b;Q8S=2;while(Q8S!==8){switch(Q8S){case 2:b=this;a.Iub=a.zd;this.DUa(a);h.U(a.oK)||a.oK(a.Iub);this.FYa(a,function(){var W8S;W8S=2;while(W8S!==1){switch(W8S){case 2:h.U(a)||(h.U(a.Vi)||a.Vi.TT--,b.zP(a));W8S=1;break;}}});Q8S=8;break;}}};d.prototype.Xlb=function(a){var S8S,b,c,d,f,V0v,v0v,x0v,I0v,H0v;S8S=2;while(S8S!==14){V0v="manager";V0v+="de";V0v+="bugev";V0v+="ent";v0v=",";v0v+=" rema";v0v+="ini";v0v+="ng: ";x0v=", ";x0v+="pts";x0v+=":";x0v+=" ";I0v=", ";I0v+="strea";I0v+="mId: ";H0v=", heade";H0v+="rCa";H0v+="che dataComplete: movieId: ";switch(S8S){case 2:b=this;c=a.I;S8S=4;break;case 3:S8S=d?9:14;break;case 4:d=this.he[c]||a.Vi;S8S=3;break;case 9:S8S=(this.Qk.jf&&(c="@"+D.time.ea()+H0v+c+I0v+a.pa+x0v+a.S+v0v+(d.sD-1),this.emit(V0v,{message:c})),a.ve&&0===a.responseType&&this.Se&&!this.jn)?8:6;break;case 6:--d.sD,b.zP(a);S8S=14;break;case 8:f=D.time.now();this.Se.Uqb(a,d,function(c){var b8S;b8S=2;while(b8S!==4){switch(b8S){case 2:c||h.U(d)||(c=D.time.ea()-f,h.U(d.Pb)&&(d.Pb={}),h.U(d.Pb.Mm)&&(d.Pb.Mm=0),d.Pb.Mm+=c);--d.sD;b.zP(a);b8S=4;break;}}});S8S=14;break;}}};H8S=15;break;case 8:d.prototype.flush=function(){var g8S,a,D0v,A0v;g8S=2;while(g8S!==7){D0v="man";D0v+="a";D0v+="gerdebug";D0v+="ev";D0v+="ent";A0v=", hea";A0v+="de";A0v+="rC";A0v+="ache flush: ";switch(g8S){case 4:this.he=Object.create(null);this.Qu=0;this.Sk=[];this.Qk.jf&&(a="@"+D.time.ea()+A0v,this.emit(D0v,{message:a}));g8S=7;break;case 2:this.zta();for(var b in this.GH){a=this.GH[b];a.abort();}g8S=4;break;}}};d.prototype.list=function(){var C8S;C8S=2;while(C8S!==1){switch(C8S){case 2:return this.Sk;break;case 4:return this.Sk;break;C8S=1;break;}}};d.prototype.xca=function(a){var D8S;D8S=2;while(D8S!==1){switch(D8S){case 2:this.PH!==a&&(this.PH=a,this.wP());D8S=1;break;}}};d.prototype.ZK=function(a,b){var B8S;B8S=2;while(B8S!==4){switch(B8S){case 9:B8S=(a=this.he[a])?0:9;break;B8S=(a=this.he[a])?1:4;break;case 1:B8S=(b=a.headers[b])?5:4;break;case 2:B8S=(a=this.he[a])?1:4;break;case 5:return b;break;case 7:return b;break;B8S=4;break;}}};d.prototype.mib=function(a,b){var E8S,c,d;E8S=2;while(E8S!==3){switch(E8S){case 2:c=this;d=this.Oxa(a);return d||!this.Se?N.resolve(d):(this.jn?this.MWa(a,b):this.LWa(a,b)).then(function(a){var F8S;F8S=2;while(F8S!==1){switch(F8S){case 2:return c.iBa(a);break;case 4:return c.iBa(a);break;F8S=1;break;}}});break;}}};H8S=12;break;}}}(k.Fr);d.eMa=a;F(g.EventEmitter.prototype,a.prototype);},function(g,d,a){var b,f,h,l,c,m,k,n,r,t,A,I,F,D,O;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(6);h=a(12);g=a(49);l=a(789);c=a(715);m=a(675);k=a(5);n=k.Promise;r=a(209);t=a(674);A=a(201);I=a(672);F=new k.Console("ASEJS","media|asejs");D=F.trace.bind(F);O=F.warn.bind(F);g=function(d){var M0v;M0v=2;function g(b,c){var C0v,f,g;C0v=2;while(C0v!==12){var l6v="1";l6v+="S";l6v+="IYbZ";l6v+="rN";l6v+="JCp9";var N6v="DE";N6v+="B";N6v+="UG";N6v+=":";var w6v="n";w6v+="f-ase vers";w6v+="ion";w6v+=":";switch(C0v){case 2:f=d.call(this)||this;g=a(671);D(w6v,g,N6v,!1);C0v=3;break;case 3:f.q1=!1;f.rna=!1;f.G=b;C0v=7;break;case 7:f.zC=[];f.fI=c;l6v;return f;break;}}}while(M0v!==31){switch(M0v){case 9:Object.defineProperties(g.prototype,{f9:{get:function(){var b0v;b0v=2;while(b0v!==1){switch(b0v){case 2:return!f.U(this.lZa);break;case 4:return+f.U(this.lZa);break;b0v=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Sca:{get:function(){var L0v;L0v=2;while(L0v!==1){switch(L0v){case 2:return this.ZYa;break;case 4:return this.ZYa;break;L0v=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{We:{get:function(){var T0v;T0v=2;while(T0v!==1){switch(T0v){case 4:return this.Ef;break;T0v=1;break;case 2:return this.Ef;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Lh:{get:function(){var O0v;O0v=2;while(O0v!==1){switch(O0v){case 4:return this.V0.Lh;break;O0v=1;break;case 2:return this.V0.Lh;break;}}},enumerable:!0,configurable:!0}});M0v=14;break;case 2:b.__extends(g,d);Object.defineProperties(g.prototype,{Gc:{get:function(){var m0v;m0v=2;while(m0v!==1){switch(m0v){case 4:return this.V0.Gc;break;m0v=1;break;case 2:return this.V0.Gc;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Lt:{get:function(){var Z0v;Z0v=2;while(Z0v!==1){switch(Z0v){case 4:return this.V0.Lt;break;Z0v=1;break;case 2:return this.V0.Lt;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Bp:{get:function(){var S0v;S0v=2;while(S0v!==1){switch(S0v){case 2:return this.Rna;break;case 4:return this.Rna;break;S0v=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{tX:{get:function(){var W0v;W0v=2;while(W0v!==1){switch(W0v){case 4:return this.AQ;break;W0v=1;break;case 2:return this.AQ;break;}}},enumerable:!0,configurable:!0}});M0v=9;break;case 10:g.prototype.Qo=function(a,b,d,g,m,p,l,q,r,n){var p6v;p6v=2;while(p6v!==4){var q6v="open: streamingManager not ";q6v+="initte";q6v+="d";switch(p6v){case 9:p6v=this.q1?9:4;break;p6v=this.q1?1:5;break;case 5:O(q6v);p6v=4;break;case 1:return q=q||this.G,this.Gc.reset(),this.Lt.ttb(),this.Rna.reset(),void 0===p&&(p=this.mT(a,b)),f.U(this.AQ)&&(k.qk()[h.Da.VIDEO]<=q.$jb?this.AQ=0:this.AQ=q.KW),a=new c.XSa(this,a,n,b,d,g,m,p,l,q,r),this.zC.push(a),a;break;case 2:p6v=this.q1?1:5;break;case 7:O("");p6v=7;break;p6v=4;break;}}};g.prototype.ZK=function(a,b){var t6v;t6v=2;while(t6v!==1){switch(t6v){case 2:return this.Ef&&(a=this.Ef.ZK(a,b))?a:!1;break;}}};g.prototype.P9=function(a){var u6v;u6v=2;while(u6v!==1){switch(u6v){case 2:return this.Ef&&(a=this.Ef.Oxa(a))?a:!1;break;}}};g.prototype.Ft=function(){var Y6v;Y6v=2;while(Y6v!==1){switch(Y6v){case 2:return this.Ef?this.Ef.Ft():n.resolve([]);break;}}};g.prototype.tYa=function(a){var c6v,b;c6v=2;while(c6v!==3){var Q6v="ca";Q6v+="n't fi";Q6v+="nd session in array, movieId:";switch(c6v){case 2:this.Gc.hX(null);b=this.zC.indexOf(a);c6v=4;break;case 4:f.U(b)?O(Q6v,a.pc.P.I):(this.zC.splice(b,1),0===this.zC.length&&this.Lt.Etb(),this.Lt.save(),this.Lh.save());c6v=3;break;}}};g.prototype.DDa=function(){};g.prototype.mT=function(a,b,c){var k6v;k6v=2;while(k6v!==1){switch(k6v){case 2:return r.t_.x7(a,b,c);break;case 4:return r.t_.x7(a,b,c);break;k6v=1;break;}}};M0v=27;break;case 27:g.prototype.kva=function(){var y6v;y6v=2;while(y6v!==4){var n6v="getSessio";n6v+="nSt";n6v+="atistics: StreamingManager not initted";switch(y6v){case 5:O(n6v);y6v=4;break;case 1:return this.Gc.Hab();break;case 2:y6v=this.q1?1:5;break;}}};g.prototype.oqa=function(a){var P6v,b;P6v=2;while(P6v!==9){switch(P6v){case 2:b=this.Lh||new A(this.G,this.fI);b.Rsa(a);P6v=4;break;case 4:b.save();this.Gc&&this.Gc.reset();P6v=9;break;}}};g.prototype.WX=function(a){var B6v;B6v=2;while(B6v!==1){switch(B6v){case 2:k.wK(a);B6v=1;break;case 4:k.wK(a);B6v=3;break;B6v=1;break;}}};g.prototype.uR=function(a,b){var o6v;o6v=2;while(o6v!==1){var J6v="ca";J6v+="t";J6v+="ch";switch(o6v){case 2:this.Ef&&(a=this.Ef.aob(this,a),f.U(b)||a.then(b),a[J6v](function(a){var f6v;f6v=2;while(f6v!==1){var j6v="cache";j6v+="Prepar";j6v+="e c";j6v+="a";j6v+="ught error:";switch(f6v){case 4:D("",a);f6v=3;break;f6v=1;break;case 2:D(j6v,a);f6v=1;break;}}}));o6v=1;break;}}};M0v=23;break;case 14:Object.defineProperties(g.prototype,{B8:{get:function(){var i0v;i0v=2;while(i0v!==1){switch(i0v){case 2:return this.rna;break;case 4:return this.rna;break;i0v=1;break;}}},enumerable:!0,configurable:!0}});g.prototype.xc=function(a,b,c,d,g,h){var R0v,k,p;R0v=2;while(R0v!==20){var I6v="media";I6v+="c";I6v+="a";I6v+="ch";I6v+="e";var H6v="ca";H6v+="cheEv";H6v+="ict";var a6v="flush";a6v+="edByte";a6v+="s";var s6v="discar";s6v+="ded";s6v+="Bytes";var e6v="preb";e6v+="uf";e6v+="fs";e6v+="tats";switch(R0v){case 10:this.q1=!0;R0v=20;break;case 3:0<p.Ht&&(!f.U(a)&&a>p.Ht&&(a=p.Ht),b>p.Ht&&(b=p.Ht));f.U(a)&&(this.lZa=b);this.AQ=d;this.ZYa=g;m(p);this.V0=t.ffa.Tcb(p,this.fI);this.Rna=new I(p);R0v=12;break;case 12:R0v=p.bG||p.aY?11:10;break;case 2:k=this;p=this.G;t.ffa.reset();R0v=3;break;case 11:b=new l.eMa(this,p,c,h),a=function(a){var G6v;G6v=2;while(G6v!==1){switch(G6v){case 2:k.emit(a.type,a);G6v=1;break;case 4:k.emit(a.type,a);G6v=2;break;G6v=1;break;}}},b.addListener(e6v,a),b.addListener(s6v,a),b.addListener(a6v,a),b.addListener(H6v,a),(p.Zda||p.qx)&&b.addListener(I6v,function(a){var U6v;U6v=2;while(U6v!==1){var x6v="me";x6v+="di";x6v+="a";x6v+="cache";switch(U6v){case 2:k.emit(x6v,a);U6v=1;break;case 4:k.emit("",a);U6v=2;break;U6v=1;break;}}}),this.Ef=b;R0v=10;break;}}};g.prototype.Hua=function(a){var X6v,b,c;X6v=2;while(X6v!==6){var v6v="f";v6v+="unctio";v6v+="n";switch(X6v){case 3:X6v=!f.Xe(c)?9:8;break;case 4:c=b[a];X6v=3;break;case 2:b=this.G;b=b&&b.fm&&v6v===typeof b.fm?b.fm():b;X6v=4;break;case 9:return b;break;case 8:f.jd(b,function(a,b){var d6v;d6v=2;while(d6v!==1){switch(d6v){case 2:c&&!c.hasOwnProperty(b)&&(c[b]=a);d6v=1;break;}}});return c;break;}}};g.prototype.BAa=function(){var E6v;E6v=2;while(E6v!==1){switch(E6v){case 4:this.rna=+4;E6v=9;break;E6v=1;break;case 2:this.rna=!0;E6v=1;break;}}};M0v=10;break;case 23:g.prototype.RI=function(){var z6v;z6v=2;while(z6v!==1){switch(z6v){case 2:this.Ef&&this.Ef.flush();z6v=1;break;}}};g.prototype.P3=function(){var r6v;r6v=2;while(r6v!==1){switch(r6v){case 2:this.Ef&&this.Ef.zta();r6v=1;break;}}};g.prototype.SI=function(){var F6v;F6v=2;while(F6v!==1){switch(F6v){case 2:return this.Ef?this.Ef.list():[];break;case 4:return this.Ef?this.Ef.list():[];break;F6v=1;break;}}};g.prototype.Upa=function(a){var g6v;g6v=2;while(g6v!==1){switch(g6v){case 2:this.Ef&&this.Ef.xca(a);g6v=1;break;}}};g.prototype.tR=function(){var h6v;h6v=2;while(h6v!==1){switch(h6v){case 2:this.Ef&&this.Ef.ll();h6v=1;break;}}};M0v=33;break;case 33:g.prototype.Tpa=function(){var K6v;K6v=2;while(K6v!==1){switch(K6v){case 2:return this.Ef?this.Ef.GW():null;break;case 4:return this.Ef?this.Ef.GW():1;break;K6v=1;break;}}};return g;break;}}}(g.EventEmitter);d.q_=g;},function(g){function d(a,d,g,h){a.trace(":",g,":",h);d(h);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,f,g,h){g=h?g.bind(h):g;if(a){this.console&&(g=d.bind(null,this.console,g,f));if("function"===typeof a.addListener)a.addListener(f,g);else if("function"===typeof a.addEventListener)a.addEventListener(f,g);else throw Error("Emitter does not have a function to add listeners for '"+f+"'");this.listeners.push([a,f,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,d;b=a[0];d=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(d,a):"function"===typeof b.removeListener&&b.removeListener(d,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.T=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(49);f=a(790);a=function(a){function d(b,d){var c;c=a.call(this)||this;c.G=b;c.Lb=new f.q_(b,d);["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"].forEach(function(a){c.Lb.on(a,function(b){return c.emit(a,b);});c.Fca&&c.Fca.on(a,function(b){return c.emit(a,b);});});return c;}b.__extends(d,a);Object.defineProperties(d.prototype,{Gc:{get:function(){return this.Lb.Gc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Lt:{get:function(){return this.Lb.Lt;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Bp:{get:function(){return this.Lb.Bp;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{tX:{get:function(){return this.Lb.tX;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{f9:{get:function(){return this.Lb.f9;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Sca:{get:function(){return this.Lb.Sca;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{We:{get:function(){return this.Lb.We;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Lh:{get:function(){return this.Lb.Lh;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{B8:{get:function(){return this.Lb.B8;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hua:{get:function(){return this.Lb.Hua.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{BAa:{get:function(){return this.Lb.BAa.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ZK:{get:function(){return this.Lb.ZK.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{P9:{get:function(){return this.Lb.P9.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{DDa:{get:function(){return this.Lb.DDa.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{mT:{get:function(){return this.Lb.mT.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{kva:{get:function(){return this.Lb.kva.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ft:{get:function(){return this.Lb.Ft.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{oqa:{get:function(){return this.Lb.oqa.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{WX:{get:function(){return this.Lb.WX.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uR:{get:function(){return this.Lb.uR.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{RI:{get:function(){return this.Lb.RI.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{P3:{get:function(){return this.Lb.P3.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{SI:{get:function(){return this.Lb.SI.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{tR:{get:function(){return this.Lb.tR.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Upa:{get:function(){return this.Lb.Upa.bind(this.Lb);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Tpa:{get:function(){return this.Lb.Tpa.bind(this.Lb);},enumerable:!0,configurable:!0}});d.prototype.xc=function(a,b,d,f,g,h){this.Lb.xc(a,b,d,f,g,h);this.Fca&&this.Fca.xc(a,b,d,f,g,h);};d.prototype.Qo=function(a,b,d,f,g,h,p,l,q,n){return this.Lb.Qo(a,b,d,f,g,h,p,l,q,n);};d.prototype.addEventListener=function(a,b){this.addListener(a,b);return!0;};d.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return!0;};return d;}(g.EventEmitter);d.q_=a;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);a=a(71);d.oGa=!0;d.Vja=!1;a=g.V.get(a.Rp);d.xo={};d.Oha=a.Rn;d.gZ=a.vq;d.aLa=a.OD;d.tga=a.Q6;d.EJa=a.kS;d.fzb=a.Xra;d.gzb=a.kS;d.sfa=a.$ra;d.sBb=a.Pgb;d.wBb=a.Kxa;d.qCb=!1;d.pPa=!0;d.Sg={gZ:a.vq,uu:void 0,ru:void 0,GJa:void 0,FJa:void 0,zQa:void 0,qfa:void 0,DJa:void 0};},function(g,d){function a(a){this.$b=a;this.Sa=JSON.stringify(this.zcb());}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.zcb=function(){var a;a=[];(!this.$b.Ni||0>=this.$b.Ni.length)&&a.push({error:"No CDN."});this.$b.m5||a.push({error:"No default audio track.",foundTracks:this.l7(this.$b.tn)});this.$b.q5||a.push({error:"No default video track.",foundTracks:this.l7(this.$b.wr)});this.$b.p5||a.push({error:"No default subtitle track.",foundTracks:this.l7(this.$b.Sj)});return a;};a.prototype.l7=function(a){return a&&0<a.length?a.map(function(a){return a.cb;}):"No tracks found.";};d.FOa=a;},function(g,d,a){var f,h,l,c,m,k;function b(a,b){a=h.Ie.call(this,a,"ManifestParserConfigImpl")||this;a.Cn=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);l=a(27);c=a(32);m=a(141);k=a(41);da(b,h.Ie);qa.Object.defineProperties(b.prototype,{jda:{configurable:!0,enumerable:!0,get:function(){return[];}},F6:{configurable:!0,enumerable:!0,get:function(){return"";}},V3:{configurable:!0,enumerable:!0,get:function(){return[];}},U3:{configurable:!0,enumerable:!0,get:function(){return[];}},H6:{configurable:!0,enumerable:!0,get:function(){return"";}},E8:{configurable:!0,enumerable:!0,get:function(){return 0;}},TF:{configurable:!0,enumerable:!0,get:function(){return this.Cn.TF.ba(k.Gr);}},gu:{configurable:!0,enumerable:!0,get:function(){return this.Cn.gu;}}});a=b;g.__decorate([c.config(c.gda,"supportedAudioTrackTypes")],a.prototype,"jda",null);g.__decorate([c.config(c.string,"forceAudioTrack")],a.prototype,"F6",null);g.__decorate([c.config(c.qFa,"cdnIdWhiteList")],a.prototype,"V3",null);g.__decorate([c.config(c.qFa,"cdnIdBlackList")],a.prototype,"U3",null);g.__decorate([c.config(c.string,"forceTimedTextTrack")],a.prototype,"H6",null);g.__decorate([c.config(c.px,"imageSubsResolution")],a.prototype,"E8",null);g.__decorate([c.config(c.px,"timedTextSimpleFallbackThreshold")],a.prototype,"TF",null);g.__decorate([c.config(c.gda,"timedTextProfiles")],a.prototype,"gu",null);a=g.__decorate([f.N(),g.__param(0,f.l(l.mj)),g.__param(1,f.l(m.aH))],a);d.AOa=a;},function(g,d,a){var f,h,l,c;function b(a,b){return h.FO.call(this,a,b)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(130);h=a(393);l=a(74);c=a(162);da(b,h.FO);b.prototype.Fmb=function(a){var b,d;b=this;a=R(f.Rt(function(a){return a.uc&&0<a.uc.length;},a));d=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.op});});a=d.map(function(a){var d;d=a.cj;d={type:l.vg.video,cb:a.op,vz:a.jN,cj:c.v0[d.toLowerCase()]||c.Wp.IB,qA:d,uc:[],og:{}};d.uc=b.eFa(a.uc,d);b.log.trace("Transformed video track",{StreamCount:d.uc.length});return d;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.Amb=function(a){var b;b=a.map(function(a){return a.Yaa;}).filter(Boolean);b=[].concat.apply([],[].concat(ea(b))).map(function(a){return a.aa;});a=a.map(function(a){return a.J5;}).filter(Boolean).map(function(a){return a.aa;});return 0<b.length?b:a;};d.oUa=b;},function(g,d,a){var f,h,l,c,m;function b(a,b,c,d){a=h.FO.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(419);h=a(393);l=a(130);c=a(74);m=a(162);da(b,h.FO);b.prototype.hmb=function(a,b,d){var g,h,k;g=this;a=R(l.Rt(function(a){return a.uc&&0<a.uc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is missing streams",g.uva(a));});k=this.config.jda;a=R(l.Rt(function(a){return 0===k.length||0<=k.indexOf(a.cj);},h));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is not supported",g.uva(a));});a=h.map(function(a){var h;h=a.cj;h={type:c.vg.audio,cb:a.op,vz:a.jN,cj:m.v0[h.toLowerCase()]||m.Wp.IB,qA:h,kk:a.language,displayName:a.xE,fl:a.fl,RGb:a.fl,QGb:Number(a.fl[0]),Sj:g.Iab(a.op,b,d),og:{Bcp47:a.language,TrackId:a.op},uc:[],isNative:a.isNative};h.uc=g.eFa(a.uc,h);g.log.trace("Transformed audio track",h,{StreamCount:h.uc.length,AllowedTimedTextTracks:h.Sj.length});h.yqa=f.Fea[h.uc[0].uf];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.O0a=function(a){var b,c;b=this;c=this.config.F6;if(c){if(a=R(a.filter(function(a){return a.kk==c||a.cb==c;})).next().value)return a;}else if(this.j.ZS&&(a=R(a.filter(function(a){return a.cb==b.j.ZS;})).next().value))return a;};b.prototype.uva=function(a){return{language:a.xE,bcp47:a.language,type:a.cj};};b.prototype.Iab=function(a,b,c){return b.filter(function(b){return b.Gp.AUDIO===a;}).map(function(a){return a.Gp.s0;}).map(function(a){return c.find(function(b){return b.cb===a;});}).filter(Boolean);};d.oHa=b;},function(g,d){function a(a,d,g){this.log=a;this.j=d;this.Lda=g;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Emb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.ad&&0<a.ad.length;}).map(function(a){return b.Lda(b.j,a.id,a.height,a.width,a.FAa,a.GAa,a.size,{unknown:a.ad[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};d.TTa=a;},function(g,d){function a(a,d,g,h,c,m){this.e$=a;this.W3=d;this.BEa=g;this.qvb=h;this.tpa=c;this.ZFa=m;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.xmb=function(a){var b,d,g,c,h,k,l,r,n,t,I,F,D,O,aa,N;a=this.e$.decode(a);b=this.W3.pAa(a.io,a.vk,!0);d=this.BEa.Dmb(a.SEa);g=this.qvb.Emb(a.lFa);c=this.tpa.hmb(a.r3,a.media,d);h=this.ZFa.Fmb(a.mY);k=this.zmb(a,c,d);l=k[0];r=h[0];n=this.tpa.O0a(c)||l.Pc||c[0];l=this.BEa.Lub(n.Sj)||l.zc||n.Sj[0];t=this.ZFa.Amb(a.mY);I=a.Xf;F=a.sqa;D=a.Hva;O=a.nk;aa=a.r3.findIndex(function(a){return a.op==n.cb;});N=a.mY.findIndex(function(a){return a.op==r.cb;});return{vp:t,Ni:b,tn:c,wr:h,Sj:d,ju:g,Xf:I,Urb:F,jw:D,nk:O,Hra:aa,Mra:N,fW:k,q5:r,m5:n,p5:l,oKb:a};};a.prototype.zmb=function(a,d,g){var b,c;b=[];c=a.Lra[0];b.push({Pc:d.find(function(a){return a.vz===c.TC;}),zc:g.find(function(a){return a.vz===c.pEa;}),kLb:0});return b;};d.COa=a;},function(g,d,a){var f,h,l,c;function b(a,b,c,d,f){this.log=a;this.config=b;this.j=c;this.W3=d;this.Maa=f;}Object.defineProperty(d,"__esModule",{value:!0});f=a(63);h=a(8);l=a(162);c=a(226);b.prototype.Dmb=function(a){var b;b=this;a=a.map(function(a){var c,d,g;c=b.dvb(a);!1!==a.wU||c.length||b.log.error("track without downloadables",b.Mua(a));!0!==a.tU||c.length||b.log.error("forced track without downloadables",b.Mua(a));d={};g=[];if(0<c.length){d=c[0];g=d.profile;if(g==f.Ok.AB||g==f.Ok.KO)d=b.xrb(c);g=b.W3.pAa(a.eqa,void 0,!1);}a=b.Maa(b.j,a.op,a.id,d.Uc,d.ad||{},g,a.language,a.xE,l.v0[a.cj.toLowerCase()]||l.Wp.IB,a.qA.toUpperCase(),d.profile,b.Dcb(d)||{},a.wU,a.tU,a.JK);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.Lub=function(a){var b,c;b=this;c=this.config.H6;if(c){if(a=R(a.filter(function(a){return a.kk==c||a.cb==c;})).next().value)return a;}else if(this.j.$S&&(a=R(a.filter(function(a){return a.cb==b.j.$S;})).next().value))return a;};b.prototype.dvb=function(a){var b,c,d;b=this;c=a.oFa;d=a.osa;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{Uc:d[a],profile:a,size:f.size||0,ee:b.Hbb(a,f),offset:f.lL||0,enb:f.width,CAa:f.height,ad:f.sq};});a.sort(function(a,b){return a.ee-b.ee;});return a;};b.prototype.Hbb=function(a,b){var c,d;c=this.config.gu.indexOf(a);b=b.size;d=this.config.TF;return a===f.Ok.UY&&0<d&&b>d?this.config.gu.length+1:0<=c?c:this.config.gu.length;};b.prototype.Dcb=function(a){if(a.profile===f.Ok.AB||a.profile===f.Ok.KO)return{offset:a.offset,length:a.size,FLb:{width:a.enb,height:a.CAa}};};b.prototype.xrb=function(a){var b,d;b=this.config.E8||c.r0.F7();d=R(a.filter(function(a){return a.profile===f.Ok.AB||a.profile===f.Ok.KO;}).filter(function(a){return a.CAa===b;})).next().value;if(d)return d;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.Qr.height,intendedResolution:b});return a[0];};b.prototype.Mua=function(a){return{isNone:a.wU,isForced:a.tU,bcp47:a.language,id:a.op};};d.xTa=b;},function(g){g.T=function(d){return function(){return!d.apply(this,arguments);};};},function(g,d,a){var b,f;b=a(801);d=a(51);f=a(400);a=d(function(a,d){return f(b(a),d);});g.T=a;},function(g,d,a){d=a(164);a=a(228);a=d(a);g.T=a;},function(g,d,a){d=a(51)(function(a,d){for(var b=0;b<a.length;){if(null==d)return;d=d[a[b]];b+=1;}return d;});g.T=d;},function(g,d,a){var b;d=a(51);b=a(804);a=d(function(a,d){return b([a],d);});g.T=a;},function(g,d,a){var b,f;d=a(51);b=a(397);f=function(){function a(a,b){this.JN=b;this.NJ=a;}a.prototype["@@transducer/init"]=b.xc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.JN["@@transducer/step"](a,this.NJ(b));};return a;}();a=d(function(a,b){return new f(a,b);});g.T=a;},function(g,d,a){var b,f,h,l,c,m;d=a(51);b=a(399);f=a(395);h=a(228);l=a(806);c=a(394);m=a(396);a=d(b(["fantasy-land/map","map"],l,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return c(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return h(function(c,d){c[d]=a(b[d]);return c;},{},m(b));default:return f(a,b);}}));g.T=a;},function(g,d,a){var b,f;d=a(51);b=a(807);f=a(805);a=d(function(a,d){return b(f(a),d);});g.T=a;},function(g,d,a){d=a(51)(function(a,d){return d>a?d:a;});g.T=d;},function(g,d,a){var f,h;function b(a,c,d){return function(){var q;for(var g=[],m=0,p=a,l=0;l<c.length||m<arguments.length;){l<c.length&&(!h(c[l])||m>=arguments.length)?q=c[l]:(q=arguments[m],m+=1);g[l]=q;h(q)||--p;l+=1;}return 0>=p?d.apply(this,g):f(p,b(a,g,d));};}f=a(227);h=a(163);g.T=b;},function(g,d,a){var b,f,h,l,c;d=a(51);b=a(395);f=a(394);h=a(809);l=a(808);c=a(803);a=d(function(a,d){return f(c(h,0,l("length",d)),function(){var c,f;c=arguments;f=this;return a.apply(f,b(function(a){return a.apply(f,c);},d));});});g.T=a;},function(g,d,a){var b;d=a(111);b=a(811);a=d(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});g.T=a;},function(g,d,a){var b,f;b=a(229);f=Object.prototype.toString;g.T=function(){return"[object Arguments]"===f.call(arguments)?function(a){return"[object Arguments]"===f.call(a);}:function(a){return b("callee",a);};};},function(g,d,a){var b,f;d=a(51);b=a(397);f=function(){function a(a,b){this.JN=b;this.NJ=a;}a.prototype["@@transducer/init"]=b.xc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.NJ(b)?this.JN["@@transducer/step"](a,b):a;};return a;}();a=d(function(a,b){return new f(a,b);});g.T=a;},function(g,d,a){var b;b=a(227);d=a(51)(function(a,d){return b(a.length,function(){return a.apply(d,arguments);});});g.T=d;},function(g){var d;d=function(){function a(a){this.NJ=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,d){return this.NJ(a,d);};return a;}();g.T=function(a){return new d(a);};},function(g){g.T=function(d){return"[object String]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,f;d=a(111);b=a(398);f=a(817);a=d(function(a){return b(a)?!0:!a||"object"!==typeof a||f(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});g.T=a;},function(g){g.T=function(d,a){for(var b=0,f=a.length,g=[];b<f;)d(a[b])&&(g[g.length]=a[b]),b+=1;return g;};},function(g){g.T=function(d){return"function"===typeof d["@@transducer/step"];};},function(g,d,a){var b;d=a(400);b=a(812);a=a(802);a=b([d,a]);g.T=a;},function(g,d,a){var b;d=a(164);b=a(229);a=d(function(a,d,g){var c,f;c={};for(f in d)b(f,d)&&(c[f]=b(f,g)?a(f,d[f],g[f]):d[f]);for(f in g)b(f,g)&&!b(f,c)&&(c[f]=g[f]);return c;});g.T=a;},function(g,d,a){var b,f;d=a(164);b=a(401);f=a(822);a=d(function q(a,d,g){return f(function(c,d,f){return b(d)&&b(f)?q(a,d,f):a(c,d,f);},d,g);});g.T=a;},function(g,d,a){var b;d=a(164);b=a(823);a=d(function(a,d,g){return b(function(b,d,f){return a(d,f);},d,g);});g.T=a;},function(g,d,a){var f;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(130);b.prototype.pAa=function(a,b,c){var d,g,h,p,l;d=this;g=this.config.V3;h=this.config.U3;a=R(f.Rt(function(a){return(!g.length||0<=g.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));p=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Cdn is not allowed",{Id:a.id});});l=p.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,se:a.se,type:a.type,E9:a.key,BJb:a.Txa,location:{id:c.key,se:c.se,level:c.level,weight:c.weight,Ni:[]}};});l.sort(function(a,b){return a.se-b.se;});l.forEach(function(a){return a.location.Ni=l.filter(function(b){return b.E9===a.E9;});});this.log.trace("Transformed cdns",{Count:l.length});if(c&&!l.length)throw Error("no valid cdns");return l;};d.HIa=b;},function(g,d,a){var f,h,l,c,m,k,n,r,t,A,I,F,D;function b(a,b,c,d,f,g){this.Jf=a;this.e$=b;this.config=c;this.Maa=d;this.Lda=f;this.QX=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);l=a(165);c=a(402);m=a(825);k=a(800);n=a(799);r=a(798);t=a(797);A=a(796);I=a(392);F=a(391);a=a(390);b.prototype.create=function(a){var b,c;b=this.Jf.kb("ManifestParser",a);c=new m.HIa(b,this.config);return new n.COa(this.e$,c,new k.xTa(b,this.config,a,c,this.Maa),new r.TTa(b,a,this.Lda),new t.oHa(b,this.config,a,this.QX),new A.oUa(b,this.QX));};D=b;D=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(l.Tha)),g.__param(2,f.l(c.Vha)),g.__param(3,f.l(I.Gja)),g.__param(4,f.l(a.Oka)),g.__param(5,f.l(F.Lka))],D);d.BOa=D;},function(g,d,a){var b,f,h,l,c,m,k,n;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(403);f=a(826);h=a(402);l=a(795);c=a(392);m=a(391);k=a(389);n=a(794);d.zib=new g.ic(function(d){d(h.Vha).to(l.AOa).Y();d(b.Wha).to(f.BOa).Y();d(c.Gja).Th(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(225).gH;return new(Function.prototype.bind.apply(d,[null].concat(ea(c))))();});d(m.Lka).Th(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(348).BIa;return new(Function.prototype.bind.apply(d,[null].concat(ea(c))))();});d(k.Xha).$f(function(){return function(a){return new n.FOa(a);};});});},function(g,d,a){var f,h,l,c,m,k,n,r,t,A;function b(a,b,c,d,f,g,h,k){this.ID=a;this.Ae=b;this.config=c;this.Rn=f;this.profile=g;this.Kda=h;this.gV=k;this.log=d.kb("CDMAttestedDescriptor");this.jua();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(120);l=a(39);c=a(17);m=a(7);k=a(76);n=a(112);r=a(230);t=a(139);a=a(80);b.prototype.jua=function(){var a;a=this;return this.Kda.fY?this.config().K8a?this.iua().then(function(b){if(b)return Promise.resolve(void 0);a.pxa||(a.pxa=a.scb());return a.pxa;}).then(function(b){return Promise.all([Promise.resolve(b),a.iua()]);}).then(function(a){var b;a=R(a);b=a.next().value;if(!a.next().value)return b;}):(this.Rn.Nh.removeServiceToken("cad"),Promise.resolve(void 0)):Promise.resolve(void 0);};b.prototype.scb=function(){var a;a=this;return Promise.all([this.ID(),this.gcb()]).then(function(b){var c;c=R(b);b=c.next().value;c=c.next().value;c={type:k.ij.Du,eU:c,context:{ce:a.config().ce}};return b.yab(c,a.gV());}).then(function(b){var c;c=a.Ae.encode(b.B9.data);a.log.trace("Challenge generated",c);b.close().subscribe();return c;})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);});};b.prototype.iua=function(){var a;a=this.Rn.Nh.getServiceTokens(this.profile);return Promise.resolve(a&&a.find(function(a){return"cad"===a.name;}));};b.prototype.gcb=function(){return Promise.resolve(this.Ae.decode("AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="));};A=b;A=g.__decorate([f.N(),g.__param(0,f.l(h.jO)),g.__param(1,f.l(l.Uj)),g.__param(2,f.l(c.pd)),g.__param(3,f.l(m.ob)),g.__param(4,f.l(n.zB)),g.__param(5,f.l(a.Ju)),g.__param(6,f.l(r.dP)),g.__param(7,f.l(t.PG))],A);d.eIa=A;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(404);f=a(828);d.X1a=new g.ic(function(a){a(b.Sea).to(f.eIa).Y();});},function(g,d,a){var f,h,l;function b(a){this.Aa=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);l=a(3);b.prototype.Qtb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Aa.gg(c)?d=Math.round(c*b.ba(l.ha)/100):(a=parseInt(a),this.Aa.jq(a)&&(d=a));return l.Bb(Math.min(d,b.ba(l.ha)));};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Fe))],a);d.OHa=a;},function(g,d,a){var f,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.m7=function(){return this.Sv().x1a;};b.prototype.n7=function(){return this.Sv().y1a;};b.prototype.fcb=function(){return this.Sv().z1a;};b.prototype.W6=function(){return this.Sv().Fpa;};b.prototype.Sv=function(){return this.config();};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.pd))],h);d.NHa=h;},function(g,d,a){var f,h,l,c,m,k,n;function b(a,b,c,d,f){this.oR=b;this.Aa=c;this.w1a=d;this.config=f;this.ja=a.kb("Bookmark");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(406);l=a(405);c=a(7);m=a(21);k=a(3);a=a(17);b.prototype.Moa=function(a){var b,c;b=a.Wa.playbackState&&a.Wa.playbackState.currentTime;c=this.mbb(a.I);b=this.Aa.hm(b)?k.Bb(b):c;if(this.Aa.Nd(b))this.ja.info("Overriding bookmark",{From:a.XA.ba(k.ha),To:b.ba(k.ha)}),a=Object.assign({},a,{XA:b});else if(this.nfb(a))return this.ja.trace("Ignoring bookmark because it's too close to beginning"),k.ih(0);return this.mfb(a)?(this.ja.trace("Ignoring bookmark because it's too close to end"),k.ih(0)):this.lfb(a)?(this.ja.trace("Ignoring bookmark because it's too close to the end to start decoding"),k.ih(0)):a.XA;};b.prototype.nfb=function(a){return 0>a.XA.il(this.m7(a));};b.prototype.m7=function(a){return this.Gpa(this.oR.m7(),a.IL);};b.prototype.mfb=function(a){return 0<a.XA.il(this.n7(a));};b.prototype.n7=function(a){var b;b=a.Wa.Ih?this.oR.fcb():this.oR.n7();return a.IL.xe(this.Gpa(b,a.IL));};b.prototype.lfb=function(a){return 0<a.XA.il(this.Mbb(a));};b.prototype.Mbb=function(a){var b;b=a.Wa.Ih?this.config().cAa:this.config().oaa;return a.IL.xe(k.Bb(b));};b.prototype.mbb=function(a){var b;a=this.oR.W6()[a];b=-1;this.Aa.Vk(a)?b=parseInt(a):this.Aa.gg(a)&&(b=a);if(this.Aa.jq(b))return k.Bb(b);};b.prototype.Gpa=function(a,b){return this.w1a.Qtb(a,b);};n=b;n=g.__decorate([f.N(),g.__param(0,f.l(c.ob)),g.__param(1,f.l(h.Oea)),g.__param(2,f.l(m.Fe)),g.__param(3,f.l(l.Nea)),g.__param(4,f.l(a.pd))],n);d.PHa=n;},function(g,d,a){var b,f,h,l,c,m;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(231);f=a(406);h=a(405);l=a(832);c=a(831);m=a(830);d.C3=new g.ic(function(a){a(b.IY).to(l.PHa).Y();a(f.Oea).to(c.NHa).Y();a(h.Nea).to(m.OHa).Y();});},function(g,d){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(d,"__esModule",{value:!0});da(a,Error);d.lha=a;},function(g,d,a){var f,h,l,c;function b(a){this.Aa=a;this.s2={};this.Nna={};for(var b in f.rG)this.Aa.gg(parseInt(b))&&(this.Nna[f.rG[b]]=1);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(232);h=a(834);l=a(1);a=a(21);b.prototype.track=function(a){var b;if(this.Aa.Vk(a)){if(!this.Nna[a])throw new h.lha("Cast Interaction type "+a+" is undefined.");}else{if(!this.Aa.hm(f.rG[a]))throw new h.lha("Cast Interaction type "+a+" is undefined.");a=f.rG[a];}b=this.s2[a];this.s2[a]=b?b+1:1;};c=b;c=g.__decorate([l.N(),g.__param(0,l.l(a.Fe))],c);d.EIa=c;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(232);f=a(835);d.AR=new g.ic(function(a){a(b.$ea).to(f.EIa);});},function(g,d,a){var h,l,c;function b(a,b,c){var d;d=this;this.ja=a;this.valid=!0;this.li=!1;this.context=c.context;this.size=c.size;this.sk=b.create().then(function(a){d.storage=a;return a.XK("mediacache").then(function(a){d.keys=a;});});}function f(a,b){this.Jf=a;this.$i=b;this.DD={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(7);a=a(70);f.prototype.QR=function(a){this.DD[a.context]=new b(this.Jf.kb("DiskStorageContext"),this.$i,a);return this.DD[a.context];};f.prototype.Vra=function(a){delete this.DD[a.context];};c=f;c=g.__decorate([h.N(),g.__param(0,h.l(l.ob)),g.__param(1,h.l(a.Er))],c);d.zKa=c;b.prototype.create=function(a,b,c,d){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.sk.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ja.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");d(f.GT(a,b));});})["catch"](function(c){f.ja.trace("create failed",c);d(f.Uv(a,b,c));});};b.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ja.trace("append "+c);d(this.Uv(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.sk.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ja.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.GT(a,b));});c(d.GT(a,b));})["catch"](function(f){d.ja.trace("remove failed",f);c(d.Uv(a,b,f));});};b.prototype.read=function(a,b,c,d,f){var g,h,k;g=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?f(this.Uv(a,b,"byteStart/byteEnd combination is not supported")):this.sk.then(function(){if(g.keys.hasOwnProperty(h))return g.storage.load(h).then(function(m){g.ja.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");f(Object.assign(g.GT(a,b),{value:m.value,tGb:c,end:d}));});f(g.Uv(a,b,"Item doesn't exist"));})["catch"](function(c){g.ja.trace("read failed",c);f(g.Uv(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.ja.trace("info ");this.sk.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.uaa(c);a[c.lJ]||(a[c.lJ]={});a[c.lJ][c.kw]={size:0};return a;},{}),total:b.size,NMb:0};a(c);})["catch"](function(c){b.ja.trace("info failed",c);a(b.Uv(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.sk.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.uaa(b).kw]={size:0};return a;},{});d.ja.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ja.trace("query failed",a);c({});});};b.prototype.Lp=function(a){var b;b=this;this.ja.trace("validate");this.sk.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.uaa(c).kw]={size:0};return a;},{});a(c);})["catch"](function(c){b.ja.trace("validate failed",c);a(b.Uv(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.GT=function(a,b){return{W:!0,lJ:void 0===a?"":a,key:void 0===b?"":b,Bwb:0,Qi:this.size};};b.prototype.Uv=function(a,b,c){return{W:!1,error:c,lJ:void 0===a?"":a,key:void 0===b?"":b,Bwb:0,Qi:this.size};};b.prototype.uaa=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{lJ:a,kw:b};};d.uzb=b;},function(g,d,a){var f,h,l;function b(a){this.Jf=a;this.Kt={};this.ja=this.Jf.kb("MemoryStorage");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(7);b.prototype.load=function(a){var b;if(this.Kt.hasOwnProperty(a)){b=this.Kt[a];this.ja.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ja.debug("Storage entry not found",{key:a});return Promise.reject({Z:h.u.Mu});};b.prototype.save=function(a,b,d){if(d&&this.Kt.hasOwnProperty(a))return Promise.resolve(!1);this.Kt[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.Kt[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Kt).map(function(b){return{key:b,value:a.Kt[b]};});return Promise.resolve(b);};b.prototype.XK=function(a){var b;b=Object.keys(this.Kt).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.Kt={};return Promise.resolve();};l=b;l=g.__decorate([f.N(),g.__param(0,f.l(a.ob))],l);d.XOa=l;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yJa="__default_rule_key__";},function(g,d,a){var h,l,c,m,k,n,r;function b(a,b,c,d){this.ja=a;this.config=b;this.jfb=c;this.C$=d;this.Cv={mem:{storage:this.C$,key:"mem"}};this.bx=this.config.bx;}function f(a,b,c,d){this.Jf=a;this.$i=b;this.C$=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(2);c=a(166);m=a(7);k=a(408);n=a(839);a=a(52);f.prototype.create=function(){this.iJ||(this.iJ=this.lD());return this.iJ;};f.prototype.lD=function(){this.Z_a=new b(this.Jf.kb("AppStorage"),this.config,this.$i,this.C$);return this.Z_a.create();};r=f;r=g.__decorate([h.N(),g.__param(0,h.l(m.ob)),g.__param(1,h.l(c.f_)),g.__param(2,h.l(k.gia)),g.__param(3,h.l(a.Sm))],r);d.VGa=r;b.prototype.create=function(){var a;a=this;return this.T5a().then(function(b){if(!a.o2a(b,a.config.aU))throw a.Lkb(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.b7(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){d(a);});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.b7(a).storage.save(a,b,c).then(function(a){f(a);})["catch"](function(a){g(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.b7(a).storage.remove(a).then(function(){c();})["catch"](function(a){d(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.XBa("mem").then(function(){return a.XBa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ja.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b;a=this;b=[];return this.xxa("mem").then(function(c){b=b.concat(c);return a.xxa("idb");})["catch"](function(b){a.zgb(b)||a.ja.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ja.error("load all failed",b);throw b;});};b.prototype.XK=function(a){var b;b=this;return new Promise(function(c,d){var f;f=b.Cv.idb;f?f.storage.XK(a).then(function(a){c(a);})["catch"](function(a){b.ja.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};b.prototype.T5a=function(){var a;a=this;return this.jfb.create().then(function(b){a.Cv.idb={storage:b,key:"idb"};})["catch"](function(b){a.ja.error("idb failed to load",b);return b||{Z:l.u.lj};});};b.prototype.o2a=function(a,b){return!a||a&&b?!0:!1;};b.prototype.Lkb=function(a){var b;b="";a&&(b+=a.Z);return{Z:b};};b.prototype.XBa=function(a){return(a=this.Cv[a])?a.storage.removeAll():Promise.resolve();};b.prototype.xxa=function(a){return(a=this.Cv[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.J$a=function(a){for(var b in this.bx)if(a.startsWith(b))return this.bx[b];return this.bx[n.yJa];};b.prototype.b7=function(a){var b,c;b=this;this.J$a(a).every(function(a){return b.Cv[a]?(c=b.Cv[a],!1):!0;});c||(this.ja.error("component not found for storageKey",{Itb:a,lGb:Object.keys(this.Cv),rules:this.bx}),c=this.Cv.mem);this.ja.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.zgb=function(a){return(a&&(a.Z||a.errorSubCode))===l.u.Mu;};d.xea=b;},function(g,d,a){var f,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(52);qa.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.ada;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.AEa;}}});h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.Sm))],h);d.bJa=h;},function(g,d,a){var f,h,l,c,m;function b(a,b){a=l.Ie.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.Zz="namedatapairs";return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(32);l=a(35);c=a(52);a=a(27);da(b,l.Ie);qa.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.uq?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.ada;}},eR:{configurable:!0,enumerable:!0,get:function(){return this.config.eR;}},Mca:{configurable:!0,enumerable:!0,get:function(){return 0;}},FM:{configurable:!0,enumerable:!0,get:function(){return 0;}},xta:{configurable:!0,enumerable:!0,get:function(){return!0;}}});m=b;g.__decorate([h.config(h.px,"simulateIdbOpenError")],m.prototype,"Mca",null);g.__decorate([h.config(h.px,"simulateIdbLoadAllError")],m.prototype,"FM",null);g.__decorate([h.config(h.wd,"fixInvalidDatabase")],m.prototype,"xta",null);m=g.__decorate([f.N(),g.__param(0,f.l(a.mj)),g.__param(1,f.l(c.Sm))],m);d.kNa=m;},function(g,d,a){var h,l,c;function b(a,b,c){this.config=a;this.Nj=b;this.Tt=c;}function f(a,b){this.reason=a;this.cause=b;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(61);(function(a){a[a.G_=0]="NoData";a[a.Error=1]="Error";a[a.Vx=2]="Timeout";}(c=d.dSa||(d.dSa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(d,f){b.JS("get",!1,a).then(function(b){d({key:a,value:b});})["catch"](function(a){var b;b=h.u.mka;switch(a.reason){case c.G_:b=h.u.Mu;break;case c.Vx:b=h.u.FSa;}f({Z:b,cause:a.cause});});});};b.prototype.save=function(a,b,d){var f;f=this;return new Promise(function(g,k){f.JS(d?"add":"put",!0,{name:a,data:b}).then(function(){g(!d);})["catch"](function(a){var b;b=h.u.nka;switch(a.reason){case c.Vx:b=h.u.ISa;}k({Z:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(d,f){b.JS("delete",!0,a).then(function(){d();})["catch"](function(a){var b;b=h.u.i0;switch(a.reason){case c.Vx:b=h.u.lka;}f({Z:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,d){a.JS("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.u.i0;switch(a.reason){case c.Vx:b=h.u.lka;}d({Z:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.Nj.Gl(this.config.timeout,new Promise(function(b,d){var g,h,k;if(a.config.FM)d(new f(a.config.FM));else{g=[];h=a.Tt.transaction(a.config.Zz,"readonly");k=h.objectStore(a.config.Zz).openCursor();h.onerror=function(){d(new f(c.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{g.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(F){d(new f(c.Error,F));}else b(g);};k.onerror=function(){d(new f(c.Error,k.error));};}}))["catch"](function(a){return a instanceof l.Zm?Promise.reject(new f(c.Vx,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(c.Error,a));});};b.prototype.XK=function(a){var b;b=this;return this.Nj.Gl(this.config.timeout,new Promise(function(d,g){var h,k,m;if(b.config.FM)g(new f(b.config.FM));else{h={};k=b.Tt.transaction(b.config.Zz,"readonly");m=k.objectStore(b.config.Zz).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){g(new f(c.Error,m.error));};m.onsuccess=function(b){var k,m;try{k=b.target.result;if(k){m=k.key;a&&0!==m.indexOf(a)?d(h):(h[m]=void 0,k["continue"]());}else d(h);}catch(aa){g(new f(c.Error,aa));}};m.onerror=function(){g(new f(c.Error,m.error));};}}))["catch"](function(a){return a instanceof l.Zm?Promise.reject(new f(c.Vx,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(c.Error,a));});};b.prototype.JS=function(a,b,d){var g;g=this;return this.Nj.Gl(this.config.timeout,new Promise(function(h,k){var m,l;m=g.Tt.transaction(g.config.Zz,b?"readwrite":"readonly");l=m.objectStore(g.config.Zz)[a](d);m.onerror=function(){k(new f(c.Error,l.error));};l.onsuccess=function(b){var d;if("get"==a)try{d=b.target.result;d?h(d.data):k(new f(c.G_));}catch(aa){k(new f(c.G_,aa));}else h();};l.onerror=function(){k(new f(c.Error,l.error));};}))["catch"](function(a){return a instanceof l.Zm?Promise.reject(new f(c.Vx,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(c.Error,a));});};d.jNa=b;},function(g,d,a){var l,c,m,k,n,r,t,A,I,F,D,O;function b(a,b,c,d,f,g){this.config=b;this.mJ=c;this.$i=d;this.Kwb=f;this.yi=g;this.ja=a.kb(r.n0);}function f(a,b){this.config=a;this.hu=b;}function h(a,b,c,d,f){this.config=b;this.hu=c;this.yi=f;this.ja=a.kb(r.n0);this.mJ=new Promise(function(a,b){var c;try{c=d();c?a(c):b({Z:n.u.Hga});}catch(Y){b({Z:n.u.AO,cause:Y});}});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);c=a(7);m=a(843);k=a(167);n=a(2);r=a(411);t=a(412);A=a(61);I=a(70);F=a(115);D=a(166);O=a(60);h.prototype.create=function(){this.b5||(this.b5=this.lD());return this.b5;};h.prototype.ll=function(a){var b;b=this;this.b5=null;return this.hu.Gl(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof A.Zm?Promise.reject({Z:n.u.AO}):a.Z?Promise.reject(a):Promise.reject({Z:n.u.AO,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.hu.Gl(this.config.timeout,new Promise(function(c,d){b.mJ.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({Z:n.u.AO,cause:f.error});};})["catch"](function(a){d(a);});}));};h.prototype.lD=function(){var a,b;a=this;return this.hu.Gl(this.config.timeout,new Promise(function(c,d){a.config.Mca?d({Z:a.config.Mca}):a.mJ.then(function(f){a.yi.mark(O.Fi.wMa);(b=f.open(a.config.name,a.config.version))?(b.onblocked=function(){a.yi.mark(O.Fi.tMa);d({Z:n.u.pMa});},b.onupgradeneeded=function(){var c;a.yi.mark(O.Fi.DMa);c=b.result;try{c.createObjectStore(a.config.Zz,{keyPath:"name"});}catch(X){a.ja.error("Exception while creating object store",X);}},b.onsuccess=function(g){var h,k;a.yi.mark(O.Fi.CMa);try{h=g.target.result;k=h.objectStoreNames.length;a.ja.trace("objectstorenames length ",k);if(0===k){a.ja.error("invalid indexedDb state, deleting");a.yi.mark(O.Fi.vMa);try{h.close();}catch(Y){}f.deleteDatabase(a.config.name);setTimeout(function(){d({Z:n.u.oMa});},1);return;}}catch(Y){a.ja.error("Exception while inspecting indexedDb objectstorenames",Y);}c(b.result);},b.onerror=function(){a.yi.mark(O.Fi.uMa);a.ja.error("IndexedDB open error",b.error);d({Z:n.u.qMa,cause:b.error});}):d({Z:n.u.Iga});})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof A.Zm){try{b&&b.readyState&&a.yi.mark("readyState-"+b.readyState);}catch(Q){}if(a.config.eR&&b&&"done"===b.readyState){if(a.Gwb(b))return a.yi.mark(O.Fi.AMa),Promise.resolve(b.result);a.yi.mark(O.Fi.zMa);}a.yi.mark(O.Fi.yMa);return Promise.reject({Z:n.u.sMa});}if(c.Z)return Promise.reject(c);a.yi.mark(O.Fi.xMa);a.ja.error("IndexedDB open exception occurred",c);return Promise.reject({Z:n.u.rMa,cause:c});});};h.prototype.Gwb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(N){this.yi.mark(O.Fi.BMa);this.ja.error("failed to check open request state",N);}return!1;};a=h;a=g.__decorate([l.N(),g.__param(0,l.l(c.ob)),g.__param(1,l.l(t.BO)),g.__param(2,l.l(A.Px)),g.__param(3,l.l(k.Gga)),g.__param(4,l.l(F.Wx))],a);d.mMa=a;f.prototype.create=function(a){return Promise.resolve(new m.jNa(this.config,this.hu,a));};a=f;a=g.__decorate([l.N(),g.__param(0,l.l(t.BO)),g.__param(1,l.l(A.Px))],a);d.lNa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.iJ||(this.iJ=this.lD(this.Kwb));return this.iJ;};b.prototype.lD=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.yi.mark(O.Fi.ESa);b.mJ.create().then(function(f){b.$i.create(f).then(function(g){Promise.all(a.map(function(a){return a.Lp(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ja.debug("DB validation failed, cause: "+a);b.config.xta?(b.ja.debug("Fixing corrupt DB"),b.mJ.ll(f).then(function(){b.ja.error("Invalid database deleted, creating new database.");b.lD().then(function(a){b.ja.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ja.error("Couldn't delete invalid database.");d(a);})):(b.ja.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};a=b;a=g.__decorate([l.N(),g.__param(0,l.l(c.ob)),g.__param(1,l.l(t.BO)),g.__param(2,l.l(D.Fga)),g.__param(3,l.l(D.gha)),g.__param(4,l.Uz(I.vka)),g.__param(5,l.l(F.Wx))],a);d.mNa=a;},function(g,d,a){var f,h,l;function b(a){this.Tt=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(167);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.Tt.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(A){}c({key:a,value:g});}else d({Z:h.u.Mu});}catch(A){d({Z:h.u.mka,cause:A});}});};b.prototype.save=function(a,b,d){var c;c=this;return new Promise(function(f,g){if(d&&c.Tt.getItem(a))f(!1);else try{"string"===typeof b?c.Tt.setItem(a,b):c.Tt.setItem(a,JSON.stringify(b));f(!0);}catch(A){g({Z:h.u.nka,cause:A});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.Tt.removeItem(a);c();}catch(r){d({Z:h.u.i0,cause:r});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.XK=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};l=b;l=g.__decorate([f.N(),g.__param(0,f.l(a.rPa))],l);d.GNa=l;},function(g,d,a){var f,h,l,c,m;function b(a,b,d){this.Nj=b;this.config=d;this.ja=a.kb(c.n0);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);l=a(61);c=a(411);a=a(410);b.prototype.Lp=function(a){return this.config.enabled?this.config.timeout?this.Nj.Gl(this.config.timeout,this.isa(a)):this.isa(a):Promise.resolve();};b.prototype.isa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ja.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ja.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(l.Px)),g.__param(2,f.l(a.lfa))],m);d.aJa=m;},function(g,d,a){var b,f,h,l,c,m,k,n,r,t,A,I,F,D,O,B,N;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(412);f=a(70);h=a(167);l=a(846);c=a(409);m=a(845);k=a(410);n=a(166);r=a(844);t=a(842);A=a(841);I=a(840);F=a(70);D=a(408);O=a(838);B=a(407);N=a(837);d.storage=new g.ic(function(a){a(h.qia).$f(function(){return function(){return L.localStorage;};});a(h.Gga).$f(function(){return function(){return L.indexedDB;};});a(D.gia).to(O.XOa).Y();a(F.Er).to(I.VGa).Y();a(c.xha).to(m.GNa).Y();a(b.BO).to(t.kNa).Y();a(n.gha).to(r.lNa).Y();a(f.vka).to(l.aJa).Y();a(n.Fga).to(r.mMa).Y();a(n.f_).to(r.mNa).Y();a(k.lfa).to(A.bJa).Y();a(B.Jfa).to(N.zKa).Y();});},function(g,d,a){var f,h,l;function b(a){this.dob=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(233);a=a(413);b.prototype.v$a=function(){var a,b;a={MJ:h.Dx.eUa};b=this.dob.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.MJ=b.value?h.Dx.Nja:h.Dx.vea;if(a.MJ===h.Dx.vea){c=function(){b.value&&(a.MJ=h.Dx.Nja);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.MJ=h.Dx.Error;});return a;};l=b;l=g.__decorate([f.N(),g.__param(0,f.l(a.Oja))],l);d.xLa=l;},function(g,d,a){var f,h,l;function b(a,b){this.Bya=a;this.log=b.kb("MediaCapabilities");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(415);h=a(7);a=a(1);b.prototype.q6=function(a){var b,c,d;b=this;c={vc:void 0};if(this.Bya.Cya){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,O:1E3*a.O,fT:"24"};this.Bya.q6(d).then(function(a){return c.vc=Object.assign(Object.assign({},a),d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};l=b;l=g.__decorate([a.N(),g.__param(0,a.l(f.$ha)),g.__param(1,a.l(h.ob))],l);d.JOa=l;},function(g,d,a){var f,h;function b(a){this.navigator=a;this.Cya="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(36);b.prototype.q6=function(a){return this.Cya?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.O,framerate:a.fT}}).then(function(a){return{lMb:a.supported,ftb:a.smooth,Jnb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.EB))],h);d.IOa=h;},function(g,d,a){var f,h;function b(a,b,d,g){a=f.Ml.call(this,a,b,d)||this;a.Yg=g;a.type=h.ak.pka;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(131);h=a(29);da(b,f.Ml);b.prototype.iK=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Yg.xi.toString()});};d.LSa=b;},function(g,d,a){var f,h,l;function b(a,b,d,g,l,p){a=f.Ml.call(this,a,b,d)||this;a.Qn=g;a.jp=l;a.Ta=p;a.type=h.ak.OY;a.log=a.jp.kb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(131);h=a(29);l=a(3);da(b,f.Ml);b.prototype.or=function(a){switch(a){case h.Yh.Op:return this.jub;default:return Promise.resolve(!1);}};b.prototype.fE=function(){var a;a=this;return this.or(h.Yh.Op).then(function(a){return a?h.Yh.Op:void 0;}).then(function(b){return a.hJ(b);});};b.prototype.L2=function(a){return this.Pw=a;};b.prototype.qN=function(){var a;if(this.Pw){a=this.Qva&&this.Rva&&this.Qva.xe(this.Rva).ba(l.ha);this.Pw.itshdcp=JSON.stringify({hdcp1:this.vt,time1:a});}};qa.Object.defineProperties(b.prototype,{xk:{configurable:!0,enumerable:!0,get:function(){this.Eya||(this.Eya=this.Qn.cK().then(function(a){return a.createMediaKeys();}));return this.Eya;}},jub:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.lda||(this.config().P8a?this.lda=this.xk.then(function(b){if(b&&b.getStatusForPolicy)return a.Rva=a.Ta.kf,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.Qva=a.Ta.kf;a.vt=b;a.log.trace("hdcpStatus: "+a.vt);return"usable"===a.vt;});a.vt="not available";a.log.trace("hdcpStatus: "+a.vt);return!1;})["catch"](function(b){a.vt="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.vt},b);return!1;}).then(function(b){a.qN();return b;}):(this.vt="not enabled",this.log.trace("hdcpStatus: "+this.vt),this.qN(),this.lda=Promise.resolve(!1)));return this.lda;}}});d.MIa=b;},function(g,d,a){var f,h,l,c,m,k,n,r,t,A,I,F,D,O,B,N,G,Q,ja;function b(a,b,c,d,f,g,k){a=h.Ml.call(this,a,b,c)||this;a.ga=d;a.Ta=f;a.jp=g;a.Ae=k;a.type=l.ak.Mx;a.pG="hvc1";a.iIa="avc1";a.HAa={};a.log=a.jp.kb("MicrosoftVideoCapabilityDetector");a.qtb();a.SM&&a.config().Bjb?a.m8a=a.O5a():(a.m8a=Promise.resolve(""),a.config().Djb?a.S5a():a.config().Cjb&&a.R5a());return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(63);h=a(131);l=a(29);g=a(97);c=a(140);m=a(137);k=a(3);n=a(244);r=a(132);t=a(234);A="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");I="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");F="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");D="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");O="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");B="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");N=["hdcp=1"];G=["hdcp=2"];Q=new g.Ux();ja=new n.FY();da(b,h.Ml);b.prototype.YD=function(a){return a===l.rd.Ir&&this.config().rwb?r.Ed.xG:h.Ml.prototype.YD.call(this,a);};b.prototype.or=function(a){switch(a){case l.Yh.Op:return this.rEa();case l.Yh.Gx:return this.SL;default:return Promise.resolve(!1);}};b.prototype.bE=function(){return this.SM?this.hfb?this.rEa().then(function(a){return Promise.resolve(a?c.hb.qd:c.hb.bH);}):Promise.resolve(c.hb.bH):this.kub?Promise.resolve(c.hb.bH):Promise.resolve(c.hb.Sp);};b.prototype.TM=function(){return this.iub();};b.prototype.VM=function(){return this.SM&&this.tEa()?this.SL:Promise.resolve(!1);};b.prototype.RM=function(){return this.hub();};b.prototype.L2=function(a){this.Pw=a;Object.assign(this.Pw,this.HAa);a.itshwdrm=this.SM;a.itsqhd=this.sEa();a.itshevc=this.tEa();a.itshdr=this.TM();a.itsdv=this.RM();return a;};b.prototype.pI=function(a,b){(this.Pw?this.Pw:this.HAa)[a]=b;};b.prototype.fE=function(){var a;a=this;return this.or(l.Yh.Gx).then(function(b){return b?a.hJ(l.Yh.Gx):a.or(l.Yh.Op).then(function(b){return b?a.hJ(l.Yh.Op):a.hJ(void 0);});});};b.prototype.iK=function(){return this.bE().then(function(a){return a===c.hb.qd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.r6=function(a){var b;b=this;return a.filter(function(a){var d,g;for(var d=R(b.$q),f=d.next();!f.done;f=d.next())if(f.value.test(a))return!0;d=R(b.Fm);for(f=d.next();!f.done;f=d.next())if(f.value.test(a))return!1;a=b.bba[a];d=[];g=c.hb.Sp;if(a)return b.is.Vk(a)?f=a:(d=a.kd,f=a.Ke,g=a.Me),b.xv(g,f,d);});};b.prototype.Py=function(){var a;a=h.Ml.prototype.Py.call(this);a[f.$.kH]="vp09.00.11.08.02";a[f.$.lH]="vp09.00.11.08.02";a[f.$.mH]="vp09.00.11.08.02";a[f.$.DZ]={Ke:"hev1.2.6.L90.B0",Me:c.hb.qd,kd:A};a[f.$.GZ]={Ke:"hev1.2.6.L93.B0",Me:c.hb.qd,kd:A};a[f.$.JZ]={Ke:"hev1.2.6.L120.B0",Me:c.hb.qd,kd:A};a[f.$.MZ]={Ke:"hev1.2.6.L123.B0",Me:c.hb.qd,kd:A};a[f.$.AG]={Ke:"hev1.2.6.L150.B0",Me:c.hb.qd,kd:A};a[f.$.BG]={Ke:"hev1.2.6.L153.B0",Me:c.hb.qd,kd:A};a[f.$.EZ]={Ke:"hev1.2.6.L90.B0",Me:c.hb.qd,kd:A};a[f.$.HZ]={Ke:"hev1.2.6.L93.B0",Me:c.hb.qd,kd:A};a[f.$.KZ]={Ke:"hev1.2.6.L120.B0",Me:c.hb.qd,kd:A};a[f.$.NZ]={Ke:"hev1.2.6.L123.B0",Me:c.hb.qd,kd:A};a[f.$.OZ]={Ke:"hev1.2.6.L150.B0",Me:c.hb.qd,kd:A};a[f.$.PZ]={Ke:"hev1.2.6.L153.B0",Me:c.hb.qd,kd:A};a[f.$.qO]={Ke:"hev1.2.6.L90.B0",Me:c.hb.qd,kd:F};a[f.$.rO]={Ke:"hev1.2.6.L93.B0",Me:c.hb.qd,kd:F};a[f.$.sO]={Ke:"hev1.2.6.L120.B0",Me:c.hb.qd,kd:F};a[f.$.tO]={Ke:"hev1.2.6.L123.B0",Me:c.hb.qd,kd:D};a[f.$.yZ]={Ke:"hev1.2.6.L150.B0",Me:c.hb.qd,kd:D};a[f.$.AZ]={Ke:"hev1.2.6.L153.B0",Me:c.hb.qd,kd:D};a[f.$.bO]={Ke:"hev1.2.6.L90.B0",Me:c.hb.qd,kd:O};a[f.$.cO]={Ke:"hev1.2.6.L93.B0",Me:c.hb.qd,kd:O};a[f.$.dO]={Ke:"hev1.2.6.L120.B0",Me:c.hb.qd,kd:O};a[f.$.eO]={Ke:"hev1.2.6.L123.B0",Me:c.hb.qd,kd:B};a[f.$.fO]={Ke:"hev1.2.6.L150.B0",Me:c.hb.qd,kd:B};a[f.$.WY]={Ke:"hev1.2.6.L153.B0",Me:c.hb.qd,kd:B};return a;};b.prototype.xv=function(a,b,c){a=t.Nx.RR(a,b,c);return this.Ss(a);};b.prototype.sEa=function(){return this.xv(c.hb.qd,this.pG,A);};b.prototype.iub=function(){return this.xv(c.hb.qd,this.pG,F);};b.prototype.hub=function(){return this.xv(c.hb.qd,this.pG,O);};b.prototype.tEa=function(){return this.xv(c.hb.qd,this.pG,I);};b.prototype.rEa=function(){var a;a=this;return this.SL.then(function(b){return b?Promise.resolve(b):a.oBa;});};b.prototype.qN=function(){this.Pw&&(this.Pw.itshdcp=JSON.stringify({hdcp1:this.Ova,time1:this.KEa-this.cEa,hdcp2:this.Pva,time2:this.LEa-this.dEa}));};b.prototype.qtb=function(){var a;a=this;this.SM?(this.Oaa=new m.kj(),this.Paa=new m.kj(),this.oBa=m.Ca.from(this.Oaa).hN().then(function(a){return"probably"===a;}),this.SL=m.Ca.from(this.Paa).hN().then(function(a){return"probably"===a;}),this.LDa(this.Paa,this.config().Fjb),this.QAa(this.acb.bind(this),this.Paa),this.SL.then(function(b){b||(a.LDa(a.Oaa,a.config().Ejb),a.QAa(a.$bb.bind(a),a.Oaa));})):(this.oBa=Promise.resolve(!0),this.SL=Promise.resolve(!1));};b.prototype.QAa=function(a,b){m.Ca.hu(0,this.config().Gjb).map(function(){return a();}).GM(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).dN(m.Ca.from(b)).hN();};b.prototype.LDa=function(a,b){this.ga.Og(k.Bb(b),function(){a.next("timeout");a.complete();});};b.prototype.$bb=function(){var a;a=t.Nx.RR(c.hb.bH,this.iIa,N).split("|");this.Ova=t.Nx.kda(a[0],a[1]);this.KEa=this.Ta.kf.ba(k.ha);this.cEa=this.cEa||this.KEa;this.qN();return this.Ova;};b.prototype.acb=function(){var a;a=t.Nx.RR(c.hb.qd,this.pG,G).split("|");this.Pva=t.Nx.kda(a[0],a[1]);this.LEa=this.Ta.kf.ba(k.ha);this.dEa=this.dEa||this.LEa;this.qN();return this.Pva;};b.prototype.O5a=function(){var a;a=this;return this.O4(c.hb.qd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.pI("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.R5a=function(){var a;a=this;this.O4(c.hb.Sp,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Ae.decode(b));a.pI("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.pI("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.S5a=function(){var a;a=this;this.O4(c.hb.Sp,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Ae.decode(b));a.pI("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.pI("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.O4=function(a,b){var c;c=this;return new Promise(function(d,f){var q,n,r;function g(a){try{l(a.target,"Unexpectedly got an mskeyerror event: 0x"+ja.VJ(a&&a.target&&a.target.error&&a.target.error.nMb||0,4));}catch(Ea){l(a.target,Ea);}}function h(a){l(a.target,"Unexpectedly got an mskeyadded event");}function m(a){var b;try{b=c.l6(a.message,"PlayReadyKeyMessage","Challenge");p(a.target);d(b);}catch(Qa){l(a.target,Qa);}}function l(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});p(a);f(d);}function p(a){a.removeEventListener("mskeymessage",m);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);q&&q.cancel();}try{n=new Uint8Array(Q.Ptb(b));r=new L.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),n);r.addEventListener("mskeymessage",m);r.addEventListener("mskeyadded",h);r.addEventListener("mskeyerror",g);q=c.ga.Og(k.Bb(1E3),function(){l(r,Error("timeout"));});}catch(Fa){f(Fa);}});};b.prototype.l6=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};qa.Object.defineProperties(b.prototype,{hfb:{configurable:!0,enumerable:!0,get:function(){return this.config().O8a&&(!this.config().Hjb||this.sEa());}},SM:{configurable:!0,enumerable:!0,get:function(){try{return this.Ss(c.hb.qd+'|video/mp4;codecs="'+r.Ed.pB+'"');}catch(z){return!1;}}},kub:{configurable:!0,enumerable:!0,get:function(){try{return this.Ss(c.hb.bH);}catch(z){return!1;}}}});d.wOa=b;b.XF='video/mp4;codecs="{0},mp4a";';},function(g,d,a){var f,h,l,c,m;function b(a,b,d,g){a=c.YY.call(this,a,b)||this;a.is=d;a.platform=g;a.type=f.vx.Mx;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);h=a(63);l=a(140);c=a(416);m=a(234);da(b,c.YY);b.prototype.QM=function(){return this.config().CJ&&this.xv(l.hb.Sp,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.Py=function(){var a;a={};a[h.Ai.uO]="mp4a.40.2";a[h.Ai.BZ]="mp4a.40.5";a[h.Ai.vO]="mp4a.40.2";"browser"===this.platform.Xra?this.config().CJ&&(a[h.Ai.$N]={Ke:"avc1",Me:l.hb.Sp,kd:["audio-endpoint-codec=DD+JOC"]},a[h.Ai.aO]={Ke:"avc1",Me:l.hb.Sp,kd:["audio-endpoint-codec=DD+JOC"]}):(this.config().R5&&(a[h.Ai.$N]="ec-3"),this.config().Q5&&(a[h.Ai.RY]="ec-3"),this.config().CJ&&(a[h.Ai.aO]={Ke:"avc1",Me:l.hb.Sp,kd:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.r6=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=R(b.$q),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=R(b.Fm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.bba[a];c=[];f=l.hb.Sp;if(a)return b.is.Vk(a)?d=a:(c=a.kd,d=a.Ke,f=a.Me),b.xv(f,d,c);});};b.prototype.xv=function(a,b,c){a=m.Nx.RR(a,b,c);return this.Ss(a);};d.ZOa=b;},function(g,d,a){var f,h,l,c,m,k,n,r,t,A,I,F,D,O,B,N,G,Q,L;function b(a,b,c,d,f,g,h,k,m,l,p){this.Wwa=a;this.cast=b;this.config=c;this.ga=d;this.Ta=f;this.is=g;this.Qn=h;this.jp=k;this.Yg=m;this.platform=l;this.Ae=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(29);l=a(236);c=a(168);m=a(235);k=a(854);n=a(853);r=a(131);t=a(416);A=a(30);I=a(40);F=a(21);D=a(852);O=a(119);B=a(7);N=a(851);G=a(62);Q=a(71);a=a(39);b.prototype.z5a=function(a){var b;b=this.Wwa.dra();switch(a){case h.vx.Mx:return new k.ZOa(this.config,b,this.is,this.platform);default:return new t.YY(this.config,b);}};b.prototype.l6a=function(a){var b;b=this.Wwa.dra();switch(a){case h.ak.MY:a=new m.afa(this.config,b,this.is,this.cast);break;case h.ak.OY:a=new D.MIa(this.config,b,this.is,this.Qn,this.jp,this.Ta);break;case h.ak.Mx:a=new n.wOa(this.config,b,this.is,this.ga,this.Ta,this.jp,this.Ae);break;case h.ak.pka:a=new N.LSa(this.config,b,this.is,this.Yg);break;default:a=new r.Ml(this.config,b,this.is);}return a;};L=b;L=g.__decorate([f.N(),g.__param(0,f.l(l.mha)),g.__param(1,f.l(m.NY)),g.__param(2,f.l(c.hO)),g.__param(3,f.l(A.yg)),g.__param(4,f.l(I.Vj)),g.__param(5,f.l(F.Fe)),g.__param(6,f.l(O.Lx)),g.__param(7,f.l(B.ob)),g.__param(8,f.l(G.so)),g.__param(9,f.l(Q.Rp)),g.__param(10,f.l(a.Uj))],L);d.CIa=L;},function(g,d,a){var f,h,l,c,m,k;function b(a,b,c){this.config=a;this.Ira=b;this.cast=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(236);l=a(168);c=a(29);m=a(235);k=a(234);b.prototype.dra=function(){switch(this.config().lY){case c.ak.MY:return m.afa.J4(this.Ira,this.cast);case c.ak.Mx:return k.Nx.J4(this.config);default:return this.Ira;}};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(l.hO)),g.__param(1,f.l(h.tja)),g.__param(2,f.l(m.NY))],a);d.sNa=a;},function(g,d,a){var f,h,l,c,m,k,n,r;function b(a,b,d){this.jS=a;this.Aa=b;this.NF=d;this.NZa="video/mp4;codecs={0}";this.QUa="audio/mp4;codecs={0}";a=this.jS.YD(h.rd.Ir);this.MZa=c.Ed.hra(a);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(29);l=a(1);c=a(132);m=a(21);k=a(242);n=a(419);r=a(9);b.prototype.jJ=function(a){a=this.jS.dcb(a);a=this.Aa.hm(a)?a:h.rd.eH;return this.NF.format(this.NZa,this.MZa[a]);};b.prototype.eJ=function(a){return 0===a.length?this.NF.format(this.QUa,c.Ed.vY):n.Fea[a[0].uf]===f.FGa?r.Ix:r.cOa;};a=f=b;a.FGa="AAC";a=f=g.__decorate([l.N(),g.__param(0,l.l(h.$Y)),g.__param(1,l.l(m.Fe)),g.__param(2,l.l(k.q0))],a);d.$Sa=a;},function(g,d,a){var f,h,l,c,m,k;function b(a,b,c){this.config=a;this.bqa=b;this.jnb=c;this.yob=this.d6a();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(29);h=a(168);l=a(1);c=a(63);m=a(421);a=a(420);b.prototype.Edb=function(){return this.$ta().pva();};b.prototype.Fdb=function(){return this.Gq().pva();};b.prototype.$ta=function(){this.p3&&this.p3.type==this.config().q3||(this.p3=this.bqa.z5a(this.config().q3));return this.p3;};b.prototype.Gq=function(){this.kY&&this.kY.type==this.config().lY||(this.kY=this.bqa.l6a(this.config().lY),this.kY.L2(this.jnb.Rbb()));return this.kY;};b.prototype.dcb=function(a){var d;if(!a||!a.length)return f.rd.pO;a=this.O$a(a);for(var b=[f.rd.eH,f.rd.pO,f.rd.eP,f.rd.Lr,f.rd.Ir,f.rd.cB,f.rd.Nu,f.rd.Vh],c=b.length;c--;){d=b[c];if((0,this.yob[d])(a))return d;}return f.rd.eH;};b.prototype.or=function(a){return this.Gq().or(a);};b.prototype.Ss=function(a){return this.Gq().Ss(a);};b.prototype.bE=function(){return this.Gq().bE();};b.prototype.TM=function(){return this.Gq().TM();};b.prototype.QM=function(){return this.$ta().QM();};b.prototype.RM=function(){return this.Gq().RM();};b.prototype.VM=function(){return this.Gq().VM();};b.prototype.YD=function(a){return this.Gq().YD(a);};b.prototype.fE=function(){return this.Gq().fE();};b.prototype.iK=function(){return this.Gq().iK();};b.prototype.O$a=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.uf]="";});return Object.keys(b);};b.prototype.d6a=function(){var a;a={};a[f.rd.Vh]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[f.rd.cB]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[f.rd.Nu]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[f.rd.Ir]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[f.rd.Lr]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[f.rd.eP]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[f.rd.pO]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=R(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[c.$.oO]);a[f.rd.eH]=function(){return!0;};return a;};k=b;k=g.__decorate([l.N(),g.__param(0,l.l(h.hO)),g.__param(1,l.l(a.Zea)),g.__param(2,l.l(m.jga))],k);d.sKa=k;},function(g,d,a){var b,f,h,l,c,m,k,n,r,t,A,I,F,D,O,B,N,G,Q,ja;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(29);f=a(17);h=a(858);l=a(168);c=a(114);m=a(857);k=a(236);n=a(856);r=a(421);t=a(420);A=a(855);I=a(235);F=a(8);D=a(415);O=a(850);B=a(414);N=a(849);G=a(233);Q=a(848);ja=a(413);d.jS=new g.ic(function(a){a(c.MB).to(m.$Sa).Y();a(b.$Y).to(h.sKa).Y();a(k.mha).to(n.sNa).Y();a(t.Zea).to(A.CIa).Y();a(k.tja).Th({isTypeSupported:F.BB&&F.BB.isTypeSupported});a(I.NY).Th("undefined"!==typeof cast?cast:null);a(r.jga).ox(function(){return{Rbb:function(){return L._cad_global.platformExtraInfo;}};});a(l.hO).ox(function(a){return a.zb.get(f.pd);});a(D.$ha).to(O.IOa).Y();a(B.Zha).to(N.JOa).Y();a(G.iga).to(Q.xLa).Y();a(ja.Oja).Th(L);});},function(g,d,a){function b(a){this.e8a=void 0===a?10:a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b=g.__decorate([a.N()],b);d.zTa=b;},function(g,d,a){var f,h;function b(a){this.Zub=a;this.LX={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(237);b.prototype.ibb=function(){var a,b,d;a=[];for(b in this.LX){d=this.LX[b];a.push({yv:Number(b),PA:d.ol().PA,I5:d.ol().I5});}return a;};b.prototype.YQ=function(a){var b,d;b=a.yv;d=this.LX[b];d||(d=this.Zub(),this.LX[b]=d);d.YQ(a);};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.u0))],h);d.JIa=h;},function(g,d,a){var f,h,l,c;function b(a){this.config=a;this.Pca=h.sf;this.GF=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(41);l=a(3);a=a(423);b.prototype.ol=function(){var b;for(var a;0<this.GF.length;)a=this.GF.shift(),this.uoa(a);a=void 0===this.xJ||void 0===this.Uy?l.sf:this.Uy.xe(this.xJ);b=a.Zwa()?0:this.Pca.ba(h.fB)/a.ba(l.ha);return{PA:Math.floor(b),I5:a.ba(l.ha)};};b.prototype.YQ=function(a){this.Pca=this.Pca.add(a.size);this.GF.push(a.d8a);for(this.GF.sort(function(a,b){return a.start.il(b.start);});this.GF.length>this.config.e8a;)a=this.GF.shift(),this.uoa(a);};b.prototype.uoa=function(a){void 0===this.xJ&&(this.xJ=a.start);void 0!==this.Uy&&0>this.Uy.il(a.start)&&(this.xJ=this.xJ.add(a.start.xe(this.Uy)));if(void 0===this.Uy||0>this.Uy.il(a.end))this.Uy=a.end;};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(a.Ika))],c);d.ATa=c;},function(g,d,a){var b,f,h,l,c,m;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(862);f=a(861);h=a(860);l=a(422);c=a(423);m=a(237);d.QA=new g.ic(function(a){a(m.Jka).to(b.ATa);a(l.bfa).to(f.JIa).Y();a(c.Ika).Th(new h.zTa());a(m.u0).$f(function(a){return function(){return a.zb.get(m.Jka);};});});},function(g,d,a){var f,h,l,c,m,k;function b(a,b,c,d,f,g,k,m,l,p,q,n){var r;r=this;this.ge=a;this.Aa=b;this.ta=c;this.Jb=f;this.qp=k;this.$I=m;this.config=l;this.re=q;this.wa=n;this.j=p.create(n.I,n.Bl,n.$a,n.id);this.j.background=!0;this.j.ya=n.TU;this.log=d.kb("VideoPlayer",this.j);this.xAa=[];this.ended=!1;this.GN();this.j.state.addListener(function(a){a.newValue===h.ib.cd&&r.Pd(h.lb.c9,{movieId:n.I});});this.j.Wa.Ih&&(this.WC=g.A5a(this,this.j,this.re),this.j.addEventListener(h.R.ZW,function(a){r.Pd(h.lb.wrb,{segmentId:a.segmentId});}));}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);h=a(14);l=a(3);c=a(8);m=a(75);k=a(18);b.prototype.isReady=function(){return this.j.state.value===h.ib.cd;};b.prototype.Fcb=function(){return this.j.I;};b.prototype.Y7=function(){return this.j.ia;};b.prototype.Zo=function(){return this.j.rf;};b.prototype.Dq=function(){return this.j;};b.prototype.zz=function(){return this.j.Vn.value;};b.prototype.mgb=function(){return this.j.paused.value;};b.prototype.bgb=function(){return this.ended;};b.prototype.Aj=function(){var a;a=this.j.N3.value;return a?{networkStalled:!!a.wX,stalled:!!a.wX,progress:a.Qh,progressRollback:!!a.Bob}:null;};b.prototype.getError=function(){var a;a=this.j.ni;return a?a.Dda():null;};b.prototype.abb=function(){var a;a=(this.YJ()||0)+this.j.eua();return Math.min(a,this.c7());};b.prototype.YJ=function(){return this.j.iz();};b.prototype.c7=function(){return this.j.rq.ba(l.ha);};b.prototype.aeb=function(){return this.j.eG?{width:this.j.eG.width,height:this.j.eG.height}:null;};b.prototype.pbb=function(){var f;if(this.j.wr){for(var a,b=0;b<this.j.wr.length;b++)for(var c=this.j.wr[b],d=0;d<c.uc.length;d++){f=c.uc[d];this.Aa.gg(f.n6a)&&this.Aa.gg(f.lra)&&this.Aa.gg(f.kra)&&this.Aa.gg(f.jra)&&0<f.lra&&(f=f.jra/f.kra,a=this.Aa.gg(a)?Math.min(a,f):f);}return a;}};b.prototype.Abb=function(){var a;a=this;return{addEventListener:this.j.x5.addEventListener,removeEventListener:this.j.x5.removeEventListener,getModel:function(){return a.j.x5.rKb;},getTime:function(){return a.ta.Tb().ba(l.ha);},getGroups:function(){var b;b=a.j.$V;return b?b.Zbb():[];}};};b.prototype.Mab=function(){var a;a=this;return this.j.tn?this.j.tn.map(function(b){return a.kz(b);}).filter(function(a){return null!==a;}):[];};b.prototype.sva=function(a){var b,c;b=this;c=a&&this.j.tn.find(function(c){return b.kz(c)===a;})||this.j.Pc.value;return null===c?[]:c.Sj.map(function(a){return b.kz(a);}).filter(function(a){return null!==a;});};b.prototype.lgb=function(){return this.j.muted.value;};b.prototype.deb=function(){return this.j.volume.value;};b.prototype.Lab=function(){return this.kz(this.j.Pc.value);};b.prototype.rva=function(){return this.kz(this.j.zc.value);};b.prototype.Yfb=function(){return!!this.j.background;};b.prototype.lsb=function(a){this.j.muted.set(!!a);};b.prototype.Bsb=function(a){this.j.volume.set(this.Lza(a,1));};b.prototype.qsb=function(a){this.j.playbackRate.set(this.Lza(a,2));};b.prototype.Xrb=function(a){var b,c;b=this;c=this.j.tn.find(function(c){return b.kz(c)===a;});c?this.j.Pc.set(c):this.log.error("Invalid setAudioTrack call");};b.prototype.EDa=function(a){var d;if(null!==this.j.Pc.value){for(var b=this.j.Pc.value.Sj,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.zc.set(null);return;}if(this.kz(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.zc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.qDa=function(a){this.j.background=a;};b.prototype.JM=function(){this.j.JM();};b.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};b.prototype.Tw=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Pd(h.lb.Thb,void 0,!0);b.ya&&(b.ya.watermarkInfo&&a.Pd(h.lb.axb,b.ya.watermarkInfo,!0),b.ya.choiceMap&&a.Pd(h.lb.vrb,{segmentMap:b.ya.choiceMap},!0));c({W:!0});}catch(A){c({Z:f.u.qh,Sa:a.ge.ne(A)});}}));};b.prototype.close=function(a){var b;b=this;this.uqa||(this.uqa=new Promise(function(c){a?b.j.xd(a,c):b.j.close(c);}));return this.uqa;};b.prototype.play=function(){this.j.tj?this.j.fireEvent(h.R.KCa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(h.R.TFa)));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(h.R.Dwb));};b.prototype.seek=function(a,b,c,d){this.j.Ig?this.j.Ig.seek(a,b,c,d):this.j.Hy=a;};b.prototype.onb=function(a){return this.WC?(this.log.trace("Playing a segment",a),this.WC.play(a)):Promise.resolve();};b.prototype.Tob=function(a){return this.WC?(this.log.trace("Queueing a segment",a),this.WC.fh(a)):Promise.resolve();};b.prototype.lo=function(a,b){return this.WC?(this.log.trace("Updating next segment weights",a,b),this.WC.lo(a,b)):Promise.resolve();};b.prototype.mN=function(){this.j.mN();};b.prototype.HT=function(){var a;a=this.j.ko.HT();return{bounds:a.II,margins:a.On,size:a.size,visibility:a.visibility};};b.prototype.BM=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.gN&&(b&&this.j.gN.Bca(b),c&&this.j.gN.Cca(c),"boolean"===typeof a&&this.j.gN.Dca(a));this.j.ko&&d&&this.j.ko.wsb(d);};b.prototype.GDa=function(a){this.j.Nm=a;};b.prototype.Rdb=function(a){return this.j.iu&&this.j.iu.Wbb(a)||null;};b.prototype.Fab=function(){return this.ge.yk({playerver:this.config.version,jssid:this.config.Mgb,groupName:this.config.Ybb(),xid:this.j.ia,pbi:this.j.index},this.config.knb,{prefix:"pi_"});};b.prototype.Bfb=function(a){this.j.xd(this.re(f.J.dLa,f.u.lj,a));};b.prototype.Ihb=function(a,b,c){if(!this.Aa.Uoa(a))throw Error("invalid url");this.xAa.push({url:a,name:b,T0a:c});this.kBa();};b.prototype.lva=function(){var a,b,c,d,f,g,h,m;a={};b=this.j.zX;try{if(this.j.ni&&(a.errorCode=this.j.ni.lS,a.errorType=b?"endplay":"startplay"),a.playdelay=k.pm(this.j.Zpa()),a.xid=this.j.ia,this.j.ya&&this.Aa.Vk(this.j.ya.packageId)&&(a.packageId=Number(this.j.ya.packageId)),a.auth=this.j.Oab(),a.hdr=this.j.jcb(),b){a.totaltime=this.j.Al?this.bz(this.j.Al.jK()):0;a.abrdel=this.j.Al?this.j.Al.aua():0;c=this.j.Ig;d=c?c.hz():null;this.Aa.gg(d)&&(a.totdfr=d);d=c?c.ZJ():null;this.Aa.gg(d)&&(a.totcfr=d);f=c?c.kcb():null;f&&(a.rbfrs_decoder=f.b7a,a.rbfrs_network=f.Bkb);a.rbfrs_delay=this.j.Al?this.j.Al.W8:0;a.init_vbr=this.j.kU;g=this.zT();this.Aa.hm(g)&&(a.pdltime=g);h=this.j.Ze.value;m=h&&h.stream;m&&(a.vbr=m.O,a.vdlid=m.Uc);a.bufferedTime=this.j.eua();}}catch(aa){this.log.error("error capturing session summary",aa);}return a;};b.prototype.HJ=function(a){return this.Aa.gg(this.j.Zb.value)?(a=Object.assign(Object.assign({},this.qp.create(this.j)),{action:a}),this.$I(m.Nl.HJ).Fn(this.log,this.j.ya.If,a).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.Lc,errorExternalCode:a.Gg,errorData:a.data,errorDetails:a.yD};})):Promise.resolve({success:!1});};b.prototype.kz=function(a){var b;if(null!==a){b=a.Job=a.Job||{trackId:a.cb,bcp47:a.kk,displayName:a.displayName,trackType:a.cj,channels:a.fl};a.Jq&&(b.isImageBased=!0);this.pgb(a)&&(b.isNative=a.isNative);this.qgb(a)&&(b.isNoneTrack=a.KK(),b.isForcedNarrative=a.sU());return b;}return null;};b.prototype.pgb=function(a){return"undefined"!==typeof a.isNative;};b.prototype.qgb=function(a){return"undefined"!==typeof a.KK&&"undefined"!==typeof a.sU;};b.prototype.Lza=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.bz=function(a){return this.Aa.gg(a)?(a/1E3).toFixed(0):"";};b.prototype.Pd=function(a,b,c){b=b||{};b.target=this;this.Jb.Kb(a,b,!c);};b.prototype.GN=function(){var a;a=this;this.j.addEventListener(h.R.uda,function(){a.Pd(h.lb.Bn);});this.j.addEventListener(h.R.eV,function(){a.Pd(h.lb.Npa);});this.j.addEventListener(h.R.Yn,function(){a.Pd(h.lb.Npa);});this.j.addEventListener(h.R.pE,function(b){a.Pd(h.lb.pE,{errorCode:b});});this.j.addEventListener(h.R.t3,function(b){a.Pd(h.lb.U0a,b.j);});this.j.addEventListener(h.R.tj,function(b){a.Pd(h.lb.V0a,b);});this.j.Vn.addListener(function(){a.Pd(h.lb.Dnb);});this.j.paused.addListener(function(){a.Pd(h.lb.Kmb);});this.j.muted.addListener(function(){a.Pd(h.lb.tkb);});this.j.volume.addListener(function(){a.Pd(h.lb.Wwb);});this.j.Mb.addListener(function(){a.BFa();});this.j.state.addListener(function(){a.BFa();});this.j.N3.addListener(function(b){a.Qhb||a.j.state.value!=h.ib.cd||b.newValue||(a.Qhb=!0,a.Pd(h.lb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.lva());}));a.Pd(h.lb.O3);});this.j.Pc.addListener(function(b){a.Pd(h.lb.zI);b.oldValue&&b.newValue&&b.oldValue.Sj==b.newValue.Sj||a.Pd(h.lb.SA);setTimeout(function(){var b;if(null!==a.j.Pc.value&&null!==a.j.zc.value){b=a.j.Pc.value.Sj;0<=b.indexOf(a.j.zc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.zc.set(b[0]));}},0);});this.j.zc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.cb==b.newValue.cb||a.Pd(h.lb.UF);});this.j.addEventListener(h.R.SA,function(){a.Pd(h.lb.SA);});this.j.addEventListener(h.R.kN,function(){a.Pd(h.lb.kN);});this.j.state.addListener(function(b){switch(b.newValue){case h.ib.cd:a.Pd(h.lb.z8a);a.Pd(h.lb.Swb);a.Pd(h.lb.spa);a.Pd(h.lb.SA);a.Pd(h.lb.Shb);a.kBa();a.fxb();break;case h.ib.CLOSING:a.j.ni&&a.Pd(h.lb.error,a.j.ni.Dda());break;case h.ib.CLOSED:a.Pd(h.lb.closed),a.Jb.Fg();}});};b.prototype.fxb=function(){var a;a=this;this.j.ko.addEventListener("showsubtitle",function(b){a.Pd(h.lb.Xsb,b,!0);});this.j.ko.addEventListener("removesubtitle",function(b){a.Pd(h.lb.Zpb,b,!0);});};b.prototype.kBa=function(){if(this.j.state.value==h.ib.cd){for(var a,b,c;b=this.xAa.shift();)a=this.j.ko.K2(b.url,b.name),b.T0a&&(c=a);c&&this.j.zc.set(c);}};b.prototype.BFa=function(){var a;a=this.j.state.value==h.ib.cd&&this.j.Mb.value==h.fb.Kr;this.ended!==a&&(this.ended=a,this.j.Io("Ended changed: "+a),this.Pd(h.lb.L9a));};b.prototype.zT=function(){var a,b;try{a=/playercore.*js/;b=c.Pr.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(y){}};d.oNa=b;},function(g,d,a){var f,h,l,c,m,k,n,r,t,A,I;function b(a){this.Yc=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(80);l=a(23);c=a(21);m=a(24);k=a(7);n=a(68);r=a(239);t=a(864);A=a(238);I=a(75);b.prototype.a6a=function(a,b,d,f){return new t.oNa(this.Yc.get(l.df),this.Yc.get(c.Fe),this.Yc.get(m.Ne),this.Yc.get(k.ob),this.Yc.get(n.mO),this.Yc.get(r.l0),this.Yc.get(A.U_),this.Yc.get(I.kZ),a,b,d,f);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.hha))],a);d.lUa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(425);f=a(865);d.Qwb=new g.ic(function(a){a(b.bla).to(f.lUa).Y();});},function(g,d,a){var f,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.xob=function(a,b,d){var c,f;if(this.config().Irb){c=a.metrics;if(void 0!==c){f=a.playlistSegment||void 0;b.Et.transition({isBranching:void 0===f||void 0,isPlaygraph:f,mid:b.I,xid:b.ia,srcxid:d.ia,srcmid:d.I,segment:a.segmentId,srcsegment:c.srcsegment,srcsegmentduration:c.srcsegmentduration,srcoffset:c.srcoffset,seamlessRequested:c.seamlessRequested,transitionType:c.transitionType,delayToTransition:c.delayToTransition,durationOfTransition:c.durationOfTransition,atRequest:c.atRequest,atTransition:c.atTransition,discard:c.discard});}}};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.pd))],h);d.PTa=h;},function(g,d,a){var h,l;function b(){}function f(a,b,d,f,g){this.debug=a;this.version=b;this.Mgb=d;this.knb=f;this.config=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(3);f.prototype.Ybb=function(){return this.config().aw;};f.prototype.W6=function(){return this.config().Fpa;};f.prototype.E7=function(){return l.Bb(this.config().Enb);};f.prototype.Lua=function(){return this.config().Phb;};f.prototype.Oua=function(){return this.config().Cib;};b.prototype.Sv=function(a,b,d,g,h){return new f(a,b,d,g,h);};a=b;a=g.__decorate([h.N()],a);d.TSa=a;},function(g,d,a){var l,c,m,k;function b(a,b,c,d,f,g,h){var k;k=this;this.fa=b;this.j=c;this.Uq=d;this.ga=f;this.gR=g;this.re=h;this.bD=function(){k.Lw&&(k.Lw.cancel(),k.Lw=void 0);};this.log=a.kb("SegmentManager",this.j);this.Rc=new Map();this.j.Wa.Ih&&(this.j.addEventListener(m.R.ZW,function(a){return k.maa(a);}),this.j.addEventListener(m.R.closed,this.bD));}function f(a,b){this.id=a;this.d4=b;}function h(a,b,d,f){return c.Sc.call(this,a,d,void 0,void 0,void 0,b,void 0,f)||this;}Object.defineProperty(d,"__esModule",{value:!0});l=a(2);c=a(56);m=a(14);k=a(3);da(h,c.Sc);h.prototype.toString=function(){return this.code+"-"+this.Lc+" : "+this.message+"\n"+JSON.stringify(this.data);};f.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.Gk,contentEndPts:this.ft};};qa.Object.defineProperties(f.prototype,{Gk:{configurable:!0,enumerable:!0,get:function(){return this.d4.startTimeMs;}},ft:{configurable:!0,enumerable:!0,get:function(){return this.d4.endTimeMs;}},Fkb:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.d4.next);}}});b.prototype.maa=function(a){var b,c;b=this;if(0===this.Rc.size){c=this.j.qT();Object.keys(c).forEach(function(a){b.Rc.set(a,new f(a,c[a]));});}this.da=this.Rc.get(a.segmentId);};b.prototype.play=function(a){this.iF&&(this.iF=void 0);this.bD();this.log.trace("Playing segment",a);return this.Iwa(a)?this.nnb(a):this.ZV(a);};b.prototype.fh=function(a){this.log.trace("Queueing segment",a);return this.Iwa(a)?this.Sob(a):this.Uob(a);};b.prototype.lo=function(a,b){var c,d;c=this;d=this.j.mb;if(!d)return Promise.reject(this.getError(l.J.Iea,"ASE session manager is not yet initialized",l.u.EY,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.Tda(a,b);c.j.fireEvent(m.R.lo,{Db:a,gwb:b});f();}catch(D){g(c.getError(l.J.Iea,"updateNextSegmentWeights threw an exception",l.u.AHa,{segmentId:a,updates:b,error:D}));}});};b.prototype.Iwa=function(a){return this.da?void 0!==this.j.qT()[this.da.id].next[a]:!1;};b.prototype.dva=function(){if(this.j.mb)return this.j.mb.G7().pe;};b.prototype.bdb=function(){if(this.j.mb)return this.j.mb.G7().id;};b.prototype.kbb=function(a){if(this.j.mb)return(a=this.j.mb.kua(a))&&a.Md;};b.prototype.nnb=function(a){var b,c,d;b=this;c=this.j.mb;if(!c)return Promise.reject(this.getError(l.J.nG,"ASE session manager is not yet initialized",l.u.EY,{id:a}));if(this.da&&1===this.da.Fkb.length)return this.ZV(a);if(!this.j.Ig)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(l.J.nG,"MediaPresenter is not initialized",l.u.xHa,{id:a}));d=this.kbb(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.ZV(a)):new Promise(function(f,g){var r,u,t,y,A,F;function h(){!t&&u&&r&&(F.cancel(),t=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:u,repositioned:r,completed:t}),c.Av(a,!1,!0)?(f(),t=!0):(t=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.ZV(a).then(f)["catch"](g)));}function p(){r=!0;b.log.trace("Player is repositioned",{id:a,stopped:u,repositioned:r,completed:t});b.j.removeEventListener(m.R.Yn,p);h();}function n(){b.j.removeEventListener(m.R.uA,n);c.stop();}function q(){u=!0;b.log.trace("ASE is stopped",{id:a,stopped:u,repositioned:r,completed:t});c.removeEventListener("stop",q);h();}r=!1;u=!1;t=!1;y=b.Rc.get(a);A=y.Gk+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:A,currentSegment:b.da,nextSegment:y},null,"  "));b.j.fireEvent(m.R.DV,{Dg:b.da&&b.da.id,sL:a});c.addEventListener("stop",q);b.j.addEventListener(m.R.uA,n);b.j.addEventListener(m.R.Yn,p);F=b.ga.Og(k.ih(10),function(){t=!0;F.cancel();g(b.getError(l.J.nG,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.u.wHa,{id:a,stopped:u,repositioned:r,completed:t}));});b.fa.seek(A,m.bg.LB);});};b.prototype.ZV=function(a){var b;b=this.Rc.get(a);return b?this.YW(b,l.J.nG):Promise.reject(this.getError(l.J.nG,"Unable to find the separated segment",l.u.Hea,{id:a}));};b.prototype.Sob=function(a){var b;b=this.j.mb;if(!b)return Promise.reject(this.getError(l.J.eB,"ASE session manager is not yet initialized",l.u.EY,{id:a}));if(b.Av(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(l.J.eB,"ASE chooseNextSegment failed",l.u.uHa,{id:a}));};b.prototype.Uob=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.I,srcsegment:this.bdb()});if(this.iF)return Promise.reject(this.getError(l.J.eB,"Unable to queue a non-next segment because there is currently already a segment queued",l.u.zHa,{currentSegment:this.da?this.da.id:void 0,queuedSegment:this.iF.id,failedSegment:a}));if(!this.da)return Promise.reject(this.getError(l.J.eB,"Unable to queue a non-next segment because there is no currently playing segment",l.u.vHa,{nextSegmentid:a}));c=this.Rc.get(a);if(!c)return Promise.reject(this.getError(l.J.eB,"Unable to find the separated segment",l.u.Hea,{nextSegmentid:a,currentSegmentId:this.da.id}));this.iF={id:a,Vt:new Promise(function(d,f){var g;b.Lw=b.Uq.N4({E7:function(){return k.Bb(100);}},function(){return b.fa.j.Zb.value||0;});g=b.dva()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:g});b.Lw.observe(g,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.da.id,playerEndPts:b.dva(),pts:g});b.iF=void 0;b.bD();b.YW(c,l.J.eB).then(d)["catch"](f);});})};this.iF.Vt["catch"](function(a){b.j.xd(b.re(a.code,a));});return Promise.resolve();};b.prototype.YW=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.fa.seek(a.Gk,m.bg.Ku);d();}catch(F){f(c.getError(b,"Seek threw an exception",l.u.yHa,{id:a.id,error:F}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new h(a,b,c,d);};d.WHa=b;},function(g,d,a){var c,m,k,n;function b(a,b,d,f,g,h,k,l,p){var q;q=this;this.ta=a;this.Uq=d;this.Kaa=f;this.config=g;this.re=h;this.JL=k;this.Sb=l;this.Y9a=Object.keys(m.lb).map(function(a){return{event:m.lb[a],cw:function(b){return q.Jb.Kb(m.lb[a],b);}};});this.Jb=p.create();this.Zw=[];this.log=b.kb("SegmentManager");new c.kj();this.B6=!0;this.rf=this.Sb.createElement("div",n.Yja);}function f(a,b,d,f,g,k,m,p,n){var q;q=this;this.log=a;this.config=b;this.rlb=d;this.Kaa=f;this.re=g;this.JL=k;this.zp=m;this.wa=p;this.rf=n;this.bD=function(){q.Lw&&(q.Lw.cancel(),q.Lw=void 0);};this.f8=function(a){q.log.trace("Received the transition event",{movieId:a.I});q.gpb(l(q.wa));};this.log.debug("Constructing session data",h(p));this.D9=new c.kj();this.Oub=new Promise(function(a){q.gpb=a;});}function h(a){return{movieId:a.I};}function l(a){return JSON.stringify({movieId:a.I,startPts:a.S,logicalEnd:a.ul,params:a.$a?{trackingId:a.$a.mh,authParams:a.$a.AI,sessionParams:a.$a.Km,disableTrackStickiness:a.$a.B5,uiPlayStartTime:a.$a.SX,loadImmediately:a.$a.MU,playbackState:a.$a.playbackState?{currentTime:a.$a.playbackState.currentTime,volume:a.$a.playbackState.volume,muted:a.$a.playbackState.muted}:void 0,pin:a.$a.Eaa,heartbeatCooldown:a.$a.m8,uiLabel:a.$a.De}:void 0});}Object.defineProperty(d,"__esModule",{value:!0});c=a(137);m=a(14);k=a(3);n=a(9);f.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",h(this.wa));this.fa=this.Kaa.a6a(this.config,this.JL,this.re,this.wa);this.fa.addEventListener(m.lb.pE,function(a){b.log.trace("Segment is inactive",h(b.wa));b.zp.close(b.re(a.errorCode));});this.fa.addEventListener(m.lb.closed,this.bD);if(a)this.log.debug("Pausing background segment",h(this.wa)),this.fa.addEventListener(m.lb.c9,this.f8),this.fa.pause();else{this.rf.appendChild(this.fa.Zo());c=function(a){b.f8(a);b.fa.removeEventListener(m.lb.loaded,c);};this.fa.addEventListener(m.lb.loaded,c);}};f.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",l(this.wa));if(this.Lw)this.log.trace("Segment is currently observing",h(this.wa));else if(this.wa.$a&&this.wa.$a.MU)this.D9.next(this);else{b=this.rlb.N4(this.config,function(){var b;if(a.fa){b=a.fa.j.Zb.value;if(b)return b;}return 0;});c=this.d2a(this.wa);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",h(a.wa));a.D9.next(a);a.bD();});}};f.prototype.close=function(a){this.log.info("Closing segment",{segment:l(this.wa),error:a});return this.fa?(this.fa.removeEventListener(m.lb.c9,this.f8),this.fa.close(a)):Promise.resolve();};f.prototype.d2a=function(a){var b,c;b=a.ul;a=a.$a?a.$a.MU:!1;c=0;b&&!a&&(c=b-this.config.Lua(),c<this.config.Oua()&&(a=b-this.config.Oua(),c=b-a/2));return c;};b.prototype.BT=function(){return this.ke&&this.ke.fa?this.ke.fa.isReady():!1;};b.prototype.Zo=function(){return this.rf;};b.prototype.Hh=function(){if(!this.ke||!this.ke.fa)throw Error("Player not ready");return this.ke.fa;};b.prototype.Q2=function(a){this.log.info("Adding segment",l(a));this.B6?(this.log.trace("First segment, loading",h(a)),a=this.zxa(a),this.B6=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.Aqb(a));return a?a.Oub:null;};b.prototype.transition=function(a){var b;if(this.Nt&&this.Nt.fa){b=this.Nt;this.Nt=void 0;this.log.info("Transitioning segment",l(b.wa));b&&b.fa&&b.fa.GDa(this.ta.Tb().ba(k.ha));return this.gFa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.ke.wa)),nextSession:this.Nt?JSON.stringify(h(this.Nt.wa)):void 0});c=[this.ke.close(a)];this.Nt&&c.push(this.Nt.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.Nt=void 0;b.Zw=[];b.B6=!0;a();})["catch"](d);});};b.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};b.prototype.zxa=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.ke&&(this.config.W6()[a.I]=a.S);c=this.M$a(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));c.D9.subscribe(function(a){b.Hub(a);});this.ke?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.Nt=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.gFa(c));return c;};b.prototype.gFa=function(a,b){var c,d;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.wa));c=this.ke;this.ke=a;if(this.ke.fa&&(this.ke.fa.qDa(!1),this.GN(this.ke.fa,c?c.fa:void 0),c&&c.fa)){d=c.fa.Zo();a=this.ke.fa.Zo();d.style.display="none";c=c.close();this.rf.appendChild(a);this.ke.fa&&(a.style.display="block",this.ke.fa.getError()?this.ke.fa.close():(this.ke.fa.Dq().Tvb(b),this.ke.fa.JM(),this.ke.fa.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};b.prototype.Hub=function(a){var b,c,d,f;if(this.Zw.length&&a.fa){a=a.fa.j.Zb.value;b=this.Zw[0];c=this.ke.wa.ul;d=this.ke.wa.$a?this.ke.wa.$a.MU:!1;if(c||d){d?f=0:c&&(f=c-this.config.Lua());null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",h(b.wa)),this.zxa(b.wa),this.Zw.splice(0,1));}}};b.prototype.M$a=function(a){return this.ke?this.Zw.find(function(b){return b.wa.I===a.I;}):this.Qo(a);};b.prototype.Aqb=function(a){var c;if(this.ke.wa.I===a.I)return this.nAa(this.ke.wa,a),this.log.trace("Overwrote the currently playing segment data",l(this.ke.wa)),this.ke;for(var b=0;b<this.Zw.length;++b){c=this.Zw[b];if(c.wa.I===a.I)return this.nAa(c.wa,a),this.log.trace("Overwrote the currently playing segment data",l(c.wa)),c;}a=this.Qo(a);this.Zw.push(a);this.ke.observe();return a;};b.prototype.nAa=function(a,b){a.S=b.S||a.S;a.ul=b.ul||a.ul;a.$a=b.$a||a.$a;a.TU=b.TU||a.TU;};b.prototype.Qo=function(a){return new f(this.log,this.config,this.Uq,this.Kaa,this.re,this.JL,this,a,this.rf);};b.prototype.GN=function(a,b){this.Y9a.forEach(function(c){b&&b.removeEventListener(c.event,c.cw);a.addEventListener(c.event,c.cw);});this.Jb.Kb(m.JB.rM);};d.VSa=b;},function(g,d,a){var f,h,l,c,m,k,n,r,t,A,I,F,D;function b(a,b,c,d,f,g,h,k,m,l){this.ta=a;this.Jf=b;this.Uq=c;this.Rwb=d;this.JL=f;this.ga=g;this.gR=h;this.re=k;this.f6=m;this.Sb=l;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(24);l=a(7);c=a(240);m=a(55);k=a(426);n=a(425);r=a(870);t=a(869);A=a(87);I=a(30);F=a(429);a=a(23);b.prototype.X5a=function(a){return new r.VSa(this.ta,this.Jf,this.Uq,this.Rwb,a,this.re,this.JL,this.Sb,this.f6);};b.prototype.A5a=function(a,b,c){c=void 0===c?this.re:c;return new t.WHa(this.Jf,a,b,this.Uq,this.ga,this.gR,c);};D=b;D=g.__decorate([f.N(),g.__param(0,f.l(h.Ne)),g.__param(1,f.l(l.ob)),g.__param(2,f.l(c.x_)),g.__param(3,f.l(n.bla)),g.__param(4,f.l(k.Eja)),g.__param(5,f.l(I.yg)),g.__param(6,f.l(A.xY)),g.__param(7,f.l(m.Mk)),g.__param(8,f.l(F.lO)),g.__param(9,f.l(a.df))],D);d.USa=D;},function(g,d,a){var b,f,h,l,c,m;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(239);f=a(427);h=a(871);l=a(868);c=a(424);m=a(867);d.Rc=new g.ic(function(a){a(b.l0).to(h.USa).Y();a(f.qka).to(l.TSa).Y();a(c.Mka).to(m.PTa).Y();});},function(g,d){function a(a,d,g){this.ga=a;this.config=d;this.getTime=g;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.observe=function(a,d){var b;b=this;this.cancel();this.hh=this.ga.Tba(this.config.E7(),function(){b.getTime()>=a&&(b.cancel(),d());});};a.prototype.cancel=function(){this.hh&&(this.hh.cancel(),this.hh=void 0);};d.bPa=a;},function(g,d,a){var f,h,l;function b(a){this.ga=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(873);a=a(30);b.prototype.N4=function(a,b){return new h.bPa(this.ga,a,b);};l=b;l=g.__decorate([f.N(),g.__param(0,f.l(a.yg))],l);d.aPa=l;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(240);f=a(874);d.kkb=new g.ic(function(a){a(b.x_).to(f.aPa).Y();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.reduce=function(a,b,d){for(;void 0!==a;a=a.cause)d=b(d,a);return d;};},function(g,d,a){var A,I,F,D;function b(a,b){this.Ae=a;this.ge=b;this.ld=[];}function f(a){return t.call(this,a,function(a){return{Details:a};})||this;}function h(a){return t.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function l(a,b){b=t.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.Ae=a;return b;}function c(a,b){b=t.call(this,b,function(a){return a();})||this;b.ge=a;return b;}function m(a,b){return n.call(this,a,b,function(a){var b;b=I.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;m.i3a(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);})||this;}function k(a){return t.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function n(a,b,c){b=t.call(this,b,c)||this;b.ge=a;return b;}function r(a){return t.call(this,a,function(a){return{Details:a};})||this;}function t(a,b){this.xp=a;this.value=b?b(a):a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);A=a(1);I=a(876);F=a(23);a=a(39);t.prototype.JJ=function(a){return this.xp===a;};da(r,t);r.prototype.TA=function(a,b){return b?"":"\r\n"+this.xp;};da(n,t);n.prototype.TA=function(){var a;a="";this.ge.Kv(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(ba){try{a+=", "+b+": "+JSON.stringify(c);}catch(Q){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};da(k,t);k.prototype.TA=function(a){var b;b="\r\n"+this.xp.message;a||(b+="\r\n"+this.xp.stack);return b;};da(m,n);m.i3a=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};d.Xzb=m;da(c,t);c.prototype.TA=function(){var a;a="";this.ge.Kv(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};da(l,t);l.prototype.TA=function(a,b){return this.xp&&!b?"\r\n"+this.Ae.encode(this.xp):"";};da(h,t);h.prototype.TA=function(){return this.xp?this.xp.toJSON():"";};da(f,t);f.prototype.TA=function(){return", "+(this.xp.toString?""+this.xp.toString():"");};b.prototype.E_a=function(a){this.ld.push(new r(a));};b.prototype.u_a=function(a){this.ld.push(new n(this.ge,a));};b.prototype.l_a=function(a){this.ld.push(new k(a));};b.prototype.k_a=function(a){this.ld.push(new m(this.ge,a));};b.prototype.o_a=function(a){this.ld.push(new c(this.ge,a));};b.prototype.F_a=function(a){this.ld.push(new l(this.Ae,a));};b.prototype.t_a=function(a){this.ld.push(new h(a));};b.prototype.G_a=function(a){this.ld.push(new f(a));};b.prototype.Mo=function(){return this.ld;};D=b;D=g.__decorate([A.N(),g.__param(0,A.l(a.Uj)),g.__param(1,A.l(F.df))],D);d.MNa=D;},function(g,d,a){var f,h,l,c;function b(a,b){this.Ae=a;this.ge=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(877);l=a(39);a=a(23);b.prototype.ucb=function(){return new h.MNa(this.Ae,this.ge);};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(l.Uj)),g.__param(1,f.l(a.df))],c);d.LNa=c;},function(g,d,a){var f,h;function b(a,b,d,f,g,h,l){this.level=a;this.el=b;this.timestamp=d;this.message=f;this.ld=g;this.prefix=h;this.index=void 0===l?0:l;}Object.defineProperty(d,"__esModule",{value:!0});f=a(3);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.NX=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.Ttb(!!a));return(this.timestamp.ba(f.ha)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.el+"| "+a;};b.prototype.Ttb=function(a){var g;for(var b=this.ld.length,d="",f=0;f<b;++f){g=this.ld[f].xp;f&&d.length&&(d+=" ");if("object"===typeof g)if(null===g)d+="null";else if(g instanceof Error)d+=this.Stb(g,a);else try{d+=JSON.stringify(g);}catch(r){d+=this.Rtb(g);}else d+=g;}return d;};b.prototype.Stb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.Rtb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};d.fHa=b;},function(g,d,a){var f,h;function b(a,b,d,g,h,l){a=f.KG.call(this,a,b,d,g)||this;a.d8=h;Array.isArray(l)?a.prefix=l:l&&"string"===typeof l&&(a.prefix=[],a.prefix.push(l));return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(241);h=a(879);da(b,f.KG);b.prototype.mv=function(a,b,d){a=new h.fHa(a,this.el,this.ta.Tb(),b,d,this.prefix);b=R(this.Ek.Ek);for(d=b.next();!d.done;d=b.next())d=d.value,d(a);};b.prototype.P4=function(a){return new b(this.ta,this.Qs,this.Ek,a,this.d8,this.prefix);};d.gHa=b;},function(g,d,a){var f,h,l;function b(a,b,d,g,h){a=l.KG.call(this,a,b,d,h)||this;a.j=g;f.vl(a,"playback");return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(46);h=a(428);l=a(241);da(b,l.KG);b.prototype.P4=function(a){return new b(this.ta,this.Qs,this.Ek,this.j,a);};b.prototype.mv=function(a,b,d){a=new h.Bha(a,this.el,this.ta.Tb(),b,d,this.j.index);b=R(this.Ek.Ek);for(d=b.next();!d.done;d=b.next())d=d.value,d(a,this.j);};d.sRa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EnumeratedErrorBase=function(a,b,d,g){this.type=a;this.name=a.name;this.number=b;"string"===typeof d?this.message=d:void 0!==d&&(this.cause=d);void 0!==g&&(this.message=g);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(882);d.YC=function(a,d){var c;a=a.ucb();for(var f=0;f<d.length;++f){c=d[f];void 0!=c&&null!=c&&(c.og&&(c=c.og),c.constructor===Uint8Array?a.F_a(c):"MediaRequest"===c.constructor.name?a.t_a(c):"string"===typeof c?a.E_a(c):"function"===typeof c?a.o_a(c):c instanceof Error?a.l_a(c):c instanceof b.EnumeratedErrorBase?a.k_a(c):c instanceof Object?a.u_a(c):a.G_a(c));}return a.Mo();};},function(g,d,a){var f,h,l,c,m,k,n;function b(a,b,c){this.ta=a;this.Ek=b;this.J9=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(241);h=a(1);l=a(881);c=a(24);m=a(95);k=a(7);n=a(880);b.prototype.kb=function(a,b,c,d,g){c=void 0===c?this.Ek:c;return b?new l.sRa(this.ta,this.J9,c,b,a):g?new n.gHa(this.ta,this.J9,c,a,d||"",g):new f.KG(this.ta,this.J9,c,a);};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(c.Ne)),g.__param(1,h.l(m.wB)),g.__param(2,h.l(k.Cha))],a);d.TNa=a;},function(g,d,a){var f;function b(){this.Oca={};this.Ek=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.zW=function(a,b){var c;c=this;b&&(this.Oca[a]=b,this.Ek=Object.keys(this.Oca).map(function(a){return c.Oca[a];}));};f=b;f=g.__decorate([a.N()],f);d.UNa=f;},function(g,d,a){var b,f,h,l,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(885);f=a(884);g=a(1);h=a(95);l=a(7);c=a(878);d.lib=new g.ic(function(a){a(l.ob).to(f.TNa).Y();a(h.wB).to(b.UNa).Y();a(l.Cha).to(c.LNa).Y();});},function(g,d,a){var f,h;function b(a,b){this.ga=a;this.OR=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(30);b.prototype.Nb=function(a){this.Fg();this.hh=this.ga.Og(this.OR,a);};b.prototype.Fg=function(){this.hh&&this.hh.cancel();this.hh=void 0;};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.yg))],h);d.mKa=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lKa="DebouncerFactorySymbol";},function(g,d,a){var f,h,l;function b(a,b,d){this.ga=a;this.Nub=b;this.cw=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(30);h=a(1);l=a(3);b.prototype.jt=function(){this.hh||(this.hh=this.ga.Og(l.Bb(this.Nub),this.cw));};b.prototype.jh=function(){this.hh&&this.hh.cancel();this.hh=void 0;};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(f.yg))],a);d.KTa=a;},function(g,d,a){var f,h,l;function b(a){this.Sb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);l=a(8);b.prototype.c0a=function(a){var b;b={enableVP9:!0};67<=this.lbb(l.$j)&&this.Sb.yk(a,b);};b.prototype.lbb=function(a){return(a=a.match(/Chrome\/(\d*)\./))&&Number(a[1])||0;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.df))],a);d.gUa=a;},function(g,d){function a(){this.searchParams={};}function b(b){this.am=b;this.searchParams=new a();}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};qa.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.am+this.searchParams.toString();}}});d.fUa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.c0="PrioritizedSetOfListsSymbol";d.MRa="PrioritizedSetOfListsFactorySymbol";d.NRa="PrioritizedSetOfSetsFactorySymbol";},function(g,d,a){var f,h,l,c;function b(a,b,c){var d;d=this;this.app=a;this.ga=b;this.OR=c;this.Pt=function(a){d.hh=void 0;d.vvb(a||d.OR);};this.jxa=l.Bb(-this.OR.ba(l.ha));}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(24);l=a(3);a=a(30);b.prototype.Nb=function(a){this.Vba=a;this.hh=this.hh||this.Ab(this.Pt);};b.prototype.Fg=function(){this.hh&&this.hh.cancel();this.hh=void 0;};b.prototype.vvb=function(a){var b,c;b=this.app.Tb();if(this.Vba){c=a.xe(b.xe(this.jxa));0>=c.il(l.sf)?(a=this.Vba,this.Vba=void 0,this.jxa=b,a()):this.hh=this.hh||this.ga.Og(c,this.Pt.bind(this,a));}};b.prototype.Ab=function(a){return this.ga.Og(l.sf,a);};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(h.Ne)),g.__param(1,f.l(a.yg))],c);d.yTa=c;},function(g,d,a){var f,h,l,c,m,k,n,r,t;function b(a,b){this.ta=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(24);c=a(56);m=a(2);k=a(14);n=a(3);r=a(8);a=a(436);b.prototype.J7a=function(a){var b,d,g,h,l,p,q,r,u;b=this;l=a.Zb.value;p=a.un.value;q=a.Mb.value;r=a.state.value;h={segmentId:a.C7(),mediaTime:l,segmentTime:a.iz(),bufferingState:f.J1a[p],presentingState:f.gob[q],playbackState:f.vnb[r],mseBuffersBusy:this.xdb(a),intBuffersBusy:this.icb(a),tabVisible:this.qub(),decodedFrameCount:this.a7a(a),videoElementInDom:this.Nwb(a),lastVideoSync:this.ta.Tb().xe(n.Bb(a.ZM)).ba(n.ha)};u=q===k.fb.cg?a.Wa.Ih?this.config.eAa:this.config.dAa:this.config.Tya;p!==k.Df.cd?(d=m.u.kJa,this.Kpa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.Jea)):q!==k.fb.dd&&(d=m.u.lJa,(a=a.Ig)&&a.wb.sourceBuffers.forEach(function(a){var c,d;c=f.xjb[a.M];h[c+"Ranges"]=a.pT();a=a.buffered();if(0===a.length)h[c+"Undecoded"]=0,g=f.BHa;else{d=1E3*a.end(0)-l;h[c+"Undecoded"]=d;1<a.length&&(g=f.CHa);l<1E3*a.start(0)||l>1E3*a.end(0)?g=f.DHa:d<u.ba(n.ha)?g=f.EHa:b.Kpa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.Jea);}}));a="";try{a=JSON.stringify(h);}catch(z){a="Cannot stringify details: "+z;}return new c.Sc(m.J.Nia,d,g,void 0,void 0,void 0,a,void 0);};b.prototype.xdb=function(a){var b;if(a.wb){b={};a.wb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.icb=function(a){var b;if(a.wb){b={};a.wb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.Aj()};});return b;}};b.prototype.qub=function(){return!r.Wd.hidden;};b.prototype.a7a=function(a){return(a=a.Ig)&&(a=a.wb.Ja)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.Nwb=function(a){if(a=a.Ig)if(a=a.wb.Ja)return r.Wd.body.contains(a);return!1;};b.prototype.Kpa=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};t=f=b;t.BHa="1";t.CHa="2";t.DHa="3";t.Jea="4";t.EHa="5";t.xjb=["Audio","Video"];t.J1a=["","NORMAL","BUFFERING","STALLED"];t.gob=["","WAITING","PLAYING ","PAUSED","ENDED"];t.vnb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];t=f=g.__decorate([h.N(),g.__param(0,h.l(l.Ne)),g.__param(1,h.l(a.jia))],t);d.qKa=t;},function(g,d,a){var f,h,l,c;function b(a,b){this.ta=a;this.entries=[];this.ja=b.kb("TimingApi");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(24);l=a(3);a=a(7);b.prototype.mark=function(a,b){a={name:a,ia:b,Jub:this.ta.Tb()};this.entries.push(a);return a;};b.prototype.Acb=function(){return this.entries.slice();};b.prototype.Nua=function(){var a;a={};try{a=this.Acb().filter(function(a){return!a.ia;}).reduce(function(a,b){a[b.name]=b.Jub.ba(l.ha);return a;},{});}catch(k){this.ja.error(" getMapOfCommonMarks exception",k);}return a;};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(h.Ne)),g.__param(1,f.l(a.ob))],c);d.MTa=c;},function(g,d,a){var f,h,l,c;function b(a){return h.RN.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(32);h=a(35);l=a(1);a=a(27);da(b,h.RN);qa.Object.defineProperties(b.prototype,{QFa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([f.config(f.wd,"usePerformanceApi")],c.prototype,"QFa",null);c=g.__decorate([l.N(),g.__param(0,l.l(a.QY))],c);d.QIa=c;},function(g,d,a){var f,h,l,c;function b(a){a=h.RN.call(this,a,"DebugConfigImpl")||this;a.GHb=function(){debugger;};return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(32);h=a(35);l=a(1);a=a(27);da(b,h.RN);qa.Object.defineProperties(b.prototype,{E1a:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([f.config(f.wd,"breakOnError")],c.prototype,"E1a",null);c=g.__decorate([l.N(),g.__param(0,l.l(a.QY))],c);d.nKa=c;},function(g,d,a){var f,h,l,c;function b(a,b,c){this.config=a;this.Aa=b;this.ja=c.kb("General");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);l=a(89);a=a(7);b.prototype.assert=function(){};b.prototype.p0a=function(a,b){this.assert(this.Aa.hm(a),b);};b.prototype.q0a=function(a,b){this.assert(this.Aa.Nd(a),b);};b.prototype.v0a=function(a,b){this.assert(this.Aa.Vk(a),b);};b.prototype.y0a=function(a,b){this.assert(this.Aa.Wk(a),b);};b.prototype.w0a=function(a,b){this.assert(this.Aa.Vk(a)||null===a||void 0===a,b);};b.prototype.t0a=function(a,b){this.assert(this.Aa.gg(a),b);};b.prototype.s0a=function(a,b){this.assert(this.Aa.a3(a),b);};b.prototype.x0a=function(a,b){this.assert(this.Aa.jq(a),b);};b.prototype.u0a=function(a,b){this.assert(this.Aa.kI(a),b);};b.prototype.n0a=function(a,b){this.assert(this.Aa.iI(a),b);};b.prototype.r0a=function(a,b){this.assert(this.Aa.jI(a),b);};b.prototype.Ufb=function(){this.assert(!1,"invalid operation, this method should not be called");};b.SIb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(u){return u.stack;}};};c=b;c=g.__decorate([f.N(),g.__param(0,f.l(l.Cfa)),g.__param(1,f.l(h.Fe)),g.__param(2,f.l(a.ob))],c);d.oKa=c;},function(g,d,a){var f,h,l,c;function b(a,b){this.is=a;this.ge=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(21);a=a(23);b.prototype.encode=function(a){var b,c;b=this;c="";this.ge.Kv(a,function(a,d){a=b.Jsa(a)+"="+b.Jsa(d);c=c?c+(","+a):a;});return c;};b.prototype.Jsa=function(a){return this.is.hm(a)?this.is.gg(a)?""+a:this.is.Vk(a)?(a=a.replace(f.VBa,this.f$.bind(this)),!f.Vob.test(a)&&f.ukb.test(a)&&(a='"'+a+'"'),a):this.is.iI(a)?""+a:this.is.C2(a)?"NaN":"":"";};b.prototype.f$=function(a){return f.map[a];};c=f=b;c.map={'"':'""',"\r":"","\n":" "};c.VBa=/(?!^.+)["\r\n](?=.+$)/g;c.Vob=/["].*["]/g;c.ukb=/[", ]/;c=f=g.__decorate([h.N(),g.__param(0,h.l(l.Fe)),g.__param(1,h.l(a.df))],c);d.dJa=c;},function(g,d,a){var f,h,l,c;function b(a,b){this.Ta=a;this.jT=this.Ta.kf.ba(l.ha)-1;this.eib=this.EU=0;this.id=""+b.Oy();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(40);l=a(3);a=a(117);b.prototype.Tb=function(){var a,b;a=this.Ta.kf.ba(l.ha)-this.jT;if(a<this.EU){b=this.EU+1;this.jT-=b-a;a=b;}this.EU=a;return l.Bb(this.EU);};b.prototype.vcb=function(){return this.eib++;};qa.Object.defineProperties(b.prototype,{Hz:{configurable:!0,enumerable:!0,get:function(){return l.Bb(this.jT);}}});c=b;c=g.__decorate([f.N(),g.__param(0,f.l(h.Vj)),g.__param(1,f.l(a.vB))],c);d.WGa=c;},function(g){g.T="function"===typeof Object.create?function(d,a){d.eub=a;d.prototype=Object.create(a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});}:function(d,a){function b(){}d.eub=a;b.prototype=a.prototype;d.prototype=new b();d.prototype.constructor=d;};},function(g){g.T=function(d){return d&&"object"===typeof d&&"function"===typeof d.fm&&"function"===typeof d.fill&&"function"===typeof d.wLb;};},function(g,d,a){var f;function b(a){this.Eab=a;this.PT=!1;this.ZT=this.ag=this.QF=0;this.vK=!1;this.$T=0;}Object.defineProperty(d,"__esModule",{value:!0});f=a(439);b.prototype.v_a=function(a){a<this.QF&&(this.ag+=this.QF);this.QF=a;this.PT=!0;};b.prototype.obb=function(){if(this.PT)return this.vK?this.$T-this.ZT:this.ag+this.QF-this.ZT;};b.prototype.refresh=function(){var a;a=this.Eab();f.na(a)&&this.v_a(a);};b.prototype.ltb=function(){this.vK||(this.PT&&(this.$T=this.ag+this.QF),this.vK=!0);};b.prototype.Atb=function(){this.vK&&(this.PT&&(this.ZT+=this.ag+this.QF-this.$T),this.$T=0,this.vK=!1);};d.FPa=b;},function(g,d,a){var f,h,l;function b(a){this.ga=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(30);l=a(61);b.prototype.Gl=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ga.Og(a,function(){f(new l.Zm(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.yg))],a);d.RRa=a;},function(g,d,a){var f,h,l,c,m,k,n,r;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);h=Array.prototype.slice;l=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");c={};m={};k={};n={};r=/\s+/g;[l,h].forEach(function(a){var d;for(var b=a.length;b--;){d=a[b];c[d]=b<<18;m[d]=b<<12;k[d]=b<<6;n[d]=b;}});b.prototype.encode=function(a){return f.W5(a,l,"=");};b.prototype.decode=function(a){return f.i5(a);};b.i5=function(a){var b,d,f;a=a.replace(r,"");b=a.length;d=a.charAt(b-1);"="!==d&&"."!==d||b--;d=a.charAt(b-1);"="!==d&&"."!==d||b--;d=3*(b>>2);f=0;switch(b%4){case 2:f=1;break;case 3:f=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(d+f),g=0,h=0,l;h<d;){l=c[a[g++]]+m[a[g++]]+k[a[g++]]+n[a[g++]];if(!(0<=l&&16777215>=l))throw Error("bad base64");b[h++]=l>>>16;b[h++]=l>>>8&255;b[h++]=l&255;}if(0<f&&(l=c[a[g++]]+m[a[g++]],b[h++]=l>>>16,1<f&&(l+=k[a[g++]],b[h++]=l>>>8&255),!(0<=l&&16776960>=l&&0===(l&(1<f?255:65535)))))throw Error("bad base64");return b;};b.W5=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,k;f<h;){k=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=k&&16777215>=k))throw Error("not bytes");d+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(f==h){k=(a[f++]<<8)+a[f++];if(!(0<=k&&65535>=k))throw Error("not bytes");d+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(f==g-1){k=a[f++];if(!(0<=k&&255>=k))throw Error("not bytes");d+=b[k>>>2]+b[k<<4&63]+c+c;}return d;};h=f=b;h=f=g.__decorate([a.N()],h);d.HHa=h;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.encode=function(a){return f.W5(a);};b.prototype.decode=function(a){return f.i5(a);};b.W5=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,d,f=a.length,g="";b<f;){d=a[b++];if(!(0<=d&&255>=d))throw Error("bad utf8");if(d&128)if(192===(d&224))d=((d&31)<<6)+(a[b++]&63);else if(224===(d&240))d=((d&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(d);}return g;};b.i5=function(a){var b,d,f,g,h;b=a.length;d=0;g=0;if(!(0<=b))throw Error("bad string");for(f=b;f--;)h=a.charCodeAt(f),128>h?d++:d=2048>h?d+2:d+3;d=new Uint8Array(d);for(f=0;f<b;f++)h=a.charCodeAt(f),128>h?d[g++]=h:(2048>h?d[g++]=192|h>>>6:(d[g++]=224|h>>>12,d[g++]=128|h>>>6&63),d[g++]=128|h&63);return d;};h=f=b;h=f=g.__decorate([a.N()],h);d.hUa=h;},function(g,d,a){var f,h,l,c,m,k,n;function b(a,b,c,d){var g;g=this;this.config=a;this.u6a=b;this.Jb=c;this.performance=d;this.Rlb=function(a){g.kDa=a.xe(g.kf);};f.vl(this,"date");f.vl(this,"performance");this.X_a=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.kDa=h.sf;this.Jb.addListener(n.kha.mDa,this.Rlb);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(46);h=a(3);l=a(1);c=a(36);m=a(443);k=a(68);n=a(14);qa.Object.defineProperties(b.prototype,{kf:{configurable:!0,enumerable:!0,get:function(){return this.Xya?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.Bb(this.u6a.now());}},pca:{configurable:!0,enumerable:!0,get:function(){return this.kf.add(this.kDa);}},Xya:{configurable:!0,enumerable:!0,get:function(){return this.config.QFa&&this.X_a;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(m.efa)),g.__param(1,l.l(c.Bfa)),g.__param(2,l.l(k.nZ)),g.__param(3,l.l(c.W_)),g.__param(3,l.optional())],a);d.RIa=a;},function(g,d,a){var f,h;function b(a){this.pub=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(116);b.prototype.random=function(){return this.pub.random();};b.prototype.iba=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.yka))],h);d.cSa=h;},function(g,d,a){var f,h,l,c,m;function b(a,b){this.Ta=a;this.random=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(3);c=a(40);a=a(116);b.prototype.Oy=function(){return this.Ta.kf.ba(l.Ym)*f.Wea+Math.floor(this.random.random()*f.Wea);};m=f=b;m.Wea=1E4;m=f=g.__decorate([h.N(),g.__param(0,h.l(c.Vj)),g.__param(1,h.l(a.dH))],m);d.hNa=m;},function(g,d,a){var h,l,c,m;function b(a){this.VF=a;l.vl(this,"timers");}function f(a,b){this.VF=a;this.q2a=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(46);c=a(36);m=a(3);f.prototype.cancel=function(){this.q2a(this.VF);};b.prototype.Nb=function(a){return this.Og(m.sf,a);};b.prototype.Og=function(a,b){var c;c=this.VF.setTimeout(b,a.ba(m.ha));return new f(this.VF,function(a){a.clearTimeout(c);});};b.prototype.Tba=function(a,b){var c;c=this.VF.setInterval(b,a.ba(m.ha));return new f(this.VF,function(a){a.clearInterval(c);});};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(c.ela))],a);d.OSa=a;},function(g,d,a){var b,f,h,l,c,m,k,n,r,t,A,I,F,D,O,B,N,G,Q,R,z,X,T,Y,V,M,S,Z,U,P,da,ka,Ba,Fa,Ea,ea,ga,ha,ia,la,na,oa,qa,pa,sa,ta,ua,va,wa,Ca,Da,Ha,Ja,Ka,Ma,Na,Oa,Pa,Ta,Va,Xa;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(36);f=a(40);h=a(30);l=a(117);c=a(116);m=a(910);k=a(909);n=a(908);r=a(907);t=a(98);A=a(99);I=a(39);F=a(23);D=a(21);O=a(68);B=a(61);N=a(442);G=a(906);Q=a(244);R=a(905);z=a(441);X=a(904);T=a(143);Y=a(440);V=a(903);M=a(242);S=a(97);Z=a(900);U=a(24);P=a(438);da=a(899);ka=a(898);Ba=a(89);Fa=a(897);Ea=a(7);ea=a(443);ga=a(896);ha=a(115);ia=a(895);la=a(437);na=a(894);oa=a(893);qa=a(96);pa=a(8);sa=a(892);ta=a(435);ua=a(434);va=a(891);wa=a(433);Ca=a(17);Da=a(71);Ha=a(55);Ja=a(432);Ka=a(431);Ma=a(890);Na=a(430);Oa=a(429);Pa=a(133);Ta=a(889);Va=a(888);Xa=a(887);d.l3a=new g.ic(function(a){a(b.Cu).Th(JSON);a(b.ela).Th(L);a(c.yka).Th(Math);a(b.yha).Th(pa.E_);a(b.W_).Th(pa.Pr);a(b.Bfa).Th(Date);a(b.EB).Th(pa.Kk);a(b.UOa).Th(pa.BB);a(ea.efa).to(ga.QIa).Y();a(U.Ne).to(Z.WGa).Y();a(f.Vj).to(r.RIa).Y();a(h.yg).to(m.OSa).Y();a(l.vB).to(k.hNa).Y();a(B.Px).to(X.RRa).Y();a(c.dH).to(n.cSa).Y();a(Ba.pu).to(ka.oKa).Y();a(Ba.Cfa).to(Fa.nKa).Y();a(t.Xx).to(G.hUa).Y();a(A.wx).to(Q.FY).Y();a(I.Uj).to(R.HHa).Y();a(F.df).to(z.Tka).Y();a(D.Fe).Th(T.Bu);a(Na.lO).to(Oa.vLa).Y();a(O.mO).to(Y.Wj).G8();a(O.sG).to(Y.Wj).Y();a(O.nZ).to(Y.Wj).Y();a(M.q0).to(S.Ux).Y();a(P.ofa).to(da.dJa).Y();a(ha.Wx).to(ia.MTa).Y();a("Factory<LoggerFactory>").Qub(Ea.ob);a(la.Ffa).to(na.qKa).Y();a(qa.NB).$f(function(a){return function(b){return new oa.yTa(a.zb.get(U.Ne),a.zb.get(h.yg),b);};});a(Va.lKa).$f(function(a){return function(b){return new Xa.mKa(a.zb.get(h.yg),b);};});a(sa.c0).Sub(ta.Pja);a(sa.MRa).$f(function(a){var b;b=a.zb.get(sa.c0);return function(){return new b(!1);};});a(sa.NRa).$f(function(a){var b;b=a.zb.get(sa.c0);return function(){return new b(!0);};});a(ua.Rka).$f(function(){return function(a){return new va.fUa(a);};});a(Ha.Mk).$f(function(a){return function(b,c,d){var f,g,h;f=a.zb.get(Ba.pu);g=a.zb.get(Ca.pd);h=a.zb.get(Da.Rp);return new wa.yRa(f,g,h,Ja.aia,b,c,d);};});a(N.Cia).$f(function(){return function(a){return new V.FPa(a);};});a(Ka.Ska).to(Ma.gUa).Y();a(Pa.OB).$f(function(a){return function(b,c){return new Ta.KTa(a.zb.get(h.yg),b,c);};});});},function(g,d,a){var b,f,h,l,c,m,k,n,r,t,A,I,F,D,O,B,N,G,Q,L,z,X,T,Y,V,M,R,S,U,P,Z,ka,Ba;Object.defineProperty(d,"__esModule",{value:!0});b=a(911);f=a(886);h=a(875);l=a(872);c=a(866);m=a(863);k=a(859);n=a(847);r=a(836);t=a(833);A=a(829);I=a(827);F=a(668);D=a(665);O=a(661);B=a(648);N=a(641);G=a(634);Q=a(625);L=a(619);z=a(256);X=a(611);T=a(609);Y=a(602);V=a(598);M=a(590);R=a(588);S=a(582);U=a(563);P=a(545);Z=a(541);ka=a(537);Ba=a(526);d.Ghb=function(a){a.load(b.l3a,m.QA,f.lib,k.jS,r.AR,h.kkb,l.Rc,c.Qwb,n.storage,t.C3,A.X1a,I.zib,F.Rn,D.Fh,O.iib,B.Ckb,N.uab,G.Fob,Q.$E,L.B8a,z.eme,X.crypto,T.ge,Y.Mc,V.k0a,M.nkb,R.Lmb,S.j,U.k3a,P.kvb,Z.Dj,ka.Kf,Ba.B0a);};},function(g,d,a){var h,l;function b(a,b,d,f,g){this.ta=a;this.config=b;this.ga=d;this.Pt=f;this.name=g;}function f(a,b,d,f){var c;c=this;this.ta=a;this.ga=b;this.timeout=d;this.Mub=f;this.Aeb=function(){c.VI=!0;c.Ez.cancel();c.Mub();};this.startTime=this.ta.Tb();this.Ez=this.ga.Og(this.timeout,function(){c.Aeb();});this.VI=!1;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(90);f.prototype.stop=function(){this.VI||(this.BX=this.ta.Tb(),this.Ez.cancel());};qa.Object.defineProperties(f.prototype,{vS:{configurable:!0,enumerable:!0,get:function(){if(this.BX&&this.startTime)return this.BX.xe(this.startTime);}}});b.prototype.w2a=function(){var a;a=this;this.cD=new f(this.ta,this.ga,this.config.F8,function(){a.Pt(new l.Pf(h.J.dka,h.u.ZKa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.F8+"ms"));});};b.prototype.v2a=function(){this.cD&&this.cD.stop();};b.prototype.Rrb=function(){this.xM=this.ta.Tb();};b.prototype.x2a=function(){var a;a=this;this.ZX=new f(this.ta,this.ga,this.config.Zba,function(){a.Pt(new l.Pf(h.J.dka,h.u.YKa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Zba+"ms"));});};b.prototype.cqa=function(){this.ZX&&this.ZX.stop();};qa.Object.defineProperties(b.prototype,{Fc:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.cD){b=this.cD.vS;b&&(a.Iya=b);this.xM&&this.cD.BX&&(a.xM=this.xM.xe(this.cD.BX));}this.ZX&&(b=this.ZX.vS)&&(a.Fqa=b);return a;}}});d.hLa=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.usa=function(a,d){for(var b=a.next(),f;b&&!b.done&&b.value;)f=b.value[0],b=b.value[1],d&&d(f,b),b=a.next();};d.kLa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fLa="EmeApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Jr||(d.Jr={});g[g.LFa=0]="usable";g[g.e$a=1]="expired";g[g.Rpb=2]="released";g[g.iAa=3]="outputRestricted";g[g.emb=4]="outputDownscaled";g[g.wtb=5]="statusPending";g[g.Qfb=6]="internalError";},function(g,d,a){var f,h,l,c,m,k,n,r,t,A,I,F,D,O,B,N,G,Q,L,z,X;function b(a,b,d,f,g,k,m,p,n){var q;q=this;this.ta=b;this.bm=d;this.config=f;this.Tf=g;this.zi=k;this.Vo=m;this.ga=p;this.Nj=n;this.onMessage=function(a){var b,c,d;b=q.zi.F4(a);c=b.message;d=b.E$;q.dX(b.sessionId);q.hw=q.zi.hw(b);q.log.trace("Received "+a.type+" event",{messageType:d,isIntermediateChallenge:q.hw});"license-renewal"===d&&(q.log.trace("Received a renewal request"),q.Kh=A.ij.Xm,q.zf=z.sA);q.zf!==z.Vf||q.hw||(q.B9={Vo:q.Vo,data:c},q.$l(I.Mp.MBa));q.zf===z.sA&&q.$l(I.Mp.NBa);q.TK&&(q.TK.next({pq:c,gqa:d,Kh:q.Kh}),q.Kh!==A.ij.Xm||q.hw||(q.TK.complete(),q.TK=void 0));q.zf===z.stop&&(q.jh.v2a(),q.config.xi&&q.oM&&(q.oM.next({pq:c}),q.oM.complete(),q.oM=void 0));};this.Vza=function(a){var b,d;b=q.zi.E4(a).n9;q.dX(a.target.sessionId);q.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{G.kLa.usa(b,function(a,b){q.log.trace("key status: "+b);b=X[b];q.hxa.next({nw:new Uint8Array(a),value:b.status});q.xz(b.error)&&(d=new N.Pf(b.error),q.i9(d));});}catch(Qa){d=new N.Pf(c.J.lQa);d.uJ(Qa);}d?q.j9(d):(q.zi.IR()||q.bxa(),q.Kh!==A.ij.Du||q.zi.s3()||(q.log.info("Kicking off license renewal",{timeout:q.config.qw}),setTimeout(function(){q.eCa();},q.config.qw.ba(l.ha))));};this.SE=function(a){var b;b=q.zi.Oo(a);q.log.error("Received event: "+a.type,b);q.Bt(b);q.j9(b);q.oi||q.sl||q.i9(b);};this.Bt=function(a){q.oi&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.zi.Oo(b));q.oi&&(q.oi.error(a),q.oi=void 0);},function(){q.log.trace("Issuing a generate challenge error");q.oi&&(q.oi.error(a),q.oi=void 0);});};this.axa=function(){q.oi&&(q.oi.complete(),q.oi=void 0);};this.j9=function(a){q.sl&&(q.log.error("Failed to add license",a),q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.zi.Oo(b));q.zf===z.sA&&q.$l(I.Mp.Eoa);q.oi=void 0;q.sl&&(q.sl.error(a),q.sl=void 0);},function(){q.log.trace("Issuing a license error");q.oi=void 0;q.sl&&(q.sl.error(a),q.sl=void 0);}));};this.bxa=function(){q.sl&&(q.log.info("Successfully added license"),q.zf===z.Vf?q.$l(I.Mp.Aoa):q.zf===z.sA&&q.$l(I.Mp.Doa),q.sl.complete(),q.sl=void 0);};this.i9=function(a){q.Wo&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.zi.Oo(b));q.oi=void 0;q.sl=void 0;q.Wo&&(q.Wo.next(a),q.Wo.complete(),q.Wo=void 0);},function(){q.log.trace("Issuing a CDM error");q.oi=void 0;q.sl=void 0;q.Wo&&(q.Wo.next(a),q.Wo.complete(),q.Wo=void 0);});};this.$l=function(a){q.Fc.push({time:q.ta.Tb(),Njb:a});};this.log=a.kb("EmeSession");this.TK=new h.kj();this.config.xi&&(this.oM=new h.kj());this.hxa=new h.TO();this.Wo=new h.kj();this.zf=z.Evb;this.Fc=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(137);l=a(3);c=a(2);m=a(24);k=a(7);n=a(39);r=a(30);t=a(62);A=a(76);I=a(444);F=a(916);D=a(173);O=a(245);B=a(915);N=a(90);G=a(914);Q=a(913);L=a(61);(function(a){a[a.Evb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Vf=3]="license";a[a.sA=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(z||(z={})));X={usable:{status:F.Jr.LFa},expired:{status:F.Jr.e$a,error:c.J.Oia},released:{status:F.Jr.Rpb},"output-not-allowed":{status:F.Jr.iAa,error:c.J.Pia},"output-restricted":{status:F.Jr.iAa,error:c.J.M_},"output-downscaled":{status:F.Jr.emb},"status-pending":{status:F.Jr.wtb},"internal-error":{status:F.Jr.Qfb,error:c.J.kQa}};b.prototype.bE=function(){return this.context.ce;};b.prototype.Wv=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.zf=z.closed;this.Fc=[];return this.Tf.Swa()?(this.log.trace("Closing the session"),this.Tf.aCa(this.onMessage),this.Tf.ZBa(this.Vza),this.Tf.YBa(this.SE),this.xk=void 0,h.Ca.create(function(b){a.Nj.Gl(a.config.Voa,a.Tf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(d){a.log.error("Close failed",d);d=a.zi.Oo(d);d.code=c.J.nQa;b.error(d);});})):h.Ca.empty();};b.prototype.Ogb=function(){return this.hxa.k3();};b.prototype.LJ=function(){return this.Wo?this.Wo.k3():void 0;};b.prototype.Aq=function(){return this.Vo;};b.prototype.dw=function(){return void 0!==this.Vf;};b.prototype.Qo=function(a,b,d,f){var g;g=this;this.Kh=f;this.zf=z.create;this.context=a;this.$l(I.Mp.rxa);return h.Ca.create(function(h){(d.Lva()?Promise.resolve():g.Nj.Gl(g.config.Woa,g.Tf.bra(a,b)).then(function(a){g.log.trace("Created media keys");d.GA(a);return g.b0a(a);})).then(function(){g.xk=d.xk;try{g.Tf.Qo(g.xk,g.zi.O7(f));g.Tf.Boa(g.onMessage);g.Tf.yoa(g.Vza);g.Tf.woa(g.SE);g.dX(g.Tf.Wv());h.next(g);h.complete();}catch(U){h.error(new N.Pf(c.J.SKa,c.u.qh,void 0,"Unable to create a persisted key session",U));}})["catch"](function(a){a.code&&a.Lc?h.error(a):h.error(new N.Pf(c.J.Ufa,a instanceof L.Zm?c.u.vG:c.u.qh,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.psb=function(a){this.eh=a;this.log.toa("xid",a.ia);};b.prototype.hT=function(a){var b;b=this;this.zf=z.Vf;this.log.trace("Generating a license challenge");this.oi=new h.kj();if(!a)return this.l4(new N.Pf(c.J.Xfa,c.u.fZ));if(0===a.length)return this.l4(new N.Pf(c.J.Xfa,c.u.eZ));this.Nj.Gl(this.config.Xoa,this.Tf.Uta("cenc",a)).then(function(){b.dX(b.Tf.Wv());})["catch"](function(a){var d;d=new N.Pf(c.J.Wfa,a instanceof L.Zm?c.u.vG:c.u.qh);d.message="Unable to generate request.";d.uJ(a);b.log.error("Unable to generate a license request",d);b.Bt(d);});this.log.trace("Returning the challenge subject");return this.oi;};b.prototype.zoa=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.Bt(new N.Pf(c.J.Yfa,c.u.eZ))):this.hw?this.Nj.Gl(this.config.d3,this.Tf.update(a)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.zi.Oo(a);a.code=c.J.kO;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Bt(a);}):(this.zf===z.Vf&&(this.$l(I.Mp.LBa),this.Vf=a,this.axa()),this.zf===z.sA&&(this.$l(I.Mp.OBa),this.Vf=a,this.i3())):this.zf===z.sA?(this.$l(I.Mp.PBa),this.i9(a)):this.Bt(a);};b.prototype.i3=function(){var a,b;a=this;if(!this.Vf)return this.l4(new N.Pf(c.J.Yfa,c.u.fZ));this.sl=new h.kj();b=this.Vf;this.Vf=void 0;this.Nj.Gl(this.config.d3,this.Tf.update(b)).then(function(){a.zi.IR()&&a.bxa();})["catch"](function(b){b=a.zi.Oo(b);b.code=c.J.Sia;b.message="Unable to update the EME";a.log.error(b.message,b);a.j9(b);});return this.sl;};b.prototype.UK=function(){return this.TK;};b.prototype.Bab=function(){var a;a=this;if(this.zf===z.Vf&&this.Kh===A.ij.Du)return h.Ca.empty();this.zf=z.stop;this.log.trace("Generating a secure stop challenge");this.oi=new h.kj();this.jh=new Q.hLa(this.ta,this.config,this.ga,function(){a.log.error("got a timeout error");},"non-persisted");this.jh.w2a();this.Tf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var d;d=a.zi.Oo(b);d.code=c.J.$fa;d.Lc=c.u.qh;d.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Bt(d);});return this.oi;};b.prototype.Goa=function(a){a&&a.constructor!==Uint8Array?this.Bt(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Bt(new N.Pf(c.J.Zfa,c.u.eZ))):(this.log.trace("Secure stop is ready to apply"),this.XCa=a,this.jh.Rrb(),this.axa()):(this.log.error("The secure stop buffer is undefined"),this.Bt(new N.Pf(c.J.Zfa,c.u.fZ)));};b.prototype.d0a=function(){var a;a=this;if(!this.XCa)return h.Ca.from([this]);this.log.trace("Setting the secure stop data");return h.Ca.create(function(b){a.jh.x2a();a.Tf.update(a.XCa).then(function(){a.jh.cqa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(d){var f;a.jh.cqa();f=a.zi.Oo(d);f.code=c.J.kO;f.Lc=c.u.qh;f.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:d});b.error(f);});});};b.prototype.b0a=function(a){var b,c;b=this;c=this.zi.Z6();return c?(c=this.bm.decode(c),this.Nj.Gl(this.config.Yoa,this.Tf.BDa(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};b.prototype.dX=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.toa("sessionId",a));};b.prototype.xz=function(a){return a===c.J.M_?this.config.PV:!!a;};b.prototype.eCa=function(){this.log.trace("Initiating a renewal request");this.Kh=A.ij.Xm;this.zf=z.sA;this.zi.T8(this.Tf);};b.prototype.l4=function(a){var b;b=this;return h.Ca.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.ob)),g.__param(1,f.l(m.Ne)),g.__param(2,f.l(n.Uj)),g.__param(3,f.l(t.so)),g.__param(4,f.l(B.fLa)),g.__param(5,f.l(O.LKa)),g.__param(6,f.l(D.NKa)),g.__param(7,f.l(r.yg)),g.__param(8,f.l(L.Px))],a);d.jLa=a;},function(g,d,a){var f,h,l,c,m,k,n,r,t;function b(a,b,c,d,f,g,h){this.jp=a;this.ta=b;this.Ae=c;this.config=d;this.ga=f;this.Nj=g;this.Qn=h;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);l=a(24);c=a(39);m=a(62);k=a(30);n=a(61);r=a(917);a=a(119);b.prototype.create=function(){var a;a=this;return Promise.all([this.Qn.Lbb(),this.Qn.Kbb(),this.Qn.Aq()]).then(function(b){var c,d;c=R(b);b=c.next().value;d=c.next().value;c=c.next().value;return new r.jLa(a.jp,a.ta,a.Ae,a.config,b,d,c,a.ga,a.Nj);});};t=b;t=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(l.Ne)),g.__param(2,f.l(c.Uj)),g.__param(3,f.l(m.so)),g.__param(4,f.l(k.yg)),g.__param(5,f.l(n.Px)),g.__param(6,f.l(a.Lx))],t);d.iLa=t;},function(g,d){function a(a){this.tla=a;this.zma=0;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.next=function(){return this.tla.length>this.zma?{value:this.tla[this.zma++],done:!1}:{done:!0};};d.zea=a;},function(g,d,a){var f,h,l,c,m,k,n,r,t,A;function b(a,b,c,d){this.ge=a;this.Eh=b;this.Om=c;this.Yg=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(23);c=a(99);m=a(98);k=a(919);n=a(90);r=a(61);t=a(76);a=a(62);b.prototype.IR=function(){return!1;};b.prototype.s3=function(){return!1;};b.prototype.O7=function(a){return this.Yg.xi&&a===t.ij.Xm?"persistent-usage-record":"temporary";};b.prototype.Z6=function(){if(this.Yg.DA)return this.Yg.DA;};b.prototype.J7=function(){return[];};b.prototype.hw=function(a){return this.ge.Bv(a.message,this.Om.decode("certificate"));};b.prototype.T8=function(a){a.update(this.Om.decode("renew")).then(function(){});};b.prototype.F4=function(a){return{type:a.type,sessionId:a.target.sessionId,message:a.message,E$:"license-request"};};b.prototype.E4=function(a){var b,c,d,f;b=a.type;a=a.target.sessionId;c=k.zea;d=[1];f=new ArrayBuffer(d.length);f=new Uint8Array(f);f.set(d);return{type:b,sessionId:a,n9:new c([[f,"usable"]])};};b.prototype.Oo=function(a){var b,c,d;b=a.target.error;b&&(c=b.systemCode,d=b.code);b=new n.Pf(h.J.QO,a instanceof r.Zm?h.u.vG:h.u.lB,c?this.Eh.VJ(c,4):d,"",b);b.uJ(a);return b;};A=b;A=g.__decorate([f.N(),g.__param(0,f.l(l.df)),g.__param(1,f.l(c.wx)),g.__param(2,f.l(m.Xx)),g.__param(3,f.l(a.so))],A);d.KSa=A;},function(g,d,a){var f,h,l,c,m,k,n,r,t;function b(a,b,c,d){var f;f=this;this.Sb=a;this.hY=b;this.bm=c;this.Cwa=function(a){return/com.apple.fps/.test(a)&&!/com.apple.fps.2_0/.test(a);};this.f6a=function(a){var b;a=function(a){var c,d;function b(a,b,c){var d,f;d=new Uint8Array("piff"==a?88:72);f=new h.jB(d);f.Br(12);f.zr("frma");f.zr("avc1");f.Br(20);f.zr("schm");f.iG(0);f.iG(0);f.zr(a);f.Br(b);"piff"==a?(f.Br(56),f.zr("schi"),f.Br(48),f.zr("uuid"),f.aB(new Uint8Array([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84]))):(f.Br(40),f.zr("schi"),f.Br(32),f.zr("tenc"));f.iG(0);f.iG(0);f.Br(264);f.aB(c);return d;}c=b("piff",65537,a);c=f.hY.decode(f.bm.encode(c));a=b("cenc",65536,a);a=f.hY.decode(f.bm.encode(a));d=new Uint8Array(7+c.length+8+a.length+5);d.set([91,10,32,32,32,32,34],0);d.set(c,7);d.set([34,44,10,32,32,32,32,34],7+c.length);d.set(a,7+c.length+8);d.set([34,10,32,32,93],7+c.length+8+a.length);return d;}(a);b=new Uint8Array(13+a.length+2);b.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);b.set(a,13);b.set([10,125],13+a.length);return b;};this.pcb=function(a){var b;a=a.subarray(14,30);a=f.bm.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.xqb=function(){f.pj.forEach(function(a){f.la&&f.la.addEventListener(a.name,a.cw);});f.pj.length=0;};this.pj=[];this.log=d.kb("EmeFactory");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(134);l=a(1);c=a(2);m=a(23);k=a(98);n=a(39);r=a(7);t=a(8);b.prototype.Wv=function(){if(this.la)return this.la.sessionId;};b.prototype.jCa=function(a){this.JH=a;return Promise.resolve({});};b.prototype.bra=function(a){var d;function b(){var b,c;b=d.Sb.createElement("div","position:relative;width:100%;height:100%;overflow:hidden",void 0,void 0);c=b.lastChild;d.Ona=b;a.Ja=t.Wd.createElement("VIDEO");c?d.Ona.insertBefore(a.Ja,c):d.Ona.appendChild(a.Ja);}d=this;return new Promise(function(f,g){function h(){try{d.ms=new L.WebKitMediaKeys(d.JH);a.Ja.webkitSetMediaKeys(d.ms);f(d.ms);}catch(N){d.log.error("CREATE: Exception on webkitSetMediaKeys",N);g({W:!1,code:c.J.g0,Sa:d.Sb.ne(N)});}}if(d.Cwa(d.JH))try{d.ms=new L.WebKitMediaKeys(d.JH);a.Ja&&a.Ja.webkitSetMediaKeys(d.ms);f(d.ms);}catch(N){g({W:!1,code:c.J.g0,Sa:d.Sb.ne(N)});}else{try{d.ms=new L.WebKitMediaKeys(d.JH);}catch(N){g({W:!1,code:c.J.g0,Sa:d.Sb.ne(N)});}a.Ja?a.Ja.webkitSetMediaKeys(d.ms):(b(),d.Te=new t.BB(),d.Te.addEventListener("sourceopen",h),d.Li=URL.createObjectURL(d.Te),a.Ja.src=d.Li);f(d.ms);}});};b.prototype.Qo=function(){};b.prototype.Swa=function(){return!!this.la;};b.prototype.BDa=function(){return Promise.resolve();};b.prototype.Uta=function(a,b){try{return this.Cwa(this.JH)&&(b=this.f6a(this.pcb(b))),this.la=this.ms.createSession("video/mp4",b,null),this.xqb(),Promise.resolve();}catch(F){return Promise.reject(F);}};b.prototype.update=function(a){if(!this.la)throw ReferenceError("Unable to update the EME with a response, key session is not valid");try{return this.la.update(a),Promise.resolve();}catch(I){return Promise.reject(I);}};b.prototype.load=function(){return Promise.resolve(!0);};b.prototype.close=function(){if(!this.la)throw ReferenceError("Unable to close a key session, key session is not valid");try{return this.la.close(),Promise.resolve();}catch(A){return Promise.reject(A);}finally{this.la=void 0;}};b.prototype.remove=function(){if(!this.la)throw ReferenceError("Unable to remove a key session, key session is not valid");try{return this.la.close(),Promise.resolve();}catch(A){return Promise.reject(A);}};b.prototype.Boa=function(a){this.la?this.la.addEventListener(f.nB,a):this.pj.push({name:f.nB,cw:a});};b.prototype.yoa=function(a){this.la?this.la.addEventListener(f.iZ,a):this.pj.push({name:f.iZ,cw:a});};b.prototype.woa=function(a){this.la?this.la.addEventListener(f.mB,a):this.pj.push({name:f.mB,cw:a});};b.prototype.aCa=function(a){if(!this.la)throw ReferenceError("Unable to remove message handler, key session is not valid");this.la.removeEventListener(f.nB,a);};b.prototype.ZBa=function(a){if(!this.la)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.la.removeEventListener(f.iZ,a);};b.prototype.YBa=function(a){if(!this.la)throw ReferenceError("Unable to remove error handler, key session is not valid");this.la.removeEventListener(f.mB,a);};a=f=b;a.nB="webkitkeymessage";a.iZ="webkitkeyadded";a.mB="webkitkeyerror";a=f=g.__decorate([l.N(),g.__param(0,l.l(m.df)),g.__param(1,l.l(k.Xx)),g.__param(2,l.l(n.Uj)),g.__param(3,l.l(r.ob))],a);d.GLa=a;},function(g,d,a){var f,h,l,c,m,k,n,r,t;function b(a,b,c,d){this.ge=a;this.Eh=b;this.Yg=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(23);c=a(99);m=a(245);k=a(90);n=a(61);r=a(62);a=a(17);b.prototype.IR=function(){return!0;};b.prototype.s3=function(){return!0;};b.prototype.O7=function(){return"temporary";};b.prototype.Z6=function(){return this.Yg.DA?this.Yg.DA:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};b.prototype.J7=function(){var a,b;a=[{contentType:m.Ol,robustness:"HW_SECURE_DECODE"},{contentType:m.Ol,robustness:"SW_SECURE_DECODE"},{contentType:m.Ol,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:m.Ol,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:m.Ix,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().Eta?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.hw=function(a){return this.ge.Bv(a.message,new Uint8Array([8,4]));};b.prototype.T8=function(){};b.prototype.F4=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),E$:a.messageType};};b.prototype.E4=function(a){return{type:a.type,sessionId:a.target.sessionId,n9:a.target.keyStatuses.entries()};};b.prototype.Oo=function(a){var b,c,d;b=new k.Pf(h.J.QO);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Lc=1<=c&&9>=c?h.u.lB+c:h.u.lB):b.Lc=a instanceof n.Zm?h.u.vG:h.u.qh;try{d=a.message.match(/\((\d*)\)/)[1];b.Gg=this.Eh.VJ(d,4);}catch(O){}b.uJ(a);return b;};t=b;t=g.__decorate([f.N(),g.__param(0,f.l(l.df)),g.__param(1,f.l(c.wx)),g.__param(2,f.l(r.so)),g.__param(3,f.l(a.pd))],t);d.LIa=t;},function(g,d,a){var f,h;function b(a){return h.d0.apply(this,arguments)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(445);da(b,h.d0);a=b;a=g.__decorate([f.N()],a);d.JRa=a;},function(g,d,a){var f,h,l,c,m,k,n,r,t;function b(a,b,c){this.Eh=a;this.Ae=b;this.Yg=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(99);c=a(39);m=a(245);k=a(90);n=a(76);r=a(62);t=a(61);b.prototype.IR=function(){return!0;};b.prototype.s3=function(){return!1;};b.prototype.O7=function(a){return this.Yg.xi&&a===n.ij.Xm?"persistent-usage-record":"temporary";};b.prototype.Z6=function(){if(this.Yg.DA)return this.Yg.DA;};b.prototype.J7=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:m.Ix}],videoCapabilities:[{contentType:m.Ol}],sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.hw=function(){return!1;};b.prototype.T8=function(){};b.prototype.F4=function(a){var b;b=new Uint8Array(a.message);b=this.l6(b,"PlayReadyKeyMessage","Challenge");b=this.Ae.decode(b);return{type:a.type,sessionId:a.target.sessionId,message:b,E$:a.messageType};};b.prototype.E4=function(a){return{type:a.type,sessionId:a.target.sessionId,n9:a.target.keyStatuses.entries()};};b.prototype.Oo=function(a){var b,c;b=new k.Pf(h.J.QO);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Lc=1<=c&&9>=c?h.u.lB+c:h.u.lB):b.Lc=a instanceof t.Zm?h.u.vG:h.u.qh;try{b.Gg=this.Eh.VJ(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(D){}b.uJ(a);return b;};b.prototype.l6=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(l.wx)),g.__param(1,f.l(c.Uj)),g.__param(2,f.l(r.so))],a);d.eLa=a;},function(g,d,a){var f,h,l,c,m,k,n,r,t,A,I,F,D,O,B,N,G,Q,L,z;function b(a,b,c,d,f,g,h,k,l){this.jp=a;this.ge=b;this.Om=c;this.Eh=d;this.Ae=f;this.is=g;this.yV=h;this.config=k;this.Yg=l;this.log=this.jp.kb("MediaKeySystemAccessServices");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(7);c=a(90);m=a(173);k=a(924);n=a(923);r=a(922);t=a(445);A=a(23);I=a(99);F=a(39);D=a(21);O=a(36);B=a(921);N=a(920);G=a(98);Q=a(17);L=a(140);a=a(62);b.prototype.cK=function(){this.Vt||(this.Vt=this.Pqb());return this.Vt;};b.prototype.U5a=function(a){var b;b=this;return new Promise(function(d,f){var g,k;g=L.hb.f7(a);k=b.zua(g);g=b.vua(g);k.jCa(a,g.J7()).then(function(c){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:c.getConfiguration?JSON.stringify(c.getConfiguration()):void 0});d(c);})["catch"](function(d){b.log.error("Unable to create the media key system access object",{keySystem:a,error:d.message});f(new c.Pf(h.J.Vfa,h.u.qh,void 0,"Unable to create media keys system access. "+d.message,d));});});};b.prototype.Aq=function(){var a;a=this;return this.cK().then(function(b){return a.wua(b);});};b.prototype.Jbb=function(){var a,b;a=this;b=this.config().ixa||[this.config().ce];if(1<b.length)return this.cK().then(function(b){return a.wua(b);}).then(function(a){return L.hb.uua(a);});b=L.hb.f7(b[0]);return Promise.resolve(L.hb.uua(b));};b.prototype.Kbb=function(){var a;a=this;return this.Aq().then(function(b){return a.vua(b);});};b.prototype.Lbb=function(){var a;a=this;return this.Aq().then(function(b){return a.zua(b);});};b.prototype.wua=function(a){return L.hb.f7(a.keySystem);};b.prototype.vua=function(a){switch(a){case m.ro.kA:return new k.eLa(this.Eh,this.Ae,this.Yg);case m.ro.SD:return new N.KSa(this.ge,this.Eh,this.Om,this.Yg);default:return new r.LIa(this.ge,this.Eh,this.Yg,this.config);}};b.prototype.zua=function(a){switch(a){case m.ro.kA:return new n.JRa(this.yV,this.is);case m.ro.SD:return new B.GLa(this.ge,this.Om,this.Ae,this.jp);default:return new t.d0(this.yV,this.is);}};b.prototype.Pqb=function(){var a,b;a=this;b=(this.config().ixa||[this.config().ce]).map(function(b){return function(){return a.U5a(b);};});return this.Qqb(b);};b.prototype.Qqb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};z=b;z=g.__decorate([f.N(),g.__param(0,f.l(l.ob)),g.__param(1,f.l(A.df)),g.__param(2,f.l(G.Xx)),g.__param(3,f.l(I.wx)),g.__param(4,f.l(F.Uj)),g.__param(5,f.l(D.Fe)),g.__param(6,f.l(O.EB)),g.__param(7,f.l(Q.pd)),g.__param(8,f.l(a.so))],z);d.NOa=z;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(77);a=a(78);g=function(a){function c(b){a.call(this);this.mlb=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.fg=function(a){return new h(a,this.mlb);};return c;}(g.Ca);d.rKa=g;h=function(a){function c(b,c){a.call(this,b);this.Nv=c;this.uvb();}b(c,a);c.prototype.uvb=function(){try{this.hVa();}catch(m){this.Jd(m);}};c.prototype.hVa=function(){var a;a=this.Nv();a&&this.add(f.fu(this,a));};return c;}(a.Tr);},function(g,d,a){g=a(926);d.defer=g.rKa.create;},function(g,d,a){g=a(10);a=a(927);g.Ca.defer=a.defer;},function(g,d,a){g=a(10);a=a(455);g.Ca.from=a.from;},function(g,d,a){var f,h,l,c,m,k,n,r,t,A,I;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.sx(a).ng(new n(b));}f=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(100);l=a(101);g=a(45);c=a(78);m=a(77);k=a(170);d.hea=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.ng.call(b.apply(void 0,[c].concat(a)));};};d.txb=b;n=function(){function a(a){this.Mg=a;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.Mg));};return a;}();d.BFb=n;r=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.k9=[];this.active=0;this.Mg="function"===typeof c?c:null;this.values=d;}f(b,a);b.prototype.zh=function(a){var b;b=this.k9;l.isArray(a)?b.push(new A(a)):"function"===typeof a[k.iterator]?b.push(new t(a[k.iterator]())):b.push(new I(this.destination,this,a));};b.prototype.jc=function(){var a,b,d;a=this.k9;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.xtb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.Skb=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.I2a=function(){var f,k;for(var a=this.k9,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.ap&&!f.ap())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];k=f.next();f.lE()&&(g=!0);if(k.done){c.complete();return;}h.push(k.value);}this.Mg?this.u2(h):c.next(h);g&&c.complete();};b.prototype.u2=function(a){var b;try{b=this.Mg.apply(this,a);}catch(N){this.destination.error(N);return;}this.destination.next(b);};return b;}(g.Ei);d.CFb=r;t=function(){function a(a){this.iterator=a;this.V$=a.next();}a.prototype.ap=function(){return!0;};a.prototype.next=function(){var a;a=this.V$;this.V$=this.iterator.next();return a;};a.prototype.lE=function(){var a;a=this.V$;return a&&a.done;};return a;}();A=function(){function a(a){this.jk=a;this.length=this.index=0;this.length=a.length;}a.prototype[k.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.jk;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.ap=function(){return this.jk.length>this.index;};a.prototype.lE=function(){return this.jk.length===this.index;};return a;}();I=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.xtb=!0;this.buffer=[];this.gw=!1;}f(b,a);b.prototype[k.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.gw?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.ap=function(){return 0<this.buffer.length;};b.prototype.lE=function(){return 0===this.buffer.length&&this.gw;};b.prototype.zl=function(){0<this.buffer.length?(this.gw=!0,this.parent.Skb()):this.destination.complete();};b.prototype.Yz=function(a,b){this.buffer.push(b);this.parent.I2a();};b.prototype.subscribe=function(a,b){return m.fu(this,this.observable,this,b);};return b;}(c.Tr);},function(g,d,a){g=a(930);d.hea=g.txb;},function(g,d,a){g=a(10);a=a(931);g.Ca.hea=a.hea;},function(g,d,a){var b,f,h,l,c,m,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(100);h=a(101);g=a(78);l=a(77);c={};d.p4=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.ng.call(new f.sx([b].concat(a)),new m(c));};};m=function(){function a(a){this.Mg=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Mg));};return a;}();d.TIa=m;k=function(a){function d(b,c){a.call(this,b);this.Mg=c;this.active=0;this.values=[];this.Nza=[];}b(d,a);d.prototype.zh=function(a){this.values.push(c);this.Nza.push(a);};d.prototype.jc=function(){var a,b,d;a=this.Nza;b=a.length;if(0===b)this.destination.complete();else{this.Eda=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(l.fu(this,d,d,c));}}};d.prototype.zl=function(){0===--this.active&&this.destination.complete();};d.prototype.Yz=function(a,b,d){var f;a=this.values;f=a[d];f=this.Eda?f===c?--this.Eda:this.Eda:0;a[d]=b;0===f&&(this.Mg?this.u2(a):this.destination.next(a.slice()));};d.prototype.u2=function(a){var b;try{b=this.Mg.apply(this,a);}catch(I){this.destination.error(I);return;}this.destination.next(b);};return d;}(g.Tr);d.Uyb=k;},function(g,d,a){var b,f,h,l;b=a(118);f=a(101);h=a(100);l=a(933);d.p4=function(){var g;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];g=d=null;b.Az(a[a.length-1])&&(g=a.pop());"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&f.isArray(a[0])&&(a=a[0]);return new h.sx(a,g).ng(new l.TIa(d));};},function(g,d,a){g=a(10);a=a(934);g.Ca.p4=a.p4;},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(448);g=a(10);h=a(169);l=a(118);c=a(450);a=function(a){function d(b,d,g){void 0===b&&(b=0);a.call(this);this.St=-1;this.ssa=0;f.Jwa(d)?this.St=1>Number(d)&&1||Number(d):l.Az(d)&&(g=d);l.Az(g)||(g=h.async);this.ga=g;this.ssa=c.FK(b)?+b-this.ga.now():b;}b(d,a);d.create=function(a,b,c){void 0===a&&(a=0);return new d(a,b,c);};d.Ab=function(a){var b,c,d;b=a.index;c=a.St;d=a.Mf;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.Nb(a,c);}};d.prototype.fg=function(a){return this.ga.Nb(d.Ab,this.ssa,{index:0,St:this.St,Mf:a});};return d;}(g.Ca);d.LTa=a;},function(g,d,a){g=a(936);d.hu=g.LTa.create;},function(g,d,a){g=a(10);a=a(937);g.Ca.hu=a.hu;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this);this.error=b;this.ga=c;}b(d,a);d.create=function(a,b){return new d(a,b);};d.Ab=function(a){a.Mf.error(a.error);};d.prototype.fg=function(a){var b,f;b=this.error;f=this.ga;a.Hk=!0;if(f)return f.Nb(d.Ab,0,{error:b,Mf:a});a.error(b);};return d;}(a(10).Ca);d.sLa=g;},function(g,d,a){g=a(939);d.rZa=g.sLa.create;},function(g,d,a){g=a(10);a=a(940);g.Ca["throw"]=a.rZa;},function(g,d,a){g=a(449);d.$z=g.Hlb;},function(g,d,a){g=a(10);a=a(942);g.Ca.$z=a.$z;},function(g,d,a){g=a(10);a=a(456);g.Ca.of=a.of;},function(g,d,a){var b,f,h,l;b=a(10);f=a(100);h=a(118);l=a(246);d.D$=function(){var d,g,n;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];d=Number.POSITIVE_INFINITY;g=null;n=a[a.length-1];h.Az(n)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(d=a.pop())):"number"===typeof n&&(d=a.pop());return null===g&&1===a.length&&a[0]instanceof b.Ca?a[0]:l.Fw(d)(new f.sx(a,g));};},function(g,d,a){g=a(10);a=a(945);g.Ca.D$=a.D$;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(448);g=a(10);h=a(169);a=function(a){function c(b,c){void 0===b&&(b=0);void 0===c&&(c=h.async);a.call(this);this.St=b;this.ga=c;if(!f.Jwa(b)||0>b)this.St=0;c&&"function"===typeof c.Nb||(this.ga=h.async);}b(c,a);c.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new c(a,b);};c.Ab=function(a){var b,c;b=a.Mf;c=a.St;b.next(a.index);b.closed||(a.index+=1,this.Nb(a,c));};c.prototype.fg=function(a){var b;b=this.St;a.add(this.ga.Nb(c.Ab,b,{index:0,Mf:a,St:b}));};return c;}(g.Ca);d.pNa=a;},function(g,d,a){g=a(947);d.interval=g.pNa.create;},function(g,d,a){g=a(10);a=a(948);g.Ca.interval=a.interval;},function(g,d,a){g=a(453);d.Rv=g.Rja.create;},function(g,d,a){g=a(10);a=a(950);g.Ca.Rv=a.Rv;},function(g,d,a){g=a(135);d.empty=g.wG.create;},function(g,d,a){g=a(10);a=a(952);g.Ca.empty=a.empty;},function(g,d,a){g=a(10);a=a(136);g.Ca.concat=a.concat;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(78);f=a(77);d.IX=function(a,b){return function(c){return c.ng(new h(a,b));};};h=function(){function a(a,b){this.Mg=a;this.Dk=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Mg,this.Dk));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.Mg=c;this.Dk=d;this.index=0;}b(c,a);c.prototype.zh=function(a){var b,c;c=this.index++;try{b=this.Mg(a,c);}catch(y){this.destination.error(y);return;}this.r1(b,a,c);};c.prototype.r1=function(a,b,c){var d;d=this.nU;d&&d.unsubscribe();this.add(this.nU=f.fu(this,a,b,c));};c.prototype.jc=function(){var b;b=this.nU;b&&!b.closed||a.prototype.jc.call(this);};c.prototype.Cs=function(){this.nU=null;};c.prototype.zl=function(b){this.remove(b);this.nU=null;this.yf&&a.prototype.jc.call(this);};c.prototype.Yz=function(a,b,c,d){this.Dk?this.zZa(a,b,c,d):this.destination.next(b);};c.prototype.zZa=function(a,b,c,d){var f;try{f=this.Dk(a,b,c,d);}catch(I){this.destination.error(I);return;}this.destination.next(f);};return c;}(g.Tr);},function(g,d,a){var b;b=a(955);d.IX=function(a,d){return b.IX(a,d)(this);};},function(g,d,a){g=a(10);a=a(956);g.Ca.prototype.IX=a.IX;},function(g,d,a){var b,f;b=a(462);d.rkb=function(a,d){return function(c){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof d)return c.ng(new f(g,d));h=Object.create(c,b.D3a);h.source=c;h.GX=g;return h;};};f=function(){function a(a,b){this.GX=a;this.tM=b;}a.prototype.call=function(a,b){var c,d;c=this.tM;d=this.GX();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();d.XBb=f;},function(g,d,a){var b,f;b=a(464);f=a(958);d.nW=function(a,d,c,g){var h,l;c&&"function"!==typeof c&&(g=c);h="function"===typeof c?c:void 0;l=new b.TO(a,d,g);return function(a){return f.rkb(function(){return l;},h)(a);};};},function(g,d,a){var b;b=a(959);d.nW=function(a,d,g,c){return b.nW(a,d,g,c)(this);};},function(g,d,a){g=a(10);a=a(960);g.Ca.prototype.nW=a.nW;},function(g,d,a){var b,f,h,l,c;b=a(100);f=a(247);h=a(135);l=a(136);c=a(118);d.yX=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){var g,k;g=a[a.length-1];c.Az(g)?a.pop():g=null;k=a.length;return 1===k?l.concat(new f.k0(a[0],g),d):1<k?l.concat(new b.sx(a,g),d):l.concat(new h.wG(g),d);};};},function(g,d,a){var b;b=a(962);d.yX=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.yX.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(963);g.Ca.prototype.yX=a.yX;},function(){},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(78);f=a(77);d.dN=function(a){return function(b){return b.ng(new h(a));};};h=function(){function a(a){this.Va=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Va));};return a;}();l=function(a){function c(b,c){a.call(this,b);this.Va=c;this.add(f.fu(this,c));}b(c,a);c.prototype.Yz=function(){this.complete();};c.prototype.zl=function(){};return c;}(g.Tr);},function(g,d,a){var b;b=a(966);d.dN=function(a){return b.dN(a)(this);};},function(g,d,a){g=a(10);a=a(967);g.Ca.prototype.dN=a.dN;},function(g,d){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);d.XGa=g;},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(45);f=a(969);h=a(135);d.cN=function(a){return function(b){return 0===a?new h.wG():b.ng(new l(a));};};l=function(){function a(a){this.total=a;if(0>this.total)throw new f.XGa();}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.total));};return a;}();c=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.zh=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(g.Ei);},function(g,d,a){var b;b=a(970);d.cN=function(a){return b.cN(a)(this);};},function(g,d,a){g=a(10);a=a(971);g.Ca.prototype.cN=a.cN;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(45);d.GM=function(a){return function(b){return b.ng(new f(a));};};f=function(){function a(a){this.Sw=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Sw));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Sw=c;this.Uca=!0;this.index=0;}b(c,a);c.prototype.zh=function(a){var b;b=this.destination;this.Uca&&this.tvb(a);this.Uca||b.next(a);};c.prototype.tvb=function(a){try{this.Uca=!!this.Sw(a,this.index++);}catch(k){this.destination.error(k);}};return c;}(g.Ei);},function(g,d,a){var b;b=a(973);d.GM=function(a){return b.GM(a)(this);};},function(g,d,a){g=a(10);a=a(974);g.Ca.prototype.GM=a.GM;},function(g,d,a){var b;b=a(449);d.$z=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.$z.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(976);g.Ca.prototype.$z=a.$z;},function(g,d,a){var b;b=a(451);d.IE=function(a,d,g){void 0===g&&(g=Number.POSITIVE_INFINITY);return b.IE(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(978);g.Ca.prototype.IE=a.IE;g.Ca.prototype.Pv=a.IE;},function(g,d,a){var b;b=a(246);d.Fw=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.Fw(a)(this);};},function(g,d,a){g=a(10);a=a(980);g.Ca.prototype.Fw=a.Fw;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(45);d.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.ng(new f(a,b));};};f=function(){function a(a,b){this.Mg=a;this.tda=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Mg,this.tda));};return a;}();d.PBb=f;h=function(a){function c(b,c,d){a.call(this,b);this.Mg=c;this.count=0;this.tda=d||this;}b(c,a);c.prototype.zh=function(a){var b;try{b=this.Mg.call(this.tda,a,this.count++);}catch(u){this.destination.error(u);return;}this.destination.next(b);};return c;}(g.Ei);},function(g,d,a){var b;b=a(982);d.map=function(a,d){return b.map(a,d)(this);};},function(g,d,a){g=a(10);a=a(983);g.Ca.prototype.map=a.map;},function(g,d){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);d.lLa=g;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(45);f=a(985);d.dh=function(a,b,d){return function(c){return c.ng(new h(a,b,d,c));};};h=function(){function a(a,b,c,d){this.Sw=a;this.Dk=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Sw,this.Dk,this.defaultValue,this.source));};return a;}();l=function(a){function c(b,c,d,f,g){a.call(this,b);this.Sw=c;this.Dk=d;this.defaultValue=f;this.source=g;this.ap=!1;this.index=0;"undefined"!==typeof f&&(this.IU=f,this.ap=!0);}b(c,a);c.prototype.zh=function(a){var b;b=this.index++;this.Sw?this.AZa(a,b):this.Dk?this.eoa(a,b):(this.IU=a,this.ap=!0);};c.prototype.AZa=function(a,b){var c;try{c=this.Sw(a,b,this.source);}catch(y){this.destination.error(y);return;}c&&(this.Dk?this.eoa(a,b):(this.IU=a,this.ap=!0));};c.prototype.eoa=function(a,b){var c;try{c=this.Dk(a,b);}catch(y){this.destination.error(y);return;}this.IU=c;this.ap=!0;};c.prototype.jc=function(){var a;a=this.destination;this.ap?(a.next(this.IU),a.complete()):a.error(new f.lLa());};return c;}(g.Ei);},function(g,d,a){var b;b=a(986);d.dh=function(a,d,g){return b.dh(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(987);g.Ca.prototype.dh=a.dh;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(45);d.rub=function(a,b,d){return function(c){return c.ng(new h(a,b,d));};};h=function(){function a(a,b,c){this.Ekb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Ekb,this.error,this.complete));};return a;}();l=function(a){function c(b,c,d,g){a.call(this,b);b=new f.Ei(c,d,g);b.Hk=!0;this.add(b);this.Oba=b;}b(c,a);c.prototype.zh=function(a){var b;b=this.Oba;b.next(a);b.MA?this.destination.error(b.NA):this.destination.next(a);};c.prototype.Jd=function(a){var b;b=this.Oba;b.error(a);b.MA?this.destination.error(b.NA):this.destination.error(a);};c.prototype.jc=function(){var a;a=this.Oba;a.complete();a.MA?this.destination.error(a.NA):this.destination.complete();};return c;}(f.Ei);},function(g,d,a){var b;b=a(989);d.d1=function(a,d,g){return b.rub(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(990);g.Ca.prototype.vJ=a.d1;g.Ca.prototype.d1=a.d1;},function(g,d,a){function b(){return function(){function a(){this.Uk=[];}a.prototype.add=function(a){this.has(a)||this.Uk.push(a);};a.prototype.has=function(a){return-1!==this.Uk.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.Uk.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.Uk.length=0;};return a;}();}g=a(79);d.pKb=b;d.Set=g.root.Set||b();},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(78);f=a(77);h=a(992);d.oS=function(a,b){return function(c){return c.ng(new l(a,b));};};l=function(){function a(a,b){this.BU=a;this.aab=b;}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.BU,this.aab));};return a;}();c=function(a){function c(b,c,d){a.call(this,b);this.BU=c;this.values=new h.Set();d&&this.add(f.fu(this,d));}b(c,a);c.prototype.Yz=function(){this.values.clear();};c.prototype.aaa=function(a){this.Jd(a);};c.prototype.zh=function(a){this.BU?this.KZa(a):this.jma(a,a);};c.prototype.KZa=function(a){var b,c;c=this.destination;try{b=this.BU(a);}catch(A){c.error(A);return;}this.jma(b,a);};c.prototype.jma=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return c;}(g.Tr);d.wzb=c;},function(g,d,a){var b;b=a(993);d.oS=function(a,d){return b.oS(a,d)(this);};},function(g,d,a){g=a(10);a=a(994);g.Ca.prototype.oS=a.oS;},function(g,d,a){var b,f,h,l,c,m,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(169);h=a(450);g=a(45);l=a(248);d.Od=function(a,b){var d;void 0===b&&(b=f.async);d=h.FK(a)?+a-b.now():Math.abs(a);return function(a){return a.ng(new c(d,b));};};c=function(){function a(a,b){this.Od=a;this.ga=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Od,this.ga));};return a;}();m=function(a){function c(b,c,d){a.call(this,b);this.Od=c;this.ga=d;this.fh=[];this.Usa=this.active=!1;}b(c,a);c.Ab=function(a){for(var b=a.source,c=b.fh,d=a.ga,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.Nb(a,b)):(this.unsubscribe(),b.active=!1);};c.prototype.JYa=function(a){this.active=!0;this.add(a.Nb(c.Ab,this.Od,{source:this,destination:this.destination,ga:a}));};c.prototype.RCa=function(a){var b;if(!0!==this.Usa){b=this.ga;a=new k(b.now()+this.Od,a);this.fh.push(a);!1===this.active&&this.JYa(b);}};c.prototype.zh=function(a){this.RCa(l.Notification.M4(a));};c.prototype.Jd=function(a){this.Usa=!0;this.fh=[];this.destination.error(a);};c.prototype.jc=function(){this.RCa(l.Notification.I4());};return c;}(g.Ei);k=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(g,d,a){var b,f;b=a(169);f=a(996);d.Od=function(a,d){void 0===d&&(d=b.async);return f.Od(a,d)(this);};},function(g,d,a){g=a(10);a=a(997);g.Ca.prototype.Od=a.Od;},function(g,d,a){var b;b=a(452);d.aJ=function(){return b.aJ()(this);};},function(g,d,a){g=a(10);a=a(999);g.Ca.prototype.aJ=a.aJ;},function(g,d){d.kfb=function(a){return a;};},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(247);h=a(135);a=function(a){function c(b,c){a.call(this);this.j3=b;(this.ga=c)||1!==b.length||(this.ks=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){var d;d=a.length;return 0===d?new h.wG():1===d?new f.k0(a[0],b):new c(a,b);};c.Ab=function(a){var b,c,d;b=a.j3;c=a.index;d=a.Mf;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.Nb(a)));};c.prototype.fg=function(a){var b,d,f;b=this.j3;d=this.ga;f=b.length;if(d)return d.Nb(c.Ab,0,{j3:b,index:0,length:f,Mf:a});for(d=0;d<f&&!a.closed;d++)a.next(b[d]);a.complete();};return c;}(g.Ca);d.ZGa=a;},function(g,d,a){var b,f,h,l,c,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(79);g=a(10);h=a(170);a=function(a){function d(b,d){a.call(this);this.ga=d;if(null==b)throw Error("iterator cannot be null.");if((d=b[h.iterator])||"string"!==typeof b)if(d||void 0===b.length){if(!d)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new c(b);else b=new l(b);this.iterator=b;}b(d,a);d.create=function(a,b){return new d(a,b);};d.Ab=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.Mf;if(a.nK)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.Nb(a));}};d.prototype.fg=function(a){var b,c;b=this.iterator;c=this.ga;if(c)return c.Nb(d.Ab,0,{index:0,iterator:b,Mf:a});do{c=b.next();if(c.done){a.complete();break;}else a.next(c.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return d;}(g.Ca);d.tNa=a;l=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.cx=a;this.uK=b;this.A9=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.uK<this.A9?{done:!1,value:this.cx.charAt(this.uK++)}:{done:!0,value:void 0};};return a;}();c=function(){function a(a,b,c){var d;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&f.root.isFinite(c)){d=+c;c=(0===d||isNaN(d)?d:0>d?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>m?m:c;}this.f0a=a;this.uK=b;this.A9=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.uK<this.A9?{done:!1,value:this.f0a[this.uK++]}:{done:!0,value:void 0};};return a;}();m=Math.pow(2,53)-1;},function(g,d,a){var b;b=a(136);g=a(136);d.y3a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){return d.ng.call(b.concat.apply(void 0,[d].concat(a)));};};},function(g,d,a){var b;b=a(1004);g=a(136);d.y3a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.concat.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(1005);g.Ca.prototype.concat=a.concat;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c,d){a.call(this);this.parent=b;this.dmb=c;this.cmb=d;this.index=0;}b(d,a);d.prototype.zh=function(a){this.parent.Yz(this.dmb,a,this.cmb,this.index++,this);};d.prototype.Jd=function(a){this.parent.aaa(a,this);this.unsubscribe();};d.prototype.jc=function(){this.parent.zl(this);this.unsubscribe();};return d;}(a(45).Ei);d.iha=g;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(78);f=a(77);d.t2a=function(a){return function(b){var c;c=new h(a);b=b.ng(c);return c.T3=b;};};h=function(){function a(a){this.tM=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.tM,this.T3));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.tM=c;this.T3=d;}b(c,a);c.prototype.error=function(b){var c;if(!this.yf){c=void 0;try{c=this.tM(b,this.T3);}catch(r){a.prototype.error.call(this,r);return;}this.DZa();this.add(f.fu(this,c));}};return c;}(g.Tr);},function(g,d,a){var b;b=a(1008);d.S0=function(a){return b.t2a(a)(this);};},function(g,d,a){g=a(10);a=a(1009);g.Ca.prototype["catch"]=a.S0;g.Ca.prototype.S0=a.S0;},function(g,d,a){var b,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(250);a=function(a){function d(b,d){var c;c=this;void 0===b&&(b=f);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b,function(){return c.frame;});this.Vib=d;this.frame=0;this.index=-1;}b(d,a);d.prototype.flush=function(){for(var a=this.ik,b=this.Vib,d,f;(f=a.shift())&&(this.frame=f.Od)<=b&&!(d=f.lf(f.state,f.Od)););if(d){for(;f=a.shift();)f.unsubscribe();throw d;}};d.M6=10;return d;}(a(249).CY);d.sUa=a;f=function(a){function d(b,d,f){void 0===f&&(f=b.index+=1);a.call(this,b,d);this.ga=b;this.HN=d;this.index=f;this.active=!0;this.index=b.index=f;}b(d,a);d.prototype.Nb=function(b,f){var c;void 0===f&&(f=0);if(!this.id)return a.prototype.Nb.call(this,b,f);this.active=!1;c=new d(this.ga,this.HN);this.add(c);return c.Nb(b,f);};d.prototype.FW=function(a,b,f){void 0===f&&(f=0);this.Od=a.frame+f;a=a.ik;a.push(this);a.sort(d.gtb);return!0;};d.prototype.xW=function(){};d.prototype.KP=function(b,d){if(!0===this.active)return a.prototype.KP.call(this,b,d);};d.gtb=function(a,b){return a.Od===b.Od?a.index===b.index?0:a.index>b.index?1:-1:a.Od>b.Od?1:-1;};return d;}(g.BY);d.rUa=f;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(171);h=a(69);g=a(461);a=a(459);f=function(a){function c(b,c){a.call(this);this.Tq=b;this.PM=[];this.ga=c;}b(c,a);c.prototype.fg=function(b){var c,d;c=this;d=c.Ixa();b.add(new h.Nk(function(){c.Jxa(d);}));return a.prototype.fg.call(this,b);};c.prototype.Fsb=function(){for(var a=this,b=a.Tq.length,c=0;c<b;c++)(function(){var b;b=a.Tq[c];a.ga.Nb(function(){b.notification.observe(a);},b.frame);}());};return c;}(f.kj);d.OAb=f;a.dpa(f,[g.xka]);},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);h=a(69);g=a(461);a=a(459);f=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.Ixa();a.add(new h.Nk(function(){b.Jxa(c);}));b.$qb(a);return a;});this.Tq=b;this.PM=[];this.ga=c;}b(c,a);c.prototype.$qb=function(a){var d;for(var b=this.Tq.length,c=0;c<b;c++){d=this.Tq[c];a.add(this.ga.Nb(function(a){a.message.notification.observe(a.Mf);},d.frame,{message:d,Mf:a}));}};return c;}(f.Ca);d.SIa=f;a.dpa(f,[g.xka]);},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);f=a(248);h=a(1013);a(1012);l=a(460);c=a(1011);g=function(a){function d(b){a.call(this,c.rUa,750);this.o0a=b;this.afb=[];this.Z$a=[];}b(d,a);d.prototype.flush=function(){var c;for(var b=this.afb;0<b.length;)b.shift().Fsb();a.prototype.flush.call(this);for(b=this.Z$a.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.o0a(c.xy,c.Gn);}};d.YKb=function(a){var h,k;if("string"!==typeof a)return new l.fH(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.M6;k=a[g];switch(k){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}}return 0>f?new l.fH(d):new l.fH(d,f);};d.XKb=function(a,b,c,d){var q,r,t;void 0===d&&(d=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,k=[],l=a.indexOf("^"),l=-1===l?0:l*-this.M6,m="object"!==typeof b?function(a){return a;}:function(a){return d&&b[a]instanceof h.SIa?b[a].Tq:b[a];},n=-1,p=0;p<g;p++){q=p*this.M6+l;r=void 0;t=a[p];switch(t){case"-":case" ":break;case"(":n=q;break;case")":n=-1;break;case"|":r=f.Notification.I4();break;case"^":break;case"#":r=f.Notification.Zqa(c||"error");break;default:r=f.Notification.M4(m(t));}r&&k.push({frame:-1<n?n:q,notification:r});}return k;};return d;}(c.sUa);d.Hka=g;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(45);d.yW=function(){return function(a){return a.ng(new f(a));};};f=function(){function a(a){this.em=a;}a.prototype.call=function(a,b){var c;c=this.em;c.dv++;a=new h(a,c);b=b.subscribe(a);a.closed||(a.No=c.connect());return b;};return a;}();h=function(a){function c(b,c){a.call(this,b);this.em=c;}b(c,a);c.prototype.Cs=function(){var a,b;a=this.em;if(a){this.em=null;b=a.dv;0>=b?this.No=null:(a.dv=b-1,1<b?this.No=null:(b=this.No,a=a.Ru,this.No=null,!a||b&&a!==b||a.unsubscribe()));}else this.No=null;};return c;}(g.Ei);},function(g,d){g=function(){function a(b,d){void 0===d&&(d=a.now);this.NSa=b;this.now=d;}a.prototype.Nb=function(a,d,g){void 0===d&&(d=0);return new this.NSa(this,a).Nb(g,d);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();d.MSa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.apply(this,arguments);}b(d,a);return d;}(a(249).CY);d.WRa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.call(this);}b(d,a);d.prototype.Nb=function(){return this;};return d;}(a(69).Nk);d.QGa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this,b,c);this.ga=b;this.HN=c;}b(d,a);d.prototype.Nb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.Nb.call(this,b,c);this.Od=c;this.state=b;this.ga.flush(this);return this;};d.prototype.lf=function(b,c){return 0<c||this.closed?a.prototype.lf.call(this,b,c):this.KP(b,c);};d.prototype.FW=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.Od?a.prototype.FW.call(this,b,c,d):b.flush(this);};return d;}(a(250).BY);d.URa=g;},function(g,d,a){g=a(1019);a=a(1017);d.fh=new a.WRa(g.URa);},function(g,d){d.Kkb=function(){};},function(g,d,a){var f;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:f.Kkb;}f=a(1021);d.bnb=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b(a);};d.cnb=b;},function(g,d,a){var b,f,h;b=a(45);f=a(252);h=a(253);d.Uub=function(a,c,d){if(a){if(a instanceof b.Ei)return a;if(a[f.BA])return a[f.BA]();}return a||c||d?new b.Ei(a,c,d):new b.Ei(h.empty);};},function(g,d){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(a){b.call(this);this.LJ=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);d.gP=g;},function(g,d,a){var f,h;function b(){try{return h.apply(this,arguments);}catch(q){return f.Lv.e=q,f.Lv;}}f=a(467);d.mFa=function(a){h=a;return b;};},function(g,d,a){var f,h,l,c,m,k,n,r,t,A,B,F,D;function b(a,b,c,d,f,g,l,m,n){var p;p=this;this.ga=b;this.br=c;this.config=d;this.fz=f;this.H8a=g;this.ZC=l;this.Qn=m;this.gV=n;this.Wtb=function(a,b){b.UK().cN(1).subscribe(function(a){p.qxa.next({Vo:b.Aq(),data:a.pq});});b.UK().map(function(c){return p.dK(a,b,c);}).Fw().vJ(function(a){b.qc=a.qc[0];return b.zoa(a.rw[0].data);}).subscribe(void 0,function(a){b.zoa(a);},function(){p.S1a(b);});};this.Xtb=function(a){a.oM.map(function(b){return p.gva(a,b);}).Fw().vJ(function(b){return a.Goa(b.response);}).subscribe(void 0,function(b){a.Goa(b);});};this.log=a.kb("DrmServices");this.qxa=new h.kj();this.fz().Kp&&this.ZC.CBa().then(function(){p.ztb();})["catch"](function(a){p.log.error("Unable to load the persisted DRM data",a);});this.config.mU&&this.Qn.cK().then(function(a){return p.ara(a,{ce:a.keySystem},k.ij.Xm,n()).Pv(function(a){return a.close();}).subscribe();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(137);l=a(7);c=a(30);m=a(447);k=a(76);n=a(62);r=a(254);t=a(255);A=a(446);B=a(17);F=a(119);a=a(139);b.prototype.Tw=function(a,b){var c;c=this;return new Promise(function(d,f){c.Vf(a,b).subscribe(d,f);});};b.prototype.yab=function(a,b){var c;c=this;return new Promise(function(d,f){c.hT(a,b).subscribe(d,f);});};b.prototype.Vf=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.Kua(a,a.type));return this.gJ(a.context,a.type,b).Pv(function(b){b.psb(a.eh);c.Wtb(a,b);return c.Jqa(b.hT(a.eU),b);});};b.prototype.Dtb=function(a,b){var c,d;c=this;this.config.xi?(this.log.info("Releasing server license and EME license",this.P7(a)),this.Xtb(a),d=a.Bab()):(this.log.info("Releasing server license",this.P7(a)),d=this.gva(a));return this.Jqa(d,a).vJ(function(){c.ZC.xba(Object.assign({ce:a.context.ce,qc:[]},a.eh));b.Vpb();});};b.prototype.UK=function(){return this.qxa.k3();};b.prototype.Kua=function(a,b){return{movieId:a.eh.I,xid:a.eh.ia,type:k.sxa(b)};};b.prototype.P7=function(a){return{movieId:a.eh?a.eh.I:void 0,xid:a.eh?a.eh.ia:void 0,keySessionId:a.Wv()};};b.prototype.Jqa=function(a,b){return h.Ca.concat(a,h.Ca.of(b)).dh();};b.prototype.dK=function(a,b,c){this.log.info("Sending license request",this.Kua(a,c.Kh));return h.Ca.Rv(this.br.Vf({ia:a.eh.ia,Xf:a.eh.Xf,qS:[a.eh.nk],qq:[{sessionId:b.Wv()||"session",data:c.pq}],Kh:c.Kh,Vo:b.Aq(),gqa:c.gqa,fL:a.eh.fL,If:a.eh.If}));};b.prototype.gva=function(a,b){this.log.info("Sending release request",this.P7(a));return b?h.Ca.Rv(this.br.release({ia:a.eh.ia,qc:[a.qc],pq:b.pq})):h.Ca.Rv(this.br.release({ia:a.eh.ia,qc:[a.qc]}));};b.prototype.hT=function(a,b){return this.gJ(a.context,a.type,b).Pv(function(b){b.hT(a.eU);return b.UK().map(function(){return b;});});};b.prototype.gJ=function(a,b,c){var d;d=this;return h.Ca.Rv(this.Qn.cK()).Pv(function(f){return d.ara(f,a,b,c);});};b.prototype.ara=function(a,b,c,d){return h.Ca.Rv(this.H8a.create()).Pv(function(f){return f.Qo(b,a,d,c);});};b.prototype.ytb=function(a){var b;b=this;return this.config.xi?h.Ca.empty():h.Ca.Rv(this.br.release({ia:a.ia,qc:a.qc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.Ca.empty();}).map(function(){return a;});};b.prototype.ztb=function(){var a;a=this;this.ga.Og(this.config.Caa,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.ZC.rS.length});b=a.ZC.rS.filter(function(a){return!a.active;}).map(function(b){return a.ytb(b);});h.Ca.concat.apply(h.Ca,[].concat(ea(b))).subscribe(function(b){a.ZC.xba(b);});});};b.prototype.S1a=function(a){var b;if(a.Wv()&&a.eh){b=new t.cZ();b.ce=a.context.ce;b.qc=[a.qc];b.ia=a.eh.ia;b.I=a.eh.I;this.ZC.voa(b);}};D=b;D=g.__decorate([f.N(),g.__param(0,f.l(l.ob)),g.__param(1,f.l(c.yg)),g.__param(2,f.l(m.Nfa)),g.__param(3,f.l(n.so)),g.__param(4,f.l(B.pd)),g.__param(5,f.l(A.cga)),g.__param(6,f.l(r.LY)),g.__param(7,f.l(F.Lx)),g.__param(8,f.l(a.PG))],D);d.JKa=D;},function(g,d,a){var b,f,h,l,c,m;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(120);f=a(1026);h=a(119);l=a(925);c=a(446);m=a(918);d.G8a=new g.ic(function(a){a(b.Ofa).to(f.JKa).Y();a(h.Lx).to(l.NOa).Y();a(c.cga).to(m.iLa);});},function(g,d,a){var f,h,l,c,m;function b(a,b){return h.Ie.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);l=a(27);c=a(3);a=a(32);da(b,h.Ie);qa.Object.defineProperties(b.prototype,{mU:{configurable:!0,enumerable:!0,get:function(){return!1;}},xi:{configurable:!0,enumerable:!0,get:function(){return!1;}},qw:{configurable:!0,enumerable:!0,get:function(){return c.sf;}},Caa:{configurable:!0,enumerable:!0,get:function(){return c.ih(10);}},F8:{configurable:!0,enumerable:!0,get:function(){return c.Bb(2E3);}},Zba:{configurable:!0,enumerable:!0,get:function(){return c.Bb(1E3);}},anb:{configurable:!0,enumerable:!0,get:function(){return c.Bb(2500);}},zJ:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},TJ:{configurable:!0,enumerable:!0,get:function(){return!1;}},UM:{configurable:!0,enumerable:!0,get:function(){return!1;}},Xn:{configurable:!0,enumerable:!0,get:function(){return!0;}},Voa:{configurable:!0,enumerable:!0,get:function(){return c.ih(30);}},Woa:{configurable:!0,enumerable:!0,get:function(){return c.ih(30);}},Yoa:{configurable:!0,enumerable:!0,get:function(){return c.ih(30);}},Xoa:{configurable:!0,enumerable:!0,get:function(){return c.ih(30);}},d3:{configurable:!0,enumerable:!0,get:function(){return c.ih(30);}},DA:{configurable:!0,enumerable:!0,get:function(){return"";}},PV:{configurable:!0,enumerable:!0,get:function(){return!1;}}});m=b;g.__decorate([a.config(a.wd,"initializeKeySystemAtStartup")],m.prototype,"mU",null);g.__decorate([a.config(a.wd,"secureStopEnabled")],m.prototype,"xi",null);g.__decorate([a.config(a.Jg,"licenseRenewalRequestDelay")],m.prototype,"qw",null);g.__decorate([a.config(a.Jg,"persistedReleaseDelay")],m.prototype,"Caa",null);g.__decorate([a.config(a.Jg,"secureStopKeyMessageTimeoutMilliseconds")],m.prototype,"F8",null);g.__decorate([a.config(a.Jg,"secureStopKeyAddedTimeoutMilliseconds")],m.prototype,"Zba",null);g.__decorate([a.config(a.Jg,"secureStopPersistedKeyMessageTimeoutMilliseconds")],m.prototype,"anb",null);g.__decorate([a.config(a.string,"drmPersistKey")],m.prototype,"zJ",null);g.__decorate([a.config(a.wd,"forceLimitedDurationLicense")],m.prototype,"TJ",null);g.__decorate([a.config(a.wd,"supportsLimitedDurationLicense")],m.prototype,"UM",null);g.__decorate([a.config(a.wd,"prepareCadmium")],m.prototype,"Xn",null);g.__decorate([a.config(a.Jg,"apiCloseTimeout")],m.prototype,"Voa",null);g.__decorate([a.config(a.Jg,"apiCreateMediaKeysTimeout")],m.prototype,"Woa",null);g.__decorate([a.config(a.Jg,"apiSetServerCertificateTimeout")],m.prototype,"Yoa",null);g.__decorate([a.config(a.Jg,"apiGenerateRequestTimeout")],m.prototype,"Xoa",null);g.__decorate([a.config(a.Jg,"apiUpdateTimeout")],m.prototype,"d3",null);g.__decorate([a.config(a.string,"serverCertificate")],m.prototype,"DA",null);g.__decorate([a.config(a.wd,"outputRestrictedIsFatal")],m.prototype,"PV",null);m=g.__decorate([f.N(),g.__param(0,f.l(l.mj)),g.__param(1,f.l(l.iB)),g.__param(1,f.optional())],m);d.Lea=m;},function(g,d,a){var f,h,l,c;function b(a,b){return c.Lea.call(this,a,void 0===b?"ChromeEmeConfig":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(27);l=a(32);c=a(1028);da(b,c.Lea);qa.Object.defineProperties(b.prototype,{mU:{configurable:!0,enumerable:!0,get:function(){return!0;}},UM:{configurable:!0,enumerable:!0,get:function(){return!0;}},PV:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;g.__decorate([l.config(l.wd,"initializeKeySystemAtStartup")],a.prototype,"mU",null);g.__decorate([l.config(l.wd,"supportsLimitedDurationLicense")],a.prototype,"UM",null);g.__decorate([l.config(l.wd,"outputRestrictedIsFatal")],a.prototype,"PV",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.mj)),g.__param(1,f.l(h.iB)),g.__param(1,f.optional())],a);d.gLa=a;},function(g,d,a){var f,h,l,c,m,k,n;function b(a,b,d,f){a=c.Ie.call(this,a,void 0===f?"FtlProbeConfigImpl":f)||this;a.Tf=b;a.Ta=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(40);h=a(1);l=a(3);c=a(35);m=a(88);k=a(32);a=a(27);da(b,c.Ie);qa.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.P6+(-1===this.P6.indexOf("?")?"?":"&")+"monotonic="+this.Ta.Xya+"&device=web";}},$Da:{configurable:!0,enumerable:!0,get:function(){return l.sf;}},G6:{configurable:!0,enumerable:!0,get:function(){return"";}},P6:{configurable:!0,enumerable:!0,get:function(){return this.Tf.endpoint+"/ftl/probe"+(this.G6?"?force="+this.G6:"");}}});n=b;g.__decorate([k.config(k.wd,"ftlEnabled")],n.prototype,"enabled",null);g.__decorate([k.config(k.Jg,"ftlStartDelay")],n.prototype,"$Da",null);g.__decorate([k.config(k.string,"ftlEndpointForceParam")],n.prototype,"G6",null);g.__decorate([k.config(k.url,"ftlEndpoint")],n.prototype,"P6",null);n=g.__decorate([h.N(),g.__param(0,h.l(a.mj)),g.__param(1,h.l(m.lu)),g.__param(2,h.l(f.Vj)),g.__param(3,h.l(a.iB)),g.__param(3,h.optional())],n);d.ILa=n;},function(g,d,a){var f,h,l,c;function b(a,b){return l.Ie.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(32);l=a(35);a=a(27);da(b,l.Ie);qa.Object.defineProperties(b.prototype,{OFa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});c=b;g.__decorate([h.config(h.wd,"useNetworkMonitor")],c.prototype,"OFa",null);c=g.__decorate([f.N(),g.__param(0,f.l(a.mj)),g.__param(1,f.l(a.iB)),g.__param(1,f.optional())],c);d.sPa=c;},function(g,d){function a(a){this.value=a;}Object.defineProperty(d,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.fAa=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};d.Eia=a;},function(g,d,a){var f,h,l,c,m,k,n,r;function b(a,b,d){a=c.Ie.call(this,a,void 0===d?"GeneralConfigImpl":d)||this;a.Cn=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(3);h=a(1);l=a(32);c=a(35);m=a(52);k=a(27);a=a(141);n={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};d.IJ=function(a,b){return a.DBa(n[b]||b,m.vu);};da(b,c.Ie);qa.Object.defineProperties(b.prototype,{IJ:{configurable:!0,enumerable:!0,get:function(){return m.vu.QRa;}},ada:{configurable:!0,enumerable:!0,get:function(){return f.ih(8);}},aw:{configurable:!0,enumerable:!0,get:function(){return"";}},aD:{configurable:!0,enumerable:!0,get:function(){return"";}},VA:{configurable:!0,enumerable:!0,get:function(){return"";}},AEa:{configurable:!0,enumerable:!0,get:function(){return!1;}},eR:{configurable:!0,enumerable:!0,get:function(){return!0;}},aU:{configurable:!0,enumerable:!0,get:function(){return this.Cn.aU;}},b$a:{configurable:!0,enumerable:!0,get:function(){return!1;}},nq:{configurable:!0,enumerable:!0,get:function(){return{};}},Lba:{configurable:!0,enumerable:!0,get:function(){return!1;}},e9:{configurable:!0,enumerable:!0,get:function(){return!1;}},nY:{configurable:!0,enumerable:!0,get:function(){return!1;}},tN:{configurable:!0,enumerable:!0,get:function(){return!1;}},bx:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},uq:{configurable:!0,enumerable:!0,get:function(){return 0<=[m.vu.Gka,m.vu.jha].indexOf(this.IJ);}}});r=b;g.__decorate([l.config(d.IJ,"environment")],r.prototype,"IJ",null);g.__decorate([l.config(l.Jg,"storageTimeout")],r.prototype,"ada",null);g.__decorate([l.config(l.string,"groupName")],r.prototype,"aw",null);g.__decorate([l.config(l.string,"canaryGroupName")],r.prototype,"aD",null);g.__decorate([l.config(l.string,"uiGroupName")],r.prototype,"VA",null);g.__decorate([l.config(l.wd,"testIndexDBForCorruptedDatabase")],r.prototype,"AEa",null);g.__decorate([l.config(l.wd,"applyIndexedDbOpenWorkaround")],r.prototype,"eR",null);g.__decorate([l.config(l.wd,"ignoreIdbOpenError")],r.prototype,"aU",null);g.__decorate([l.config(l.wd,"executeStorageMigration")],r.prototype,"b$a",null);g.__decorate([l.config(l.object(),"browserInfo")],r.prototype,"nq",null);g.__decorate([l.config(l.wd,"retryAllMslRequestsOnError")],r.prototype,"Lba",null);g.__decorate([l.config(l.wd,"isTestAccount")],r.prototype,"e9",null);g.__decorate([l.config(l.wd,"vuiCommandLogging")],r.prototype,"nY",null);g.__decorate([l.config(l.wd,"useRangeHeader")],r.prototype,"tN",null);g.__decorate([l.config(l.object,"storageRules")],r.prototype,"bx",null);r=g.__decorate([h.N(),g.__param(0,h.l(k.mj)),g.__param(1,h.l(a.aH)),g.__param(2,h.l(k.iB)),g.__param(2,h.optional())],r);d.MLa=r;},function(g,d,a){var l,c,m,k,n;function b(){this.$s={};this.DCa=0;}function f(a,b,c,d,f){this.debug=a;this.zt=b;this.xL=c;this.Jf=d;this.pW=f;}function h(a,b,c){this.zt=a;this.xL=b;this.pW=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);c=a(89);m=a(7);k=a(138);n=a(471);a=a(27);h=g.__decorate([l.N(),g.__param(0,l.l(a.CO)),g.__param(1,l.l(k.p0)),g.__param(2,l.l(n.e0))],h);d.WIa=h;f=g.__decorate([l.N(),g.__param(0,l.l(c.pu)),g.__param(1,l.l(a.CO)),g.__param(2,l.l(k.p0)),g.__param(3,l.l(m.ob)),g.__param(4,l.l(n.e0))],f);d.jUa=f;b.prototype.yjb=function(a){this.$s=Object.assign({},this.$s,a);this.DCa++;};qa.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.$s;}},CCa:{configurable:!0,enumerable:!0,get:function(){return this.DCa;}}});a=b;a=g.__decorate([l.N()],a);d.nNa=a;},function(g,d,a){var b,f,h,l,c,m,k,n,r,t,A;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(17);f=a(1034);h=a(27);l=a(52);c=a(1033);m=a(470);k=a(1031);n=a(172);r=a(1030);t=a(62);A=a(1029);d.config=new g.ic(function(a){a(b.pd).$f(function(){return function(){return L._cad_global.config;};});a(h.QY).to(f.WIa).Y();a(h.mj).to(f.jUa).Y();a(h.CO).to(f.nNa).Y();a(l.Sm).to(c.MLa).Y();a(m.ria).to(k.sPa).Y();a(n.rga).to(r.ILa).Y();a(t.so).to(A.gLa).Y();});},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Lva=function(){return void 0!==this.xk;};a.prototype.GA=function(a){this.xk=a;};a.prototype.Vpb=function(){this.Lva()&&(this.xk=void 0);};d.OOa=a;},function(g,d,a){var b,f,h,l,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);f=a(90);h=a(120);l=a(256);d.Dob=function(a){l.AJ.parent=a.zb;return function(){c||(c=new Promise(function(a,c){try{a(l.AJ.get(h.Ofa));}catch(r){c(new f.Pf(b.J.HMa,b.u.$Ma,void 0,"Unable to extract the DRM services from the dependency injector",r));}}));return c;};};},function(g,d,a){var l,c,m,k,n,r,t,A;function b(a,b,c){var d;d=this;this.is=a;this.$i=b;this.config=c;this.qr=function(){return{version:d.version,drmData:d.rS.map(function(a){return a.qr();})};};this.O6=function(a){var b;d.is.Wk(a)&&(a=f(a));1===a.version&&(a=h(d.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new A.cZ(a);});}catch(ba){throw new n.Sc(m.J.sB,m.u.nu,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",ba);}}else{if(!a.version||!d.is.gg(a.version))throw new n.Sc(m.J.sB,m.u.nu,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new n.Sc(m.J.sB,m.u.Rea,void 0,void 0,void 0,"Version number is not supported. Version: "+d.getVersion);}return b;};this.ho=new r.fha(2,this.config.zJ,this.is.Wk(this.config.zJ),this.$i,this.qr);}function f(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId||!a.xid||!a.movieId)throw new n.Sc(m.J.sB,m.u.nu);return{version:1,drmData:[a]};}function h(a,b){if(a.Js(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new A.cZ({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).qr();})};throw new n.Sc(m.J.sB,m.u.nu);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);c=a(62);m=a(2);k=a(21);n=a(56);r=a(472);t=a(70);A=a(255);b.prototype.CBa=function(){return this.stb();};b.prototype.voa=function(a){return this.ho.add(a);};b.prototype.xba=function(a){return this.ho.remove(a,function(a,b){return a.ia===b.ia;});};b.prototype.toString=function(){return JSON.stringify(this.qr(),null,"  ");};b.prototype.stb=function(){var a;a=this;this.GBa||(this.GBa=new Promise(function(b,c){a.ho.load(a.O6).then(function(){b();})["catch"](function(a){a.Z&&a.cause?c(new n.Sc(m.J.sB,a.Z,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.GBa;};qa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.ho.version;}},rS:{configurable:!0,enumerable:!0,get:function(){return this.ho.oq;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(k.Fe)),g.__param(1,l.l(t.Er)),g.__param(2,l.l(c.so))],a);d.AIa=a;},function(g,d,a){var b,f,h,l,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);f=a(41);h=a(474);l=a(63);c={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};d.sja=function(){this.R0a=this.BI=h.QN.oha;this.mca=!0;this.yI=[];this.dG=[];this.QV=this.yS=!1;this.gu=[l.Ok.UY,l.Ok.zSa,l.Ok.AB];this.ce=void 0;this.a6=!0;this.CS=!1;this.fR=f.aa(288E4);this.iR=f.aa(335544320);this.VU=b.Bb(15E3);this.Wib=f.aa(6291456);this.BE=1E3;this.S3=!0;this.zda=c;this.TF=f.aa(0);this.PX=b.Bb(0);this.aU=!0;};},function(g,d,a){var h,l,c,m,k,n,r,t,f,A;function b(a){var b;b=n.sja.call(this)||this;a=/CrOS/.test(a.userAgent);b.yI=[r.Ai.uO,r.Ai.vO];b.dG=[r.$.rZ,r.$.oO,r.$.oZ,r.$.pZ,r.$.kH,r.$.lH];a&&b.dG.push(r.$.sZ,r.$.qZ,r.$.mH);b.yS=!0;b.QV=!0;b.ce=t.hb.wUa;b.VU=m.Bb(15E3);return b;}function f(a){var b,c,d,f;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);d=/ Edg\//.test(a);f=/Tesla/.test(a);this.version="6.0020.273.011";this.Rn=!0;this.OD=f?"T":d?"D":b?"C":c?"O":"M";this.vq=f?"NFCDTS-01-":d?"NFCDIE-04-":c?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":b?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":/Android.*Chrome\/[.0-9]* /.test(a)?"NFCDCH-AT-":"NFCDCH-LX-";this.Q6=!0;this.kS=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.Xra="browser";this.Kxa="";this.$ra="cadmium";this.Pgb=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(36);c=a(71);m=a(3);k=a(141);n=a(1039);r=a(63);t=a(140);f=g.__decorate([h.N(),g.__param(0,h.l(l.EB))],f);d.Ryb=f;da(b,n.sja);A=b;A=g.__decorate([h.N(),g.__param(0,h.l(l.EB))],A);d.Syb=A;d.platform=new h.ic(function(a){a(c.Rp).to(f);a(k.aH).to(A);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dza=function(a){return function(b){return function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return d.forEach(function(d){return a.bind(d).Tub(b);});};};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);f=a(31);h=a(64);d.SAa=function(){return function(a,c){c=new h.Metadata(f.YG,c);if(Reflect.g8(f.YG,a.constructor))throw Error(b.xOa);Reflect.r5(f.YG,c,a.constructor);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(64);h=a(91);d.eN=function(a){return function(c,d,g){var k;k=new f.Metadata(b.HO,a);h.OA(c,d,g,k);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(64);h=a(91);d.Uz=function(a){return function(c,d,g){var k;k=new f.Metadata(b.Jx,a);"number"===typeof g?h.OA(c,d,g,k):h.bN(c,d,k);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(64);h=a(91);d.oh=function(){return function(a,c,d){var g;g=new f.Metadata(b.hH,!0);h.OA(a,c,d,g);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(64);h=a(91);d.optional=function(){return function(a,c,d){var g;g=new f.Metadata(b.Aia,!0);"number"===typeof d?h.OA(a,c,d,g):h.bN(a,c,g);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(64);h=a(91);d.gza=function(a){return function(c,d,g){var k;k=new f.Metadata(b.Gu,a);"number"===typeof g?h.OA(c,d,g,k):h.bN(c,d,k);};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(64);f=a(91);d.wEa=function(a,d){return function(c,g,h){var k;k=new b.Metadata(a,d);"number"===typeof h?f.OA(c,g,h,k):f.bN(c,g,k);};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);f=a(31);d.N=function(){return function(a){var d;if(Reflect.g8(f.K_,a))throw Error(b.iKa);d=Reflect.getMetadata(f.CJa,a)||[];Reflect.r5(f.K_,d,a);return a;};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(102);d.ic=function(){return function(a){this.id=b.id();this.vba=a;};}();d.Eea=function(){return function(a){this.id=b.id();this.vba=a;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);g=function(){function a(){this.Ii=new Map();}a.prototype.add=function(a,d){var c;if(null===a||void 0===a)throw Error(b.TG);if(null===d||void 0===d)throw Error(b.TG);c=this.Ii.get(a);void 0!==c?(c.push(d),this.Ii.set(a,c)):this.Ii.set(a,[d]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.TG);a=this.Ii.get(a);if(void 0!==a)return a;throw Error(b.pha);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.TG);if(!this.Ii["delete"](a))throw Error(b.pha);};a.prototype.Jva=function(a){if(null===a||void 0===a)throw Error(b.TG);return this.Ii.has(a);};a.prototype.clone=function(){var b;b=new a();this.Ii.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.lvb=function(a){this.Ii.forEach(function(b,c){a(c,b);});};return a;}();d.WNa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.of=function(b,d){var f;f=new a();f.GI=b;f.Jjb=d;return f;};return a;}();d.Xyb=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(81);f=a(477);g=function(){function a(a){this.yb=a;}a.prototype.Y=function(){this.yb.scope=b.qo.m0;return new f.xx(this.yb);};a.prototype.G8=function(){this.yb.scope=b.qo.cP;return new f.xx(this.yb);};return a;}();d.JHa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(1053);f=a(258);h=a(257);g=function(){function a(a){this.yb=a;this.rH=new h.HY(this.yb);this.K0=new f.TN(this.yb);this.zla=new b.JHa(a);}a.prototype.Y=function(){return this.zla.Y();};a.prototype.G8=function(){return this.zla.G8();};a.prototype.when=function(a){return this.rH.when(a);};a.prototype.FN=function(){return this.rH.FN();};a.prototype.Wq=function(a){return this.K0.Wq(a);};return a;}();d.Mea=g;},function(g,d,a){var b,f,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);f=a(81);h=a(1054);l=a(477);g=function(){function a(a){this.yb=a;}a.prototype.to=function(a){this.yb.type=f.Xh.g_;this.yb.Cj=a;return new h.Mea(this.yb);};a.prototype.XEa=function(){if("function"!==typeof this.yb.$e)throw Error(""+b.cNa);this.to(this.yb.$e);};a.prototype.Th=function(a){this.yb.type=f.Xh.hfa;this.yb.cache=a;this.yb.JD=null;this.yb.Cj=null;new l.xx(this.yb);};a.prototype.ox=function(a){this.yb.type=f.Xh.Tfa;this.yb.cache=null;this.yb.JD=a;this.yb.Cj=null;new h.Mea(this.yb);};a.prototype.Sub=function(a){this.yb.type=f.Xh.ifa;this.yb.Cj=a;new l.xx(this.yb);};a.prototype.$f=function(a){this.yb.type=f.Xh.mZ;this.yb.Nv=a;new l.xx(this.yb);};a.prototype.Qub=function(a){this.yb.type=f.Xh.mZ;this.yb.Nv=function(b){return function(){return b.zb.get(a);};};new l.xx(this.yb);};a.prototype.OX=function(a){this.yb.type=f.Xh.Sja;this.yb.br=a;new l.xx(this.yb);};a.prototype.Tub=function(a){this.ox(function(b){return b.zb.get(a);});};return a;}();d.KHa=g;},function(g,d,a){var h,l,c;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===l.Wr.dfa;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function f(a,b){var d;if(Reflect.Geb(c.YG,a)){d=Reflect.getMetadata(c.YG,a);try{b[d.value]();}catch(r){throw Error(h.BQa(a.name,r.message));}}}Object.defineProperty(d,"__esModule",{value:!0});h=a(53);l=a(81);c=a(31);d.yqb=function(a,c,d){var g;g=null;0<c.length?(g=c.filter(function(a){return null!==a.target&&a.target.type===l.Wr.jfa;}).map(d),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,c,d)):g=new a();f(a,g);return g;};},function(g,d,a){var h,l,c,m,k;function b(a){return function(c){var d,g,n,p,q;d=c.GI;g=c.c4;n=c.target&&c.target.isArray();p=!c.Qt||!c.Qt.target||!c.target||!c.Qt.target.Fib(c.target.$e);if(n&&p)return g.map(function(c){return b(a)(c);});n=null;if(!c.target.Kwa()||0!==d.length){q=d[0];d=q.scope===l.qo.m0;p=q.scope===l.qo.Request;if(d&&q.I2)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===l.Xh.hfa)n=q.cache;else if(q.type===l.Xh.Function)n=q.cache;else if(q.type===l.Xh.ifa)n=q.Cj;else if(q.type===l.Xh.Tfa&&null!==q.JD)n=f("toDynamicValue",q.$e,function(){return q.JD(c.VE);});else if(q.type===l.Xh.mZ&&null!==q.Nv)n=f("toFactory",q.$e,function(){return q.Nv(c.VE);});else if(q.type===l.Xh.Sja&&null!==q.br)n=f("toProvider",q.$e,function(){return q.br(c.VE);});else if(q.type===l.Xh.g_&&null!==q.Cj)n=k.yqb(q.Cj,g,b(a));else throw g=m.gE(c.$e),Error(h.YMa+" "+g);"function"===typeof q.Wq&&(n=q.Wq(c.VE,n));d&&(q.cache=n,q.I2=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,n);return n;}};}function f(a,b,d){try{return d();}catch(A){if(c.Twa(A))throw Error(h.hIa(a,b.toString()));throw A;}}Object.defineProperty(d,"__esModule",{value:!0});h=a(53);l=a(81);c=a(480);m=a(142);k=a(1056);d.resolve=function(a){return b(a.ZE.Nba.oqb)(a.ZE.Nba);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(102);g=function(){function a(a,d,c,f,g){this.id=b.id();this.$e=a;this.VE=d;this.Qt=c;this.target=g;this.c4=[];this.GI=Array.isArray(f)?f:[f];this.oqb=null===c?new Map():null;}a.prototype.soa=function(b,d,c){b=new a(b,this.VE,this,d,c);this.c4.push(b);return b;};return a;}();d.Request=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.cx=a;}a.prototype.startsWith=function(a){return 0===this.cx.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.cx.split("").reverse().join("");return this.startsWith.call({cx:a},b);};a.prototype.contains=function(a){return-1!==this.cx.indexOf(a);};a.prototype.equals=function(a){return this.cx===a;};a.prototype.value=function(){return this.cx;};return a;}();d.TRa=g;},function(g,d,a){var c,m,k,n,r,t;function b(a,b,d,g){var h,n,u,y,D,A,F,B,G,I;h=a.mua(d);n=h.Eqa;if(void 0===n)throw Error(m.jOa+" "+b+".");for(var h=h.Cwb,p=Object.keys(h),q=0===d.length&&0<p.length?p.length:d.length,p=[],r=0;r<q;r++){y=r;D=g;A=b;F=n;u=h[y.toString()]||[];B=l(u);G=!0!==B.oh;F=F[y];I=B.l||B.Uz;F=I?I:F;F instanceof c.l_&&(F=F.Gvb());if(G){G=F===Function;G=F===Object||G||void 0===F;if(!D&&G)throw Error(m.kOa+" argument "+y+" in class "+A+".");y=new t.aP(k.Wr.jfa,B.eN,F);y.od=u;u=y;}else u=null;null!==u&&p.push(u);}a=f(a,d);return p.concat(a);}function f(a,b){var m,n,p;for(var c=a.cdb(b),d=[],g=0,h=Object.keys(c);g<h.length;g++){m=h[g];n=c[m];p=l(c[m]);m=new t.aP(k.Wr.dfa,p.eN||m,p.l||p.Uz);m.od=n;d.push(m);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=f(a,b),d=d.concat(a));return d;}function h(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=r.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.od.filter(function(a){return a.key===n.hH;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,c);}return 0;}function l(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[n.GG],Uz:b[n.Jx],eN:b[n.HO],oh:b[n.hH]};}Object.defineProperty(d,"__esModule",{value:!0});c=a(479);m=a(53);k=a(81);n=a(31);r=a(142);d.getFunctionName=r.getFunctionName;t=a(478);d.ybb=function(a,c){var d;d=r.getFunctionName(c);return b(a,d,c,!1);};d.Uab=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hRa=function(){return function(a,b){this.VE=a;this.Nba=b;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(102);g=function(){function a(a){this.id=b.id();this.zb=a;}a.prototype.w_a=function(a){this.ZE=a;};return a;}();d.kfa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.GY={YBb:2,uia:0,GPa:1};},function(g,d,a){var c,m,k,n,r,t,A,B,F,D,G,L;function b(a,b,d,g,h){var k,m;k=l(d.zb,h.$e);m=[];k.length===c.GY.uia&&d.zb.options.DI&&"function"===typeof h.$e&&a.mua(h.$e).Eqa&&(d.zb.bind(h.$e).XEa(),k=l(d.zb,h.$e));m=b?k:k.filter(function(a){var b;b=new G.Request(a.$e,d,g,a,h);return a.Ly(b);});f(h.$e,m,h,d.zb);return m;}function f(a,b,d,f){switch(b.length){case c.GY.uia:if(d.Kwa())break;a=t.gE(a);b=m.nPa;b+=t.ohb(a,d);b+=t.wxa(f,a,l);throw Error(b);case c.GY.GPa:if(!d.isArray())break;default:if(!d.isArray())throw a=t.gE(a),b=m.qGa+" "+a,b+=t.wxa(f,a,l),Error(b);}}function h(a,c,d,f,g,l){var n;null===g?(c=b(a,c,f,null,l),n=new G.Request(d,f,null,c,l),d=new F.hRa(f,n),f.w_a(d)):(c=b(a,c,f,g,l),n=g.soa(l.$e,c,l));c.forEach(function(b){var c,d,g;c=null;if(l.isArray())c=n.soa(b.$e,b,l);else{if(b.cache)return;c=n;}if(b.type===k.Xh.g_&&null!==b.Cj){d=D.ybb(a,b.Cj);if(!f.zb.options.IA){g=D.Uab(a,b.Cj);if(d.length<g)throw b=m.rGa(D.getFunctionName(b.Cj)),Error(b);}d.forEach(function(b){h(a,!1,b.$e,f,c,b);});}});}function l(a,b){var c,d;c=[];d=a.XB;d.Jva(b)?c=d.get(b):null!==a.parent&&(c=l(a.parent,b));return c;}Object.defineProperty(d,"__esModule",{value:!0});c=a(1063);m=a(53);k=a(81);n=a(31);r=a(480);t=a(142);A=a(1062);B=a(64);F=a(1061);D=a(1060);G=a(1058);L=a(478);d.V6=function(a){return a.XB;};d.ZE=function(a,b,c,d,f,g,k,l){void 0===l&&(l=!1);b=new A.kfa(b);c=new B.Metadata(c?n.Jx:n.GG,f);d=new L.aP(d,"",f,c);void 0!==g&&(g=new B.Metadata(g,k),d.od.push(g));try{return h(a,l,f,b,null,d),b;}catch(V){throw r.Twa(V)&&b.ZE&&t.T2a(b.ZE.Nba),V;}};d.pHb=function(a,b,c,d){c=new L.aP(k.Wr.x0,"",b,new B.Metadata(c,d));a=new A.kfa(a);return new G.Request(b,a,null,[],c);};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(81);f=a(102);g=function(){function a(a,c){this.id=f.id();this.I2=!1;this.$e=a;this.scope=c;this.type=b.Xh.rNa;this.Ly=function(){return!0;};this.JD=this.Wq=this.br=this.Nv=this.cache=this.Cj=null;}a.prototype.clone=function(){var b;b=new a(this.$e,this.scope);b.I2=!1;b.Cj=this.Cj;b.JD=this.JD;b.scope=this.scope;b.type=this.type;b.Nv=this.Nv;b.br=this.br;b.Ly=this.Ly;b.Wq=this.Wq;b.cache=this.cache;return b;};return a;}();d.IHa=g;},function(g,d,a){var b,f,l,q,c,m,k,t,r,y,A,B;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(T){g(T);}}function k(a){try{l(d["throw"](a));}catch(T){g(T);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};f=this&&this.GFb||function(a,b){var f,g,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.eA.pop();f.UA.pop();continue;default:if(!(l=f.UA,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.eA.push(c);else{l[2]&&f.eA.pop();f.UA.pop();continue;}}c=b.call(a,f);}catch(T){c=[6,T];k=0;}finally{g=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,bX:function(){if(l[0]&1)throw l[1];return l[1];},UA:[],eA:[]};h();h();n();return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this;}),m;};Object.defineProperty(d,"__esModule",{value:!0});l=a(1065);q=a(53);c=a(81);a(31);m=a(481);k=a(1064);t=a(1057);r=a(1055);y=a(102);A=a(142);a(1052);B=a(1051);g=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+q.vIa);if(void 0===a.Sy)a.Sy=c.qo.cP;else if(a.Sy!==c.qo.m0&&a.Sy!==c.qo.cP&&a.Sy!==c.qo.Request)throw Error(""+q.tIa);if(void 0===a.DI)a.DI=!1;else if("boolean"!==typeof a.DI)throw Error(""+q.sIa);if(void 0===a.IA)a.IA=!1;else if("boolean"!==typeof a.IA)throw Error(""+q.uIa);this.options={DI:a.DI,Sy:a.Sy,IA:a.IA};this.id=y.id();this.XB=new B.WNa();this.$Ya=[];this.parent=this.L1=null;this.ZWa=new m.w_();}a.D$=function(b,c){var f,g;function d(a,b){a.lvb(function(a,c){c.forEach(function(a){b.add(a.$e,a.clone());});});}f=new a();g=k.V6(f);b=k.V6(b);c=k.V6(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.rma(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.vba(f.Bpa,f.sFa,f.$wa,f.JBa);}};a.prototype.WK=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b(this,void 0,void 0,function(){var b,c,d,g,h;return f(this,function(f){switch(f.label){case 0:b=this.rma(),c=0,d=a,f.label=1;case 1:if(!(c<d.length))return[3,4];g=d[c];h=b(g.id);return[4,g.vba(h.Bpa,h.sFa,h.$wa,h.JBa)];case 2:f.bX(),f.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new l.IHa(a,this.options.Sy||c.qo.cP);this.XB.add(a,b);return new r.KHa(b);};a.prototype.ipb=function(a){this.rFa(a);return this.bind(a);};a.prototype.rFa=function(a){try{this.XB.remove(a);}catch(O){throw Error(q.dIa+" "+A.gE(a));}};a.prototype.Awa=function(a){var b;b=this.XB.Jva(a);!b&&this.parent&&(b=this.parent.Awa(a));return b;};a.prototype.restore=function(){var a;a=this.$Ya.pop();if(void 0===a)throw Error(q.oPa);this.XB=a.GI;this.L1=a.Jjb;};a.prototype.D5a=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.pma(!1,!1,c.Wr.x0,a);};a.prototype.getAll=function(a){return this.pma(!0,!0,c.Wr.x0,a);};a.prototype.resolve=function(a){var b;b=this.D5a();b.bind(a).XEa();return b.get(a);};a.prototype.rma=function(){var f;function a(a){return function(b){b=f.ipb.bind(f)(b);b.yb.jkb=a;return b;};}function b(){return function(a){return f.Awa.bind(f)(a);};}function c(){return function(a){f.rFa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.yb.jkb=a;return b;};}f=this;return function(f){return{Bpa:d(f),$wa:b(),JBa:a(f),sFa:c()};};};a.prototype.pma=function(a,b,c,d){var f;f=null;a={e1a:a,O3a:function(a){return a;},kgb:b,key:void 0,$e:d,tub:c,value:void 0};if(this.L1){if(f=this.L1(a),void 0===f||null===f)throw Error(q.aNa);}else f=this.eYa()(a);return f;};a.prototype.eYa=function(){var a;a=this;return function(b){var c;c=k.ZE(a.ZWa,a,b.kgb,b.tub,b.$e,b.key,b.value,b.e1a);c=b.O3a(c);return t.resolve(c);};};return a;}();d.ZN=g;},function(g,d,a){(function(a){var b;(function(b){var Y,V,M,da,ea,U,P,ga,ha;function d(a,b,c){var d;d=ha.get(a);if(!d){if(!c)return;d=new P();ha.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new P();d.set(b,a);}return a;}function c(a,b,d){if(f(a,b,d))return!0;b=G(b);return null!==b?c(a,b,d):!1;}function f(a,b,c){b=d(b,c,!1);return void 0!==b&&!!b.has(a);}function g(a,b,c){if(f(a,b,c))return h(a,b,c);b=G(b);return null!==b?g(a,b,c):void 0;}function h(a,b,c){b=d(b,c,!1);return void 0===b?void 0:b.get(a);}function l(a,b){var c,f;c=n(a,b);a=G(a);if(null===a)return c;b=l(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new ga();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return S(a);}function n(a,b){var c;a=d(a,b,!1);c=[];a&&N(a,function(a,b){return c.push(b);});return c;}function p(a){return void 0===a;}function t(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function B(a){return"object"===typeof a?null!==a:"function"===typeof a;}function D(a){return"symbol"===typeof a?a:String(a);}function G(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===U||b!==U)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function R(a){a=a.next();return a.done?void 0:a;}function N(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=R(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function S(a){var b;b=[];N(a,function(a,c){b.push(c);});return b;}function Q(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function Z(){var a;a={};return function(){function b(){this.Do=[];this.Uk=[];this.vP=a;this.uP=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Do.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.LP(a,!1);};b.prototype.get=function(a){a=this.LP(a,!1);return 0<=a?this.Uk[a]:void 0;};b.prototype.set=function(a,b){a=this.LP(a,!0);this.Uk[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.LP(b,!1);if(0<=c){b=this.Do.length;for(c+=1;c<b;c++)this.Do[c-1]=this.Do[c],this.Uk[c-1]=this.Uk[c];this.Do.length--;this.Uk.length--;this.vP=a;this.uP=-2;return!0;}return!1;};b.prototype.clear=function(){this.Do.length=0;this.Uk.length=0;this.vP=a;this.uP=-2;};b.prototype.keys=function(){return Q(this.Do,void 0,"key");};b.prototype.values=function(){return Q(void 0,this.Uk,"value");};b.prototype.entries=function(){return Q(this.Do,this.Uk,"key+value");};b.prototype.LP=function(a,b){var c;if(this.vP===a)return this.uP;c=this.Do.indexOf(a);0>c&&b&&(c=this.Do.length,this.Do.push(a),this.Uk.push(void 0));return this.vP=a,this.uP=c;};return b;}();}function z(){return function(){function a(){this.Ii=new P();}Object.defineProperty(a.prototype,"size",{get:function(){return this.Ii.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.Ii.has(a);};a.prototype.add=function(a){return this.Ii.set(a,a),this;};a.prototype["delete"]=function(a){return this.Ii["delete"](a);};a.prototype.clear=function(){this.Ii.clear();};a.prototype.keys=function(){return this.Ii.keys();};a.prototype.values=function(){return this.Ii.values();};a.prototype.entries=function(){return this.Ii.entries();};return a;}();}function X(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(ea.has(d,b));d[b]=!0;return b;}function c(a,b){if(!Y.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:da()});}return a[f];}d=da();f=b();return function(){function a(){this.gy=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?ea.has(a,this.gy):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?ea.get(a,this.gy):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.gy]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.gy]:!1;};a.prototype.clear=function(){this.gy=b();};return a;}();}function T(a){a.EFb=1;delete a.FFb;return a;}Y=Object.prototype.hasOwnProperty;V="function"===typeof Object.create;M=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();da=V?function(){return T(Object.create(null));}:M?function(){return T({__proto__:null});}:function(){return T({});};(function(a){var b;b=!V&&!M;a.has=b?function(a,b){return Y.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return Y.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(ea||(ea={})));U=Object.getPrototypeOf(Function);P="function"===typeof Map?Map:Z();ga="function"===typeof Set?Set:z();ha=new("function"===typeof WeakMap?WeakMap:(X()))();b.Fv=function(a,b,c,d){var g;if(p(d)){if(p(c)){if(!t(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!p(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!t(a))throw new TypeError();if(!B(b))throw new TypeError();c=D(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!t(a))throw new TypeError();if(!B(b))throw new TypeError();if(p(c))throw new TypeError();if(!B(d))throw new TypeError();c=D(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!p(g)){if(!B(g))throw new TypeError();d=g;}}return d;}};b.od=function(a,b){return function(c,f){if(p(f)){if("function"!==typeof c)throw new TypeError();d(c,void 0,!0).set(a,b);}else{if(!B(c))throw new TypeError();f=D(f);d(c,f,!0).set(a,b);}};};b.r5=function(a,b,c){var f;if(!B(c))throw new TypeError();p(f)||(f=D(f));d(c,f,!0).set(a,b);};b.Geb=function(a,b){var d;if(!B(b))throw new TypeError();p(d)||(d=D(d));return c(a,b,d);};b.g8=function(a,b){var c;if(!B(b))throw new TypeError();p(c)||(c=D(c));return f(a,b,c);};b.getMetadata=function(a,b,c){if(!B(b))throw new TypeError();p(c)||(c=D(c));return g(a,b,c);};b.LIb=function(a,b,c){if(!B(b))throw new TypeError();p(c)||(c=D(c));return h(a,b,c);};b.JIb=function(a,b){if(!B(a))throw new TypeError();p(b)||(b=D(b));return l(a,b);};b.MIb=function(a,b){if(!B(a))throw new TypeError();p(b)||(b=D(b));return n(a,b);};b.QHb=function(a,b,c){var f;if(!B(b))throw new TypeError();p(c)||(c=D(c));f=d(b,c,!1);if(p(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ha.get(b);a["delete"](c);if(0<a.size)return!0;ha["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)Y.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof L?L:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(174)));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(1067);L._cad_global={};L.DEBUG=!1;a(9);a(8);a(16);a(18);a(34);a(28);a(104);a(516);a(264);a(44);a(26);a(15);a(66);a(54);a(515);a(181);a(433);a(514);a(513);a(179);a(512);a(262);a(200);a(351);a(284);a(278);a(280);a(279);a(261);a(295);a(294);a(292);a(145);a(188);a(511);a(13);a(274);a(510);a(103);a(67);a(283);a(125);a(350);a(349);a(199);a(509);a(177);a(323);a(291);a(185);a(508);a(507);a(330);a(186);a(333);a(187);a(296);a(506);a(144);a(276);a(148);a(289);a(123);a(92);a(505);a(504);a(503);a(502);a(501);a(277);a(57);a(500);a(275);a(281);a(285);a(348);a(282);a(273);a(499);a(498);a(266);a(121);a(497);a(496);a(495);a(494);a(493);a(486);a(483);a(287);},function(g,d,a){g.T=a(1068);}]));}.call(L));}(window));}.call(window));