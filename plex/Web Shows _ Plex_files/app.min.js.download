"use strict";!function(e,t){"undefined"==typeof PlexConditionizr&&(t.PlexConditionizr=function(){var e={};return e.init=function(){conditionizr.add("retina",function(){return t.devicePixelRatio>=1.5}),conditionizr.add("chrome",function(){return!!t.chrome&&/google/i.test(navigator.vendor)}),conditionizr.add("safari",function(){return/Constructor/.test(t.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===(!e||e.pushNotification).toString()}(t.safari)}),conditionizr.add("firefox",function(){return"InstallTrigger"in t}),conditionizr.add("touch",function(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}),conditionizr.config({assets:plex_l10n.path_to_css,tests:{safari:["class"],chrome:["class"],firefox:["class"],retina:["class"],touch:["class"]}})},e}()),e(document).ready(function(){conditionizr.on("retina",function(){e(".conditionizr-style").each(function(t,n){var i=e(this).data("alt-retina-style");i&&e(this).attr("style",i)})}),e(".conditionizr-style").removeAttr("data-alt-retina-style")})}(jQuery,window),function(e,t){var n={img:"",src:"",element:"",init:function(e){n.element=e,n.img=e.querySelector("img"),n.src="",n.img.addEventListener("load",n.update()),n.img.complete&&n.update()},update:function(){var e=n.img.src;n.src!==e&&(n.src=e,n.element.style.backgroundImage='url("'+n.src+'")')}};jQuery(".plex-responsive-bg-image").each(function(e,t){t.querySelector("img")&&!t.querySelector("img").classList.contains("lazy")&&n.init(t)}),jQuery(document).on("PlexLazyLoad",function(e,t){var i=t.closest(".plex-responsive-bg-image");i&&(t.style.display="none",n.init(i))})}(jQuery,window),function(e,t){"undefined"==typeof PlexLanguage&&(t.PlexLanguage=function(){var n={},i="en_US";return n.init=function(){Transifex.live.onFetchLanguages(function(t){var n=e(".lang-selector #tip-languages");n.empty();for(var r=0;r<t.length;++r)if(!(!0!==plex_l10n.transifex.valid_languages&&plex_l10n.transifex.valid_languages.indexOf(t[r].code)<0)){var a=e("<a />"),o=plex_l10n.transifex.localized_urls[t[r].code];a.text(t[r].name).attr("href",o);var s=e("<li />");s.attr("data-code",t[r].code).attr("data-name",t[r].name).css("cursor","pointer").html(a),n.append(s)}e(".sel-language").html(Transifex.live.getLanguageName("en_US")),Transifex.live.onTranslatePage(function(t){e(".sel-language").html(Transifex.live.getLanguageName(t)),i=t})})},n.maybeRedirect=function(){var e=n.getSavedLang();if(!n.botCheck()&&e&&void 0===PlexUtils.getParam("langr")&&"en_US"!==e&&e!==Transifex.live.getSelectedLanguageCode()){var i=plex_l10n.transifex.localized_urls[e];if(void 0===i||!i)return void(Transifex.live.hasLanguageCode(e)||Cookies.remove("plex_tv_lang",{domain:PlexUtils.getCookieDomain()}));var r="?";void 0!==t.location.search&&t.location.search&&(r=t.location.search,r+="&"),r+="langr=1",void 0!==t.location.hash&&t.location.hash&&(r+=t.location.hash),i+=r,t.location.replace(i)}},n.getUserLang=function(){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage,t=n.getSavedLang();return t||"undefined"!=typeof Transifex&&(t=Transifex.live.normalizeLangCode(e)),t||"undefined"==typeof Transifex||(t=Transifex.live.getLanguageName("en_US")),t},n.getSavedLang=function(){var e=Cookies.get("plex_tv_lang");return!(null==e||!e)&&e},n.setUserLang=function(e,t){if(null!=e){var n=PlexUtils.getCookieDomain();Cookies.set("plex_tv_lang",e,{domain:n,expires:365})}},n.languageSwitcher=function(){if(e(".header").is(":visible")){var t=n.getSavedLang(!0),i=e("#plex-language-bar");if(void 0===t||!t){var r=n.getUserLang(!0);"en_US"!==r&&Transifex.live.hasTargetLanguage(r)&&Transifex.live.getLanguageName(r)&&void 0!==plex_l10n.transifex.localized_urls[r]&&(i.find(".site-language-switch").attr("href",plex_l10n.transifex.localized_urls[r]).on("click",function(){n.setUserLang(r),i.slideUp()}),i.find(".dismiss-language-switch").on("click",function(){return n.setUserLang("en_US"),i.slideUp(),!1}),i.find(".site-language-switch-language").text(Transifex.live.getLanguageName(r)),i.show())}}},n.botCheck=function(){return/bot|prerender|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent)},n}()),"undefined"!=typeof Transifex&&Transifex.live.onReady(function(){PlexLanguage.init(),plex_l10n.transifex.js_redirect&&PlexLanguage.maybeRedirect(),PlexLanguage.languageSwitcher(),jQuery.tooltipster&&jQuery(".lang-selector .tooltip").tooltipster({trigger:"click",interactive:!0}),jQuery(document).on("click","#tip-languages a",function(){var e=jQuery(this).parent().data("code");void 0!==e&&e&&PlexLanguage.setUserLang(e)})})}(jQuery,window),function(e,t){var n={imageCount:0,observer:"",init:function(e,i){var r=document.querySelectorAll(e);if(void 0===i)var i={rootMargin:"100px 0px",threshold:.01};if(n.imageCount=r.length,"IntersectionObserver"in t){n.observer=new IntersectionObserver(n.onIntersection,i);var a=0;for(a=0;a<r.length;a++){var o=r[a];o.classList.contains("js-lazy-image--handled")||n.observer.observe(o)}}else n.loadImagesImmediately(r)},fetchImage:function(e){return new Promise(function(t,n){var i=new Image;i.src=e,i.onload=t,i.onerror=n})},preloadImage:function(e){var t=e.dataset.src;if(t)return n.fetchImage(t).then(function(){n.applyImage(e)})},loadImagesImmediately:function(e){var t=0;for(t=0;t<e.length;t++){var i=e[t];n.preloadImage(i)}},disconnect:function(){observer&&n.observer.disconnect()},onIntersection:function(e){0===n.imageCount&&n.observer.disconnect();var t=0;for(t=0;t<e.length;t++){var i=e[t];i.intersectionRatio>0&&(n.imageCount--,n.observer.unobserve(i.target),n.preloadImage(i.target))}},applyImage:function(t){t.classList.add("js-lazy-image--handled"),t.src=t.dataset.src,t.dataset.src="",void 0!==t.dataset.srcset&&(t.srcset=t.dataset.srcset,t.sizes=t.dataset.sizes,t.dataset.srcset="",t.dataset.sizes=""),t.classList.add("fade-in"),e.event.trigger("PlexLazyLoad",t)}};jQuery(document).on("plex_site_init",function(){n.init(".lazy"),e(".hero").find("video").each(function(t,n){var i=e(this).closest(".hero");n.onloadeddata=function(){i.find("img").fadeOut("slow").remove(),i.removeClass("plex-responsive-bg-image")},e(n).hide(),e(n).find("source").attr("src",e(n).find("source").data("src")),e(n).load().fadeIn()})})}(jQuery,window),function(e,t){"undefined"==typeof PlexUtils?t.PlexUtils=function(){var n={},i={stagingeu:"https://stagingeu.plex.tv",staging:"https://staging.plex.tv",staging2:"https://staging2.plex.tv",stagingtv:"https://stagingtv.plex.tv",plex4:"https://staging.plex.tv",development:"https://staging.plex.tv"},r={stagingeu:"https://stagingeu-webloader.plex.tv",staging:"https://staging-webloader.plex.tv",staging2:"https://staging2-webloader.plex.tv",stagingtv:"https://stagingtv-webloader.plex.tv",plex4:"https://staging-webloader.plex.tv",development:"https://staging-webloader.plex.tv"},a=["plex.tv","plex.test","tidal.com"],o=0;return n.isDevelopment=function(){var t=e(location).attr("hostname");return new RegExp(/((\/\/(.*?)|)(staging|plex4).*?plex\.tv)/).test(t)||n.isLocalDevelopment()},n.isLocalDevelopment=function(){var t=e(location).attr("hostname");return new RegExp(/((\/\/(\S+\.)*|)plex\.(dev|test))/).test(t)},n.getAPIUrl=function(){var e="https://plex.tv";return n.isDevelopment()&&(e=n.getCurrentStagingAPIUrl()),e},n.getWebUrlBase=function(){var e="https://app.plex.tv";return n.isDevelopment()&&(e=n.getCurrentWebStagingAPIUrl()),e},n.getWebUrl=function(){var e="/desktop";return n.isLocalDevelopment()?e+="-ninja":(PlexUser.hasRole("ninja")||PlexUser.hasRole("employee"))&&(e+="-ninja"),n.getWebUrlBase()+e},n.getMusicUrl=function(){var e="/desktop";return n.isLocalDevelopment()?e+="-ninja":(PlexUser.hasRole("ninja")||PlexUser.hasRole("employee"))&&(e+="-ninja"),e+="#!/media/tv.plex.provider.music?key=%2Fhubs%2Fsections%2Ftidal&pageType=hub&context=content.tidal&source=tidal",n.getWebUrlBase()+e},n.getAdminUrl=function(){return n.getAPIUrl()+"/admin"},n.getCurrentStagingAPIUrl=function(){var e=Cookies.get("plex_tv_staging_url");return void 0!==e&&null!==e||(e=n.getDefaultStagingUrl()),e},n.getCurrentWebStagingAPIUrl=function(){var t=e(location).attr("hostname").split("-")[0],i=Cookies.get("plex_tv_staging_web_url");return void 0!==i&&null!==i||(i=n.isLocalDevelopment()?r.development:r[t]),i},n.setCurrentStagingAPIUrl=function(e){Cookies.set("plex_tv_staging_url",e)},n.setCurrentStagingWebAPIUrl=function(e){Cookies.set("plex_tv_staging_web_url",e)},n.getStagingUrls=function(){var t={development:"http://api.plex.test"};if(!n.isLocalDevelopment()){var r=e(location).attr("hostname").split("-")[0];t[r]=i[r]}return t},n.getDefaultStagingUrl=function(){var t=e(location).attr("hostname").split("-")[0],r=i[t];return n.isLocalDevelopment()&&(r=i.development),r},n.isSecure=function(){return-1!==location.protocol.indexOf("https")},n.isMobile=function(){var e=!1;return"iOS"!==platform.os.family&&"Android"!==platform.os.family&&"Windows Phone"!==platform.os.family||(e=!0),e},n.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.isReturningWebApp=function(){return document.referrer.indexOf(n.getWebUrlBase())>=0},n.GetURLParameter=function(e,n){var i=t.location.search.substring(1);if(n=void 0===n||n,!i&&n){var r=t.location.href.split("?");r.length>1&&(i=r[1])}for(var a=i.split("&"),o=0;o<a.length;o++){var s=a[o].split("=");if(s[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(s[1])}},n.getParam=function(e){return n.GetURLParameter(e)},n.getURLHash=function(){return void 0!==t.location.hash?t.location.hash:""},n.getPageForURL=function(e){e=void 0!==e?e:t.location.pathname;var n=e.replace(/\/$/,"");return n.substring(n.lastIndexOf("/")+1)},n.removeParam=function(e,n){n||(n=t.location.href);var i=n.split("#"),r=new RegExp("([?&])"+e+"=.*?(&|#|$)","i");return i[0].match(r)&&(n=i[0].replace(r,"$1"),n=n.replace(/([?&])$/,""),void 0!==i[1]&&null!==i[1]&&(n+="#"+i[1])),n},n.setURLParameter=function(e,t,n){var t=encodeURIComponent(t),n=encodeURIComponent(n),i="",r=e.split("?")[0],a=t+"="+n,o="?"+a;if(i=void 0===e.split("?")[1]?"":"?"+e.split("?")[1]){var s=new RegExp("([?&])"+t+"[^&]*"),l=new RegExp("([?&])"+t+"=[^&;]+[&;]?");void 0===n||null===n||""===n?(o=i.replace(l,"$1"),o=o.replace(/[&;]$/,"")):o=null!==i.match(s)?i.replace(s,"$1"+a):""==i?"?"+a:i+"&"+a}return o="?"===o?"":o,r+o},n.appendParamToURLString=function(e,n){var i="",r="",a="";return void 0!==n&&void 0!==n.href&&n.href?(i=n.href,r=n.search,a=n.hash):(i=t.location.href,r=t.location.search,a=t.location.hash),i=i.replace(/#$/,""),r&&r.indexOf(e)>=0?i:(r?i=i.replace(r,r+"&"+e):(e="?"+e,a?i=i.replace(a,e+a):i+=e),i)},n.appendParamToURL=function(e){var i=n.appendParamToURLString(e);t.history.replaceState({},"",i)},n.setCache=function(e,t,n){var i=moment().add(n,"m").unix(),r={expiration:i,value:t};try{sessionStorage.setItem(e,JSON.stringify(r))}catch(e){return console.warn("Your browser doesn't support session storage."),!1}return!0},n.clearSessionCache=function(e){try{void 0!==e?sessionStorage.removeItem(e):sessionStorage.clear()}catch(e){console.warn("Your browser doesn't support session storage.")}},n.getCache=function(e,t){void 0===t&&(t=!1);var n=null;try{n=sessionStorage.getItem(e),null!==n&&(n=JSON.parse(n),n.expiration<moment().unix()?(sessionStorage.removeItem(e),n=null):t||(n=n.value))}catch(e){console.warn("Your browser doesn't support session storage."),n=null}return n},n.getCookieDomain=function(){var t=".plex.tv",i=e(location).attr("hostname"),r=new RegExp(/((\/\/(\S+\.)*|)plex\.dev)/);return n.isLocalDevelopment()&&(t=".plex.test",r.test(i)&&(t=".plex.dev")),t},n.getForward=function(e){void 0===e&&(e=!1);var t=e?"ext_forward":"forward",i=n.getParam(t);if(void 0!==i)return i;var r=sessionStorage.getItem(t);return void 0!==r&&null!==r&&(i=r),i},n.saveForward=function(){var e=n.getParam("forward"),t=n.getParam("external_forward")||n.getParam("externalForward");try{void 0!==e&&sessionStorage.setItem("forward",e),void 0!==t&&sessionStorage.setItem("ext_forward",t)}catch(e){return console.warn("Your browser doesn't support session storage."),!1}},n.clearForward=function(){try{sessionStorage.removeItem("forward"),sessionStorage.removeItem("ext_forward")}catch(e){return console.warn("Your browser doesn't support session storage."),!1}},n.extend=function(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i},n.redirect=function(i){var r=n.getForward(),o=n.getForward(!0),s=new RegExp("^(?:[a-z]+:)?//","i"),l="";if(l=n.isLocalDevelopment()?new RegExp(/(\/\/(\S+\.)*plex\.(dev|test)(:\d+)?(\z|\/))/):new RegExp(/(\/\/(\S+\.)*plex\.tv(:\d+)?(\z|\/))/),void 0!==r)i=r,"web"===i.toLowerCase()&&(i=n.getWebUrl()),s.test(r)&&!l.test(r)&&(i="/");else if(void 0!==o){i=o;try{t.history.location.replaceState({},"Plex Media Server",t.location.origin+t.location.pathname)}catch(e){console.log("couldn't change the referer before the redirect")}s.test(o)?l.test(o)||(i="/"):i=n.getAPIUrl()+o}if(void 0===i)i="/";else if("/"!==i){var c=e("<a>");c.attr("href",i);var u=e.grep(a,function(e,t){return c[0].hostname.indexOf(e)>=0});u.length||(i="/")}n.clearForward(),t.location.href=i},n.reCaptchaReset=function(){try{grecaptcha.reset()}catch(e){}},n.reCaptcha=function(e,t,i,r){n.reCaptchaInternal(e,t,i,r)},n.reCaptchaAPI=function(t,i,r,a,s){grecaptcha.ready(function(){grecaptcha.execute(t.site_key,{action:i}).then(function(i){o++;var l={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"X-Plex-Token":Plex.getAuthToken()},c={token:i};e.ajax({dataType:"json",type:"POST",url:n.getAPIUrl()+"/api/v2/captchas/verify",headers:l,data:c}).always(function(n){Plex.debugLog()&&(console.log("reCaptcha result"),console.log(n),console.log("Retries = "+o),console.log("Max Retries = "+t.min_retries)),void 0!==n.score&&n.score<t.threshold||void 0!==t.min_retries&&o>t.min_retries?(void 0!==s&&e(s).text("Please check the reCAPTCHA ..."),grecaptcha.render(document.getElementById("recaptcha"),{sitekey:t.site_key_v2,"expired-callback":a,callback:function(e){r(!0)}})):r(!0,!0)})})})},n.reCaptchaInternal=function(t,n,i,r){grecaptcha.ready(function(){grecaptcha.execute(t.site_key,{action:"checkout"}).then(function(a){o++;var s={"X-WP-Nonce":t.nonce},l={token:a};e.ajax({dataType:"json",type:"GET",url:t.endpoint,headers:s,data:l}).always(function(a){Plex.debugLog()&&(console.log("reCaptcha result"),console.log(a),console.log("Retries = "+o),console.log("Max Retries = "+t.min_retries)),void 0!==a.data&&a.data.score<t.threshold||void 0!==t.min_retries&&o>t.min_retries?(void 0!==r&&e(r).text("Please check the reCAPTCHA ..."),grecaptcha.render(document.getElementById("recaptcha"),{sitekey:t.site_key_v2,"expired-callback":i,callback:function(e){n(!0)}})):n(!0,!0)})})})},n.toggleReCaptcha=function(t){"show"===t?e(".g-recaptcha").show():e(".g-recaptcha").hide()},n.showErrorsOnForm=function(t,n){e.each(this.validElements(),function(t,n){var i=e(n).parent(),r=i.find(".icomoon"),a="icon-form-success";i.find(".field-error").html("").hide(),i.hasClass("no-checkmark")&&(a=r.data("original-icon")),r.removeClass(function(e,t){return(t.match(/(^|\s)icon-\S+/g)||[]).join(" ")}).addClass(a),i.removeClass("input-field-error").addClass("input-field-success")}),e.each(n,function(t,n){var i=e(n.element).parent();i.find(".icomoon").removeClass(function(e,t){return(t.match(/(^|\s)icon-\S+/g)||[]).join(" ")}).addClass("icon-form-error"),i.find(".field-error").html(n.message).show(),i.removeClass("input-field-success").addClass("input-field-error")})},n}():console.log("PlexUtils is already defined."),e(document).ready(function(){})}(jQuery,window),function(e,t){"undefined"==typeof PlexFlags?t.PlexFlags=function(){var t={},n=null,i={music:"e7cea823-02e5-48c4-a501-d37b82bf132f"},r=plex_l10n.feature_flags_active,a=plex_l10n.feature_flags_actions;return t.getFeaturesTree=function(){var e=PlexUtils.getCache("plex_features_tree");return Plex.debugLog()&&null!==e&&PlexUtils.getParam("feature_flag")&&(PlexUtils.getParam("feature_flag"),e[i[PlexUtils.getParam("feature_flag")]]=!0),e},t.refreshFeaturesTree=function(i){var r=e.Deferred();if(!t.activeFeatureFlags())return r.resolve();if(i=void 0!==i&&i,i&&PlexUtils.clearSessionCache("plex_features_tree"),void 0!==(n=t.getFeaturesTree())&&null!==n)return r.resolve(n);var a={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(a["X-Plex-Token"]=Plex.getAuthToken()),e.ajax({dataType:"json",type:"GET",headers:a,url:PlexUtils.getAPIUrl()+"/api/v2/features.json",crossDomain:!0}).always(function(t,i){n={},"error"!==i?(e.each(t,function(e,t){n[t.uuid]=!0}),PlexUtils.setCache("plex_features_tree",n,10),r.resolve(n)):r.resolve(),Plex.debugLog()&&console.log("Updated features tree")}),r.promise()},t.activeFeatureFlags=function(){return!(void 0===r||void 0===a||!r.length)},t.skipFeatureFlags=function(e){return e=void 0!==e?e:"",!(t.activeFeatureFlags()&&!(e&&r.indexOf(e)<0))},t.getFeatureState=function(e){if(t.skipFeatureFlags(e))return!0;var n=!1,i=t.getFeaturesTree();return null!==i&&i.hasOwnProperty(e)&&(n=i[e]),Plex.debugLog()&&console.log("Feature flag "+e+" state is "+n),n},t.getFeatureStateByType=function(e){return!!t.skipFeatureFlags(e)||void 0!==i[e]&&t.getFeatureState(i[e])},t.hasAccessToFeature=function(e){return t.getFeatureStateByType(e)},t.refreshUI=function(){t.skipFeatureFlags()||void 0!==a.selectors&&t.doUISelectors(a.selectors)},t.doUISelectors=function(n){e.each(n,function(n,i){var r="",o=e(i).data("groupDisplay");Plex.debugLog()&&console.log("Checking features flags UI selectors for "+n+" :: "+i),void 0!==o&&(r=e("."+o));var s=t.getFeatureStateByType(n);void 0!==a.alt_classes&&void 0!==a.alt_classes[o]&&t.doUIAltClasses(s,r,a.alt_classes[o]),s?e(i).not(":visible").fadeIn():e(i).hide()})},t.doUIAltClasses=function(e,t,n){var i=n.default,r=n.alt;Plex.debugLog()&&console.log("Checking UI alt classes for the feature"),t.removeClass(i+" "+r),e?t.addClass(i):t.addClass(r)},t.doUIAltClasses__=function(n){e.each(n,function(n,i){e.each(i,function(i,r){var a=r.default,o=r.alt,s=r.child_selectors;e(i).removeClass(a+" "+o),e(i).find(s).hasClass(s),t.getFeatureStateByType(n)?e(i).addClass(a):e(i).addClass(o)})})},t}():console.log("PlexFlags is already defined."),e(document).ready(function(){PlexView.addAfterRenderHook(function(){PlexFlags.refreshFeaturesTree().then(PlexFlags.refreshUI)})})}(jQuery,window),function(e,t){"undefined"==typeof PlexMetrics?t.PlexMetrics=function(){var n={},i=[],r=!1,a=function(){for(var e=t.location.search.substring(1),n=e.split("&"),i={},r=0;r<n.length;r++){var a=n[r].split("=");-1!==a[0].toLowerCase().indexOf("utm_")&&(i[a[0].replace("utm_","")]=decodeURIComponent(a[1]))}return i};return n.pushEvent=function(t,n,i){void 0===i&&(i={}),void 0!==n&&n||(n=function(){}),Object.getOwnPropertyNames(dataLayer).reduce(function(e,t){return e||"push"==t},!1)?(e.extend(i,{event:t,eventCallback:n}),dataLayer.push(i),Plex.debugLog()&&(console.log("Pushed event ..."),console.log(i))):n()},n.loadUTMParams=function(){var e=a(),t=PlexUtils.getCookieDomain();Object.keys(e).length>0&&(Cookies.set("plex_utm",e,{domain:t}),n.track("attribution","marketing"))},n.moveUTMParamsToGlobal=function(){var e=Cookies.getJSON("plex_utm"),t=PlexUtils.getCookieDomain();Cookies.remove("plex_utm"),"undefined"===e&&Cookies.remove("plex_utm",{domain:t}),void 0!==e&&"undefined"!==e&&""!==e&&null!==t&&Cookies.set("plex_utm",e,{domain:t})},n.getUTMParams=function(){var e=Cookies.getJSON("plex_utm");return void 0!==e&&"undefined"!==e&&""!==e&&null!==e?e:{}},n.track=function(e,t,a,o){r?n.execTrackMetric(e,t,a,o):i.push({category:e,action:t,options:a})},n.execTrackMetric=function(t,i,r,a){void 0===r&&(r={}),void 0===a&&(a=function(){});var o={userId:Plex.isSignedIn()?Plex.getAuthInfo().id:null,deviceIdentifier:Plex.getClientIdentifier(),event:"client:"+t,interaction:!0,properties:{page:i,context:e(location).attr("origin")+e(location).attr("pathname")},context:{campaign:n.getUTMParams(),device:{product:e(location).attr("hostname"),platform:platform.name,platformVersion:platform.version,device:platform.os.family}}},s=e.extend(!0,o,r);e.ajax({type:"POST",url:PlexUtils.isDevelopment()?"https://analytics-stage.plex.tv/collect/event":"https://analytics.plex.tv/collect/event",contentType:"application/json",data:JSON.stringify(s),error:function(e){Plex.debugLog()&&console.log("Couldn't track the plex metric "+t+":"+i)}}).always(function(){Plex.debugLog()&&(console.log("Pushed metric ..."),console.log(s)),a()})},n.execAllMetricEvents=function(){r=!0,e.each(i,function(e,t){n.execTrackMetric(t.category,t.action,t.options)})},n}():console.log("PlexMetrics is already defined."),e(document).ready(function(){})}(jQuery,window),function(e,t){"undefined"==typeof Plex?t.Plex=function(){var t={},n={},i=plex_l10n.pages.signin,r=plex_l10n.pages.signup,a=!1,o=!1,s=["pass","tidal"],l={regular:"currency",tidal:"country"};return t.Tidal={plansFree:{hifi_bundle:"Tidal Hifi",premium_bundle:"Tidal Premium",hifi_bundle_trial:"Tidal Hifi Trial",premium_bundle_trial:"Tidal Premium Trial"},plansPP:{hifi:"Tidal Hifi Add-On",premium:"Tidal Premium Add-On",hifi_trial:"Tidal Hifi Trial Add-On",premium_trial:"Tidal Premium Trial Add-On",premium_addon_trial:"Tidal Premium Add-On Trial",hifi_addon_trial:"Tidal HiFi Add-On Trial"},getFreePlans:function(){return Object.keys(this.plansFree)},getPPPlans:function(){return Object.keys(this.plansPP)},getAllPlans:function(){return this.getFreePlans().concat(this.getPPPlans())},validPlans:function(e){return!(this.getAllPlans().indexOf(e)<0)&&(t.hasActivePlexPass()?this.getPPPlans():this.getFreePlans())}},t.debugLog=function(){return PlexUtils.isDevelopment()||PlexUtils.isLocalDevelopment()||plex_l10n.js_debug_log},t.signInGuard=function(e){return!!t.isSignedIn()||(void 0!==e?(t.signUpRedirect(),!1):(t.signInRedirect(),!1))},t.getSignInPage=function(e){return e=void 0!==e?e:"",i+e},t.getSignUpPage=function(e){return e=void 0!==e?e:"",r+e},t.setIsSigninIn=function(e){e=void 0===e||e,a=e},t.isSigninIn=function(){return a},t.isSignedIn=function(){try{var e=localStorage.getItem("plex_tv_auth")}catch(e){return console.warn("Your browser doesn't support local storage."),void 0!==Cookies.get("plex_tv_auth")}return!!e},t.signInRedirect=function(e){e=void 0!==e&&e?e:location.href,PlexUtils.redirect(t.getSignInPage("/?forwardUrl="+encodeURIComponent(e)))},t.signUpRedirect=function(e){e=void 0!==e&&e?e:location.href,PlexUtils.redirect(t.getSignUpPage("/?forwardUrl="+encodeURIComponent(e)))},t.getClientIdentifier=function(){var e=!1;return void 0===Cookies.get("plex_tv_client_identifier")?(e=PlexUtils.guid(),t.setClientIdentifier(e)):e=Cookies.get("plex_tv_client_identifier"),e},t.setClientIdentifier=function(e){Cookies.set("plex_tv_client_identifier",e,{expires:3650})},t.getAuthInfo=function(){try{var e=localStorage.getItem("plex_tv_auth")}catch(e){return console.warn("Your browser doesn't support local storage."),null}return e?JSON.parse(e):(void 0!==(e=Cookies.getJSON("plex_tv_auth"))&&(t.setAuthInfo(e),Cookies.remove("plex_tv_auth")),e)},t.isRefreshingInfo=function(e){var t=void 0!==e,n=!0;return t&&(n=PlexUtils.isReturningWebApp()||PlexUtils.getAPIUrl()),"1"===PlexUtils.getParam("refreshInfo")&&n},t.getAuthToken=function(){var e=t.getAuthInfo();if(void 0!==e)return e.authToken},t.checkTokenExpiration=function(){var e=t.getAuthInfo();e&&void 0!==e.expires_at&&moment.unix(e.expires_at)<moment().unix()&&t.removeAuthInfo()},t.setAuthInfo=function(e,n){t.clearCachedPricing(),t.isSignedIn()||PlexView.setRunHooks(!0),e.lstorage_at=moment().unix(),!0===n&&(e.expires_at=moment.unix(e.lstorage_at).add(14,"days").unix());try{localStorage.setItem("plex_tv_auth",JSON.stringify(e)),t.SSOSyncCookie()}catch(e){console.warn("Your browser doesn't support local storage.")}PlexUser.cacheSubscriptions(e.subscriptions),PlexFlags.refreshFeaturesTree(!0).always(function(){(PlexView.refreshView()||PlexView.runViewHooks())&&PlexView.refresh()}),t.setIsSigninIn(!1),PlexTemplating.userStateChanged()},t.removeAuthInfo=function(e){e=void 0!==e&&e,t.isSignedIn()&&PlexView.setRunHooks(!0);try{localStorage.removeItem("plex_tv_auth"),t.SSOSyncCookie()}catch(e){console.warn("Your browser doesn't support local storage.")}PlexUtils.clearSessionCache(),PlexUser.clearSubscriptions(),PlexFlags.refreshFeaturesTree(!0).then(function(){!PlexView.refreshView()&&!PlexView.runViewHooks()||e||PlexView.refresh()}),PlexTemplating.userStateChanged()},t.hasActivePlexPass=function(){return t.debugLog()&&PlexUtils.getParam("plexpass")?Boolean(parseInt(PlexUtils.getParam("plexpass"))):!!t.getAuthInfo()&&t.getAuthInfo().subscription.active},t.hasActiveMusicPass=function(e){return t.debugLog()&&PlexUtils.getParam("musicpass")?Boolean(parseInt(PlexUtils.getParam("musicpass"))):(e=void 0!==e?e:"tidal",t.hasActiveTidalSubsc()&&!t.hasActivePlexPass())},t.hasActiveTidalSubsc=function(n){if(t.debugLog()&&PlexUtils.getParam("tidal"))return Boolean(parseInt(PlexUtils.getParam("tidal")));n=void 0!==n?n:"tidal";var i=!1;return e.each(t.Tidal.getAllPlans(),function(e,r){if(i=t.findActiveSubscriptionType(n,r))return!1}),Boolean(i)},t.hasExpiredTrial=function(e){var n=t.getAuthInfo();if(void 0!==n){var i=n.trials;return void 0===i&&(i=[]),t.debugLog()&&PlexUtils.getParam("simulTrialEnd")&&i.push(PlexUtils.getParam("simulTrialEnd")),i.indexOf(e)>=0}return!1},t.hasLinkedProvider=function(e){return!1!==t.getLinkedProviderPlan(e,"subscriptionType")},t.getExperiment=function(){var n=Cookies.get("_gaexp");if(t.debugLog()&&PlexUtils.getParam("experiment")&&(n=PlexUtils.getParam("experiment")),n){var i=n.split("!"),r=[];return e.each(i,function(e,t){var n=t.split(".");n={ID:n[2],variantID:n[4]},r.push(n)}),r}return!1},t.experimentExists=function(e){if(!e)return!1;var n=e.split(",");return t.getExperiment().filter(function(i){return t.debugLog()&&(console.log("EXPERIMENT"),console.log(i),console.log("MATCHING IDS:"+e),console.log("DOES IT MATCH experiment = "+i.ID+" => "+(n.indexOf(i.ID)>=0&&"0"!=i.variantID?"YES":"NO"))),n.indexOf(i.ID)>=0&&"0"!=i.variantID}).length>0},t.altPlans=function(){if(void 0!==plex_l10n.plans.experiments.id&&void 0!==plex_l10n.plans.experiments.name)return!(!t.getExperiment()||!t.experimentExists(plex_l10n.plans.experiments.id)||"tidal_alt_prices"!==plex_l10n.plans.experiments.name)&&(t.debugLog&&console.log("Use Alt Pricing"),plex_l10n.plans.experiments.name)},t.loadPlans=function(i,r){var a=e.Deferred(),o={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":t.getClientIdentifier()},s={};if(r=void 0!==r&&r,"regular"!==i){s.feature=i;var l=t.altPlans();l&&(s.experiment=l)}t.isSignedIn()&&(o["X-Plex-Token"]=t.getAuthToken());var c=PlexUtils.getAPIUrl()+"/api/v2/subscriptions/plans.json?all=true";return r&&"country"!==t.getPlansFeatureIndex(i)&&(c=PlexUtils.getAPIUrl()+"/api/subscriptions/plans.json"),e.ajax({dataType:"json",type:"GET",headers:o,url:c,crossDomain:!0,data:s}).done(function(o){if(n[i]=o,r){if("country"===t.getPlansFeatureIndex(i)){var s=t.debugLog()&&PlexUtils.getParam("country_code")?PlexUtils.getParam("country_code"):n[i].defaultCountry,l=n[i].prices[s];if(void 0!==n[i].prices[s]){var l=n[i].prices[s],c=n[i].formattedPrices[s],u=[];e.each(Object.keys(l),function(e,t){"meta"!==t&&u.push({id:t,name:"Monthly",price:l[t],currency:l.meta.currency,formattedPrice:c[t]})}),n[i]=u}else n[i]="not_available"}PlexUtils.setCache("pricesData"+i,n[i],30)}a.resolve(o)}).then(null,function(e){a.reject(e)}),a.promise()},t.loadPrices=function(i,r){var a=e.Deferred();return r=r||!1,t.altPlans()&&(r=!0),r||void 0!==n[i]&&null!==n[i]||(n[i]=PlexUtils.getCache("pricesData"+i)),r||null===n[i]&&"not_available"!==n[i]?t.loadPlans(i,!0):a.resolve()},t.maybeLoadPrices=function(n){n=n||!1;var i=function(t){e.event.trigger("pricesInit",[t])};if(e(".pp-price-feature[data-pp-price-feature]").length){e(".plans-na-error").hide();var r=[];e(".pp-price-feature[data-pp-price-feature]").each(function(){var t=e(this).data("pp-price-feature");-1===r.indexOf(t)&&r.push(t)});var a=0;e.each(r,function(o,s){t.loadPrices(s,n).then(function(){++a>=r.length&&i(s)}).fail(function(){e(".plans-na-error").show()})})}else i()},t.fillPrices=function(){e.each(n,function(t,i){if("not_available"===i)return!0;e.each(n[t],function(n,i){var r=(void 0!==t&&"pass"!==t?t+"-":"")+i.id,a=i.formattedPrice;e(".plex-price-"+r).html(a),e(".plex-price-"+r+".name").html(i.name),e(".plex-price-"+r+".price.discounted-price").html(a.replace(i.currency,"").trim()),e(".plex-price-"+r+".currencycode").html(i.currency)})})},t.clearCachedPricing=function(i){var r=function(e){t.debugLog()&&console.log("Resetting prices for: "+e),PlexUtils.clearSessionCache("pricesData"+e),n[e]=null};if(void 0!==i)return void r(i);e.each(s,function(e,t){r(t)})},t.getPlansFeatureIndex=function(e){return void 0===l[e]?l.regular:l[e]},t.getUSDPlansIndex=function(e){return"country"===e?"US":"USD"},t.canPurchasePlans=function(e){var t=PlexUtils.getCache("pricesData"+e);return null===t?void 0===n[e]||"not_available"!==n[e]:"not_available"!==t},t.getOtherActiveSubscPlan=function(){if(t.debugLog()&&PlexUtils.getParam("tidalsubsc"))return Boolean(parseInt(PlexUtils.getParam("tidalsubsc")));var n=PlexUser.getSubscriptionsInfo();if(void 0===n||!n.length)return!1;var i=!1;return e.each(plex_l10n.plans.tidal,function(e,n){if(t.findActiveSubscriptionType("tidal",n.id))return i=n,!1}),i},t.checkPendingSubscription=function(n){var i=e.Deferred(),r=t.findPendingSubscriptionType(n);return null!==r?t.getSubscriptionStatus(r.id):i.resolve()},t.findSubscriptionType=function(t,n,i){var r=PlexUser.getSubscriptionsInfo(),a=null;return i=void 0!==i?i:"active",n=void 0!==n?n:"any",e.each(r,function(e,r){return void 0!==r.type&&(r.type===t&&("any"!==i&&r.state===i||"any"===i)?("any"!==n&&n!==r.mode||(a=r),!1):void 0)}),a},t.findActiveSubscriptionType=function(e,n){return t.findSubscriptionType(e,n,"active")},t.findPendingSubscriptionType=function(e,n){return t.findSubscriptionType(e,n,"pending")},t.getActiveSubscriptionType=function(e,n){var i=t.findActiveSubscriptionType(e)||!1;return i&&void 0!==i[n]?i[n]:i},t.getLinkedProviderPlan=function(n,i){if(t.debugLog()&&PlexUtils.getParam("simulLinkedProvider"))return PlexUtils.getParam("simulLinkedProvider");if(t.getActiveSubscriptionType(n,"mode"))return!1;var r=t.getAuthInfo();if(void 0!==r){var a=r.providers;void 0===a&&(a=[]),t.debugLog()&&PlexUtils.getParam("simulLinkedProvider")&&a.push(PlexUtils.getParam("simulLinkedProvider"));var o=e.grep(a,function(e,t){return e.id===n});if(o.length&&void 0!==o[0][i]&&o[0][i])return o[0][i]}return!1},t.subscriptionGuard=function(){return t.isSignedIn()?!t.getAuthInfo().subscription.active:(t.signInRedirect(),!1)},t.getSubscriptionStatus=function(n){var i=e.Deferred();return e.ajax({dataType:"json",type:"GET",headers:{"X-Plex-Client-Identifier":t.getClientIdentifier(),"X-Plex-Token":t.getAuthToken()},url:PlexUtils.getAPIUrl()+"/api/v2/subscriptions/"+n,crossDomain:!0,xhrFields:{withCredentials:!0}}).always(function(e,t){var n=!1;"error"!==t&&void 0!==e.state&&(n=e),i.resolve(n)}),i.promise()},t.getSubscriptionAuthInfo=function(){var e=t.getAuthInfo();return{active:e.subscription.active,plan:e.subscription.plan,billing_cycle:e.subscription.plan,next_charge_time:""}},t.SSOSyncCookie=function(n){var i=PlexUtils.getCookieDomain(),r=e(location).attr("hostname");if(!o){var a={host:r,signedIn:t.isSignedIn(),token:t.getAuthToken()};a=JSON.stringify(a);try{a=btoa(a)}catch(e){}Cookies.set("_plex_tv_auth_sync",a,{domain:i})}},t.SSOSync=function(){var n=PlexUtils.getCookieDomain(),i=e(location).attr("hostname"),r=Cookies.get("_plex_tv_auth_sync");if(void 0!==r&&r){try{r=JSON.parse(atob(r))}catch(e){r=JSON.parse(r)}if(void 0!==r.host&&void 0!==r.signedIn){
var a=void 0!==r.token&&t.getAuthToken()!==r.token;i===r.host||t.isSignedIn()===r.signedIn&&!a||(Cookies.remove("_plex_tv_auth_sync",{domain:n}),Cookies.remove("plex_tv_auth_rem",{domain:n}),t.isSignedIn()!==r.signedIn&&t.removeAuthInfo(),PlexSignIn.loadSSO(),o=!0)}}},t}():console.log("Plex is already defined."),e(document).ready(function(){var t=0;PlexMetrics.pushEvent("SitePlexInit"),PlexUtils.saveForward(),PlexMetrics.moveUTMParamsToGlobal(),PlexMetrics.loadUTMParams(),PlexMetrics.execAllMetricEvents(),PlexMetrics.pushEvent("SitePlexAfterInit"),PlexView.addAfterRenderHook(function(){Plex.maybeLoadPrices(),Plex.SSOSync(),Plex.checkTokenExpiration(),PlexUser.refreshAuthInfo()}),e(document).on("pricesInit",function(e,n){var i={canPurchaseTidalPlans:Plex.canPurchasePlans("tidal")};PlexView.renderAsync(i,t++,Plex.fillPrices)})})}(jQuery,window);var PlexVueInstance={},store=!1,getPlexCoreData=function(){return{isSigninOut:!1,isNewUser:window.PlexNewUser||!1,isSigninIn:Plex.isSigninIn(),isSignedIn:Plex.isSignedIn(),refreshInfo:Plex.isRefreshingInfo(),hasAdminPermissions:PlexUser.hasAdminPermissions(),apiURL:PlexUtils.getAPIUrl(),webURL:PlexUtils.getWebUrl(),musicURL:PlexUtils.getMusicUrl(),adminURL:PlexUtils.getAdminUrl(),user:Plex.getAuthInfo(),hasAccessToMusic:PlexFlags.hasAccessToFeature("music"),hasActivePlexPass:Plex.hasActivePlexPass(),hasActiveMusicPass:Plex.hasActiveMusicPass(),getActiveTidalPlan:Plex.getActiveSubscriptionType("tidal","mode"),hasActiveTidalSubsc:Plex.hasActiveTidalSubsc(),hasExpiredTidalTrial:Plex.hasExpiredTrial("tidal"),hasAnyStateTidalSubsc:PlexUser.hasAnyStateSubscription("tidal"),hasLinkedTidalProvider:Plex.hasLinkedProvider("tidal"),getLinkedTidalPlan:Plex.getLinkedProviderPlan("tidal","subscriptionType"),hasTidalPremiumBundle:PlexUser.hasSubscription("premium_bundle"),otherActiveSubscPlan:Plex.getOtherActiveSubscPlan(),canPurchaseTidalPlans:Plex.canPurchasePlans("tidal"),isProviderTransfer:PlexUtils.getParam("transfer"),options:{become:"1"===PlexUtils.getCache("become")}}},storeData=function(e){return e.state},PlexTemplateBase=function(e){this.el=e,this.data=function(){},this.dataHandler=[],this.store=store,this.watch={isSigninOut:function(e){this.isLoading=e},isSignedIn:function(e){var t=this;this.refresh=!0;var n=function(){t.isLoading=!1,t.isSigninOut=!1};!1===e?(this.isLoading=!0,setTimeout(n,200)):n()},isError:function(e){this.errorVisibility=e?"block":"none"},isLoading:function(e){this.loadingVisibility=e?"block":"none"}},this.updated=function(){this.show=!0,this.foundation&&jQuery(this.foundation).foundation()},this.methods={loadFeatureFlags:function(e){return PlexFlags.refreshFeaturesTree(!0)},setSigninOut:function(){this.isSigninOut=!0}},this.computed={getSignInState:function(){return this.$store.state.isSignedIn}},this.mounted=function(){console.log("teste mounted")},this.beforeMount=function(){var e=this;this.featureFlags&&this.loadFeatureFlags().then(function(){e.loadedFeatureFlags=!0})}},PlexTemplating={el:".plex-templating",customDirectives:["foundation","featureFlags"],$loader:null,templates:{},extend:{},hooks:{},updatedCallbacks:[],simulSignedIn:function(e){if(!Plex.debugLog)return!1;e=e||{},e=jQuery.extend(!0,{isSignedIn:!0},e),store.commit("simulState",e)},simulSignedOut:function(e){if(!Plex.debugLog)return!1;e=e||{},e=jQuery.extend(!0,{isSignedIn:!1},e),store.commit("simulState",e)},simulState:function(e){if(!Plex.debugLog)return!1;store.commit("simulState",e)},helperData:function(){return{show:!1,refresh:!1,isLoaded:!1,isLoading:!1,loadingVisibility:"none",isError:!1,errorVisibility:"none",foundation:!1,featureFlags:!1,loadedFeatureFlags:!1}},coreData:{},init:function(){var e=this,t=!1;store=new Vuex.Store({state:getPlexCoreData(),mutations:{simulState:function(n,i){n=jQuery.extend(!0,n,i),t=!0,e.userStateChanged(),t=!1},refresh:function(e){t||(e=Object.assign(e,getPlexCoreData()))}}}),this._init(store)},_init:function(e){var t=this;t.coreData=function(){return storeData(e)},jQuery.each(jQuery(this.el),function(e,n){var i=jQuery(n).attr("id"),r=jQuery(n).data("template"),a=jQuery(n).data(),o=i;r&&void 0!==t.extend[r]&&(o=r),t.templates[i]=new PlexTemplateBase("#"+i),jQuery.each(a,function(e,n){t.customDirectives.indexOf(e)>=0&&(void 0===t.templates[i].dataAtts&&(t.templates[i].dataAtts={}),n||(n=!0),t.templates[i].dataAtts[e]=n)}),void 0!==t.extend[o]&&(t.templates[i]=jQuery.extend(!0,t.templates[i],t.extend[o]))}),this._initVue()},_initVue:function(){var e=this;Vue.config.delimiters=["<%","%>"],Vue.config.devtools=PlexUtils.isDevelopment(),Vue.config.debug=PlexUtils.isDevelopment(),Vue.config.silent=!PlexUtils.isDevelopment(),jQuery.each(e.templates,function(t,n){e.maybeUpdateHelperData(n),e.registerDataHandler(e.helperData,t),e.registerDataHandler(e.coreData,t),n.data=e._getData(t),PlexVueInstance[t]=new Vue(n)})},maybeUpdateHelperData:function(e){if(void 0!==e.dataAtts){var t=this.helperData();jQuery.each(e.dataAtts,function(e,n){t[e]=n});var n=function(){return t};this.helperData=Object.assign(this.helperData,n)}},registerDataHandler:function(e,t){-1===this.templates[t].dataHandler.indexOf(e)&&this.templates[t].dataHandler.push(e)},_getData:function(e){var t=void 0!==this.templates[e].data?this.templates[e].data():{};return this.templates[e].dataHandler.map(function(e){t=jQuery.extend(!0,t,e())}),function(){return t}},_registerEvent:function(e,t){e=e.replace("addAfter",""),e=e.charAt(0).toLowerCase()+e.slice(1),void 0===this.hooks[e]&&(this.hooks[e]=[]),this.hooks[e].push(t)},_updateData:function(e){store.commit("refresh");var t=storeData(store);jQuery.each(PlexVueInstance,function(n,i){if("object"==typeof e){var r=Object.keys(e);jQuery.each(r,function(t,i){PlexVueInstance[n][i]=jQuery.extend(!0,PlexVueInstance[n][i],e[i])})}else jQuery.each(t,function(e,t){PlexVueInstance[n][e]=t})})},updateData:function(e){this._updateData(e)},run:function(e){jQuery(this.el).length&&void 0!==this.hooks[e]&&this.hooks[e].map(function(e){jQuery(document).ready(function(){void 0!==e&&e&&e()})})},extendTemplate:function(e,t){this.extend[e]=t},userStateChanged:function(){this.updateData(),this.run("userStateChanged")},addAfterUserStateChanged:function(e){this._registerEvent("addAfterUserStateChanged",e)}};jQuery(document).ready(function(){PlexTemplating.init(),PlexTemplating.userStateChanged()}),function(e,t){"undefined"==typeof PlexView?t.PlexView=function(){var t={},n={},i={},r=[],a=[],o=[],s={},l={},c=!1,u=!1,d=!0;return Handlebars.registerHelper({eq:function(e,t){return e===t},ne:function(e,t){return e!==t},lt:function(e,t){return e<t},gt:function(e,t){return e>t},lte:function(e,t){return e<=t},gte:function(e,t){return e>=t},and:function(e,t){return e&&t},or:function(e,t){return e||t},not:function(e){return!e}}),Handlebars.registerHelper("iftrue",function(e,t,n){return e?t:n}),Handlebars.registerHelper("feature",function(e){return PlexUser.hasFeature(e)}),Handlebars.registerHelper("img",function(e){return"<img "+Object.keys(e.hash).map(function(t){return t+'="'+e.hash[t]+'"'}).join(" ")+"/>"}),t.init=function(e){t.loadViews(),t.initBeforeRenderHooks(),t.initAfterRenderHooks(),t.execHooks("once"),t.render(),void 0!==e&&e()},t.initBeforeRenderHooks=function(){a.push(function(){PlexUtils.isDevelopment()&&n.hasOwnProperty("navbar-staging")?(s.stagingUrls=PlexUtils.getStagingUrls(),s.currentStagingUrl=PlexUtils.getCurrentStagingAPIUrl()):delete n["navbar-staging"],s.become="1"===PlexUtils.getCache("become")})},t.initAfterRenderHooks=function(){o.push(function(){e(document).ready(function(){PlexUtils.isDevelopment()&&n.hasOwnProperty("navbar-staging")&&e("#plex-dd-stagingurl").change(function(t){var n=e(t.currentTarget).val();PlexUtils.setCurrentStagingAPIUrl(n),location.reload()})})})},t.addRenderOnceHook=function(t){r.push(function(){e(document).ready(function(){t()})}),c&&t()},t.addAfterRenderHook=function(t){o.push(function(){e(document).ready(function(){t()})}),c&&t()},t.execHooks=function(e){var t=[];"after"===e?t=o:"before"===e?t=a:"once"===e&&(t=r),t.map(function(e){e()})},t.loadViews=function(t){t=void 0!==t?t:".plexview-template";var r=e(t),a=null,o=null,s=null,l=null,c=null,u=e("<div/>");u.addClass("view-loading").css({display:"none"}),e.each(r,function(t,r){a=e(r),s=a.html(),c=a.data("view"),l=Handlebars.compile(s),n[c]=l,o=u.clone().attr("data-parent",c),e(".plexview-"+c).hasClass("async-load")&&(i[c]=l),e(".plexview-"+c).hide(),e(".dynamic-loading.plexview-"+c).after(o),a.remove()})},t.render=function(i){var r=e("<div/>");i=void 0!==i&&i,r.addClass("view-loading"),i||t.execHooks("before"),l={isSignedIn:Plex.isSignedIn(),isSigninIn:Plex.isSigninIn(),refreshInfo:Plex.isRefreshingInfo(),hasAdminPermissions:PlexUser.hasAdminPermissions(),apiURL:PlexUtils.getAPIUrl(),webURL:PlexUtils.getWebUrl(),musicURL:PlexUtils.getMusicUrl(),adminURL:PlexUtils.getAdminUrl(),user:Plex.getAuthInfo(),hasAccessToMusic:PlexFlags.hasAccessToFeature("music"),hasActivePlexPass:Plex.hasActivePlexPass(),hasActiveMusicPass:Plex.hasActiveMusicPass(),getActiveTidalPlan:Plex.getActiveSubscriptionType("tidal","mode"),hasActiveTidalSubsc:Plex.hasActiveTidalSubsc(),hasExpiredTidalTrial:Plex.hasExpiredTrial("tidal"),hasAnyStateTidalSubsc:PlexUser.hasAnyStateSubscription("tidal"),hasLinkedTidalProvider:Plex.hasLinkedProvider("tidal"),getLinkedTidalPlan:Plex.getLinkedProviderPlan("tidal","subscriptionType"),hasTidalPremiumBundle:PlexUser.hasSubscription("premium_bundle"),otherActiveSubscPlan:Plex.getOtherActiveSubscPlan(),canPurchaseTidalPlans:Plex.canPurchasePlans("tidal"),isProviderTransfer:PlexUtils.getParam("transfer"),options:s},e.each(n,function(n,r){var a=!1;try{e(".plexview-"+n).html(r(l)),e(".view-loading[data-parent="+n+"]").hide(),i?(t.loading(n),e(".view-loading[data-parent="+n+"]").hide(200,function(){e(".dynamic-loading.plexview-"+n).fadeIn("slow")})):e(".plexview-"+n).hasClass("async-load")?a=!0:e(".plexview-"+n).fadeIn(),!a&&e(".plexview-"+n).hasClass("foundation-reinit")&&e(document).foundation()}catch(e){console.error("Error compiling "+n+" template."),console.error(e);var o=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});document.write("<pre>"+o+"</pre>")}}),i||t.execHooks("after"),c=!0},t.renderAsync=function(t,n,r){e.extend(l,t),e.each(i,function(t,i){var r=e(".plexview-"+t);try{r.html(i(l)),n?r.show():r.delay(500).fadeIn(),r.hasClass("foundation-reinit")&&e(document).foundation()}catch(e){console.error("Error compiling "+t+" template."),console.error(e);var a=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});return void document.write("<pre>"+a+"</pre>")}}),void 0!==r&&r()},t.loading=function(i){if(void 0!==i)return void t._loading(i);e.each(n,function(e,n){t._loading(e)})},t._loading=function(t){try{e(".dynamic-loading.plexview-"+t).hide(),e(".view-loading[data-parent="+t+"]").show(),e("[data-parent="+t+"]").fadeIn()}catch(e){console.error("Error compiling "+t+" template."),console.error(e);var n=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});document.write("<pre>"+n+"</pre>")}},t.cancelLoading=function(t){var n=e(".view-loading:visible");n.length&&setTimeout(function(){e(".view-loading").hide(),n.each(function(t,n){var i=e(n).data("parent");e(".plexview-"+i).fadeIn()})},1e3)},t.setRunHooks=function(e){u=e},t.runViewHooks=function(){return u},t.setRefreshView=function(e){d=e},t.refreshView=function(){return d},t.refresh=function(){var e=!t.runViewHooks();t.render(e)},t}():console.log("PlexView is already defined."),e(document).ready(function(){}),e(t).on("beforeunload",function(e){PlexView.cancelLoading()})}(jQuery,window),function(e,t){"undefined"==typeof PlexUser?t.PlexUser=function(){var t={},n=null;t.getPasswordToken=function(){var e=PlexUtils.getParam("token");return void 0===e&&(e=PlexUtils.getParam("reset_password_token")),e},t.hasRole=function(e){if(!Plex.isSignedIn())return!1;var t=[];return void 0!==Plex.getAuthInfo().roles&&(Array.isArray(Plex.getAuthInfo().roles)?t=Plex.getAuthInfo().roles:Array.isArray(Plex.getAuthInfo().roles.roles)&&(t=Plex.getAuthInfo().roles.roles),-1!==t.indexOf(e))},t.hasFeature=function(e){return!!Plex.isSignedIn()&&-1!==Plex.getAuthInfo().subscription.features.indexOf(e)},t.hasAdminPermissions=function(){if(!Plex.isSignedIn())return!1;if(void 0===Plex.getAuthInfo().roles)return!1;var e=[],t=["admin","app_manager","user_admin","marketing_admin","employee"];return Array.isArray(Plex.getAuthInfo().roles)?e=Plex.getAuthInfo().roles:Array.isArray(Plex.getAuthInfo().roles.roles)&&(e=Plex.getAuthInfo().roles.roles),e.reduce(function(e,n){return e||t.reduce(function(e,t){return e||t==n},!1)},!1)},t.getUser=function(t,n){t=t||{},n=n||Plex.getAuthToken();var i={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"X-Plex-Token":n};return e.ajax({dataType:"json",type:"GET",headers:i,url:PlexUtils.getAPIUrl()+"/api/v2/user",data:t,crossDomain:!0})},t.refreshAuthInfo=function(t,n){if(Plex.isSignedIn()){if(n=void 0!==n&&n,Plex.isRefreshingInfo()){var i=PlexUtils.getPageForURL();if(i&&Plex.getSignInPage().indexOf(i)>=0&&!PlexUtils.isReturningWebApp()&&!PlexUtils.getAPIUrl())return;t=!0}var r=Plex.getAuthInfo();if(moment.unix(r.lstorage_at).add(2,"minute").unix()<moment().unix()||t){PlexView.setRefreshView(!1),t&&PlexView.setRunHooks(!1);var a=PlexUtils.getParam("become"),o=PlexUtils.getParam("unbecome");if("1"===a)return PlexUtils.setCache("become","1",600),r;if("1"===o)return PlexUtils.setCache("become",0,1),r;var s={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"X-Plex-Token":Plex.getAuthToken()};e.ajax({dataType:"json",type:"GET",headers:s,url:PlexUtils.getAPIUrl()+"/api/v2/user",data:{includeSubscriptions:!0,includeProviders:!0},crossDomain:!0,success:function(e){var i=void 0!==e.rememberExpiresAt&&e.rememberExpiresAt;Plex.debugLog()&&console.log(e),i||n?Plex.setAuthInfo(e,i):(Plex.removeAuthInfo(),t||Plex.signInRedirect())},error:function(e){401!=e.status&&422!=e.status||(Plex.removeAuthInfo(),t||Plex.signInRedirect())}})}}},t.getActivePayment=function(){var t=e.Deferred(),n={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(n["X-Plex-Token"]=Plex.getAuthToken()),e.ajax({dataType:"json",type:"GET",headers:n,url:PlexUtils.getAPIUrl()+"/api/v2/user/payment_method",crossDomain:!0}).done(function(e){t.resolve(e)}).fail(null,function(e){t.resolve(!1)}),t.promise()},t.getSubscriptions=function(){var n=e.Deferred(),i={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(i["X-Plex-Token"]=Plex.getAuthToken()),e.ajax({dataType:"json",type:"GET",headers:i,url:PlexUtils.getAPIUrl()+"/api/v2/user/subscriptions",crossDomain:!0}).done(function(e){t.cacheSubscriptions(e),n.resolve(e)}).then(null,function(e){n.reject(e)}),n.promise()},t.getSubscriptionsInfo=function(){try{var e=localStorage.getItem("plex_tv_subsc");if(e)return JSON.parse(e)}catch(e){console.warn("Your browser doesn't support local storage.")}},t.hasAnyStateSubscription=function(e){return null!==Plex.findSubscriptionType(e,"any","any")},t.hasSubscription=function(n){var i=t.getSubscriptionsInfo();if(void 0===i)return!1;var r=e.grep(i,function(e,t){return e.mode===n});return r&&r.length>0},t.cacheSubscriptions=function(e){try{void 0!==e&&localStorage.setItem("plex_tv_subsc",JSON.stringify(e))}catch(e){console.warn("Your browser doesn't support local storage.")}},t.clearSubscriptions=function(){try{localStorage.removeItem("plex_tv_subsc")}catch(e){console.warn("Your browser doesn't support local storage.")}},t.handleUpdatePasswordSubmit=function(n){var i=e(n),r=e(".form-update-password"),a=t.getPasswordToken(),o=i.find("#password").val(),s={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return i.find(".plex-element").hide(),i.find(".plex-password-loading").show(),e.ajax({dataType:"json",type:"PUT",headers:s,url:PlexUtils.getAPIUrl()+"/api/v2/users/password.json",data:{token:a,password:o},crossDomain:!0,success:function(e){r.find(".plex-element").hide(),r.find(".plex-password-success").show()},error:function(e){if(r.find(".plex-element").hide(),void 0!==e.responseJSON.errors&&e.responseJSON.errors.length>0){var t=e.responseJSON.errors;void 0!==t[0].message&&t[0].message.length>0?(r.find(".plex-password-error-message").html(e.responseJSON.errors[0].message),r.find(".plex-password-error").show()):r.find(".plex-password-error-generic").show()}r.find(".plex-form").show()}}),!1},t.hideElements=function(e){e.find(".plex-element").hide()},t.initPinResetForm=function(){var i={},r=e(".form-pinreset");n=r,i["pin-equalto"]=e(".message-pin-equalto"),t.hideElements(r),r.find(".plex-pinreset-loading").show(),Plex.signInGuard()&&(t.hideElements(r),r.find(".plex-form").show(),r.find(".plex-form > form").validate({rules:{pin:{required:!0,digits:!0},"pin-confirm":{required:!0,digits:!0,equalTo:"#pin"}},messages:{"pin-confirm":{equalTo:i["pin-equalto"].length>0?i["pin-equalto"].html():"The pin numbers you entered do not match."}},showErrors:PlexUtils.showErrorsOnForm,submitHandler:t.handlePinResetSubmit}),r.find("#code").focus())};var i=0;return t.checkPasswordStrength=function(t){clearTimeout(i),i=setTimeout(function(){var n,i,r=e(t.currentTarget),a=zxcvbn(r.val()),o=a.score,s=r.parent();s.find(".strength-indicator .si").hide(),s.find(".strength-text .st").hide(),""!=r.val()&&(0==o||1==o?(n=".st.weak",i=".si.weak"):2==o?(n=".st.fair",i=".si.weak, .si.fair"):3==o?(n=".st.good",i=".si.weak, .si.fair, .si.good"):(n=".st.strong",i=".si.weak, .si.fair, .si.good, .si.strong"),s.find(n).show(),s.find(i).show())}.bind(this),350)},t.initUpdatePasswordForm=function(){var n=e(".form-update-password"),i={};n.find(".plex-element").hide(),i["confirmPassword-required"]=n.find(".message-confirmPassword-required"),i["confirmPassword-equalTo"]=n.find(".message-confirmpassword-equalto"),i["password-required"]=n.find(".message-password-required"),i["password-minlength"]=n.find(".message-password-minlength");var r=t.getPasswordToken(),a=PlexUtils.getParam("emailReset"),o=PlexUtils.getParam("newEmail"),s=PlexUtils.getParam("oldEmail");null===r||""===r||void 0===r?n.find(".plex-password-nopin  ").show():n.find(".plex-form").show(),n.find(".plex-form > form").validate({rules:{password:{required:!0,minlength:8},confirmPassword:{required:!0,equalTo:"#password"}},messages:{confirmPassword:{required:i["confirmPassword-required"].length>0?i["confirmPassword-required"].html():"Password is required",equalTo:i["confirmPassword-equalTo"].length>0?i["confirmPassword-equalTo"].html():"Passwords do not match"},password:{required:i["password-required"].length>0?i["password-required"].html():"Password is required",minlength:i["password-minlength"].length>0?i["password-minlength"].html():"Password should be at least 8 characters long"}},showErrors:PlexUtils.showErrorsOnForm,submitHandler:t.handleUpdatePasswordSubmit}),n.find("#password").keyup(t.checkPasswordStrength).blur(function(){var t=e(".strength-indicator");t.hide(),t.find(".si").hide(),t.find(".strength-text .st").hide()}).focus(function(){e(".strength-indicator").show()}),"1"===a?(n.find(".plex-password-email-success").show(),n.find(".plex-password-email-success .old-email").html(s)):"0"===a&&(n.find(".plex-password-email-fail").show(),n.find(".plex-password-email-fail .new-email").html(o),n.find(".plex-password-email-fail .old-email").html(s))},t.handlePinResetSubmit=function(i){t.hideElements(n),n.find(".plex-pinreset-loading").show();var r={"X-Plex-Product":"Plex SSO","X-Plex-Token":Plex.getAuthToken(),"X-Plex-Client-Identifier":Plex.getClientIdentifier()},a=Plex.getAuthInfo(),o=e(i),s=o.find("#pin").val(),l=o.find("#password").val(),c={pin:s};return a.hasPassword&&(c.currentPassword=l),e.ajax({dataType:"json",type:"PUT",headers:r,url:PlexUtils.getAPIUrl()+"/api/v2/user.json",data:c,crossDomain:!0,success:function(e){t.hideElements(n),n.find(".plex-pinreset-success").show()},error:function(i){t.hideElements(n),void 0!==i.responseJSON.errors&&i.responseJSON.errors.length>0&&e(".plex-pinreset-error-message").html(i.responseJSON.errors[0].message),n.find(".plex-pinreset-error").show(),n.find(".plex-form").show()}}),!1},t}():console.log("PlexUser is already defined."),e(document).ready(function(){})}(jQuery,window),function(e,t){t.onerror=function(n,i,r,a,o){if(plex_l10n.js_error_log){var s={error:o,source:i,lineno:r,page_id:plex_l10n.post_id,location:t.location.href},l={"X-WP-Nonce":plex_l10n.errors.nonce};e.ajax({type:"POST",url:plex_l10n.errors.endpoint,data:s,headers:l,success:function(){console.error("Error detected. We were informed.")}},"json")}},PlexConditionizr.init(),"undefined"==typeof PlexSite&&(t.PlexSite=function(){var n={init:function(){n.featureFlagRedirects(),n.wrapDropdowns(),n.statsRollIn(),n.higlightSubMenuItems(),n.smoothScrollBind(),i.init(),e.event.trigger({type:"plex_site_init"}),PlexMetrics.pushEvent("SiteInit"),n.SVGtoInline()},SVGtoInline:function(){e("img.svg").each(function(){var t=e(this),n=t.attr("id"),i=t.attr("class"),r=t.attr("src");e.get(r,function(r){var a=e(r).find("svg");void 0!==n&&(a=a.attr("id",n)),void 0!==i&&(a=a.attr("class",i+" replaced-svg")),a=a.removeAttr("xmlns:a"),!a.attr("viewBox")&&a.attr("height")&&a.attr("width")&&a.attr("viewBox","0 0 "+a.attr("height")+" "+a.attr("width")),t.replaceWith(a)},"xml")})},wrapDropdowns:function(){e(".sidebar [class*=widget_] select:not([name=cat])").wrap('<div class="select-container"></div>'),e(".sidebar [class*=widget_] select[name=cat]").parent("form").addClass("select-container"),e(".ginput_card_expiration").wrap('<div class="select-container"></div>')},statsRollIn:function(){e(".count").each(function(){e(this).attr("Counter",0).animate({Counter:e(this).text()},{duration:1e3,easing:"swing",step:function(t){e(this).text(Math.ceil(t))}})})},higlightSubMenuItems:function(){e(".dynamic-submenu-item-highlight[data-bucket]").each(function(t,n){parseInt(plex_l10n.post_id)!==parseInt(e(n).data("bucket"))&&parseInt(plex_l10n.post_parent)!==parseInt(e(n).data("bucket"))||e(this).addClass("current-menu-item")})},displayPopUps:function(){parseInt(plex_l10n.is_page)},featureFlagRedirects:function(){PlexFlags.skipFeatureFlags()||void 0!==plex_l10n.feature_flags_actions.redirects&&e.each(plex_l10n.feature_flags_actions.redirects,function(t,n){PlexFlags.hasAccessToFeature(t)||e.each(n,function(e,t){if(parseInt(plex_l10n.post_id)===parseInt(e))return PlexUtils.redirect(t),!1})})},smoothScrollBind:function(){e.each(e('[href^="#"]:not("[data-smooth-scroll]")'),function(t,n){if(1===e(n).attr("href").length)return!0;var i=e(n).attr("href");e(i).length&&e(n).attr("data-smooth-scroll",i)}),e.each(e("[data-smooth-scroll]"),function(t,i){e(i).on("click",function(){n.scrollToHash(e(i).data("smooth-scroll"))})})},scrollToHash:function(t){var n=void 0!==t?t:location.hash;n&&n.length>1&&e(n).length&&e("html,body").animate({scrollTop:e(n).offset().top},700)},toggleDynamicMenuItems:function(){if(e(".menu-item.nav-item-toggable").show(),Plex.isSignedIn()?e(".menu-item.signed_in-hide").hide():e(".menu-item.signed_out-hide").hide(),Plex.hasActivePlexPass()&&Plex.hasActiveTidalSubsc()&&e(".menu-item.bundle_users-hide").hide(),Plex.hasActivePlexPass()&&e(".menu-item.plex_pass-hide").hide(),Plex.hasActiveTidalSubsc()&&e(".menu-item.tidal_subsc-hide").hide(),Plex.isSignedIn()){var t=PlexUser.getSubscriptionsInfo();void 0!==t&&t.length||e(".menu-item.free_users-hide").hide()}var n=["geolocation-continent-"+plex_l10n.geolocation.continent,"geolocation-country-"+plex_l10n.geolocation.country,"geolocation-region-"+plex_l10n.geolocation.region];e(".geolocation-hide").hide(),n.forEach(function(t){e(".geolocation-hide").filter("."+t+"-hide").show()})},displayOneTimePopUp:function(t){var n,i=e("[data-remodal-id=modal-"+t+"]"),r="plex_tv_cta_"+t;if(i.length){try{n=localStorage.getItem(r)}catch(e){n=Cookies.get(r)}if(void 0===n||null===n)try{i.remodal().open(),e(document).on("click",i.find(".icon-close"),function(){try{localStorage.setItem(r,1)}catch(e){return Cookies.set(r,1,{domain:PlexUtils.getCookieDomain()}),null}})}catch(e){}}}},i={init:function(){(new WOW).init(),i.initSlick(),i.initTooltips()},initTooltips:function(){e(".tooltip").tooltipster({theme:"tooltipster-shadow",minWidth:300,interactive:!0}),e(".tooltip-lang").tooltipster({theme:"tooltipster-shadow",maxWidth:275,interactive:!0,trigger:"click",position:"top"}),e(".tooltip-ota").tooltipster({theme:"tooltipster-shadow",maxWidth:400,interactive:!0}),e(".tooltip-pms").tooltipster({theme:"tooltipster-shadow",maxWidth:400,interactive:!0,functionReady:function(t,n){e(document).on("click",e(n.origin),function(){e(n.origin).tooltipster("close")})}}),e.fatNav()},initSlick:function(){function n(){e(".signup-hero-inside").slick({autoplay:!0,pauseOnHover:!1,dots:!1,arrows:!1,infinite:!0,fade:!0,speed:600,autoplaySpeed:3e3})}e(document).on("init",".slick-start-hidden",function(t,n){e(this).show()}),e(document).on("change.zf.tabs","#feature-tabs",function(t,n){e(".multiple-items.cards").slick("slickGoTo",0)}),e(t).scroll(function(){if(e(".multiple-items").not(".slider-playing").length){var n=e(".multiple-items").offset().top,i=e(t).height();e(this).scrollTop()>n-i&&e(".multiple-items").not(".slider-playing").addClass("slider-playing").slick("slickPlay")}}),e(document).on("change.zf.tabs",".tabs[data-tabs-slick]",function(t,n){var i=n.find("a").attr("href"),n=e(i).find(".multiple-items");n.slick("setPosition"),n.find(".yolo").length<=4&&n.find(".slick-dots").hide()}),e(".multiple-items").slick({infinite:!0,slidesToShow:4,slidesToScroll:2,arrows:!1,dots:!0,autoplaySpeed:6e3,responsive:[{breakpoint:1441,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:1025,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:641,settings:{slidesToShow:1,slidesToScroll:1}}]}),e(".hero-carousel").slick({autoplay:!0,pauseOnHover:!0,dots:!0,arrows:!1,infinite:!0,speed:600,autoplaySpeed:6e3,slidesToShow:1}),e(".remodal-fedauth").length?(e(document).on("opened",".remodal-fedauth",function(){n()}),e(document).on("closed",".remodal-fedauth",function(){e(".signup-hero-inside").slick("unslick")})):n(),e(".tabs[data-tabs-slick]").length||e(".slick-list").find(".slick-slide").length<=4&&e(".slick-list").closest(".slick-slider").find(".slick-dots").hide()}};return n}()),e(t).load(function(){PlexSite.scrollToHash()}),e(document).ready(function(){if(PlexView.init(),PlexSite.init(),PlexView.addAfterRenderHook(function(){PlexSite.toggleDynamicMenuItems(),PlexSite.displayPopUps()}),e(document).on("click",".has-subnav",function(t){var n=this,i=e("."+e(this).data("pulldown")),r=e("."+e(this).data("sectionhide"));e(".section-temp-hidden").removeClass("section-temp-hidden").show(),e(this).hasClass("open")||(e(".submenu-opened").hide(),e(".has-subnav").removeClass("open"));var a=function(t,n,i){var n=n||"submenu-active";e(".header, body").removeClass(n),r.length&&r.show().addClass("section-temp-hidden"),t&&(e(".header, body").addClass(n),i.addClass("submenu-opened"),r.length&&r.hide())};return e(this).toggleClass("open"),i.slideToggle(0,function(){a(e(this).is(":visible"),"submenu-active",e(this))}),e(document).on("click",function(t){t.target!==n&&(i.hide(a(!1,"submenu-active",i)),e(".has-subnav").removeClass("open"))}),t.preventDefault(),!1}),e("#back-to-top").length){var n=0,i=sessionStorage.getItem("plex_btt_closed"),r=e(".footer-main"),a=function(){e("#back-to-top").remove(),e("#btt-up").addClass("btt-closed"),i=!1},o=function(){var a=e(t).scrollTop();r.length&&(n=r.offset().top-1e3),a>600&&null===i&&e(".cta-float.btt-float").length?(e("#back-to-top").addClass("show"),n&&a>=n?(e("#back-to-top").removeClass("show"),e("#btt-up").addClass("btt-closed")):null===i&&e("#btt-up").removeClass("btt-closed")):e("#back-to-top").removeClass("show")};o(),e(t).on("scroll",function(){o()}),e(document).on("click","#btt-close",function(e){a(),sessionStorage.setItem("plex_btt_closed",1),e.preventDefault()}),e(document).on("click","#btt-up",function(t){t.preventDefault(),e("html,body").animate({scrollTop:0},700)})}e(document).on("click",".scrollto",function(t){var n=e(this).data("anchor"),i=void 0!==e(this).data("speed")?e(this).data("speed"):500;t.preventDefault(),e("html, body").animate({scrollTop:e("#"+n).offset().top},i)}),e(".plex-responsive-bg-image > img.lazy").show(),e(document).foundation(),FastClick.attach(document.body)})}(jQuery,window),function(e,t){"undefined"==typeof PlexCJ&&(t.PlexCJ=function(){var t={cookieName:"plex_tv_cj",trackingData:{PID:"",AID:"",SID:"",CJEVENT:""},init:function(){var e=PlexUtils.getParam("PID"),n=PlexUtils.getParam("AID"),i=PlexUtils.getParam("SID"),r=PlexUtils.getParam("cjevent");if(void 0===e||void 0===n)return void(Cookies.get(t.cookieName)&&(t.trackingData=Cookies.getJSON(t.cookieName)));var a=PlexUtils.getCookieDomain();t.trackingData={PID:e,AID:n,CJEVENT:r},void 0!==i&&(t.trackingData.SID=i),Cookies.set(t.cookieName,t.trackingData,{domain:a,expires:45})},trackSubscription:function(n,i){if(t.trackingData.AID){var r=n.amount;n.hasDiscount&&(r=n.fullPrice);var a={CID:1543155,type:396634,containerTagId:20910},o={ITEM1:n.plan,AMT1:r,QTY1:1,OID:i,CURRENCY:n.currency,CJEVENT:t.trackingData.CJEVENT};n.hasDiscount&&(o.DISCOUNT=n.discount,o.COUPON=n.value,n.trial&&(a.containerTagId=25966,a.type=400867,o.AMT1="0.00")),e.extend(a,o);var s="https://www.emjcd.com/tags/c?";Object.keys(a).map(function(e,t){s+=e+"="+a[e]+"&"}),document.getElementById("cj_conversion")&&(document.getElementById("cj_conversion").src=s)}}};return t}()),e(document).ready(function(){PlexCJ.init()})}(jQuery,window);